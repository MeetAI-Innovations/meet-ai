"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stream-io/video-client/dist/index.es.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* binding */ BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* binding */ ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* binding */ getDeviceInfo),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getOSInfo: () => (/* binding */ getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEventPattern.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/filter.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/debounce.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounce,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,filter,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,timer!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/./node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! isomorphic-ws */ \"(ssr)/./node_modules/isomorphic-ws/node.js\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/base64-js/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const BlockListOptionsBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodEnum = {\n    DISABLED: \"disabled\",\n    SIMPLE: \"simple\",\n    AI: \"AI\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoBlocklistBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: \"firebase\",\n    APN: \"apn\",\n    HUAWEI: \"huawei\",\n    XIAOMI: \"xiaomi\"\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: \"block-users\",\n    CHANGE_MAX_DURATION: \"change-max-duration\",\n    CREATE_CALL: \"create-call\",\n    CREATE_REACTION: \"create-reaction\",\n    ENABLE_NOISE_CANCELLATION: \"enable-noise-cancellation\",\n    END_CALL: \"end-call\",\n    JOIN_BACKSTAGE: \"join-backstage\",\n    JOIN_CALL: \"join-call\",\n    JOIN_ENDED_CALL: \"join-ended-call\",\n    MUTE_USERS: \"mute-users\",\n    PIN_FOR_EVERYONE: \"pin-for-everyone\",\n    READ_CALL: \"read-call\",\n    REMOVE_CALL_MEMBER: \"remove-call-member\",\n    SCREENSHARE: \"screenshare\",\n    SEND_AUDIO: \"send-audio\",\n    SEND_VIDEO: \"send-video\",\n    START_BROADCAST_CALL: \"start-broadcast-call\",\n    START_RECORD_CALL: \"start-record-call\",\n    START_TRANSCRIPTION_CALL: \"start-transcription-call\",\n    STOP_BROADCAST_CALL: \"stop-broadcast-call\",\n    STOP_RECORD_CALL: \"stop-record-call\",\n    STOP_TRANSCRIPTION_CALL: \"stop-transcription-call\",\n    UPDATE_CALL: \"update-call\",\n    UPDATE_CALL_MEMBER: \"update-call-member\",\n    UPDATE_CALL_PERMISSIONS: \"update-call-permissions\",\n    UPDATE_CALL_SETTINGS: \"update-call-settings\"\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\nclass ErrorFromResponse extends Error {\n}\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Struct\", [\n            {\n                no: 1,\n                name: \"fields\",\n                kind: \"map\",\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: \"message\",\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.isJsonObject)(json)) throw new globalThis.Error(\"Unable to parse message \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json) + \".\");\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.fields = {};\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* map<string, google.protobuf.Value> fields */ 1:\n                    this.binaryReadMap1(message.fields, reader, options);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    binaryReadMap1(map, reader, options) {\n        let len = reader.uint32(), end = reader.pos + len, key, val;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case 1:\n                    key = reader.string();\n                    break;\n                case 2:\n                    val = Value.internalBinaryRead(reader, reader.uint32(), options);\n                    break;\n                default:\n                    throw new globalThis.Error(\"unknown map entry field for field google.protobuf.Struct.fields\");\n            }\n        }\n        map[key ?? \"\"] = val ?? Value.create();\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* map<string, google.protobuf.Value> fields = 1; */ for (let k of globalThis.Object.keys(message.fields)){\n            writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork().tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(k);\n            writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork();\n            Value.internalBinaryWrite(message.fields[k], writer, options);\n            writer.join().join();\n        }\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Value\", [\n            {\n                no: 1,\n                name: \"null_value\",\n                kind: \"enum\",\n                oneof: \"kind\",\n                T: ()=>[\n                        \"google.protobuf.NullValue\",\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: \"number_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: \"string_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"bool_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: \"struct_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"list_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case \"boolValue\":\n                return message.kind.boolValue;\n            case \"nullValue\":\n                return null;\n            case \"numberValue\":\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == \"number\" && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case \"stringValue\":\n                return message.kind.stringValue;\n            case \"listValue\":\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== \"message\") throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case \"structValue\":\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== \"message\") throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case \"number\":\n                target.kind = {\n                    oneofKind: \"numberValue\",\n                    numberValue: json\n                };\n                break;\n            case \"string\":\n                target.kind = {\n                    oneofKind: \"stringValue\",\n                    stringValue: json\n                };\n                break;\n            case \"boolean\":\n                target.kind = {\n                    oneofKind: \"boolValue\",\n                    boolValue: json\n                };\n                break;\n            case \"object\":\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.kind = {\n            oneofKind: undefined\n        };\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* google.protobuf.NullValue null_value */ 1:\n                    message.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: reader.int32()\n                    };\n                    break;\n                case /* double number_value */ 2:\n                    message.kind = {\n                        oneofKind: \"numberValue\",\n                        numberValue: reader.double()\n                    };\n                    break;\n                case /* string string_value */ 3:\n                    message.kind = {\n                        oneofKind: \"stringValue\",\n                        stringValue: reader.string()\n                    };\n                    break;\n                case /* bool bool_value */ 4:\n                    message.kind = {\n                        oneofKind: \"boolValue\",\n                        boolValue: reader.bool()\n                    };\n                    break;\n                case /* google.protobuf.Struct struct_value */ 5:\n                    message.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.internalBinaryRead(reader, reader.uint32(), options, message.kind.structValue)\n                    };\n                    break;\n                case /* google.protobuf.ListValue list_value */ 6:\n                    message.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.internalBinaryRead(reader, reader.uint32(), options, message.kind.listValue)\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* google.protobuf.NullValue null_value = 1; */ if (message.kind.oneofKind === \"nullValue\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.kind.nullValue);\n        /* double number_value = 2; */ if (message.kind.oneofKind === \"numberValue\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Bit64).double(message.kind.numberValue);\n        /* string string_value = 3; */ if (message.kind.oneofKind === \"stringValue\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.kind.stringValue);\n        /* bool bool_value = 4; */ if (message.kind.oneofKind === \"boolValue\") writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.kind.boolValue);\n        /* google.protobuf.Struct struct_value = 5; */ if (message.kind.oneofKind === \"structValue\") Struct.internalBinaryWrite(message.kind.structValue, writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* google.protobuf.ListValue list_value = 6; */ if (message.kind.oneofKind === \"listValue\") ListValue.internalBinaryWrite(message.kind.listValue, writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.ListValue\", [\n            {\n                no: 1,\n                name: \"values\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.values = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated google.protobuf.Value values */ 1:\n                    message.values.push(Value.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated google.protobuf.Value values = 1; */ for(let i = 0; i < message.values.length; i++)Value.internalBinaryWrite(message.values[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Timestamp\", [\n            {\n                no: 1,\n                name: \"seconds\",\n                kind: \"scalar\",\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: \"nanos\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new Error(\"Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (message.nanos < 0) throw new Error(\"Unable to encode invalid Timestamp to JSON. Nanos must not be negative.\");\n        let z = \"Z\";\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === \"000000\") z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n            else if (nanosStr.substring(6) === \"000\") z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n            else z = \".\" + nanosStr + \"Z\";\n        }\n        return new Date(ms).toISOString().replace(\".000Z\", z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== \"string\") throw new Error(\"Unable to parse Timestamp from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json) + \".\");\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error(\"Unable to parse Timestamp from JSON. Invalid format.\");\n        let ms = Date.parse(matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n        if (Number.isNaN(ms)) throw new Error(\"Unable to parse Timestamp from JSON. Invalid value.\");\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new globalThis.Error(\"Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_11__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.seconds = \"0\";\n        message.nanos = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* int64 seconds */ 1:\n                    message.seconds = reader.int64().toString();\n                    break;\n                case /* int32 nanos */ 2:\n                    message.nanos = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* int64 seconds = 1; */ if (message.seconds !== \"0\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int64(message.seconds);\n        /* int32 nanos = 2; */ if (message.nanos !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.nanos);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should drop existing pc instances and creates a fresh WebSocket connection,\n     * ensuring a clean state for the reconnection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_CLEAN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"CLEAN\"] = 3] = \"CLEAN\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FULL = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FULL\"] = 4] = \"FULL\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 5;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 5] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallState\", [\n            {\n                no: 1,\n                name: \"participants\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: \"started_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.participants = [];\n        message.pins = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated stream.video.sfu.models.Participant participants */ 1:\n                    message.participants.push(Participant.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                case /* google.protobuf.Timestamp started_at */ 2:\n                    message.startedAt = Timestamp.internalBinaryRead(reader, reader.uint32(), options, message.startedAt);\n                    break;\n                case /* stream.video.sfu.models.ParticipantCount participant_count */ 3:\n                    message.participantCount = ParticipantCount.internalBinaryRead(reader, reader.uint32(), options, message.participantCount);\n                    break;\n                case /* repeated stream.video.sfu.models.Pin pins */ 4:\n                    message.pins.push(Pin.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated stream.video.sfu.models.Participant participants = 1; */ for(let i = 0; i < message.participants.length; i++)Participant.internalBinaryWrite(message.participants[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* google.protobuf.Timestamp started_at = 2; */ if (message.startedAt) Timestamp.internalBinaryWrite(message.startedAt, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.ParticipantCount participant_count = 3; */ if (message.participantCount) ParticipantCount.internalBinaryWrite(message.participantCount, writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* repeated stream.video.sfu.models.Pin pins = 4; */ for(let i = 0; i < message.pins.length; i++)Pin.internalBinaryWrite(message.pins[i], writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ParticipantCount\", [\n            {\n                no: 1,\n                name: \"total\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"anonymous\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.total = 0;\n        message.anonymous = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint32 total */ 1:\n                    message.total = reader.uint32();\n                    break;\n                case /* uint32 anonymous */ 2:\n                    message.anonymous = reader.uint32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint32 total = 1; */ if (message.total !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.total);\n        /* uint32 anonymous = 2; */ if (message.anonymous !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.anonymous);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Pin\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Participant\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"published_tracks\",\n                kind: \"enum\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"joined_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: \"track_lookup_prefix\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            },\n            {\n                no: 7,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"is_dominant_speaker\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"audio_level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: \"image\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: \"roles\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.publishedTracks = [];\n        message.trackLookupPrefix = \"\";\n        message.connectionQuality = 0;\n        message.isSpeaking = false;\n        message.isDominantSpeaker = false;\n        message.audioLevel = 0;\n        message.name = \"\";\n        message.image = \"\";\n        message.roles = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* repeated stream.video.sfu.models.TrackType published_tracks */ 3:\n                    if (wireType === _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited) for(let e = reader.int32() + reader.pos; reader.pos < e;)message.publishedTracks.push(reader.int32());\n                    else message.publishedTracks.push(reader.int32());\n                    break;\n                case /* google.protobuf.Timestamp joined_at */ 4:\n                    message.joinedAt = Timestamp.internalBinaryRead(reader, reader.uint32(), options, message.joinedAt);\n                    break;\n                case /* string track_lookup_prefix */ 5:\n                    message.trackLookupPrefix = reader.string();\n                    break;\n                case /* stream.video.sfu.models.ConnectionQuality connection_quality */ 6:\n                    message.connectionQuality = reader.int32();\n                    break;\n                case /* bool is_speaking */ 7:\n                    message.isSpeaking = reader.bool();\n                    break;\n                case /* bool is_dominant_speaker */ 8:\n                    message.isDominantSpeaker = reader.bool();\n                    break;\n                case /* float audio_level */ 9:\n                    message.audioLevel = reader.float();\n                    break;\n                case /* string name */ 10:\n                    message.name = reader.string();\n                    break;\n                case /* string image */ 11:\n                    message.image = reader.string();\n                    break;\n                case /* google.protobuf.Struct custom */ 12:\n                    message.custom = Struct.internalBinaryRead(reader, reader.uint32(), options, message.custom);\n                    break;\n                case /* repeated string roles */ 13:\n                    message.roles.push(reader.string());\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* repeated stream.video.sfu.models.TrackType published_tracks = 3; */ if (message.publishedTracks.length) {\n            writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork();\n            for(let i = 0; i < message.publishedTracks.length; i++)writer.int32(message.publishedTracks[i]);\n            writer.join();\n        }\n        /* google.protobuf.Timestamp joined_at = 4; */ if (message.joinedAt) Timestamp.internalBinaryWrite(message.joinedAt, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* string track_lookup_prefix = 5; */ if (message.trackLookupPrefix !== \"\") writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.trackLookupPrefix);\n        /* stream.video.sfu.models.ConnectionQuality connection_quality = 6; */ if (message.connectionQuality !== 0) writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.connectionQuality);\n        /* bool is_speaking = 7; */ if (message.isSpeaking !== false) writer.tag(7, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.isSpeaking);\n        /* bool is_dominant_speaker = 8; */ if (message.isDominantSpeaker !== false) writer.tag(8, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.isDominantSpeaker);\n        /* float audio_level = 9; */ if (message.audioLevel !== 0) writer.tag(9, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Bit32).float(message.audioLevel);\n        /* string name = 10; */ if (message.name !== \"\") writer.tag(10, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* string image = 11; */ if (message.image !== \"\") writer.tag(11, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.image);\n        /* google.protobuf.Struct custom = 12; */ if (message.custom) Struct.internalBinaryWrite(message.custom, writer.tag(12, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* repeated string roles = 13; */ for(let i = 0; i < message.roles.length; i++)writer.tag(13, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.roles[i]);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.StreamQuality\", [\n            {\n                no: 1,\n                name: \"video_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.videoQuality = 0;\n        message.userId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.VideoQuality video_quality */ 1:\n                    message.videoQuality = reader.int32();\n                    break;\n                case /* string user_id */ 2:\n                    message.userId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.VideoQuality video_quality = 1; */ if (message.videoQuality !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.videoQuality);\n        /* string user_id = 2; */ if (message.userId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoDimension\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.width = 0;\n        message.height = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint32 width */ 1:\n                    message.width = reader.uint32();\n                    break;\n                case /* uint32 height */ 2:\n                    message.height = reader.uint32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint32 width = 1; */ if (message.width !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.width);\n        /* uint32 height = 2; */ if (message.height !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.height);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoLayer\", [\n            {\n                no: 1,\n                name: \"rid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.rid = \"\";\n        message.bitrate = 0;\n        message.fps = 0;\n        message.quality = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string rid */ 1:\n                    message.rid = reader.string();\n                    break;\n                case /* stream.video.sfu.models.VideoDimension video_dimension */ 2:\n                    message.videoDimension = VideoDimension.internalBinaryRead(reader, reader.uint32(), options, message.videoDimension);\n                    break;\n                case /* uint32 bitrate */ 4:\n                    message.bitrate = reader.uint32();\n                    break;\n                case /* uint32 fps */ 5:\n                    message.fps = reader.uint32();\n                    break;\n                case /* stream.video.sfu.models.VideoQuality quality */ 6:\n                    message.quality = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string rid = 1; */ if (message.rid !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.rid);\n        /* stream.video.sfu.models.VideoDimension video_dimension = 2; */ if (message.videoDimension) VideoDimension.internalBinaryWrite(message.videoDimension, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* uint32 bitrate = 4; */ if (message.bitrate !== 0) writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.bitrate);\n        /* uint32 fps = 5; */ if (message.fps !== 0) writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.fps);\n        /* stream.video.sfu.models.VideoQuality quality = 6; */ if (message.quality !== 0) writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.quality);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Codec\", [\n            {\n                no: 1,\n                name: \"payload_type\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"fmtp_line\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"clock_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"encoding_parameters\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"feedbacks\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.payloadType = 0;\n        message.name = \"\";\n        message.fmtpLine = \"\";\n        message.clockRate = 0;\n        message.encodingParameters = \"\";\n        message.feedbacks = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint32 payload_type */ 1:\n                    message.payloadType = reader.uint32();\n                    break;\n                case /* string name */ 2:\n                    message.name = reader.string();\n                    break;\n                case /* string fmtp_line */ 3:\n                    message.fmtpLine = reader.string();\n                    break;\n                case /* uint32 clock_rate */ 4:\n                    message.clockRate = reader.uint32();\n                    break;\n                case /* string encoding_parameters */ 5:\n                    message.encodingParameters = reader.string();\n                    break;\n                case /* repeated string feedbacks */ 6:\n                    message.feedbacks.push(reader.string());\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint32 payload_type = 1; */ if (message.payloadType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.payloadType);\n        /* string name = 2; */ if (message.name !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* string fmtp_line = 3; */ if (message.fmtpLine !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.fmtpLine);\n        /* uint32 clock_rate = 4; */ if (message.clockRate !== 0) writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.clockRate);\n        /* string encoding_parameters = 5; */ if (message.encodingParameters !== \"\") writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.encodingParameters);\n        /* repeated string feedbacks = 6; */ for(let i = 0; i < message.feedbacks.length; i++)writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.feedbacks[i]);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.peerType = 0;\n        message.iceCandidate = \"\";\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.PeerType peer_type */ 1:\n                    message.peerType = reader.int32();\n                    break;\n                case /* string ice_candidate */ 2:\n                    message.iceCandidate = reader.string();\n                    break;\n                case /* string session_id */ 3:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.PeerType peer_type = 1; */ if (message.peerType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.peerType);\n        /* string ice_candidate = 2; */ if (message.iceCandidate !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.iceCandidate);\n        /* string session_id = 3; */ if (message.sessionId !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.TrackInfo\", [\n            {\n                no: 1,\n                name: \"track_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: \"mid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"dtx\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"stereo\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"red\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.trackId = \"\";\n        message.trackType = 0;\n        message.layers = [];\n        message.mid = \"\";\n        message.dtx = false;\n        message.stereo = false;\n        message.red = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string track_id */ 1:\n                    message.trackId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.TrackType track_type */ 2:\n                    message.trackType = reader.int32();\n                    break;\n                case /* repeated stream.video.sfu.models.VideoLayer layers */ 5:\n                    message.layers.push(VideoLayer.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                case /* string mid */ 6:\n                    message.mid = reader.string();\n                    break;\n                case /* bool dtx */ 7:\n                    message.dtx = reader.bool();\n                    break;\n                case /* bool stereo */ 8:\n                    message.stereo = reader.bool();\n                    break;\n                case /* bool red */ 9:\n                    message.red = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string track_id = 1; */ if (message.trackId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.trackId);\n        /* stream.video.sfu.models.TrackType track_type = 2; */ if (message.trackType !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.trackType);\n        /* repeated stream.video.sfu.models.VideoLayer layers = 5; */ for(let i = 0; i < message.layers.length; i++)VideoLayer.internalBinaryWrite(message.layers[i], writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* string mid = 6; */ if (message.mid !== \"\") writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.mid);\n        /* bool dtx = 7; */ if (message.dtx !== false) writer.tag(7, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.dtx);\n        /* bool stereo = 8; */ if (message.stereo !== false) writer.tag(8, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.stereo);\n        /* bool red = 9; */ if (message.red !== false) writer.tag(9, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.red);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Call\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"created_by_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"host_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"created_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: \"updated_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.type = \"\";\n        message.id = \"\";\n        message.createdByUserId = \"\";\n        message.hostUserId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string type */ 1:\n                    message.type = reader.string();\n                    break;\n                case /* string id */ 2:\n                    message.id = reader.string();\n                    break;\n                case /* string created_by_user_id */ 3:\n                    message.createdByUserId = reader.string();\n                    break;\n                case /* string host_user_id */ 4:\n                    message.hostUserId = reader.string();\n                    break;\n                case /* google.protobuf.Struct custom */ 5:\n                    message.custom = Struct.internalBinaryRead(reader, reader.uint32(), options, message.custom);\n                    break;\n                case /* google.protobuf.Timestamp created_at */ 6:\n                    message.createdAt = Timestamp.internalBinaryRead(reader, reader.uint32(), options, message.createdAt);\n                    break;\n                case /* google.protobuf.Timestamp updated_at */ 7:\n                    message.updatedAt = Timestamp.internalBinaryRead(reader, reader.uint32(), options, message.updatedAt);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string type = 1; */ if (message.type !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.type);\n        /* string id = 2; */ if (message.id !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.id);\n        /* string created_by_user_id = 3; */ if (message.createdByUserId !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.createdByUserId);\n        /* string host_user_id = 4; */ if (message.hostUserId !== \"\") writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.hostUserId);\n        /* google.protobuf.Struct custom = 5; */ if (message.custom) Struct.internalBinaryWrite(message.custom, writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* google.protobuf.Timestamp created_at = 6; */ if (message.createdAt) Timestamp.internalBinaryWrite(message.createdAt, writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* google.protobuf.Timestamp updated_at = 7; */ if (message.updatedAt) Timestamp.internalBinaryWrite(message.updatedAt, writer.tag(7, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Error\", [\n            {\n                no: 1,\n                name: \"code\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ErrorCode\",\n                        ErrorCode,\n                        \"ERROR_CODE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"should_retry\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.code = 0;\n        message.message = \"\";\n        message.shouldRetry = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.ErrorCode code */ 1:\n                    message.code = reader.int32();\n                    break;\n                case /* string message */ 2:\n                    message.message = reader.string();\n                    break;\n                case /* bool should_retry */ 3:\n                    message.shouldRetry = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.ErrorCode code = 1; */ if (message.code !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.code);\n        /* string message = 2; */ if (message.message !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.message);\n        /* bool should_retry = 3; */ if (message.shouldRetry !== false) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.shouldRetry);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ClientDetails\", [\n            {\n                no: 1,\n                name: \"sdk\",\n                kind: \"message\",\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: \"os\",\n                kind: \"message\",\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: \"browser\",\n                kind: \"message\",\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: \"device\",\n                kind: \"message\",\n                T: ()=>Device\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Sdk sdk */ 1:\n                    message.sdk = Sdk.internalBinaryRead(reader, reader.uint32(), options, message.sdk);\n                    break;\n                case /* stream.video.sfu.models.OS os */ 2:\n                    message.os = OS.internalBinaryRead(reader, reader.uint32(), options, message.os);\n                    break;\n                case /* stream.video.sfu.models.Browser browser */ 3:\n                    message.browser = Browser.internalBinaryRead(reader, reader.uint32(), options, message.browser);\n                    break;\n                case /* stream.video.sfu.models.Device device */ 4:\n                    message.device = Device.internalBinaryRead(reader, reader.uint32(), options, message.device);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Sdk sdk = 1; */ if (message.sdk) Sdk.internalBinaryWrite(message.sdk, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.OS os = 2; */ if (message.os) OS.internalBinaryWrite(message.os, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.Browser browser = 3; */ if (message.browser) Browser.internalBinaryWrite(message.browser, writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.Device device = 4; */ if (message.device) Device.internalBinaryWrite(message.device, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Sdk\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.SdkType\",\n                        SdkType,\n                        \"SDK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"major\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"minor\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"patch\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.type = 0;\n        message.major = \"\";\n        message.minor = \"\";\n        message.patch = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.SdkType type */ 1:\n                    message.type = reader.int32();\n                    break;\n                case /* string major */ 2:\n                    message.major = reader.string();\n                    break;\n                case /* string minor */ 3:\n                    message.minor = reader.string();\n                    break;\n                case /* string patch */ 4:\n                    message.patch = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.SdkType type = 1; */ if (message.type !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.type);\n        /* string major = 2; */ if (message.major !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.major);\n        /* string minor = 3; */ if (message.minor !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.minor);\n        /* string patch = 4; */ if (message.patch !== \"\") writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.patch);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.OS\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"architecture\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.name = \"\";\n        message.version = \"\";\n        message.architecture = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* string version */ 2:\n                    message.version = reader.string();\n                    break;\n                case /* string architecture */ 3:\n                    message.architecture = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string name = 1; */ if (message.name !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* string version = 2; */ if (message.version !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.version);\n        /* string architecture = 3; */ if (message.architecture !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.architecture);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Browser\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.name = \"\";\n        message.version = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* string version */ 2:\n                    message.version = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string name = 1; */ if (message.name !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* string version = 2; */ if (message.version !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.version);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Device\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.name = \"\";\n        message.version = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* string version */ 2:\n                    message.version = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string name = 1; */ if (message.name !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* string version = 2; */ if (message.version !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.version);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallGrants\", [\n            {\n                no: 1,\n                name: \"can_publish_audio\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"can_publish_video\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"can_screenshare\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.canPublishAudio = false;\n        message.canPublishVideo = false;\n        message.canScreenshare = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* bool can_publish_audio */ 1:\n                    message.canPublishAudio = reader.bool();\n                    break;\n                case /* bool can_publish_video */ 2:\n                    message.canPublishVideo = reader.bool();\n                    break;\n                case /* bool can_screenshare */ 3:\n                    message.canScreenshare = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* bool can_publish_audio = 1; */ if (message.canPublishAudio !== false) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.canPublishAudio);\n        /* bool can_publish_video = 2; */ if (message.canPublishVideo !== false) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.canPublishVideo);\n        /* bool can_screenshare = 3; */ if (message.canScreenshare !== false) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.canScreenshare);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    Pin: Pin,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 1:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 1; */ if (message.sessionId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 1:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 1; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 1:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 1; */ if (message.sessionId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 1:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 1; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"subscriber_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"publisher_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"webrtc_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"sdk\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"sdk_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        message.subscriberStats = \"\";\n        message.publisherStats = \"\";\n        message.webrtcVersion = \"\";\n        message.sdk = \"\";\n        message.sdkVersion = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 1:\n                    message.sessionId = reader.string();\n                    break;\n                case /* string subscriber_stats */ 2:\n                    message.subscriberStats = reader.string();\n                    break;\n                case /* string publisher_stats */ 3:\n                    message.publisherStats = reader.string();\n                    break;\n                case /* string webrtc_version */ 4:\n                    message.webrtcVersion = reader.string();\n                    break;\n                case /* string sdk */ 5:\n                    message.sdk = reader.string();\n                    break;\n                case /* string sdk_version */ 6:\n                    message.sdkVersion = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 1; */ if (message.sessionId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* string subscriber_stats = 2; */ if (message.subscriberStats !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.subscriberStats);\n        /* string publisher_stats = 3; */ if (message.publisherStats !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.publisherStats);\n        /* string webrtc_version = 4; */ if (message.webrtcVersion !== \"\") writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.webrtcVersion);\n        /* string sdk = 5; */ if (message.sdk !== \"\") writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdk);\n        /* string sdk_version = 6; */ if (message.sdkVersion !== \"\") writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdkVersion);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 1:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 1; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        message.peerType = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 1:\n                    message.sessionId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.PeerType peer_type */ 2:\n                    message.peerType = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 1; */ if (message.sessionId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* stream.video.sfu.models.PeerType peer_type = 2; */ if (message.peerType !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.peerType);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 1:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 1; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"mute_states\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        message.muteStates = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 1:\n                    message.sessionId = reader.string();\n                    break;\n                case /* repeated stream.video.sfu.signal.TrackMuteState mute_states */ 3:\n                    message.muteStates.push(TrackMuteState.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 1; */ if (message.sessionId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* repeated stream.video.sfu.signal.TrackMuteState mute_states = 3; */ for(let i = 0; i < message.muteStates.length; i++)TrackMuteState.internalBinaryWrite(message.muteStates[i], writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackMuteState\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.trackType = 0;\n        message.muted = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.TrackType track_type */ 1:\n                    message.trackType = reader.int32();\n                    break;\n                case /* bool muted */ 2:\n                    message.muted = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.TrackType track_type = 1; */ if (message.trackType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.trackType);\n        /* bool muted = 2; */ if (message.muted !== false) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.muted);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.AudioMuteChanged\", [\n            {\n                no: 1,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.muted = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* bool muted */ 1:\n                    message.muted = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* bool muted = 1; */ if (message.muted !== false) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.muted);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.VideoMuteChanged\", [\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.muted = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* bool muted */ 2:\n                    message.muted = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* bool muted = 2; */ if (message.muted !== false) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.muted);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsRequest\", [\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sessionId = \"\";\n        message.tracks = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* repeated stream.video.sfu.signal.TrackSubscriptionDetails tracks */ 3:\n                    message.tracks.push(TrackSubscriptionDetails.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* repeated stream.video.sfu.signal.TrackSubscriptionDetails tracks = 3; */ for(let i = 0; i < message.tracks.length; i++)TrackSubscriptionDetails.internalBinaryWrite(message.tracks[i], writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackSubscriptionDetails\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.trackType = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.TrackType track_type */ 3:\n                    message.trackType = reader.int32();\n                    break;\n                case /* stream.video.sfu.models.VideoDimension dimension */ 4:\n                    message.dimension = VideoDimension.internalBinaryRead(reader, reader.uint32(), options, message.dimension);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* stream.video.sfu.models.TrackType track_type = 3; */ if (message.trackType !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.trackType);\n        /* stream.video.sfu.models.VideoDimension dimension = 4; */ if (message.dimension) VideoDimension.internalBinaryWrite(message.dimension, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerRequest\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.peerType = 0;\n        message.sdp = \"\";\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.PeerType peer_type */ 1:\n                    message.peerType = reader.int32();\n                    break;\n                case /* string sdp */ 2:\n                    message.sdp = reader.string();\n                    break;\n                case /* string session_id */ 3:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.PeerType peer_type = 1; */ if (message.peerType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.peerType);\n        /* string sdp = 2; */ if (message.sdp !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdp);\n        /* string session_id = 3; */ if (message.sessionId !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICETrickleResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherRequest\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sdp = \"\";\n        message.sessionId = \"\";\n        message.tracks = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string sdp */ 1:\n                    message.sdp = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* repeated stream.video.sfu.models.TrackInfo tracks */ 3:\n                    message.tracks.push(TrackInfo.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string sdp = 1; */ if (message.sdp !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdp);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* repeated stream.video.sfu.models.TrackInfo tracks = 3; */ for(let i = 0; i < message.tracks.length; i++)TrackInfo.internalBinaryWrite(message.tracks[i], writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherResponse\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sdp = \"\";\n        message.sessionId = \"\";\n        message.iceRestart = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string sdp */ 1:\n                    message.sdp = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* bool ice_restart */ 3:\n                    message.iceRestart = reader.bool();\n                    break;\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string sdp = 1; */ if (message.sdp !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdp);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* bool ice_restart = 3; */ if (message.iceRestart !== false) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.iceRestart);\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_12__.ServiceType(\"stream.video.sfu.signal.SignalServer\", [\n    {\n        name: \"SetPublisher\",\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: \"SendAnswer\",\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: \"IceTrickle\",\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: \"UpdateSubscriptions\",\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: \"UpdateMuteStates\",\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: \"IceRestart\",\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: \"SendStats\",\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: \"StartNoiseCancellation\",\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: \"StopNoiseCancellation\",\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n/**\n * @generated from protobuf enum stream.video.sfu.event.VideoLayerSetting.Priority\n */ var VideoLayerSetting_Priority;\n(function(VideoLayerSetting_Priority) {\n    /**\n     * @generated from protobuf enum value: PRIORITY_HIGH_UNSPECIFIED = 0;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"HIGH_UNSPECIFIED\"] = 0] = \"HIGH_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_LOW = 1;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"LOW\"] = 1] = \"LOW\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_MEDIUM = 2;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"MEDIUM\"] = 2] = \"MEDIUM\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_VERY_LOW = 3;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"VERY_LOW\"] = 3] = \"VERY_LOW\";\n})(VideoLayerSetting_Priority || (VideoLayerSetting_Priority = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuEvent\", [\n            {\n                no: 1,\n                name: \"subscriber_offer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: \"publisher_answer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: \"connection_quality_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: \"audio_level_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: \"ice_trickle\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: \"change_publish_quality\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: \"participant_joined\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: \"participant_left\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: \"dominant_speaker_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: \"join_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: \"health_check_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: \"track_published\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: \"track_unpublished\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: \"error\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: \"call_grants_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: \"go_away\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: \"ice_restart\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: \"pins_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: \"call_ended\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: \"participant_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantUpdated\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.eventPayload = {\n            oneofKind: undefined\n        };\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.event.SubscriberOffer subscriber_offer */ 1:\n                    message.eventPayload = {\n                        oneofKind: \"subscriberOffer\",\n                        subscriberOffer: SubscriberOffer.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.subscriberOffer)\n                    };\n                    break;\n                case /* stream.video.sfu.event.PublisherAnswer publisher_answer */ 2:\n                    message.eventPayload = {\n                        oneofKind: \"publisherAnswer\",\n                        publisherAnswer: PublisherAnswer.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.publisherAnswer)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ConnectionQualityChanged connection_quality_changed */ 3:\n                    message.eventPayload = {\n                        oneofKind: \"connectionQualityChanged\",\n                        connectionQualityChanged: ConnectionQualityChanged.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.connectionQualityChanged)\n                    };\n                    break;\n                case /* stream.video.sfu.event.AudioLevelChanged audio_level_changed */ 4:\n                    message.eventPayload = {\n                        oneofKind: \"audioLevelChanged\",\n                        audioLevelChanged: AudioLevelChanged.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.audioLevelChanged)\n                    };\n                    break;\n                case /* stream.video.sfu.models.ICETrickle ice_trickle */ 5:\n                    message.eventPayload = {\n                        oneofKind: \"iceTrickle\",\n                        iceTrickle: ICETrickle$1.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.iceTrickle)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ChangePublishQuality change_publish_quality */ 6:\n                    message.eventPayload = {\n                        oneofKind: \"changePublishQuality\",\n                        changePublishQuality: ChangePublishQuality.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.changePublishQuality)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ParticipantJoined participant_joined */ 10:\n                    message.eventPayload = {\n                        oneofKind: \"participantJoined\",\n                        participantJoined: ParticipantJoined.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.participantJoined)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ParticipantLeft participant_left */ 11:\n                    message.eventPayload = {\n                        oneofKind: \"participantLeft\",\n                        participantLeft: ParticipantLeft.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.participantLeft)\n                    };\n                    break;\n                case /* stream.video.sfu.event.DominantSpeakerChanged dominant_speaker_changed */ 12:\n                    message.eventPayload = {\n                        oneofKind: \"dominantSpeakerChanged\",\n                        dominantSpeakerChanged: DominantSpeakerChanged.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.dominantSpeakerChanged)\n                    };\n                    break;\n                case /* stream.video.sfu.event.JoinResponse join_response */ 13:\n                    message.eventPayload = {\n                        oneofKind: \"joinResponse\",\n                        joinResponse: JoinResponse.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.joinResponse)\n                    };\n                    break;\n                case /* stream.video.sfu.event.HealthCheckResponse health_check_response */ 14:\n                    message.eventPayload = {\n                        oneofKind: \"healthCheckResponse\",\n                        healthCheckResponse: HealthCheckResponse.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.healthCheckResponse)\n                    };\n                    break;\n                case /* stream.video.sfu.event.TrackPublished track_published */ 16:\n                    message.eventPayload = {\n                        oneofKind: \"trackPublished\",\n                        trackPublished: TrackPublished.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.trackPublished)\n                    };\n                    break;\n                case /* stream.video.sfu.event.TrackUnpublished track_unpublished */ 17:\n                    message.eventPayload = {\n                        oneofKind: \"trackUnpublished\",\n                        trackUnpublished: TrackUnpublished.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.trackUnpublished)\n                    };\n                    break;\n                case /* stream.video.sfu.event.Error error */ 18:\n                    message.eventPayload = {\n                        oneofKind: \"error\",\n                        error: Error$1.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.error)\n                    };\n                    break;\n                case /* stream.video.sfu.event.CallGrantsUpdated call_grants_updated */ 19:\n                    message.eventPayload = {\n                        oneofKind: \"callGrantsUpdated\",\n                        callGrantsUpdated: CallGrantsUpdated.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.callGrantsUpdated)\n                    };\n                    break;\n                case /* stream.video.sfu.event.GoAway go_away */ 20:\n                    message.eventPayload = {\n                        oneofKind: \"goAway\",\n                        goAway: GoAway.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.goAway)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ICERestart ice_restart */ 21:\n                    message.eventPayload = {\n                        oneofKind: \"iceRestart\",\n                        iceRestart: ICERestart.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.iceRestart)\n                    };\n                    break;\n                case /* stream.video.sfu.event.PinsChanged pins_updated */ 22:\n                    message.eventPayload = {\n                        oneofKind: \"pinsUpdated\",\n                        pinsUpdated: PinsChanged.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.pinsUpdated)\n                    };\n                    break;\n                case /* stream.video.sfu.event.CallEnded call_ended */ 23:\n                    message.eventPayload = {\n                        oneofKind: \"callEnded\",\n                        callEnded: CallEnded.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.callEnded)\n                    };\n                    break;\n                case /* stream.video.sfu.event.ParticipantUpdated participant_updated */ 24:\n                    message.eventPayload = {\n                        oneofKind: \"participantUpdated\",\n                        participantUpdated: ParticipantUpdated.internalBinaryRead(reader, reader.uint32(), options, message.eventPayload.participantUpdated)\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.event.SubscriberOffer subscriber_offer = 1; */ if (message.eventPayload.oneofKind === \"subscriberOffer\") SubscriberOffer.internalBinaryWrite(message.eventPayload.subscriberOffer, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.PublisherAnswer publisher_answer = 2; */ if (message.eventPayload.oneofKind === \"publisherAnswer\") PublisherAnswer.internalBinaryWrite(message.eventPayload.publisherAnswer, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ConnectionQualityChanged connection_quality_changed = 3; */ if (message.eventPayload.oneofKind === \"connectionQualityChanged\") ConnectionQualityChanged.internalBinaryWrite(message.eventPayload.connectionQualityChanged, writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.AudioLevelChanged audio_level_changed = 4; */ if (message.eventPayload.oneofKind === \"audioLevelChanged\") AudioLevelChanged.internalBinaryWrite(message.eventPayload.audioLevelChanged, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.ICETrickle ice_trickle = 5; */ if (message.eventPayload.oneofKind === \"iceTrickle\") ICETrickle$1.internalBinaryWrite(message.eventPayload.iceTrickle, writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ChangePublishQuality change_publish_quality = 6; */ if (message.eventPayload.oneofKind === \"changePublishQuality\") ChangePublishQuality.internalBinaryWrite(message.eventPayload.changePublishQuality, writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ParticipantJoined participant_joined = 10; */ if (message.eventPayload.oneofKind === \"participantJoined\") ParticipantJoined.internalBinaryWrite(message.eventPayload.participantJoined, writer.tag(10, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ParticipantLeft participant_left = 11; */ if (message.eventPayload.oneofKind === \"participantLeft\") ParticipantLeft.internalBinaryWrite(message.eventPayload.participantLeft, writer.tag(11, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.DominantSpeakerChanged dominant_speaker_changed = 12; */ if (message.eventPayload.oneofKind === \"dominantSpeakerChanged\") DominantSpeakerChanged.internalBinaryWrite(message.eventPayload.dominantSpeakerChanged, writer.tag(12, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.JoinResponse join_response = 13; */ if (message.eventPayload.oneofKind === \"joinResponse\") JoinResponse.internalBinaryWrite(message.eventPayload.joinResponse, writer.tag(13, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.HealthCheckResponse health_check_response = 14; */ if (message.eventPayload.oneofKind === \"healthCheckResponse\") HealthCheckResponse.internalBinaryWrite(message.eventPayload.healthCheckResponse, writer.tag(14, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.TrackPublished track_published = 16; */ if (message.eventPayload.oneofKind === \"trackPublished\") TrackPublished.internalBinaryWrite(message.eventPayload.trackPublished, writer.tag(16, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.TrackUnpublished track_unpublished = 17; */ if (message.eventPayload.oneofKind === \"trackUnpublished\") TrackUnpublished.internalBinaryWrite(message.eventPayload.trackUnpublished, writer.tag(17, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.Error error = 18; */ if (message.eventPayload.oneofKind === \"error\") Error$1.internalBinaryWrite(message.eventPayload.error, writer.tag(18, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.CallGrantsUpdated call_grants_updated = 19; */ if (message.eventPayload.oneofKind === \"callGrantsUpdated\") CallGrantsUpdated.internalBinaryWrite(message.eventPayload.callGrantsUpdated, writer.tag(19, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.GoAway go_away = 20; */ if (message.eventPayload.oneofKind === \"goAway\") GoAway.internalBinaryWrite(message.eventPayload.goAway, writer.tag(20, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ICERestart ice_restart = 21; */ if (message.eventPayload.oneofKind === \"iceRestart\") ICERestart.internalBinaryWrite(message.eventPayload.iceRestart, writer.tag(21, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.PinsChanged pins_updated = 22; */ if (message.eventPayload.oneofKind === \"pinsUpdated\") PinsChanged.internalBinaryWrite(message.eventPayload.pinsUpdated, writer.tag(22, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.CallEnded call_ended = 23; */ if (message.eventPayload.oneofKind === \"callEnded\") CallEnded.internalBinaryWrite(message.eventPayload.callEnded, writer.tag(23, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.ParticipantUpdated participant_updated = 24; */ if (message.eventPayload.oneofKind === \"participantUpdated\") ParticipantUpdated.internalBinaryWrite(message.eventPayload.participantUpdated, writer.tag(24, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PinsChanged\", [\n            {\n                no: 1,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.pins = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated stream.video.sfu.models.Pin pins */ 1:\n                    message.pins.push(Pin.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated stream.video.sfu.models.Pin pins = 1; */ for(let i = 0; i < message.pins.length; i++)Pin.internalBinaryWrite(message.pins[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Error\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: \"reconnect_strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.reconnectStrategy = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.Error error */ 4:\n                    message.error = Error$2.internalBinaryRead(reader, reader.uint32(), options, message.error);\n                    break;\n                case /* stream.video.sfu.models.WebsocketReconnectStrategy reconnect_strategy */ 5:\n                    message.reconnectStrategy = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.Error error = 4; */ if (message.error) Error$2.internalBinaryWrite(message.error, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.WebsocketReconnectStrategy reconnect_strategy = 5; */ if (message.reconnectStrategy !== 0) writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.reconnectStrategy);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.peerType = 0;\n        message.iceCandidate = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.PeerType peer_type */ 1:\n                    message.peerType = reader.int32();\n                    break;\n                case /* string ice_candidate */ 2:\n                    message.iceCandidate = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.PeerType peer_type = 1; */ if (message.peerType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.peerType);\n        /* string ice_candidate = 2; */ if (message.iceCandidate !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.iceCandidate);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICERestart\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.peerType = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.PeerType peer_type */ 1:\n                    message.peerType = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.PeerType peer_type = 1; */ if (message.peerType !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.peerType);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuRequest\", [\n            {\n                no: 1,\n                name: \"join_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: \"health_check_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>HealthCheckRequest\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.requestPayload = {\n            oneofKind: undefined\n        };\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.event.JoinRequest join_request */ 1:\n                    message.requestPayload = {\n                        oneofKind: \"joinRequest\",\n                        joinRequest: JoinRequest.internalBinaryRead(reader, reader.uint32(), options, message.requestPayload.joinRequest)\n                    };\n                    break;\n                case /* stream.video.sfu.event.HealthCheckRequest health_check_request */ 2:\n                    message.requestPayload = {\n                        oneofKind: \"healthCheckRequest\",\n                        healthCheckRequest: HealthCheckRequest.internalBinaryRead(reader, reader.uint32(), options, message.requestPayload.healthCheckRequest)\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.event.JoinRequest join_request = 1; */ if (message.requestPayload.oneofKind === \"joinRequest\") JoinRequest.internalBinaryWrite(message.requestPayload.joinRequest, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.HealthCheckRequest health_check_request = 2; */ if (message.requestPayload.oneofKind === \"healthCheckRequest\") HealthCheckRequest.internalBinaryWrite(message.requestPayload.healthCheckRequest, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckRequest\", []);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        return target ?? this.create();\n    }\n    internalBinaryWrite(message, writer, options) {\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckResponse\", [\n            {\n                no: 1,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.ParticipantCount participant_count */ 1:\n                    message.participantCount = ParticipantCount.internalBinaryRead(reader, reader.uint32(), options, message.participantCount);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.ParticipantCount participant_count = 1; */ if (message.participantCount) ParticipantCount.internalBinaryWrite(message.participantCount, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackPublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.type = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.TrackType type */ 3:\n                    message.type = reader.int32();\n                    break;\n                case /* stream.video.sfu.models.Participant participant */ 4:\n                    message.participant = Participant.internalBinaryRead(reader, reader.uint32(), options, message.participant);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* stream.video.sfu.models.TrackType type = 3; */ if (message.type !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.type);\n        /* stream.video.sfu.models.Participant participant = 4; */ if (message.participant) Participant.internalBinaryWrite(message.participant, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackUnpublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"cause\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackUnpublishReason\",\n                        TrackUnpublishReason,\n                        \"TRACK_UNPUBLISH_REASON_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.type = 0;\n        message.cause = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.TrackType type */ 3:\n                    message.type = reader.int32();\n                    break;\n                case /* stream.video.sfu.models.TrackUnpublishReason cause */ 4:\n                    message.cause = reader.int32();\n                    break;\n                case /* stream.video.sfu.models.Participant participant */ 5:\n                    message.participant = Participant.internalBinaryRead(reader, reader.uint32(), options, message.participant);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* stream.video.sfu.models.TrackType type = 3; */ if (message.type !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.type);\n        /* stream.video.sfu.models.TrackUnpublishReason cause = 4; */ if (message.cause !== 0) writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.cause);\n        /* stream.video.sfu.models.Participant participant = 5; */ if (message.participant) Participant.internalBinaryWrite(message.participant, writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinRequest\", [\n            {\n                no: 1,\n                name: \"token\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"subscriber_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"client_details\",\n                kind: \"message\",\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: \"migration\",\n                kind: \"message\",\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: \"fast_reconnect\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.token = \"\";\n        message.sessionId = \"\";\n        message.subscriberSdp = \"\";\n        message.fastReconnect = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string token */ 1:\n                    message.token = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* string subscriber_sdp */ 3:\n                    message.subscriberSdp = reader.string();\n                    break;\n                case /* stream.video.sfu.models.ClientDetails client_details */ 4:\n                    message.clientDetails = ClientDetails.internalBinaryRead(reader, reader.uint32(), options, message.clientDetails);\n                    break;\n                case /* stream.video.sfu.event.Migration migration */ 5:\n                    message.migration = Migration.internalBinaryRead(reader, reader.uint32(), options, message.migration);\n                    break;\n                case /* bool fast_reconnect */ 6:\n                    message.fastReconnect = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string token = 1; */ if (message.token !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.token);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* string subscriber_sdp = 3; */ if (message.subscriberSdp !== \"\") writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.subscriberSdp);\n        /* stream.video.sfu.models.ClientDetails client_details = 4; */ if (message.clientDetails) ClientDetails.internalBinaryWrite(message.clientDetails, writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.event.Migration migration = 5; */ if (message.migration) Migration.internalBinaryWrite(message.migration, writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* bool fast_reconnect = 6; */ if (message.fastReconnect !== false) writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.fastReconnect);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Migration\", [\n            {\n                no: 1,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.fromSfuId = \"\";\n        message.announcedTracks = [];\n        message.subscriptions = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string from_sfu_id */ 1:\n                    message.fromSfuId = reader.string();\n                    break;\n                case /* repeated stream.video.sfu.models.TrackInfo announced_tracks */ 2:\n                    message.announcedTracks.push(TrackInfo.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                case /* repeated stream.video.sfu.signal.TrackSubscriptionDetails subscriptions */ 3:\n                    message.subscriptions.push(TrackSubscriptionDetails.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string from_sfu_id = 1; */ if (message.fromSfuId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.fromSfuId);\n        /* repeated stream.video.sfu.models.TrackInfo announced_tracks = 2; */ for(let i = 0; i < message.announcedTracks.length; i++)TrackInfo.internalBinaryWrite(message.announcedTracks[i], writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* repeated stream.video.sfu.signal.TrackSubscriptionDetails subscriptions = 3; */ for(let i = 0; i < message.subscriptions.length; i++)TrackSubscriptionDetails.internalBinaryWrite(message.subscriptions[i], writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinResponse\", [\n            {\n                no: 1,\n                name: \"call_state\",\n                kind: \"message\",\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: \"reconnected\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.reconnected = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.CallState call_state */ 1:\n                    message.callState = CallState$1.internalBinaryRead(reader, reader.uint32(), options, message.callState);\n                    break;\n                case /* bool reconnected */ 2:\n                    message.reconnected = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.CallState call_state = 1; */ if (message.callState) CallState$1.internalBinaryWrite(message.callState, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* bool reconnected = 2; */ if (message.reconnected !== false) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.reconnected);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantJoined\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.callCid = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string call_cid */ 1:\n                    message.callCid = reader.string();\n                    break;\n                case /* stream.video.sfu.models.Participant participant */ 2:\n                    message.participant = Participant.internalBinaryRead(reader, reader.uint32(), options, message.participant);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string call_cid = 1; */ if (message.callCid !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.callCid);\n        /* stream.video.sfu.models.Participant participant = 2; */ if (message.participant) Participant.internalBinaryWrite(message.participant, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantLeft\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.callCid = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string call_cid */ 1:\n                    message.callCid = reader.string();\n                    break;\n                case /* stream.video.sfu.models.Participant participant */ 2:\n                    message.participant = Participant.internalBinaryRead(reader, reader.uint32(), options, message.participant);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string call_cid = 1; */ if (message.callCid !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.callCid);\n        /* stream.video.sfu.models.Participant participant = 2; */ if (message.participant) Participant.internalBinaryWrite(message.participant, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantUpdated\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.callCid = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string call_cid */ 1:\n                    message.callCid = reader.string();\n                    break;\n                case /* stream.video.sfu.models.Participant participant */ 2:\n                    message.participant = Participant.internalBinaryRead(reader, reader.uint32(), options, message.participant);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string call_cid = 1; */ if (message.callCid !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.callCid);\n        /* stream.video.sfu.models.Participant participant = 2; */ if (message.participant) Participant.internalBinaryWrite(message.participant, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SubscriberOffer\", [\n            {\n                no: 1,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.iceRestart = false;\n        message.sdp = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* bool ice_restart */ 1:\n                    message.iceRestart = reader.bool();\n                    break;\n                case /* string sdp */ 2:\n                    message.sdp = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* bool ice_restart = 1; */ if (message.iceRestart !== false) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.iceRestart);\n        /* string sdp = 2; */ if (message.sdp !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdp);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PublisherAnswer\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.sdp = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string sdp */ 1:\n                    message.sdp = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string sdp = 1; */ if (message.sdp !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sdp);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityChanged\", [\n            {\n                no: 1,\n                name: \"connection_quality_updates\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.connectionQualityUpdates = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated stream.video.sfu.event.ConnectionQualityInfo connection_quality_updates */ 1:\n                    message.connectionQualityUpdates.push(ConnectionQualityInfo.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated stream.video.sfu.event.ConnectionQualityInfo connection_quality_updates = 1; */ for(let i = 0; i < message.connectionQualityUpdates.length; i++)ConnectionQualityInfo.internalBinaryWrite(message.connectionQualityUpdates[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityInfo\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.connectionQuality = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* stream.video.sfu.models.ConnectionQuality connection_quality */ 3:\n                    message.connectionQuality = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* stream.video.sfu.models.ConnectionQuality connection_quality = 3; */ if (message.connectionQuality !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.connectionQuality);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.DominantSpeakerChanged\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevel\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.userId = \"\";\n        message.sessionId = \"\";\n        message.level = 0;\n        message.isSpeaking = false;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string user_id */ 1:\n                    message.userId = reader.string();\n                    break;\n                case /* string session_id */ 2:\n                    message.sessionId = reader.string();\n                    break;\n                case /* float level */ 3:\n                    message.level = reader.float();\n                    break;\n                case /* bool is_speaking */ 4:\n                    message.isSpeaking = reader.bool();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string user_id = 1; */ if (message.userId !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.userId);\n        /* string session_id = 2; */ if (message.sessionId !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.sessionId);\n        /* float level = 3; */ if (message.level !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Bit32).float(message.level);\n        /* bool is_speaking = 4; */ if (message.isSpeaking !== false) writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.isSpeaking);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevelChanged\", [\n            {\n                no: 1,\n                name: \"audio_levels\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.audioLevels = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated stream.video.sfu.event.AudioLevel audio_levels */ 1:\n                    message.audioLevels.push(AudioLevel.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated stream.video.sfu.event.AudioLevel audio_levels = 1; */ for(let i = 0; i < message.audioLevels.length; i++)AudioLevel.internalBinaryWrite(message.audioLevels[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMediaRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioMediaRequest\", [\n            {\n                no: 1,\n                name: \"channel_count\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.channelCount = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* int32 channel_count */ 1:\n                    message.channelCount = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* int32 channel_count = 1; */ if (message.channelCount !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.channelCount);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioMediaRequest\n */ const AudioMediaRequest = new AudioMediaRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioSender\", [\n            {\n                no: 1,\n                name: \"media_request\",\n                kind: \"message\",\n                T: ()=>AudioMediaRequest\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.event.AudioMediaRequest media_request */ 1:\n                    message.mediaRequest = AudioMediaRequest.internalBinaryRead(reader, reader.uint32(), options, message.mediaRequest);\n                    break;\n                case /* stream.video.sfu.models.Codec codec */ 2:\n                    message.codec = Codec.internalBinaryRead(reader, reader.uint32(), options, message.codec);\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.event.AudioMediaRequest media_request = 1; */ if (message.mediaRequest) AudioMediaRequest.internalBinaryWrite(message.mediaRequest, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.Codec codec = 2; */ if (message.codec) Codec.internalBinaryWrite(message.codec, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMediaRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoMediaRequest\", [\n            {\n                no: 1,\n                name: \"ideal_height\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 2,\n                name: \"ideal_width\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 3,\n                name: \"ideal_frame_rate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.idealHeight = 0;\n        message.idealWidth = 0;\n        message.idealFrameRate = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* int32 ideal_height */ 1:\n                    message.idealHeight = reader.int32();\n                    break;\n                case /* int32 ideal_width */ 2:\n                    message.idealWidth = reader.int32();\n                    break;\n                case /* int32 ideal_frame_rate */ 3:\n                    message.idealFrameRate = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* int32 ideal_height = 1; */ if (message.idealHeight !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.idealHeight);\n        /* int32 ideal_width = 2; */ if (message.idealWidth !== 0) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.idealWidth);\n        /* int32 ideal_frame_rate = 3; */ if (message.idealFrameRate !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.idealFrameRate);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoMediaRequest\n */ const VideoMediaRequest = new VideoMediaRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoLayerSetting\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"active\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"max_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"scale_resolution_down_by\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 5,\n                name: \"priority\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.event.VideoLayerSetting.Priority\",\n                        VideoLayerSetting_Priority,\n                        \"PRIORITY_\"\n                    ]\n            },\n            {\n                no: 6,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: \"max_framerate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.name = \"\";\n        message.active = false;\n        message.maxBitrate = 0;\n        message.scaleResolutionDownBy = 0;\n        message.priority = 0;\n        message.maxFramerate = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* bool active */ 2:\n                    message.active = reader.bool();\n                    break;\n                case /* int32 max_bitrate */ 3:\n                    message.maxBitrate = reader.int32();\n                    break;\n                case /* float scale_resolution_down_by */ 4:\n                    message.scaleResolutionDownBy = reader.float();\n                    break;\n                case /* stream.video.sfu.event.VideoLayerSetting.Priority priority */ 5:\n                    message.priority = reader.int32();\n                    break;\n                case /* stream.video.sfu.models.Codec codec */ 6:\n                    message.codec = Codec.internalBinaryRead(reader, reader.uint32(), options, message.codec);\n                    break;\n                case /* uint32 max_framerate */ 7:\n                    message.maxFramerate = reader.uint32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string name = 1; */ if (message.name !== \"\") writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.name);\n        /* bool active = 2; */ if (message.active !== false) writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).bool(message.active);\n        /* int32 max_bitrate = 3; */ if (message.maxBitrate !== 0) writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.maxBitrate);\n        /* float scale_resolution_down_by = 4; */ if (message.scaleResolutionDownBy !== 0) writer.tag(4, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Bit32).float(message.scaleResolutionDownBy);\n        /* stream.video.sfu.event.VideoLayerSetting.Priority priority = 5; */ if (message.priority !== 0) writer.tag(5, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.priority);\n        /* stream.video.sfu.models.Codec codec = 6; */ if (message.codec) Codec.internalBinaryWrite(message.codec, writer.tag(6, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* uint32 max_framerate = 7; */ if (message.maxFramerate !== 0) writer.tag(7, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).uint32(message.maxFramerate);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoSender\", [\n            {\n                no: 1,\n                name: \"media_request\",\n                kind: \"message\",\n                T: ()=>VideoMediaRequest\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayerSetting\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.layers = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.event.VideoMediaRequest media_request */ 1:\n                    message.mediaRequest = VideoMediaRequest.internalBinaryRead(reader, reader.uint32(), options, message.mediaRequest);\n                    break;\n                case /* stream.video.sfu.models.Codec codec */ 2:\n                    message.codec = Codec.internalBinaryRead(reader, reader.uint32(), options, message.codec);\n                    break;\n                case /* repeated stream.video.sfu.event.VideoLayerSetting layers */ 3:\n                    message.layers.push(VideoLayerSetting.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.event.VideoMediaRequest media_request = 1; */ if (message.mediaRequest) VideoMediaRequest.internalBinaryWrite(message.mediaRequest, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* stream.video.sfu.models.Codec codec = 2; */ if (message.codec) Codec.internalBinaryWrite(message.codec, writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* repeated stream.video.sfu.event.VideoLayerSetting layers = 3; */ for(let i = 0; i < message.layers.length; i++)VideoLayerSetting.internalBinaryWrite(message.layers[i], writer.tag(3, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishQuality\", [\n            {\n                no: 1,\n                name: \"audio_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: \"video_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.audioSenders = [];\n        message.videoSenders = [];\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* repeated stream.video.sfu.event.AudioSender audio_senders */ 1:\n                    message.audioSenders.push(AudioSender.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                case /* repeated stream.video.sfu.event.VideoSender video_senders */ 2:\n                    message.videoSenders.push(VideoSender.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* repeated stream.video.sfu.event.AudioSender audio_senders = 1; */ for(let i = 0; i < message.audioSenders.length; i++)AudioSender.internalBinaryWrite(message.audioSenders[i], writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* repeated stream.video.sfu.event.VideoSender video_senders = 2; */ for(let i = 0; i < message.videoSenders.length; i++)VideoSender.internalBinaryWrite(message.videoSenders[i], writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallGrantsUpdated\", [\n            {\n                no: 1,\n                name: \"current_grants\",\n                kind: \"message\",\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.message = \"\";\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.CallGrants current_grants */ 1:\n                    message.currentGrants = CallGrants.internalBinaryRead(reader, reader.uint32(), options, message.currentGrants);\n                    break;\n                case /* string message */ 2:\n                    message.message = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.CallGrants current_grants = 1; */ if (message.currentGrants) CallGrants.internalBinaryWrite(message.currentGrants, writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).fork(), options).join();\n        /* string message = 2; */ if (message.message !== \"\") writer.tag(2, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.LengthDelimited).string(message.message);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.GoAway\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.GoAwayReason\",\n                        GoAwayReason,\n                        \"GO_AWAY_REASON_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.reason = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.GoAwayReason reason */ 1:\n                    message.reason = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.GoAwayReason reason = 1; */ if (message.reason !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.reason);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallEnded\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.CallEndedReason\",\n                        CallEndedReason,\n                        \"CALL_ENDED_REASON_\"\n                    ]\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.reason = 0;\n        if (value !== undefined) (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* stream.video.sfu.models.CallEndedReason reason */ 1:\n                    message.reason = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* stream.video.sfu.models.CallEndedReason reason = 1; */ if (message.reason !== 0) writer.tag(1, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.WireType.Varint).int32(message.reason);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_10__.UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioMediaRequest: AudioMediaRequest,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishQuality: ChangePublishQuality,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    get VideoLayerSetting_Priority () {\n        return VideoLayerSetting_Priority;\n    },\n    VideoMediaRequest: VideoMediaRequest,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: \"\",\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_14__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.product?.toLowerCase() === \"reactnative\";\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger$4;\nlet level = \"info\";\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case \"error\":\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case \"warn\":\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case \"info\":\n            logMethod = console.info;\n            break;\n        case \"trace\":\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger$4 = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger$4 || logToConsole;\n    const tags = (withTags || []).join(\":\");\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\nconst getPreferredCodecs = (kind, preferredCodec, codecToRemove)=>{\n    const logger = getLogger([\n        \"codecs\"\n    ]);\n    if (!(\"getCapabilities\" in RTCRtpReceiver)) {\n        logger(\"warn\", \"RTCRtpReceiver.getCapabilities is not supported\");\n        return;\n    }\n    const cap = RTCRtpReceiver.getCapabilities(kind);\n    if (!cap) return;\n    const matched = [];\n    const partialMatched = [];\n    const unmatched = [];\n    cap.codecs.forEach((c)=>{\n        const codec = c.mimeType.toLowerCase();\n        logger(\"debug\", `Found supported codec: ${codec}`);\n        const shouldRemoveCodec = codecToRemove && codec === `${kind}/${codecToRemove.toLowerCase()}`;\n        if (shouldRemoveCodec) return;\n        const matchesCodec = codec === `${kind}/${preferredCodec.toLowerCase()}`;\n        if (!matchesCodec) {\n            unmatched.push(c);\n            return;\n        }\n        // for h264 codecs that have sdpFmtpLine available, use only if the\n        // profile-level-id is 42e01f for cross-browser compatibility\n        if (codec === \"h264\") {\n            if (c.sdpFmtpLine && c.sdpFmtpLine.includes(\"profile-level-id=42e01f\")) {\n                matched.push(c);\n            } else {\n                partialMatched.push(c);\n            }\n            return;\n        }\n        matched.push(c);\n    });\n    return [\n        ...matched,\n        ...partialMatched,\n        ...unmatched\n    ];\n};\nconst getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver(\"video\", {\n        direction\n    });\n    tempPc.addTransceiver(\"audio\", {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    let sdp = offer.sdp ?? \"\";\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            \"Dispatcher\"\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message)=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger(\"debug\", `Dispatching ${eventKind}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger(\"warn\", \"Listener failed with error\", e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n        this.offAll = (eventName)=>{\n            if (eventName) {\n                this.subscribers[eventName] = [];\n            } else {\n                this.subscribers = {};\n            }\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__.ReplaySubject();\n        this.logger = getLogger([\n            \"sfu-client\"\n        ]);\n        this.push = (iceTrickle)=>{\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceTrickle);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceTrickle);\n            } else {\n                this.logger(\"warn\", `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n    }\n}\nfunction getIceCandidate(candidate) {\n    if (!candidate.usernameFragment) {\n        // react-native-webrtc doesn't include usernameFragment in the candidate\n        const splittedCandidate = candidate.candidate.split(\" \");\n        const ufragIndex = splittedCandidate.findIndex((s)=>s === \"ufrag\") + 1;\n        const usernameFragment = splittedCandidate[ufragIndex];\n        return JSON.stringify({\n            ...candidate,\n            usernameFragment\n        });\n    } else {\n        return JSON.stringify(candidate.toJSON());\n    }\n}\nconst version = \"1.5.2\";\nconst [major, minor, patch] = version.split(\".\");\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst getOSInfo = ()=>{\n    return osInfo;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getDeviceInfo = ()=>{\n    return deviceInfo;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst getClientDetails = ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: getSdkInfo(),\n            os: getOSInfo(),\n            device: getDeviceInfo()\n        };\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_3__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    return {\n        sdk: getSdkInfo(),\n        browser: {\n            name: browser.name || navigator.userAgent,\n            version: browser.version || \"\"\n        },\n        os: {\n            name: os.name || \"\",\n            version: os.version || \"\",\n            architecture: cpu.architecture || \"\"\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(\" \"),\n            version: \"\"\n        }\n    };\n};\nconst DEFAULT_BITRATE = 1250000;\nconst defaultTargetResolution = {\n    bitrate: DEFAULT_BITRATE,\n    width: 1280,\n    height: 720\n};\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: DEFAULT_BITRATE\n};\n/**\n * Determines the most optimal video layers for simulcasting\n * for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param targetResolution the expected target resolution.\n */ const findOptimalVideoLayers = (videoTrack, targetResolution = defaultTargetResolution)=>{\n    const optimalVideoLayers = [];\n    const settings = videoTrack.getSettings();\n    const { width: w = 0, height: h = 0 } = settings;\n    const isRNIos = isReactNative() && getOSInfo()?.name.toLowerCase() === \"ios\";\n    const maxBitrate = getComputedMaxBitrate(targetResolution, w, h);\n    let downscaleFactor = 1;\n    [\n        \"f\",\n        \"h\",\n        \"q\"\n    ].forEach((rid)=>{\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift({\n            active: true,\n            rid,\n            width: Math.round(w / downscaleFactor),\n            height: Math.round(h / downscaleFactor),\n            maxBitrate: Math.round(maxBitrate / downscaleFactor) || defaultBitratePerRid[rid],\n            scaleResolutionDownBy: downscaleFactor,\n            // Simulcast on iOS React-Native requires all encodings to share the same framerate\n            maxFramerate: {\n                f: 30,\n                h: isRNIos ? 30 : 25,\n                q: isRNIos ? 30 : 20\n            }[rid]\n        });\n        downscaleFactor *= 2;\n    });\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(settings, optimalVideoLayers);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight } = targetResolution;\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(targetResolution.bitrate * reductionFactor);\n    }\n    return targetResolution.bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (settings, optimalVideoLayers)=>{\n    let layers;\n    const size = Math.max(settings.width || 0, settings.height || 0);\n    if (size <= 320) {\n        // provide only one layer 320x240 (q), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === \"f\");\n    } else if (size <= 640) {\n        // provide two layers, 160x120 (q) and 640x480 (h)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== \"h\");\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    const ridMapping = [\n        \"q\",\n        \"h\",\n        \"f\"\n    ];\n    return layers.map((layer, index)=>({\n            ...layer,\n            rid: ridMapping[index]\n        }));\n};\nconst findOptimalScreenSharingLayers = (videoTrack, preferences, defaultMaxBitrate = 3000000)=>{\n    const settings = videoTrack.getSettings();\n    return [\n        {\n            active: true,\n            rid: \"q\",\n            width: settings.width || 0,\n            height: settings.height || 0,\n            scaleResolutionDownBy: 1,\n            maxBitrate: preferences?.maxBitrate ?? defaultMaxBitrate,\n            maxFramerate: preferences?.maxFramerate ?? 30\n        }\n    ];\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return \"screenShareStream\";\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return \"screenShareAudioStream\";\n        case TrackType.VIDEO:\n            return \"videoStream\";\n        case TrackType.AUDIO:\n            return \"audioStream\";\n        case TrackType.UNSPECIFIED:\n            throw new Error(\"Track type is unspecified\");\n        default:\n            const exhaustiveTrackTypeCheck = trackType;\n            throw new Error(`Unknown track type: ${exhaustiveTrackTypeCheck}`);\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case \"audio\":\n            return TrackType.AUDIO;\n        case \"video\":\n            return TrackType.VIDEO;\n        case \"screenshare\":\n            return TrackType.SCREEN_SHARE;\n        case \"screenshare_audio\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            const exhaustiveMuteTypeCheck = muteType;\n            throw new Error(`Unknown mute type: ${exhaustiveMuteTypeCheck}`);\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nasync function settled(tag) {\n    await pendingPromises.get(tag)?.promise;\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve(\"canceled\");\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === \"function\";\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n */ const createSubscription = (observable, handler)=>{\n    const subscription = observable.subscribe(handler);\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    const subscription = observable.subscribe((value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue\n});\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)), role(\"admin\", \"host\", \"speaker\"));\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: \"\"\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.logger = getLogger([\n            \"CallState\"\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         *\n         * @private\n         */ this.sortParticipantsBy = defaultSortPreset;\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger(\"warn\", `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === \"function\" ? patch(participant) : patch;\n            const updatedParticipant = {\n                // FIXME OL: this is not a deep merge, we might want to revisit this\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         */ this.updateOrAddParticipant = (sessionId, participant)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        return {\n                            ...p,\n                            ...participant\n                        };\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setCurrentValue(this.backstageSubject, call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setCurrentValue(this.endedAtSubject, call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastStarted = (event)=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: true,\n                    hls: {\n                        ...egress.hls,\n                        playlist_url: event.hls_playlist_url\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            \"call.closed_caption\": undefined,\n            \"call.deleted\": undefined,\n            \"call.permission_request\": undefined,\n            \"call.recording_ready\": undefined,\n            \"call.transcription_ready\": undefined,\n            \"call.user_muted\": undefined,\n            \"connection.error\": undefined,\n            \"connection.ok\": undefined,\n            \"health.check\": undefined,\n            \"user.banned\": undefined,\n            \"user.deactivated\": undefined,\n            \"user.deleted\": undefined,\n            \"user.muted\": undefined,\n            \"user.presence.changed\": undefined,\n            \"user.reactivated\": undefined,\n            \"user.unbanned\": undefined,\n            \"user.updated\": undefined,\n            custom: undefined,\n            // events that update call state:\n            \"call.accepted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.blocked_user\": this.blockUser,\n            \"call.created\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ended\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            \"call.hls_broadcasting_failed\": this.updateFromHLSBroadcastingFailed,\n            \"call.hls_broadcasting_started\": this.updateFromHLSBroadcastStarted,\n            \"call.hls_broadcasting_stopped\": this.updateFromHLSBroadcastStopped,\n            \"call.live_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.member_added\": this.updateFromMemberAdded,\n            \"call.member_removed\": this.updateFromMemberRemoved,\n            \"call.member_updated_permission\": this.updateMembers,\n            \"call.member_updated\": this.updateMembers,\n            \"call.notification\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            \"call.permissions_updated\": this.updateOwnCapabilities,\n            \"call.reaction_new\": this.updateParticipantReaction,\n            \"call.recording_started\": ()=>this.setCurrentValue(this.recordingSubject, true),\n            \"call.recording_stopped\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.recording_failed\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.rejected\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ring\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.missed\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_ended\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_participant_count_updated\": this.updateFromSessionParticipantCountUpdate,\n            \"call.session_participant_joined\": this.updateFromSessionParticipantJoined,\n            \"call.session_participant_left\": this.updateFromSessionParticipantLeft,\n            \"call.session_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.transcription_started\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            \"call.transcription_stopped\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.transcription_failed\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.unblocked_user\": this.unblockUser,\n            \"call.updated\": (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n}\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return this.setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return this.setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    \"client-state\"\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger(\"info\", `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        reason: \"client.disconnectUser() called\"\n                    }).catch((err)=>{\n                        logger(\"error\", `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return this.getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return this.getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        /**\n         * This method allows you the get the current value of a state variable.\n         *\n         * @param observable the observable to get the current value of.\n         * @returns the current value of the observable.\n         */ this.getCurrentValue = getCurrentValue;\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\nconst getRtpMap = (line)=>{\n    // Example: a=rtpmap:110 opus/48000/2\n    const rtpRegex = /^a=rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/;\n    // The first captured group is the payload type number, the second captured group is the encoding name, the third captured group is the clock rate, and the fourth captured group is any additional parameters.\n    const rtpMatch = rtpRegex.exec(line);\n    if (rtpMatch) {\n        return {\n            original: rtpMatch[0],\n            payload: rtpMatch[1],\n            codec: rtpMatch[2]\n        };\n    }\n};\nconst getFmtp = (line)=>{\n    // Example: a=fmtp:111 minptime=10; useinbandfec=1\n    const fmtpRegex = /^a=fmtp:(\\d*) (.*)/;\n    const fmtpMatch = fmtpRegex.exec(line);\n    // The first captured group is the payload type number, the second captured group is any additional parameters.\n    if (fmtpMatch) {\n        return {\n            original: fmtpMatch[0],\n            payload: fmtpMatch[1],\n            config: fmtpMatch[2]\n        };\n    }\n};\n/**\n * gets the media section for the specified media type.\n * The media section contains the media type, port, codec, and payload type.\n * Example: m=video 9 UDP/TLS/RTP/SAVPF 100 101 96 97 35 36 102 125 127\n */ const getMedia = (line, mediaType)=>{\n    const regex = new RegExp(`(m=${mediaType} \\\\d+ [\\\\w/]+) ([\\\\d\\\\s]+)`);\n    const match = regex.exec(line);\n    if (match) {\n        return {\n            original: match[0],\n            mediaWithPorts: match[1],\n            codecOrder: match[2]\n        };\n    }\n};\nconst getMediaSection = (sdp, mediaType)=>{\n    let media;\n    const rtpMap = [];\n    const fmtp = [];\n    let isTheRequiredMediaSection = false;\n    sdp.split(/(\\r\\n|\\r|\\n)/).forEach((line)=>{\n        const isValidLine = /^([a-z])=(.*)/.test(line);\n        if (!isValidLine) return;\n        /*\n          NOTE: according to https://www.rfc-editor.org/rfc/rfc8866.pdf\n          Each media description starts with an \"m=\" line and continues to the next media description or the end of the whole session description, whichever comes first\n        */ const type = line[0];\n        if (type === \"m\") {\n            const _media = getMedia(line, mediaType);\n            isTheRequiredMediaSection = !!_media;\n            if (_media) {\n                media = _media;\n            }\n        } else if (isTheRequiredMediaSection && type === \"a\") {\n            const rtpMapLine = getRtpMap(line);\n            const fmtpLine = getFmtp(line);\n            if (rtpMapLine) {\n                rtpMap.push(rtpMapLine);\n            } else if (fmtpLine) {\n                fmtp.push(fmtpLine);\n            }\n        }\n    });\n    if (media) {\n        return {\n            media,\n            rtpMap,\n            fmtp\n        };\n    }\n};\n/**\n * Gets the fmtp line corresponding to opus\n */ const getOpusFmtp = (sdp)=>{\n    const section = getMediaSection(sdp, \"audio\");\n    const rtpMap = section?.rtpMap.find((r)=>r.codec.toLowerCase() === \"opus\");\n    const codecId = rtpMap?.payload;\n    if (codecId) {\n        return section?.fmtp.find((f)=>f.payload === codecId);\n    }\n};\n/**\n * Returns an SDP with DTX enabled or disabled.\n */ const toggleDtx = (sdp, enable)=>{\n    const opusFmtp = getOpusFmtp(sdp);\n    if (opusFmtp) {\n        const matchDtx = /usedtx=(\\d)/.exec(opusFmtp.config);\n        const requiredDtxConfig = `usedtx=${enable ? \"1\" : \"0\"}`;\n        if (matchDtx) {\n            const newFmtp = opusFmtp.original.replace(/usedtx=(\\d)/, requiredDtxConfig);\n            return sdp.replace(opusFmtp.original, newFmtp);\n        } else {\n            const newFmtp = `${opusFmtp.original};${requiredDtxConfig}`;\n            return sdp.replace(opusFmtp.original, newFmtp);\n        }\n    }\n    return sdp;\n};\n/**\n * Enables high-quality audio through SDP munging for the given trackMid.\n *\n * @param sdp the SDP to munge.\n * @param trackMid the trackMid.\n * @param maxBitrate the max bitrate to set.\n */ const enableHighQualityAudio = (sdp, trackMid, maxBitrate = 510000)=>{\n    maxBitrate = Math.max(Math.min(maxBitrate, 510000), 96000);\n    const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_2__.parse(sdp);\n    const audioMedia = parsedSdp.media.find((m)=>m.type === \"audio\" && String(m.mid) === trackMid);\n    if (!audioMedia) return sdp;\n    const opusRtp = audioMedia.rtp.find((r)=>r.codec === \"opus\");\n    if (!opusRtp) return sdp;\n    const opusFmtp = audioMedia.fmtp.find((f)=>f.payload === opusRtp.payload);\n    if (!opusFmtp) return sdp;\n    // enable stereo, if not already enabled\n    if (opusFmtp.config.match(/stereo=(\\d)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/stereo=(\\d)/, \"stereo=1\");\n    } else {\n        opusFmtp.config = `${opusFmtp.config};stereo=1`;\n    }\n    // set maxaveragebitrate, to the given value\n    if (opusFmtp.config.match(/maxaveragebitrate=(\\d*)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/maxaveragebitrate=(\\d*)/, `maxaveragebitrate=${maxBitrate}`);\n    } else {\n        opusFmtp.config = `${opusFmtp.config};maxaveragebitrate=${maxBitrate}`;\n    }\n    return sdp_transform__WEBPACK_IMPORTED_MODULE_2__.write(parsedSdp);\n};\nconst logger$3 = getLogger([\n    \"Publisher\"\n]);\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n * @internal\n */ class Publisher {\n    /**\n     * Returns the current connection configuration.\n     *\n     * @internal\n     */ get connectionConfiguration() {\n        if (this.pc.getConfiguration) return this.pc.getConfiguration();\n        return this._connectionConfiguration;\n    }\n    /**\n     * Constructs a new `Publisher` instance.\n     *\n     * @param connectionConfig the connection configuration to use.\n     * @param sfuClient the SFU client to use.\n     * @param state the call state to use.\n     * @param dispatcher the dispatcher to use.\n     * @param isDtxEnabled whether DTX is enabled.\n     * @param isRedEnabled whether RED is enabled.\n     * @param iceRestartDelay the delay in milliseconds to wait before restarting ICE once connection goes to `disconnected` state.\n     * @param onUnrecoverableError a callback to call when an unrecoverable error occurs.\n     */ constructor({ connectionConfig, sfuClient, dispatcher, state, isDtxEnabled, isRedEnabled, iceRestartDelay = 2500, onUnrecoverableError }){\n        this.transceiverRegistry = {\n            [TrackType.AUDIO]: undefined,\n            [TrackType.VIDEO]: undefined,\n            [TrackType.SCREEN_SHARE]: undefined,\n            [TrackType.SCREEN_SHARE_AUDIO]: undefined,\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.publishOptionsPerTrackType = new Map();\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         *\n         * @private\n         */ this.transceiverInitOrder = [];\n        this.trackKindMapping = {\n            [TrackType.AUDIO]: \"audio\",\n            [TrackType.VIDEO]: \"video\",\n            [TrackType.SCREEN_SHARE]: \"video\",\n            [TrackType.SCREEN_SHARE_AUDIO]: \"audio\",\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.trackLayersCache = {\n            [TrackType.AUDIO]: undefined,\n            [TrackType.VIDEO]: undefined,\n            [TrackType.SCREEN_SHARE]: undefined,\n            [TrackType.SCREEN_SHARE_AUDIO]: undefined,\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.isIceRestarting = false;\n        this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            this._connectionConfiguration = connectionConfig;\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            pc.addEventListener(\"signalingstatechange\", this.onSignalingStateChange);\n            return pc;\n        };\n        /**\n         * Closes the publisher PeerConnection and cleans up the resources.\n         */ this.close = ({ stopTracks = true } = {})=>{\n            if (stopTracks) {\n                this.stopPublishing();\n                Object.keys(this.transceiverRegistry).forEach((trackType)=>{\n                    // @ts-ignore\n                    this.transceiverRegistry[trackType] = undefined;\n                });\n                Object.keys(this.trackLayersCache).forEach((trackType)=>{\n                    // @ts-ignore\n                    this.trackLayersCache[trackType] = undefined;\n                });\n            }\n            clearTimeout(this.iceRestartTimeout);\n            this.unsubscribeOnIceRestart();\n            this.pc.removeEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            this.pc.close();\n        };\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         * @param opts the optional publish options to use.\n         */ this.publishStream = async (mediaStream, track, trackType, opts = {})=>{\n            if (track.readyState === \"ended\") {\n                throw new Error(`Can't publish a track that has ended already.`);\n            }\n            let transceiver = this.pc.getTransceivers().find((t)=>t === this.transceiverRegistry[trackType] && t.sender.track && t.sender.track?.kind === this.trackKindMapping[trackType]);\n            /**\n             * An event handler which listens for the 'ended' event on the track.\n             * Once the track has ended, it will notify the SFU and update the state.\n             */ const handleTrackEnded = async ()=>{\n                logger$3(\"info\", `Track ${TrackType[trackType]} has ended, notifying the SFU`);\n                await this.notifyTrackMuteStateChanged(mediaStream, trackType, true);\n                // clean-up, this event listener needs to run only once.\n                track.removeEventListener(\"ended\", handleTrackEnded);\n            };\n            if (!transceiver) {\n                const { settings } = this.state;\n                const targetResolution = settings?.video.target_resolution;\n                const screenShareBitrate = settings?.screensharing.target_resolution?.bitrate;\n                const videoEncodings = trackType === TrackType.VIDEO ? findOptimalVideoLayers(track, targetResolution) : trackType === TrackType.SCREEN_SHARE ? findOptimalScreenSharingLayers(track, opts.screenShareSettings, screenShareBitrate) : undefined;\n                let preferredCodec = opts.preferredCodec;\n                if (!preferredCodec && trackType === TrackType.VIDEO) {\n                    if (isReactNative()) {\n                        const osName = getOSInfo()?.name.toLowerCase();\n                        if (osName === \"ipados\") {\n                            // in ipads it was noticed that if vp8 codec is used\n                            // then the bytes sent is 0 in the outbound-rtp\n                            // so we are forcing h264 codec for ipads\n                            preferredCodec = \"H264\";\n                        } else if (osName === \"android\") {\n                            preferredCodec = \"VP8\";\n                        }\n                    }\n                }\n                const codecPreferences = this.getCodecPreferences(trackType, preferredCodec);\n                // listen for 'ended' event on the track as it might be ended abruptly\n                // by an external factor as permission revokes, device disconnected, etc.\n                // keep in mind that `track.stop()` doesn't trigger this event.\n                track.addEventListener(\"ended\", handleTrackEnded);\n                if (!track.enabled) {\n                    track.enabled = true;\n                }\n                transceiver = this.pc.addTransceiver(track, {\n                    direction: \"sendonly\",\n                    streams: trackType === TrackType.VIDEO || trackType === TrackType.SCREEN_SHARE ? [\n                        mediaStream\n                    ] : undefined,\n                    sendEncodings: videoEncodings\n                });\n                logger$3(\"debug\", `Added ${TrackType[trackType]} transceiver`);\n                this.transceiverInitOrder.push(trackType);\n                this.transceiverRegistry[trackType] = transceiver;\n                this.publishOptionsPerTrackType.set(trackType, opts);\n                if (\"setCodecPreferences\" in transceiver && codecPreferences) {\n                    logger$3(\"info\", `Setting ${TrackType[trackType]} codec preferences`, codecPreferences);\n                    try {\n                        transceiver.setCodecPreferences(codecPreferences);\n                    } catch (err) {\n                        logger$3(\"warn\", `Couldn't set codec preferences`, err);\n                    }\n                }\n            } else {\n                const previousTrack = transceiver.sender.track;\n                // don't stop the track if we are re-publishing the same track\n                if (previousTrack && previousTrack !== track) {\n                    previousTrack.stop();\n                    previousTrack.removeEventListener(\"ended\", handleTrackEnded);\n                    track.addEventListener(\"ended\", handleTrackEnded);\n                }\n                if (!track.enabled) {\n                    track.enabled = true;\n                }\n                await transceiver.sender.replaceTrack(track);\n            }\n            await this.notifyTrackMuteStateChanged(mediaStream, trackType, false);\n        };\n        /**\n         * Stops publishing the given track type to the SFU, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         * @param trackType the track type to unpublish.\n         * @param stopTrack specifies whether track should be stopped or just disabled\n         */ this.unpublishStream = async (trackType, stopTrack)=>{\n            const transceiver = this.pc.getTransceivers().find((t)=>t === this.transceiverRegistry[trackType] && t.sender.track);\n            if (transceiver && transceiver.sender.track && (stopTrack ? transceiver.sender.track.readyState === \"live\" : transceiver.sender.track.enabled)) {\n                stopTrack ? transceiver.sender.track.stop() : transceiver.sender.track.enabled = false;\n                // We don't need to notify SFU if unpublishing in response to remote soft mute\n                if (this.state.localParticipant?.publishedTracks.includes(trackType)) {\n                    await this.notifyTrackMuteStateChanged(undefined, trackType, true);\n                }\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check.\n         */ this.isPublishing = (trackType)=>{\n            const transceiverForTrackType = this.transceiverRegistry[trackType];\n            if (transceiverForTrackType && transceiverForTrackType.sender) {\n                const sender = transceiverForTrackType.sender;\n                return !!sender.track && sender.track.readyState === \"live\" && sender.track.enabled;\n            }\n            return false;\n        };\n        /**\n         * Returns true if the given track type is currently live\n         *\n         * @param trackType the track type to check.\n         */ this.isLive = (trackType)=>{\n            const transceiverForTrackType = this.transceiverRegistry[trackType];\n            if (transceiverForTrackType && transceiverForTrackType.sender) {\n                const sender = transceiverForTrackType.sender;\n                return !!sender.track && sender.track.readyState === \"live\";\n            }\n            return false;\n        };\n        this.notifyTrackMuteStateChanged = async (mediaStream, trackType, isMuted)=>{\n            await this.sfuClient.updateMuteState(trackType, isMuted);\n            const audioOrVideoOrScreenShareStream = trackTypeToParticipantStreamKey(trackType);\n            if (isMuted) {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>({\n                        publishedTracks: p.publishedTracks.filter((t)=>t !== trackType),\n                        [audioOrVideoOrScreenShareStream]: undefined\n                    }));\n            } else {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>{\n                    return {\n                        publishedTracks: p.publishedTracks.includes(trackType) ? p.publishedTracks : [\n                            ...p.publishedTracks,\n                            trackType\n                        ],\n                        [audioOrVideoOrScreenShareStream]: mediaStream\n                    };\n                });\n            }\n        };\n        /**\n         * Stops publishing all tracks and stop all tracks.\n         */ this.stopPublishing = ()=>{\n            logger$3(\"debug\", \"Stopping publishing all tracks\");\n            this.pc.getSenders().forEach((s)=>{\n                s.track?.stop();\n                if (this.pc.signalingState !== \"closed\") {\n                    this.pc.removeTrack(s);\n                }\n            });\n        };\n        this.updateVideoPublishQuality = async (enabledLayers)=>{\n            logger$3(\"info\", \"Update publish quality, requested layers by SFU:\", enabledLayers);\n            const videoSender = this.transceiverRegistry[TrackType.VIDEO]?.sender;\n            if (!videoSender) {\n                logger$3(\"warn\", \"Update publish quality, no video sender found.\");\n                return;\n            }\n            const params = videoSender.getParameters();\n            if (params.encodings.length === 0) {\n                logger$3(\"warn\", \"Update publish quality, No suitable video encoding quality found\");\n                return;\n            }\n            let changed = false;\n            let enabledRids = enabledLayers.filter((ly)=>ly.active).map((ly)=>ly.name);\n            params.encodings.forEach((enc)=>{\n                // flip 'active' flag only when necessary\n                const shouldEnable = enabledRids.includes(enc.rid);\n                if (shouldEnable !== enc.active) {\n                    enc.active = shouldEnable;\n                    changed = true;\n                }\n                if (shouldEnable) {\n                    let layer = enabledLayers.find((vls)=>vls.name === enc.rid);\n                    if (layer !== undefined) {\n                        if (layer.scaleResolutionDownBy >= 1 && layer.scaleResolutionDownBy !== enc.scaleResolutionDownBy) {\n                            logger$3(\"debug\", \"[dynascale]: setting scaleResolutionDownBy from server\", \"layer\", layer.name, \"scale-resolution-down-by\", layer.scaleResolutionDownBy);\n                            enc.scaleResolutionDownBy = layer.scaleResolutionDownBy;\n                            changed = true;\n                        }\n                        if (layer.maxBitrate > 0 && layer.maxBitrate !== enc.maxBitrate) {\n                            logger$3(\"debug\", \"[dynascale] setting max-bitrate from the server\", \"layer\", layer.name, \"max-bitrate\", layer.maxBitrate);\n                            enc.maxBitrate = layer.maxBitrate;\n                            changed = true;\n                        }\n                        if (layer.maxFramerate > 0 && layer.maxFramerate !== enc.maxFramerate) {\n                            logger$3(\"debug\", \"[dynascale]: setting maxFramerate from server\", \"layer\", layer.name, \"max-framerate\", layer.maxFramerate);\n                            enc.maxFramerate = layer.maxFramerate;\n                            changed = true;\n                        }\n                    }\n                }\n            });\n            const activeLayers = params.encodings.filter((e)=>e.active);\n            if (changed) {\n                await videoSender.setParameters(params);\n                logger$3(\"info\", `Update publish quality, enabled rids: `, activeLayers);\n            } else {\n                logger$3(\"info\", `Update publish quality, no change: `, activeLayers);\n            }\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        this.getCodecPreferences = (trackType, preferredCodec)=>{\n            if (trackType === TrackType.VIDEO) {\n                return getPreferredCodecs(\"video\", preferredCodec || \"vp8\");\n            }\n            if (trackType === TrackType.AUDIO) {\n                const defaultAudioCodec = this.isRedEnabled ? \"red\" : \"opus\";\n                const codecToRemove = !this.isRedEnabled ? \"red\" : undefined;\n                return getPreferredCodecs(\"audio\", preferredCodec ?? defaultAudioCodec, codecToRemove);\n            }\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                logger$3(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.PUBLISHER_UNSPECIFIED\n            }).catch((err)=>{\n                logger$3(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Performs a migration of this publisher instance to a new SFU.\n         *\n         * Initiates a new `iceRestart` offer/answer exchange with the new SFU.\n         *\n         * @param sfuClient the new SFU client to migrate to.\n         * @param connectionConfig the new connection configuration to use.\n         */ this.migrateTo = async (sfuClient, connectionConfig)=>{\n            this.sfuClient = sfuClient;\n            this.pc.setConfiguration(connectionConfig);\n            this._connectionConfiguration = connectionConfig;\n            const shouldRestartIce = this.pc.iceConnectionState === \"connected\";\n            if (shouldRestartIce) {\n                // negotiate only if there are tracks to publish\n                await this.negotiate({\n                    iceRestart: true\n                });\n            }\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            logger$3(\"debug\", \"Restarting ICE connection\");\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === \"have-local-offer\") {\n                logger$3(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        this.onNegotiationNeeded = ()=>{\n            this.negotiate().catch((err)=>logger$3(\"warn\", `Negotiation failed.`, err));\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            this.isIceRestarting = options?.iceRestart ?? false;\n            const offer = await this.pc.createOffer(options);\n            let sdp = this.mungeCodecs(offer.sdp);\n            if (sdp && this.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n                const transceiver = this.transceiverRegistry[TrackType.SCREEN_SHARE_AUDIO];\n                if (transceiver && transceiver.sender.track) {\n                    const mid = transceiver.mid ?? this.extractMid(sdp, transceiver.sender.track, TrackType.SCREEN_SHARE_AUDIO);\n                    sdp = enableHighQualityAudio(sdp, mid);\n                }\n            }\n            // set the munged SDP back to the offer\n            offer.sdp = sdp;\n            const trackInfos = this.getCurrentTrackInfos(offer.sdp);\n            if (trackInfos.length === 0) {\n                throw new Error(`Can't initiate negotiation without announcing any tracks`);\n            }\n            await this.pc.setLocalDescription(offer);\n            const { response } = await this.sfuClient.setPublisher({\n                sdp: offer.sdp || \"\",\n                tracks: trackInfos\n            });\n            try {\n                await this.pc.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: response.sdp\n                });\n            } catch (e) {\n                logger$3(\"error\", `setRemoteDescription error`, {\n                    sdp: response.sdp,\n                    error: e\n                });\n            }\n            this.isIceRestarting = false;\n            this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    logger$3(\"warn\", `ICE candidate error`, [\n                        e,\n                        candidate\n                    ]);\n                }\n            });\n        };\n        this.mungeCodecs = (sdp)=>{\n            if (sdp) {\n                sdp = toggleDtx(sdp, this.isDtxEnabled);\n            }\n            return sdp;\n        };\n        this.extractMid = (sdp, track, trackType)=>{\n            if (!sdp) {\n                logger$3(\"warn\", \"No SDP found. Returning empty mid\");\n                return \"\";\n            }\n            logger$3(\"debug\", `No 'mid' found for track. Trying to find it from the Offer SDP`);\n            const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_2__.parse(sdp);\n            const media = parsedSdp.media.find((m)=>{\n                return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n                (m.msid?.includes(track.id) ?? true);\n            });\n            if (typeof media?.mid === \"undefined\") {\n                logger$3(\"debug\", `No mid found in SDP for track type ${track.kind} and id ${track.id}. Attempting to find a heuristic mid`);\n                const heuristicMid = this.transceiverInitOrder.indexOf(trackType);\n                if (heuristicMid !== -1) {\n                    return String(heuristicMid);\n                }\n                logger$3(\"debug\", \"No heuristic mid found. Returning empty mid\");\n                return \"\";\n            }\n            return String(media.mid);\n        };\n        this.getCurrentTrackInfos = (sdp)=>{\n            sdp = sdp || this.pc.localDescription?.sdp;\n            const { settings } = this.state;\n            const targetResolution = settings?.video.target_resolution;\n            return this.pc.getTransceivers().filter((t)=>t.direction === \"sendonly\" && t.sender.track).map((transceiver)=>{\n                const trackType = Number(Object.keys(this.transceiverRegistry).find((key)=>this.transceiverRegistry[key] === transceiver));\n                const track = transceiver.sender.track;\n                let optimalLayers;\n                if (track.readyState === \"live\") {\n                    const publishOpts = this.publishOptionsPerTrackType.get(trackType);\n                    optimalLayers = trackType === TrackType.VIDEO ? findOptimalVideoLayers(track, targetResolution) : trackType === TrackType.SCREEN_SHARE ? findOptimalScreenSharingLayers(track, publishOpts?.screenShareSettings) : [];\n                    this.trackLayersCache[trackType] = optimalLayers;\n                } else {\n                    // we report the last known optimal layers for ended tracks\n                    optimalLayers = this.trackLayersCache[trackType] || [];\n                    logger$3(\"debug\", `Track ${TrackType[trackType]} is ended. Announcing last known optimal layers`, optimalLayers);\n                }\n                const layers = optimalLayers.map((optimalLayer)=>({\n                        rid: optimalLayer.rid || \"\",\n                        bitrate: optimalLayer.maxBitrate || 0,\n                        fps: optimalLayer.maxFramerate || 0,\n                        quality: this.ridToVideoQuality(optimalLayer.rid || \"\"),\n                        videoDimension: {\n                            width: optimalLayer.width,\n                            height: optimalLayer.height\n                        }\n                    }));\n                const isAudioTrack = [\n                    TrackType.AUDIO,\n                    TrackType.SCREEN_SHARE_AUDIO\n                ].includes(trackType);\n                const trackSettings = track.getSettings();\n                const isStereo = isAudioTrack && trackSettings.channelCount === 2;\n                return {\n                    trackId: track.id,\n                    layers: layers,\n                    trackType,\n                    mid: transceiver.mid ?? this.extractMid(sdp, track, trackType),\n                    stereo: isStereo,\n                    dtx: isAudioTrack && this.isDtxEnabled,\n                    red: isAudioTrack && this.isRedEnabled\n                };\n            });\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            logger$3(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            logger$3(\"debug\", `ICE Connection state changed to`, state);\n            const hasNetworkConnection = this.state.callingState !== CallingState.OFFLINE;\n            if (state === \"failed\") {\n                logger$3(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    logger$3(\"error\", `ICE restart error`, e);\n                    this.onUnrecoverableError?.();\n                });\n            } else if (state === \"disconnected\" && hasNetworkConnection) {\n                // when in `disconnected` state, the browser may recover automatically,\n                // hence, we delay the ICE restart\n                logger$3(\"debug\", `Scheduling ICE restart in ${this.iceRestartDelay} ms.`);\n                this.iceRestartTimeout = setTimeout(()=>{\n                    // check if the state is still `disconnected` or `failed`\n                    // as the connection may have recovered (or failed) in the meantime\n                    if (this.pc.iceConnectionState === \"disconnected\" || this.pc.iceConnectionState === \"failed\") {\n                        this.restartIce().catch((e)=>{\n                            logger$3(\"error\", `ICE restart error`, e);\n                            this.onUnrecoverableError?.();\n                        });\n                    } else {\n                        logger$3(\"debug\", `Scheduled ICE restart: connection recovered, canceled.`);\n                    }\n                }, this.iceRestartDelay);\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            logger$3(\"debug\", `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        this.onSignalingStateChange = ()=>{\n            logger$3(\"debug\", `Signaling state changed`, this.pc.signalingState);\n        };\n        this.ridToVideoQuality = (rid)=>{\n            return rid === \"q\" ? VideoQuality.LOW_UNSPECIFIED : rid === \"h\" ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n        };\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.isDtxEnabled = isDtxEnabled;\n        this.isRedEnabled = isRedEnabled;\n        this.iceRestartDelay = iceRestartDelay;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.unsubscribeOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.restartIce().catch((err)=>{\n                logger$3(\"warn\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n    }\n}\nconst logger$2 = getLogger([\n    \"Subscriber\"\n]);\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n */ class Subscriber {\n    /**\n     * Returns the current connection configuration.\n     *\n     * @internal\n     */ get connectionConfiguration() {\n        if (this.pc.getConfiguration) return this.pc.getConfiguration();\n        return this._connectionConfiguration;\n    }\n    /**\n     * Constructs a new `Subscriber` instance.\n     *\n     * @param sfuClient the SFU client to use.\n     * @param dispatcher the dispatcher to use.\n     * @param state the state of the call.\n     * @param connectionConfig the connection configuration to use.\n     * @param iceRestartDelay the delay in milliseconds to wait before restarting ICE when connection goes to `disconnected` state.\n     * @param onUnrecoverableError a callback to call when an unrecoverable error occurs.\n     */ constructor({ sfuClient, dispatcher, state, connectionConfig, iceRestartDelay = 2500, onUnrecoverableError }){\n        this.isIceRestarting = false;\n        /**\n         * Creates a new `RTCPeerConnection` instance with the given configuration.\n         *\n         * @param connectionConfig the connection configuration to use.\n         */ this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            this._connectionConfiguration = connectionConfig;\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"track\", this.handleOnTrack);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            return pc;\n        };\n        /**\n         * Closes the `RTCPeerConnection` and unsubscribes from the dispatcher.\n         */ this.close = ()=>{\n            clearTimeout(this.iceRestartTimeout);\n            this.unregisterOnSubscriberOffer();\n            this.unregisterOnIceRestart();\n            this.pc.close();\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Migrates the subscriber to a new SFU client.\n         *\n         * @param sfuClient the new SFU client to migrate to.\n         * @param connectionConfig the new connection configuration to use.\n         */ this.migrateTo = (sfuClient, connectionConfig)=>{\n            this.setSfuClient(sfuClient);\n            // when migrating, we want to keep the previous subscriber open\n            // until the new one is connected\n            const previousPC = this.pc;\n            // we keep a record of previously available video tracks\n            // so that we can monitor when they become available on the new\n            // subscriber and close the previous one.\n            const trackIdsToMigrate = new Set();\n            previousPC.getReceivers().forEach((r)=>{\n                if (r.track.kind === \"video\") {\n                    trackIdsToMigrate.add(r.track.id);\n                }\n            });\n            // set up a new subscriber peer connection, configured to connect\n            // to the new SFU node\n            const pc = this.createPeerConnection(connectionConfig);\n            let migrationTimeoutId;\n            const cleanupMigration = ()=>{\n                previousPC.close();\n                clearTimeout(migrationTimeoutId);\n            };\n            // When migrating, we want to keep track of the video tracks\n            // that are migrating to the new subscriber.\n            // Once all of them are available, we can close the previous subscriber.\n            const handleTrackMigration = (e)=>{\n                logger$2(\"debug\", `[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`);\n                trackIdsToMigrate.delete(e.track.id);\n                if (trackIdsToMigrate.size === 0) {\n                    logger$2(\"debug\", `[Migration]: Migration complete`);\n                    pc.removeEventListener(\"track\", handleTrackMigration);\n                    cleanupMigration();\n                }\n            };\n            // When migrating, we want to keep track of the connection state\n            // of the new subscriber.\n            // Once it is connected, we give it a 2-second grace period to receive\n            // all the video tracks that are migrating from the previous subscriber.\n            // After this threshold, we abruptly close the previous subscriber.\n            const handleConnectionStateChange = ()=>{\n                if (pc.connectionState === \"connected\") {\n                    migrationTimeoutId = setTimeout(()=>{\n                        pc.removeEventListener(\"track\", handleTrackMigration);\n                        cleanupMigration();\n                    }, 2000);\n                    pc.removeEventListener(\"connectionstatechange\", handleConnectionStateChange);\n                }\n            };\n            pc.addEventListener(\"track\", handleTrackMigration);\n            pc.addEventListener(\"connectionstatechange\", handleConnectionStateChange);\n            // replace the PeerConnection instance\n            this.pc = pc;\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            logger$2(\"debug\", \"Restarting ICE connection\");\n            if (this.pc.signalingState === \"have-remote-offer\") {\n                logger$2(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            if (this.pc.connectionState === \"new\") {\n                logger$2(\"debug\", `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            try {\n                this.isIceRestarting = true;\n                await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, trackType] = primaryStream.id.split(\":\");\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            logger$2(\"debug\", `[onTrack]: Got remote ${trackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            if (!participantToUpdate) {\n                logger$2(\"warn\", `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                return;\n            }\n            const trackDebugInfo = `${participantToUpdate.userId} ${trackType}:${trackId}`;\n            e.track.addEventListener(\"mute\", ()=>{\n                logger$2(\"info\", `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"unmute\", ()=>{\n                logger$2(\"info\", `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"ended\", ()=>{\n                logger$2(\"info\", `[onTrack]: Track ended: ${trackDebugInfo}`);\n            });\n            const streamKindProp = {\n                TRACK_TYPE_AUDIO: \"audioStream\",\n                TRACK_TYPE_VIDEO: \"videoStream\",\n                TRACK_TYPE_SCREEN_SHARE: \"screenShareStream\",\n                TRACK_TYPE_SCREEN_SHARE_AUDIO: \"screenShareAudioStream\"\n            }[trackType];\n            if (!streamKindProp) {\n                logger$2(\"error\", `Unknown track type: ${trackType}`);\n                return;\n            }\n            const previousStream = participantToUpdate[streamKindProp];\n            if (previousStream) {\n                logger$2(\"info\", `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                logger$2(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.SUBSCRIBER\n            }).catch((err)=>{\n                logger$2(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            logger$2(\"info\", `Received subscriberOffer`, subscriberOffer);\n            await this.pc.setRemoteDescription({\n                type: \"offer\",\n                sdp: subscriberOffer.sdp\n            });\n            this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    logger$2(\"warn\", `ICE candidate error`, [\n                        e,\n                        candidate\n                    ]);\n                }\n            });\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || \"\"\n            });\n            this.isIceRestarting = false;\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            logger$2(\"debug\", `ICE connection state changed`, state);\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            const hasNetworkConnection = this.state.callingState !== CallingState.OFFLINE;\n            if (state === \"failed\") {\n                logger$2(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    logger$2(\"error\", `ICE restart failed`, e);\n                    this.onUnrecoverableError?.();\n                });\n            } else if (state === \"disconnected\" && hasNetworkConnection) {\n                // when in `disconnected` state, the browser may recover automatically,\n                // hence, we delay the ICE restart\n                logger$2(\"debug\", `Scheduling ICE restart in ${this.iceRestartDelay} ms.`);\n                this.iceRestartTimeout = setTimeout(()=>{\n                    // check if the state is still `disconnected` or `failed`\n                    // as the connection may have recovered (or failed) in the meantime\n                    if (this.pc.iceConnectionState === \"disconnected\" || this.pc.iceConnectionState === \"failed\") {\n                        this.restartIce().catch((e)=>{\n                            logger$2(\"error\", `ICE restart failed`, e);\n                            this.onUnrecoverableError?.();\n                        });\n                    } else {\n                        logger$2(\"debug\", `Scheduled ICE restart: connection recovered, canceled.`);\n                    }\n                }, this.iceRestartDelay);\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            logger$2(\"debug\", `ICE gathering state changed`, this.pc.iceGatheringState);\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            logger$2(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.iceRestartDelay = iceRestartDelay;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.unregisterOnSubscriberOffer = dispatcher.on(\"subscriberOffer\", (subscriberOffer)=>{\n            this.negotiate(subscriberOffer).catch((err)=>{\n                logger$2(\"warn\", `Negotiation failed.`, err);\n            });\n        });\n        this.unregisterOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.SUBSCRIBER) return;\n            this.restartIce().catch((err)=>{\n                logger$2(\"warn\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const logger = getLogger([\n        \"sfu-client\"\n    ]);\n    const { endpoint, onMessage } = opts;\n    const ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_4___default())(endpoint);\n    ws.binaryType = \"arraybuffer\"; // do we need this?\n    ws.addEventListener(\"error\", (e)=>{\n        logger(\"error\", \"Signaling WS channel error\", e);\n    });\n    ws.addEventListener(\"close\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is closed\", e);\n    });\n    ws.addEventListener(\"open\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is open\", e);\n    });\n    ws.addEventListener(\"message\", (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            logger(\"error\", \"Failed to decode a message. Check whether the Proto models match.\", {\n                event: e,\n                error: err\n            });\n        }\n    });\n    return ws;\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000,\n    WS_CLOSED_ABRUPTLY: 1006,\n    WS_POLICY_VIOLATION: 1008\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    let s = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(let i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\nfunction convertErrorToJson(err) {\n    const jsonObj = {};\n    if (!err) return jsonObj;\n    try {\n        Object.getOwnPropertyNames(err).forEach((key)=>{\n            jsonObj[key] = Object.getOwnPropertyDescriptor(err, key);\n        });\n    } catch (_) {\n        return {\n            error: \"failed to serialize the error\"\n        };\n    }\n    return jsonObj;\n}\n/**\n * isOnline safely return the navigator.online value for browser env\n * if navigator is not in global object, it always return true\n */ function isOnline(logger) {\n    const nav = typeof navigator !== \"undefined\" ? navigator :  false ? 0 : undefined;\n    if (!nav) {\n        logger(\"warn\", \"isOnline failed to access window.navigator and assume browser is online\");\n        return true;\n    }\n    // RN navigator has undefined for onLine\n    if (typeof nav.onLine !== \"boolean\") {\n        return true;\n    }\n    return nav.onLine;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     *\n     * @param dispatcher the event dispatcher to use.\n     * @param sfuServer the SFU server to connect to.\n     * @param token the JWT token to use for authentication.\n     * @param sessionId the `sessionId` of the currently connected participant.\n     */ constructor({ dispatcher, sfuServer, token, sessionId }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the PeerConnections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * A flag indicating whether the client is currently migrating away\n         * from this SFU.\n         */ this.isMigratingAway = false;\n        /**\n         * A flag indicating that the client connection is broken for the current\n         * client and that a fast-reconnect with a new client should be attempted.\n         */ this.isFastReconnecting = false;\n        this.pingIntervalInMs = 10 * 1000;\n        this.unhealthyTimeoutInMs = this.pingIntervalInMs + 5 * 1000;\n        this.close = (code, reason)=>{\n            this.logger(\"debug\", `Closing SFU WS connection: ${code} - ${reason}`);\n            if (this.signalWs.readyState !== this.signalWs.CLOSED) {\n                this.signalWs.close(code, `js-client: ${reason}`);\n            }\n            this.unsubscribeIceTrickle();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n        };\n        this.updateSubscriptions = async (subscriptions)=>{\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks: subscriptions\n                }), this.logger, \"debug\");\n        };\n        this.setPublisher = async (data)=>{\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.sendAnswer = async (data)=>{\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.iceTrickle = async (data)=>{\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.iceRestart = async (data)=>{\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.updateMuteState = async (trackType, muted)=>{\n            return this.updateMuteStates({\n                muteStates: [\n                    {\n                        trackType,\n                        muted\n                    }\n                ]\n            });\n        };\n        this.updateMuteStates = async (data)=>{\n            return retryable(()=>this.rpc.updateMuteStates({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.sendStats = async (stats)=>{\n            return retryable(()=>this.rpc.sendStats({\n                    ...stats,\n                    sessionId: this.sessionId\n                }), this.logger, \"debug\");\n        };\n        this.startNoiseCancellation = async ()=>{\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.logger);\n        };\n        this.join = async (data)=>{\n            const joinRequest = JoinRequest.create({\n                ...data,\n                sessionId: this.sessionId,\n                token: this.token\n            });\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"joinRequest\",\n                    joinRequest\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            return this.signalReady.then((signal)=>{\n                if (signal.readyState !== signal.OPEN) return;\n                this.logger(\"debug\", `Sending message to: ${this.edgeName}`, SfuRequest.toJson(message));\n                signal.send(SfuRequest.toBinary(message));\n            });\n        };\n        this.keepAlive = ()=>{\n            clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = setInterval(()=>{\n                this.logger(\"trace\", \"Sending healthCheckRequest to SFU\");\n                const message = SfuRequest.create({\n                    requestPayload: {\n                        oneofKind: \"healthCheckRequest\",\n                        healthCheckRequest: {}\n                    }\n                });\n                this.send(message).catch((e)=>{\n                    this.logger(\"error\", \"Error sending healthCheckRequest to SFU\", e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.sessionId = sessionId || generateUUIDv4();\n        this.sfuServer = sfuServer;\n        this.edgeName = sfuServer.edge_name;\n        this.token = token;\n        this.logger = getLogger([\n            \"sfu-client\"\n        ]);\n        const logInterceptor = {\n            interceptUnary: (next, method, input, options)=>{\n                this.logger(\"trace\", `Calling SFU RPC method ${method.name}`, {\n                    input,\n                    options\n                });\n                return next(method, input, options);\n            }\n        };\n        this.rpc = createSignalClient({\n            baseUrl: sfuServer.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                logInterceptor\n            ]\n        });\n        // Special handling for the ICETrickle kind of events.\n        // These events might be triggered by the SFU before the initial RTC\n        // connection is established. In that case, those events (ICE candidates)\n        // need to be buffered and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on(\"iceTrickle\", (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        this.signalWs = createWebSocketSignalChannel({\n            endpoint: sfuServer.ws_endpoint,\n            onMessage: (message)=>{\n                this.lastMessageTimestamp = new Date();\n                this.scheduleConnectionCheck();\n                dispatcher.dispatch(message);\n            }\n        });\n        this.signalReady = new Promise((resolve)=>{\n            const onOpen = ()=>{\n                this.signalWs.removeEventListener(\"open\", onOpen);\n                this.keepAlive();\n                resolve(this.signalWs);\n            };\n            this.signalWs.addEventListener(\"open\", onOpen);\n        });\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is broken.\n * Usually, this means that the WS connection has been closed unexpectedly.\n * This error code is used to announce a fast-reconnect.\n */ StreamSfuClient.ERROR_CONNECTION_BROKEN = 4002; // used in fast-reconnects\nconst MAX_RETRIES = 5;\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * Between each retry, there would be a random delay in order to avoid\n * request bursts towards the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param logger a logger instance to use.\n * @param <I> the type of the request object.\n * @param <O> the type of the response object.\n */ const retryable = async (rpc, logger, level = \"error\")=>{\n    let retryAttempt = 0;\n    let rpcCallResult;\n    do {\n        // don't delay the first invocation\n        if (retryAttempt > 0) {\n            await sleep(retryInterval(retryAttempt));\n        }\n        rpcCallResult = await rpc();\n        // if the RPC call failed, log the error and retry\n        if (rpcCallResult.response.error) {\n            logger(level, `SFU RPC Error (${rpcCallResult.method.name}):`, rpcCallResult.response.error);\n        }\n        retryAttempt++;\n    }while (rpcCallResult.response.error?.shouldRetry && retryAttempt < MAX_RETRIES);\n    if (rpcCallResult.response.error) {\n        throw rpcCallResult.response.error;\n    }\n    return rpcCallResult;\n};\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger(\"warn\", \"No call session provided. Ignoring call.rejected event.\", event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger(\"info\", \"Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.\", event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger(\"info\", \"everyone rejected, leaving the call\");\n                await call.leave({\n                    reason: \"ring: everyone rejected\"\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger(\"info\", \"call creator rejected, leaving call\");\n                await call.leave({\n                    reason: \"ring: creator rejected\"\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return async function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState === CallingState.RINGING || callingState === CallingState.JOINED || callingState === CallingState.JOINING) {\n            await call.leave({\n                reason: \"call.ended event received\"\n            });\n        }\n    };\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\nconst logger$1 = getLogger([\n    \"events\"\n]);\n/**\n * An event responder which handles the `changePublishQuality` event.\n */ const watchChangePublishQuality = (dispatcher, call)=>{\n    return dispatcher.on(\"changePublishQuality\", (e)=>{\n        const { videoSenders } = e;\n        videoSenders.forEach((videoSender)=>{\n            const { layers } = videoSender;\n            call.updatePublishQuality(layers.filter((l)=>l.active));\n        });\n    });\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"connectionQualityChanged\", (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"healthCheckResponse\", (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                reason: \"live ended\"\n            }).catch((err)=>{\n                logger$1(\"error\", \"Failed to leave call after live ended\", err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (!e.error) return;\n        const { error } = e;\n        logger$1(\"error\", \"SFU reported error\", {\n            code: ErrorCode[error.code],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on(\"trackUnpublished\", async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger(\"info\", `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else {\n                    logger(\"warn\", \"Unsupported track type to soft mute\", TrackType[type]);\n                }\n                if (call.publisher?.isPublishing(type)) {\n                    await call.stopPublish(type);\n                }\n            } catch (error) {\n                logger(\"error\", \"Failed to stop publishing\", error);\n            }\n        }\n    });\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow` where\n        // the SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId, participant } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (participant) {\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: [\n                        ...p.publishedTracks,\n                        type\n                    ].filter(unique)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId, participant } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (participant) {\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\nconst unique = (v, i, arr)=>arr.indexOf(v) === i;\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"dominantSpeakerChanged\", (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"audioLevelChanged\", (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param state the call state.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, state, dispatcher)=>{\n    const eventHandlers = [\n        call.on(\"call.ended\", watchCallEnded(call)),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchChangePublishQuality(dispatcher, call),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on(\"participantJoined\", watchParticipantJoined(state)),\n        call.on(\"participantLeft\", watchParticipantLeft(state)),\n        call.on(\"participantUpdated\", watchParticipantUpdated(state)),\n        call.on(\"trackPublished\", watchTrackPublished(state)),\n        call.on(\"trackUnpublished\", watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on(\"callGrantsUpdated\", watchCallGrantsUpdated(state)),\n        call.on(\"pinsUpdated\", watchPinsUpdated(state)),\n        handleRemoteSoftMute(call)\n    ];\n    if (call.ringing) {\n        // these events are only relevant when the call is ringing\n        eventHandlers.push(registerRingingCallEventHandlers(call));\n    }\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        \"call.accepted\": watchCallAccepted(call),\n        \"call.rejected\": watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Collects all necessary information to join a call, talks to the coordinator\n * and returns the necessary information to join the call.\n *\n * @param httpClient the http client to use.\n * @param type the type of the call.\n * @param id the id of the call.\n * @param data the data for the call.\n */ const join = async (httpClient, type, id, data)=>{\n    const { call, credentials, members, own_capabilities, stats_options } = await doJoin(httpClient, type, id, data);\n    return {\n        connectionConfig: toRtcConfiguration(credentials.ice_servers),\n        sfuServer: credentials.server,\n        token: credentials.token,\n        metadata: call,\n        members,\n        ownCapabilities: own_capabilities,\n        statsOptions: stats_options\n    };\n};\nconst doJoin = async (httpClient, type, id, data)=>{\n    const location = await httpClient.getLocationHint();\n    const request = {\n        ...data,\n        location\n    };\n    return httpClient.post(`/call/${type}/${id}/join`, request);\n};\nconst toRtcConfiguration = (config)=>{\n    if (!config || config.length === 0) return undefined;\n    const rtcConfig = {\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n    return rtcConfig;\n};\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? \"stream-react\" : sdk && sdk.type === SdkType.REACT_NATIVE ? \"stream-react-native\" : \"stream-js\";\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : \"0.0.0-development\";\n};\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        \"stats\"\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === \"subscriber\" && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === \"publisher\" && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, mediaStream)=>{\n        const pc = kind === \"subscriber\" ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (let track of mediaStream.getTracks()){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                // @ts-ignore\n                trackKind: track.kind,\n                kind\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        const sessionIds = new Set(sessionIdsToTrack);\n        if (sessionIds.size > 0) {\n            for (let participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const kind = participant.isLocalParticipant ? \"publisher\" : \"subscriber\";\n                try {\n                    const mergedStream = new MediaStream([\n                        ...participant.videoStream?.getVideoTracks() || [],\n                        ...participant.audioStream?.getAudioTracks() || []\n                    ]);\n                    participantStats[participant.sessionId] = await getStatsForStream(kind, mergedStream);\n                    mergedStream.getTracks().forEach((t)=>{\n                        mergedStream.removeTrack(t);\n                    });\n                } catch (e) {\n                    logger(\"error\", `Failed to collect stats for ${kind} of ${participant.userId}`, e);\n                }\n            }\n        }\n        const [subscriberStats, publisherStats] = await Promise.all([\n            subscriber.getStats().then((report)=>transform(report, {\n                    kind: \"subscriber\",\n                    trackKind: \"video\"\n                })).then(aggregate),\n            publisher ? publisher.getStats().then((report)=>transform(report, {\n                    kind: \"publisher\",\n                    trackKind: \"video\"\n                })).then(aggregate) : getEmptyStats()\n        ]);\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack(\"subscriber\"),\n            publisher ? getRawStatsForTrack(\"publisher\") : undefined\n        ]);\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            await run().catch((e)=>{\n                logger(\"debug\", \"Failed to collect stats\", e);\n            });\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind } = opts;\n    const direction = kind === \"subscriber\" ? \"inbound-rtp\" : \"outbound-rtp\";\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === \"codec\" && s.id === rtcStreamStats.codecId); // FIXME OL: incorrect type!\n        const transport = stats.find((s)=>s.type === \"transport\" && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === \"connected\") {\n            const candidatePair = stats.find((s)=>s.type === \"candidate-pair\" && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            // @ts-ignore: available in Chrome only, TS doesn't recognize this\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: \"none\",\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || \"\");\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has(\"cpu\") && \"cpu\",\n        qualityLimitationReasons.has(\"bandwidth\") && \"bandwidth\",\n        qualityLimitationReasons.has(\"other\") && \"other\"\n    ].filter(Boolean).join(\", \");\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher }){\n        this.logger = getLogger([\n            \"SfuStatsReporter\"\n        ]);\n        this.run = async ()=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.getStats().then(flatten).then(JSON.stringify),\n                this.publisher?.getStats().then(flatten).then(JSON.stringify) ?? \"[]\"\n            ]);\n            await this.sfuClient.sendStats({\n                sdk: this.sdkName,\n                sdkVersion: this.sdkVersion,\n                webrtcVersion: this.webRTCVersion,\n                subscriberStats,\n                publisherStats\n            });\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        const webRTCInfo = getWebRTCInfo();\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // The WebRTC version if passed from the SDK, it is taken else the browser info is sent.\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || \"\"}-${browser?.version || \"\"}` || \"N/A\";\n    }\n}\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || \"\");\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Firefox\");\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Chrome\");\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari\n});\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     *\n     * @param call the call to manage.\n     */ constructor(call){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            \"DynascaleManager\"\n        ]);\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.call.state.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.call.state.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.call.state.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger(\"debug\", `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.call.updateSubscriptionsPartial(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                }, debounceType);\n            };\n            const participant$ = this.call.state.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((participant)=>participant.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = `${videoElement.clientWidth},${videoElement.clientHeight}`;\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions === currentDimensions || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                requestTrackWithDimensions(DebounceType.SLOW, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(\"publishedTracks\"), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((p)=>trackType === \"videoTrack\" ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.FAST, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(trackType === \"videoTrack\" ? \"videoStream\" : \"screenShareStream\")).subscribe((p)=>{\n                const source = trackType === \"videoTrack\" ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.call.state.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.call.state.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(trackType === \"screenShareAudioTrack\" ? \"screenShareAudioStream\" : \"audioStream\")).subscribe((p)=>{\n                const source = trackType === \"screenShareAudioTrack\" ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (audioElement.srcObject) {\n                        audioElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                        // audio output device shall be set after the audio element is played\n                        // otherwise, the browser will not pick it up, and will always\n                        // play audio through the system's default device\n                        const { selectedDevice } = this.call.speaker.state;\n                        if (selectedDevice && \"setSinkId\" in audioElement) {\n                            audioElement.setSinkId(selectedDevice);\n                        }\n                    }\n                });\n            });\n            const sinkIdSubscription = !(\"setSinkId\" in audioElement) ? null : this.call.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                if (deviceId) {\n                    audioElement.setSinkId(deviceId);\n                }\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n                this.call.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(\"audioVolume\"))\n            ]).subscribe(([volume, p])=>{\n                audioElement.volume = p.audioVolume ?? volume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n            };\n        };\n        this.call = call;\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType(\"default\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"development\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"livestream\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType(\"audio_room\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            \"permissions\"\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = (error)=>{\n                this.setState(\"granted\");\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener(\"change\", ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error(\"BrowserPermission instance possibly disposed\");\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== \"prompt\" || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === \"granted\";\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new DOMException(\"Permission was not granted previously, and prompting again is not allowed\", \"NotAllowedError\");\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                return true;\n            } catch (e) {\n                if (e instanceof DOMException && e.name === \"NotAllowedError\") {\n                    this.logger(\"info\", \"Browser permission was not granted\", {\n                        permission: this.permission\n                    });\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger(\"error\", `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_23__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten()).pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((state)=>state !== \"denied\"));\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== \"undefined\" && !!navigator.permissions?.query;\n}\nconst uninitialized = Symbol(\"uninitialized\");\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return ()=>{\n        if (value === uninitialized) {\n            value = factory();\n        }\n        return value;\n    };\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param constraints the constraints to use when requesting the devices.\n * @param kind the kind of devices to enumerate.\n */ const getDevices = (permission, kind)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_24__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === \"\");\n        if (shouldPromptForBrowserPermission) {\n            await permission.prompt({\n                throwOnNotAllowed: true\n            });\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        return devices.filter((d)=>d.kind === kind);\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === \"undefined\") return false;\n    const element = document.createElement(\"audio\");\n    return \"setSinkId\" in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: \"microphone\"\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: \"camera\"\n    }));\nconst getDeviceChangeObserver = lazy(()=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_24__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_25__.fromEvent)(navigator.mediaDevices, \"devicechange\").pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_26__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audioinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = ()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getVideoBrowserPermission(), \"videoinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n};\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = ()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audiooutput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n};\nconst getStream = async (constraints)=>{\n    return await navigator.mediaDevices.getUserMedia(constraints);\n};\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns the new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return getStream(constraints);\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get audio stream\", {\n            error: e,\n            constraints: constraints\n        });\n        throw e;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return getStream(constraints);\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get video stream\", {\n            error: e,\n            constraints: constraints\n        });\n        throw e;\n    }\n};\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n */ const getScreenShareStream = async (options)=>{\n    try {\n        return await navigator.mediaDevices.getDisplayMedia({\n            video: true,\n            audio: {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false\n            },\n            // @ts-expect-error - not present in types yet\n            systemAudio: \"include\",\n            ...options\n        });\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get screen share stream\", e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== \"undefined\" && typeof navigator.mediaDevices !== \"undefined\" ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1)) : undefined;\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n        stream.removeTrack(track);\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === \"function\") {\n        // @ts-expect-error\n        stream.release();\n    }\n};\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol(\"statusChangeConcurrencyTag\");\n        this.filterRegistrationConcurrencyTag = Symbol(\"filterRegistrationConcurrencyTag\");\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n        };\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"enabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus(\"enabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.status;\n        if (!forceStop && this.state.optimisticStatus === \"disabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"disabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === \"stop-tracks\";\n                await this.muteStream(stopTracks);\n                this.state.setStatus(\"disabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === \"enabled\" && this.state.status === \"disabled\") {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.\");\n        }\n        if (deviceId === this.state.selectedDevice) {\n            return;\n        }\n        this.state.setDevice(deviceId);\n        await this.applySettingsToStream();\n    }\n    async applySettingsToStream() {\n        if (this.state.status === \"enabled\") {\n            await this.muteStream();\n            await this.unmuteStream();\n        }\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        if (!this.state.mediaStream) return;\n        this.logger(\"debug\", `${stopTracks ? \"Stopping\" : \"Disabling\"} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream(stopTracks);\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === \"ended\");\n        if (allEnded) {\n            if (this.state.mediaStream && // @ts-expect-error release() is present in react-native-webrtc\n            typeof this.state.mediaStream.release === \"function\") {\n                // @ts-expect-error called to dispose the stream in RN\n                this.state.mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    muteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    unmuteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === \"live\") track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.muteTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger(\"debug\", \"Starting stream\");\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === \"live\")) {\n            stream = this.state.mediaStream;\n            this.unmuteTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event(\"ended\")); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener(\"ended\", handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener(\"ended\", handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger(\"warn\", \"Fitler failed to start and will be ignored\", error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            this.getTracks().forEach((track)=>{\n                track.addEventListener(\"ended\", async ()=>{\n                    await this.statusChangeSettled();\n                    if (this.state.status === \"enabled\") {\n                        this.isTrackStoppedDueToTrackEnd = true;\n                        setTimeout(()=>{\n                            this.isTrackStoppedDueToTrackEnd = false;\n                        }, 2000);\n                        await this.disable();\n                    }\n                });\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return \"audioinput\";\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return \"videoinput\";\n        }\n        return \"\";\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_30__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDeviceInList(currentDevices, deviceId);\n                const prevDevice = this.findDeviceInList(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === \"disabled\") {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Unexpected error while handling disconnected or replaced device\", err);\n            }\n        }));\n    }\n    findDeviceInList(devices, deviceId) {\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === this.mediaDeviceKind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = \"stop-tracks\", permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_31__.of)(true);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return this.getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return this.getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return this.getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        this.setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        this.setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        this.setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return this.getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(\"stop-tracks\", getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return this.getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        this.setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === \"environment\" ? \"back\" : \"front\";\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nclass CameraManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        this.state.setDirection(direction);\n        // Providing both device id and direction doesn't work, so we deselect the device\n        this.state.setDevice(undefined);\n        await this.applySettingsToStream();\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === \"front\" ? \"back\" : \"front\";\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === \"enabled\") {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger(\"warn\", \"could not apply target resolution\", error);\n            }\n        }\n        if (this.state.status === \"enabled\") {\n            const { width, height } = this.state.mediaStream.getVideoTracks()[0]?.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger(\"debug\", `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Sets the preferred codec for encoding the video.\n     *\n     * @internal internal use only, not part of the public API.\n     * @param codec the codec to use for encoding the video.\n     */ setPreferredCodec(codec) {\n        this.preferredCodec = codec;\n    }\n    getDevices() {\n        return getVideoDevices();\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction) {\n            constraints.facingMode = this.state.direction === \"front\" ? \"user\" : \"environment\";\n        }\n        return getVideoStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishVideoStream(stream, {\n            preferredCodec: this.preferredCodec\n        });\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.VIDEO, stopTracks);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return this.getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        this.setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD$1 = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD$1, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== \"closed\") {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nconst AUDIO_LEVEL_THRESHOLD = 0.2;\nclass RNSpeechDetector {\n    constructor(){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n    }\n    /**\n     * Starts the speech detection.\n     */ async start() {\n        try {\n            const audioStream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            this.pc1.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const audioTracks = audioStream.getAudioTracks();\n            // We need to mute the audio track for this temporary stream, or else you will hear yourself twice while in the call.\n            audioTracks.forEach((track)=>track.enabled = false);\n        } catch (error) {\n            console.error(\"Error connecting and negotiating between PeerConnections:\", error);\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n        }\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        this.intervalId = setInterval(async ()=>{\n            const stats = await this.pc1.getStats();\n            const report = flatten(stats);\n            // Audio levels are present inside stats of type `media-source` and of kind `audio`\n            const audioMediaSourceStats = report.find((stat)=>stat.type === \"media-source\" && stat.kind === \"audio\");\n            if (audioMediaSourceStats) {\n                const { audioLevel } = audioMediaSourceStats;\n                if (audioLevel) {\n                    if (audioLevel >= AUDIO_LEVEL_THRESHOLD) {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: true,\n                            audioLevel\n                        });\n                    } else {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: false,\n                            audioLevel: 0\n                        });\n                    }\n                }\n            }\n        }, 1000);\n        return ()=>{\n            clearInterval(this.intervalId);\n        };\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = isReactNative() ? \"disable-tracks\" : \"stop-tracks\"){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol(\"soundDetectorConcurrencyTag\");\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === \"disabled\") {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Could not enable speaking while muted\", err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.enable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error(\"Noise cancellation is not available.\");\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error(\"Noise cancellation is disabled for this call type.\");\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on(\"change\", (enabled)=>{\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n            this.noiseCancellationRegistration = registrationResult.registered;\n            this.uregisterNoiseCancellation = registrationResult.unregister;\n            await this.noiseCancellationRegistration;\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                noiseCancellation.enable();\n            }\n        } catch (e) {\n            this.logger(\"warn\", \"Failed to enable noise cancellation\", e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to disable noise cancellation\", err);\n            });\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     */ async disableNoiseCancellation() {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        await (this.uregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger(\"warn\", \"Failed to unregister noise cancellation\", err);\n        });\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === \"disabled\") {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    getDevices() {\n        return getAudioDevices();\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishAudioStream(stream);\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.AUDIO, stopTracks);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                await this.rnSpeechDetector.start();\n                const unsubscribe = this.rnSpeechDetector?.onSpeakingDetectedStateChange((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector?.stop();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return this.getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        this.setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        this.setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n        this.subscriptions.push(createSubscription(call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, true);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_31__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        return getScreenShareStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishScreenShareStream(stream, {\n            screenShareSettings: this.state.settings\n        });\n    }\n    async stopPublishStream(stopTracks) {\n        await this.call.stopPublish(TrackType.SCREEN_SHARE, stopTracks);\n        await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, stopTracks);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     *\n     * @param deviceId ignored.\n     */ async select(deviceId) {\n        throw new Error(\"This method is not supported in for Screen Share\");\n    }\n}\nclass SpeakerState {\n    constructor(){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(\"\");\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return this.getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        this.setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.state = new SpeakerState();\n        this.subscriptions = [];\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n        };\n        this.call = call;\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === \"audiooutput\");\n                if (!device) {\n                    this.select(\"\");\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        return getAudioOutputDevices();\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1\");\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1, or undefined\");\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The DynascaleManager instance.\n         */ this.dynascaleManager = new DynascaleManager(this);\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.trackSubscriptionsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject({\n            type: DebounceType.MEDIUM,\n            data: []\n        });\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 10;\n        this.isLeaving = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol(\"joinLeaveConcurrencyTag\");\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject = false, reason = \"user is leaving the call\" } = {})=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    throw new Error(\"Cannot leave call that has already been left.\");\n                }\n                if (callingState === CallingState.JOINING) {\n                    await this.assertCallJoined();\n                }\n                this.isLeaving = true;\n                if (this.ringing) {\n                    // I'm the one who started the call, so I should cancel it.\n                    const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                    if (this.isCreatedByMe && !hasOtherParticipants && callingState === CallingState.RINGING) {\n                        // Signals other users that I have cancelled my call to them\n                        // before they accepted it.\n                        await this.reject();\n                    } else if (reject && callingState === CallingState.RINGING) {\n                        // Signals other users that I have rejected the incoming call.\n                        await this.reject();\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.close();\n                this.subscriber = undefined;\n                this.publisher?.close();\n                this.publisher = undefined;\n                this.sfuClient?.close(StreamSfuClient.NORMAL_CLOSURE, reason);\n                this.sfuClient = undefined;\n                this.state.setCallingState(CallingState.LEFT);\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig();\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig();\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async (data)=>{\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                this.logger(\"warn\", \"Join method called twice, you should only call this once\");\n                throw new Error(`Illegal State: Already joined.`);\n            }\n            const isMigrating = callingState === CallingState.MIGRATING;\n            const isReconnecting = callingState === CallingState.RECONNECTING;\n            this.state.setCallingState(CallingState.JOINING);\n            this.logger(\"debug\", \"Starting join flow\");\n            if (data?.ring && !this.ringing) {\n                this.ringingSubject.next(true);\n            }\n            if (this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            let sfuServer;\n            let sfuToken;\n            let connectionConfig;\n            let statsOptions;\n            try {\n                if (this.sfuClient?.isFastReconnecting) {\n                    // use previous SFU configuration and values\n                    connectionConfig = this.publisher?.connectionConfiguration;\n                    sfuServer = this.sfuClient.sfuServer;\n                    sfuToken = this.sfuClient.token;\n                    statsOptions = this.sfuStatsReporter?.options;\n                } else {\n                    // full join flow - let the Coordinator pick a new SFU for us\n                    const call = await join(this.streamClient, this.type, this.id, data);\n                    this.state.updateFromCallResponse(call.metadata);\n                    this.state.setMembers(call.members);\n                    this.state.setOwnCapabilities(call.ownCapabilities);\n                    connectionConfig = call.connectionConfig;\n                    sfuServer = call.sfuServer;\n                    sfuToken = call.token;\n                    statsOptions = call.statsOptions;\n                }\n                if (this.streamClient._hasConnectionID()) {\n                    this.watching = true;\n                    this.clientStore.registerCall(this);\n                }\n            } catch (error) {\n                // restore the previous call state if the join-flow fails\n                this.state.setCallingState(callingState);\n                throw error;\n            }\n            const previousSfuClient = this.sfuClient;\n            const sfuClient = this.sfuClient = new StreamSfuClient({\n                dispatcher: this.dispatcher,\n                sfuServer,\n                token: sfuToken,\n                sessionId: previousSfuClient?.sessionId\n            });\n            /**\n             * A closure which hides away the re-connection logic.\n             */ const reconnect = async (strategy, reason)=>{\n                const currentState = this.state.callingState;\n                if (currentState === CallingState.MIGRATING || currentState === CallingState.RECONNECTING) {\n                    // prevent parallel reconnection attempts\n                    return;\n                }\n                this.reconnectAttempts++;\n                this.state.setCallingState(strategy === \"migrate\" ? CallingState.MIGRATING : CallingState.RECONNECTING);\n                if (strategy === \"migrate\") {\n                    this.logger(\"debug\", `[Migration]: migrating call ${this.cid} away from ${sfuServer.edge_name}`);\n                    sfuClient.isMigratingAway = true;\n                } else {\n                    this.logger(\"debug\", `[Rejoin]: ${strategy} rejoin call ${this.cid} (${this.reconnectAttempts})...`);\n                }\n                // take a snapshot of the current \"local participant\" state\n                // we'll need it for restoring the previous publishing state later\n                const localParticipant = this.state.localParticipant;\n                if (strategy === \"fast\") {\n                    sfuClient.close(StreamSfuClient.ERROR_CONNECTION_BROKEN, `attempting fast reconnect: ${reason}`);\n                } else if (strategy === \"full\") {\n                    // in migration or recovery scenarios, we don't want to\n                    // wait before attempting to reconnect to an SFU server\n                    await sleep(retryInterval(this.reconnectAttempts));\n                    // in full-reconnect, we need to dispose all Peer Connections\n                    this.subscriber?.close();\n                    this.subscriber = undefined;\n                    this.publisher?.close({\n                        stopTracks: false\n                    });\n                    this.publisher = undefined;\n                    this.statsReporter?.stop();\n                    this.statsReporter = undefined;\n                    this.sfuStatsReporter?.stop();\n                    this.sfuStatsReporter = undefined;\n                    // clean up current connection\n                    sfuClient.close(StreamSfuClient.NORMAL_CLOSURE, `attempting full reconnect: ${reason}`);\n                }\n                await this.join({\n                    ...data,\n                    ...strategy === \"migrate\" && {\n                        migrating_from: sfuServer.edge_name\n                    }\n                });\n                // clean up previous connection\n                if (strategy === \"migrate\") {\n                    sfuClient.close(StreamSfuClient.NORMAL_CLOSURE, \"attempting migration\");\n                }\n                this.logger(\"info\", `[Rejoin]: Attempt ${this.reconnectAttempts} successful!`);\n                // we shouldn't be republishing the streams if we're migrating\n                // as the underlying peer connection will take care of it as part\n                // of the ice-restart process\n                if (localParticipant && strategy === \"full\") {\n                    const { audioStream, videoStream, screenShareStream, screenShareAudioStream } = localParticipant;\n                    let screenShare;\n                    if (screenShareStream || screenShareAudioStream) {\n                        screenShare = new MediaStream();\n                        screenShareStream?.getVideoTracks().forEach((track)=>{\n                            screenShare?.addTrack(track);\n                        });\n                        screenShareAudioStream?.getAudioTracks().forEach((track)=>{\n                            screenShare?.addTrack(track);\n                        });\n                    }\n                    // restore previous publishing state\n                    if (audioStream) await this.publishAudioStream(audioStream);\n                    if (videoStream) {\n                        await this.publishVideoStream(videoStream, {\n                            preferredCodec: this.camera.preferredCodec\n                        });\n                    }\n                    if (screenShare) await this.publishScreenShareStream(screenShare);\n                    this.logger(\"info\", `[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`);\n                }\n            };\n            // reconnect if the connection was closed unexpectedly. example:\n            // - SFU crash or restart\n            // - network change\n            sfuClient.signalReady.then(()=>{\n                // register a handler for the \"goAway\" event\n                const unregisterGoAway = this.dispatcher.on(\"goAway\", (event)=>{\n                    const { reason } = event;\n                    this.logger(\"info\", `[Migration]: Going away from SFU... Reason: ${GoAwayReason[reason]}`);\n                    reconnect(\"migrate\", GoAwayReason[reason]).catch((err)=>{\n                        this.logger(\"warn\", `[Migration]: Failed to migrate to another SFU.`, err);\n                    });\n                });\n                sfuClient.signalWs.addEventListener(\"close\", (e)=>{\n                    // unregister the \"goAway\" handler, as we won't need it anymore for this connection.\n                    // the upcoming re-join will register a new handler anyway\n                    unregisterGoAway();\n                    // when the user has initiated \"call.leave()\" operation, we shouldn't\n                    // care for the WS close code and we shouldn't ever attempt to reconnect\n                    if (this.isLeaving) return;\n                    // do nothing if the connection was closed on purpose\n                    if (e.code === StreamSfuClient.NORMAL_CLOSURE) return;\n                    // do nothing if the connection was closed because of a policy violation\n                    // e.g., the user has been blocked by an admin or moderator\n                    if (e.code === KnownCodes.WS_POLICY_VIOLATION) return;\n                    // When the SFU is being shut down, it sends a goAway message.\n                    // While we migrate to another SFU, we might have the WS connection\n                    // to the old SFU closed abruptly. In this case, we don't want\n                    // to reconnect to the old SFU, but rather to the new one.\n                    const isMigratingAway = e.code === KnownCodes.WS_CLOSED_ABRUPTLY && sfuClient.isMigratingAway;\n                    const isFastReconnecting = e.code === KnownCodes.WS_CLOSED_ABRUPTLY && sfuClient.isFastReconnecting;\n                    if (isMigratingAway || isFastReconnecting) return;\n                    // do nothing if the connection was closed because of a fast reconnect\n                    if (e.code === StreamSfuClient.ERROR_CONNECTION_BROKEN) return;\n                    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n                        sfuClient.isFastReconnecting = this.reconnectAttempts === 0;\n                        const strategy = sfuClient.isFastReconnecting ? \"fast\" : \"full\";\n                        reconnect(strategy, `SFU closed the WS with code: ${e.code}`).catch((err)=>{\n                            this.logger(\"error\", `[Rejoin]: ${strategy} rejoin failed for ${this.reconnectAttempts} times. Giving up.`, err);\n                            this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                        });\n                    } else {\n                        this.logger(\"error\", \"[Rejoin]: Reconnect attempts exceeded. Giving up...\");\n                        this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                    }\n                });\n            });\n            // handlers for connection online/offline events\n            const unsubscribeOnlineEvent = this.streamClient.on(\"connection.changed\", async (e)=>{\n                if (e.type !== \"connection.changed\") return;\n                if (!e.online) return;\n                unsubscribeOnlineEvent();\n                const currentCallingState = this.state.callingState;\n                const shouldReconnect = currentCallingState === CallingState.OFFLINE || currentCallingState === CallingState.RECONNECTING_FAILED;\n                if (!shouldReconnect) return;\n                this.logger(\"info\", \"[Rejoin]: Going online...\");\n                let isFirstReconnectAttempt = true;\n                do {\n                    try {\n                        sfuClient.isFastReconnecting = isFirstReconnectAttempt;\n                        await reconnect(isFirstReconnectAttempt ? \"fast\" : \"full\", \"Network: online\");\n                        return; // break the loop if rejoin is successful\n                    } catch (err) {\n                        this.logger(\"error\", `[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`, err);\n                    }\n                    // wait for a bit before trying to reconnect again\n                    await sleep(retryInterval(this.reconnectAttempts));\n                    isFirstReconnectAttempt = false;\n                }while (this.reconnectAttempts < this.maxReconnectAttempts);\n                // if we're here, it means that we've exhausted all the reconnect attempts\n                this.logger(\"error\", `[Rejoin][Network]: Rejoin failed. Giving up.`);\n                this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n            });\n            const unsubscribeOfflineEvent = this.streamClient.on(\"connection.changed\", (e)=>{\n                if (e.type !== \"connection.changed\") return;\n                if (e.online) return;\n                unsubscribeOfflineEvent();\n                this.state.setCallingState(CallingState.OFFLINE);\n            });\n            this.leaveCallHooks.add(()=>{\n                unsubscribeOnlineEvent();\n                unsubscribeOfflineEvent();\n            });\n            if (!this.subscriber) {\n                this.subscriber = new Subscriber({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    onUnrecoverableError: ()=>{\n                        reconnect(\"full\", \"unrecoverable subscriber error\").catch((err)=>{\n                            this.logger(\"debug\", \"[Rejoin]: Rejoin failed\", err);\n                        });\n                    }\n                });\n            }\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === \"anonymous\";\n            if (!this.publisher && !isAnonymous) {\n                const audioSettings = this.state.settings?.audio;\n                const isDtxEnabled = !!audioSettings?.opus_dtx_enabled;\n                const isRedEnabled = !!audioSettings?.redundant_coding_enabled;\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    isDtxEnabled,\n                    isRedEnabled,\n                    onUnrecoverableError: ()=>{\n                        reconnect(\"full\", \"unrecoverable publisher error\").catch((err)=>{\n                            this.logger(\"debug\", \"[Rejoin]: Rejoin failed\", err);\n                        });\n                    }\n                });\n            }\n            if (!this.statsReporter) {\n                this.statsReporter = createStatsReporter({\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    state: this.state,\n                    datacenter: this.sfuClient.edgeName\n                });\n            }\n            const clientDetails = getClientDetails();\n            if (!this.sfuStatsReporter && statsOptions) {\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher\n                });\n                this.sfuStatsReporter.start();\n            }\n            try {\n                // 1. wait for the signal server to be ready before sending \"joinRequest\"\n                sfuClient.signalReady.catch((err)=>this.logger(\"error\", \"Signal ready failed\", err))// prepare a generic SDP and send it to the SFU.\n                // this is a throw-away SDP that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                .then(()=>getGenericSdp(\"recvonly\")).then((sdp)=>{\n                    const subscriptions = getCurrentValue(this.trackSubscriptionsSubject);\n                    const migration = isMigrating ? {\n                        fromSfuId: data?.migrating_from || \"\",\n                        subscriptions: subscriptions.data || [],\n                        announcedTracks: this.publisher?.getCurrentTrackInfos() || []\n                    } : undefined;\n                    return sfuClient.join({\n                        subscriberSdp: sdp || \"\",\n                        clientDetails,\n                        migration,\n                        fastReconnect: previousSfuClient?.isFastReconnecting ?? false\n                    });\n                });\n                // 2. in parallel, wait for the SFU to send us the \"joinResponse\"\n                // this will throw an error if the SFU rejects the join request or\n                // fails to respond in time\n                const { callState, reconnected } = await this.waitForJoinResponse();\n                if (isReconnecting) {\n                    this.logger(\"debug\", \"[Rejoin] fast reconnected:\", reconnected);\n                }\n                if (isMigrating) {\n                    await this.subscriber.migrateTo(sfuClient, connectionConfig);\n                    await this.publisher?.migrateTo(sfuClient, connectionConfig);\n                } else if (isReconnecting) {\n                    if (reconnected) {\n                        // update the SFU client instance on the subscriber and publisher\n                        this.subscriber.setSfuClient(sfuClient);\n                        // publisher might not be there (anonymous users)\n                        if (this.publisher) {\n                            this.publisher.setSfuClient(sfuClient);\n                            // and perform a full ICE restart on the publisher\n                            await this.publisher.restartIce();\n                        }\n                    } else if (previousSfuClient?.isFastReconnecting) {\n                        // reconnection wasn't possible, so we need to do a full rejoin\n                        return await reconnect(\"full\", \"re-attempting\").catch((err)=>{\n                            this.logger(\"error\", `[Rejoin]: Rejoin failed forced full rejoin.`, err);\n                        });\n                    }\n                }\n                const currentParticipants = callState?.participants || [];\n                const participantCount = callState?.participantCount;\n                const startedAt = callState?.startedAt ? Timestamp.toDate(callState.startedAt) : new Date();\n                const pins = callState?.pins ?? [];\n                this.state.setParticipants(()=>{\n                    const participantLookup = this.state.getParticipantLookupBySessionId();\n                    return currentParticipants.map((p)=>{\n                        // We need to preserve the local state of the participant\n                        // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                        // as it doesn't exist on the server.\n                        const existingParticipant = participantLookup[p.sessionId];\n                        return Object.assign(p, existingParticipant, {\n                            isLocalParticipant: p.sessionId === sfuClient.sessionId,\n                            viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                                videoTrack: VisibilityState.UNKNOWN,\n                                screenShareTrack: VisibilityState.UNKNOWN\n                            }\n                        });\n                    });\n                });\n                this.state.setParticipantCount(participantCount?.total || 0);\n                this.state.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n                this.state.setStartedAt(startedAt);\n                this.state.setServerSidePins(pins);\n                this.reconnectAttempts = 0; // reset the reconnect attempts counter\n                this.state.setCallingState(CallingState.JOINED);\n                try {\n                    await this.initCamera({\n                        setStatus: true\n                    });\n                    await this.initMic({\n                        setStatus: true\n                    });\n                } catch (error) {\n                    this.logger(\"warn\", \"Camera and/or mic init failed during join call\", error);\n                }\n                // 3. once we have the \"joinResponse\", and possibly reconciled the local state\n                // we schedule a fast subscription update for all remote participants\n                // that were visible before we reconnected or migrated to a new SFU.\n                const { remoteParticipants } = this.state;\n                if (remoteParticipants.length > 0) {\n                    this.updateSubscriptions(remoteParticipants, DebounceType.FAST);\n                }\n                this.logger(\"info\", `Joined call ${this.cid}`);\n            } catch (err) {\n                // join failed, try to rejoin\n                if (this.reconnectAttempts < this.maxReconnectAttempts) {\n                    this.logger(\"error\", `[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`, err);\n                    await reconnect(\"full\", \"previous attempt failed\");\n                    this.logger(\"info\", `[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);\n                } else {\n                    this.logger(\"error\", `[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`);\n                    this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                    throw new Error(\"Join failed\");\n                }\n            }\n        };\n        this.waitForJoinResponse = (timeout = 5000)=>{\n            return new Promise((resolve, reject)=>{\n                const unsubscribe = this.on(\"joinResponse\", (event)=>{\n                    clearTimeout(timeoutId);\n                    unsubscribe();\n                    resolve(event);\n                });\n                const timeoutId = setTimeout(()=>{\n                    unsubscribe();\n                    reject(new Error('Waiting for \"joinResponse\" has timed out'));\n                }, timeout);\n            });\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the previously published stream.\n         * The previous video stream will be stopped.\n         *\n         * @param videoStream the video stream to publish.\n         * @param opts the options to use when publishing the stream.\n         */ this.publishVideoStream = async (videoStream, opts = {})=>{\n            // we should wait until we get a JoinResponse from the SFU,\n            // otherwise we risk breaking the ICETrickle flow.\n            await this.assertCallJoined();\n            if (!this.publisher) {\n                this.logger(\"error\", \"Trying to publish video before join is completed\");\n                throw new Error(`Call not joined yet.`);\n            }\n            const [videoTrack] = videoStream.getVideoTracks();\n            if (!videoTrack) {\n                this.logger(\"error\", `There is no video track to publish in the stream.`);\n                return;\n            }\n            await this.publisher.publishStream(videoStream, videoTrack, TrackType.VIDEO, opts);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the audio stream that is currently being published.\n         * The previous audio stream will be stopped.\n         *\n         * @param audioStream the audio stream to publish.\n         */ this.publishAudioStream = async (audioStream)=>{\n            // we should wait until we get a JoinResponse from the SFU,\n            // otherwise we risk breaking the ICETrickle flow.\n            await this.assertCallJoined();\n            if (!this.publisher) {\n                this.logger(\"error\", \"Trying to publish audio before join is completed\");\n                throw new Error(`Call not joined yet.`);\n            }\n            const [audioTrack] = audioStream.getAudioTracks();\n            if (!audioTrack) {\n                this.logger(\"error\", `There is no audio track in the stream to publish`);\n                return;\n            }\n            await this.publisher.publishStream(audioStream, audioTrack, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         *\n         * Consecutive calls to this method will replace the previous screen-share stream.\n         * The previous screen-share stream will be stopped.\n         *\n         * @param screenShareStream the screen-share stream to publish.\n         * @param opts the options to use when publishing the stream.\n         */ this.publishScreenShareStream = async (screenShareStream, opts = {})=>{\n            // we should wait until we get a JoinResponse from the SFU,\n            // otherwise we risk breaking the ICETrickle flow.\n            await this.assertCallJoined();\n            if (!this.publisher) {\n                this.logger(\"error\", \"Trying to publish screen share before join is completed\");\n                throw new Error(`Call not joined yet.`);\n            }\n            const [screenShareTrack] = screenShareStream.getVideoTracks();\n            if (!screenShareTrack) {\n                this.logger(\"error\", `There is no video track in the screen share stream to publish`);\n                return;\n            }\n            await this.publisher.publishStream(screenShareStream, screenShareTrack, TrackType.SCREEN_SHARE, opts);\n            const [screenShareAudioTrack] = screenShareStream.getAudioTracks();\n            if (screenShareAudioTrack) {\n                await this.publisher.publishStream(screenShareStream, screenShareAudioTrack, TrackType.SCREEN_SHARE_AUDIO, opts);\n            }\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         *\n         * @param trackType the track type to stop publishing.\n         * @param stopTrack if `true` the track will be stopped, else it will be just disabled\n         */ this.stopPublish = async (trackType, stopTrack = true)=>{\n            this.logger(\"info\", `stopPublish ${TrackType[trackType]}, stop tracks: ${stopTrack}`);\n            await this.publisher?.unpublishStream(trackType, stopTrack);\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify start of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify stop of noise cancellation\", err);\n            });\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         * @param type the debounce type to use for the update.\n         */ this.updateSubscriptionsPartial = (trackType, changes, type = DebounceType.SLOW)=>{\n            if (trackType === \"video\") {\n                this.logger(\"warn\", `updateSubscriptionsPartial: ${trackType} is deprecated. Please switch to 'videoTrack'`);\n                trackType = \"videoTrack\";\n            } else if (trackType === \"screen\") {\n                this.logger(\"warn\", `updateSubscriptionsPartial: ${trackType} is deprecated. Please switch to 'screenShareTrack'`);\n                trackType = \"screenShareTrack\";\n            }\n            const participants = this.state.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension?.height) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                }\n                if (change.dimension?.width) {\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === \"videoTrack\" ? \"videoDimension\" : trackType === \"screenShareTrack\" ? \"screenShareDimension\" : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n            if (participants) {\n                this.updateSubscriptions(participants, type);\n            }\n        };\n        this.updateSubscriptions = (participants, type = DebounceType.SLOW)=>{\n            const subscriptions = [];\n            for (const p of participants){\n                // we don't want to subscribe to our own tracks\n                if (p.isLocalParticipant) continue;\n                // NOTE: audio tracks don't have to be requested explicitly\n                // as the SFU will implicitly subscribe us to all of them,\n                // once they become available.\n                if (p.videoDimension && hasVideo(p)) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: p.videoDimension\n                    });\n                }\n                if (p.screenShareDimension && hasScreenShare(p)) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.SCREEN_SHARE,\n                        dimension: p.screenShareDimension\n                    });\n                }\n                if (hasScreenShareAudio(p)) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.SCREEN_SHARE_AUDIO\n                    });\n                }\n            }\n            // schedule update\n            this.trackSubscriptionsSubject.next({\n                type,\n                data: subscriptions\n            });\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Updates the list of video layers to publish.\n         *\n         * @internal\n         * @param enabledLayers the list of layers to enable.\n         */ this.updatePublishQuality = async (enabledLayers)=>{\n            return this.publisher?.updateVideoPublishQuality(enabledLayers);\n        };\n        this.assertCallJoined = ()=>{\n            return new Promise((resolve)=>{\n                this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((state)=>state !== CallingState.JOINED, true), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_32__.filter)((s)=>s === CallingState.JOINED)).subscribe(()=>resolve());\n            });\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call. The call settings object contains infomration about which permissions can be requested during a call (for example a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(\", \")}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, {});\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post(\"/call/members\", {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.leaveCallHooks.add(createSubscription(this.state.settings$, (settings)=>{\n                if (!settings) return;\n                // ignore if the call is not ringing\n                if (this.state.callingState !== CallingState.RINGING) return;\n                const timeoutInMs = settings.ring.auto_cancel_timeout_ms;\n                // 0 means no auto-drop\n                if (timeoutInMs <= 0) return;\n                clearTimeout(this.dropTimeout);\n                this.dropTimeout = setTimeout(()=>{\n                    this.leave({\n                        reason: \"ring: timeout\"\n                    }).catch((err)=>{\n                        this.logger(\"error\", \"Failed to drop call\", err);\n                    });\n                }, timeoutInMs);\n            }));\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         * @returns\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            if (rating < 1 || rating > 5) {\n                throw new Error(\"Rating must be between 1 and 5\");\n            }\n            const callSessionId = this.state.session?.id;\n            if (!callSessionId) {\n                throw new Error(\"Feedback can be submitted only in the context of a call session\");\n            }\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(getClientDetails());\n            // user sessionId is not available once the call has been left\n            // until we relax the backend validation, we'll send N/A\n            const userSessionId = this.sfuClient?.sessionId ?? \"N/A\";\n            const endpoint = `${this.streamClientBasePath}/feedback/${callSessionId}`;\n            return this.streamClient.post(endpoint, {\n                rating,\n                reason,\n                user_session_id: userSessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    \"x-stream-platform-data\": platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async ()=>{\n            await this.initCamera({\n                setStatus: false\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Camera init failed\", err);\n            });\n            await this.initMic({\n                setStatus: false\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Mic init failed\", err);\n            });\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = \"audioTrack\")=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || \"https://getstream.io/random_svg/?name=x&id=x\";\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener(\"error\", handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set(\"w\", String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set(\"h\", String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener(\"error\", handleError);\n            };\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            \"Call\"\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n    }\n    async setup() {\n        await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n            if (this.initialized) {\n                return;\n            }\n            this.leaveCallHooks.add(this.on(\"all\", (event)=>{\n                // update state with the latest event data\n                this.state.updateFromEvent(event);\n            }));\n            this.leaveCallHooks.add(registerEventHandlers(this, this.state, this.dispatcher));\n            this.registerEffects();\n            this.leaveCallHooks.add(createSubscription(this.trackSubscriptionsSubject.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_33__.debounce)((v)=>(0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_34__.timer)(v.type)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounce_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_filter_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((v)=>v.data)), (subscriptions)=>this.sfuClient?.updateSubscriptions(subscriptions).catch((err)=>{\n                    this.logger(\"debug\", `Failed to update track subscriptions`, err);\n                })));\n            if (this.state.callingState === CallingState.LEFT) {\n                this.state.setCallingState(CallingState.IDLE);\n            }\n            this.initialized = true;\n        });\n    }\n    registerEffects() {\n        this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n        createSubscription(this.state.settings$, (settings)=>{\n            if (!settings) return;\n            this.permissionsContext.setCallSettings(settings);\n        }));\n        this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n        createSubscription(this.state.ownCapabilities$, (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (!hasPermission && (this.publisher.isPublishing(trackType) || this.publisher.isLive(trackType))) {\n                    // Stop tracks, then notify device manager\n                    this.stopPublish(trackType).catch((err)=>{\n                        this.logger(\"error\", `Error stopping publish ${trackType}`, err);\n                    }).then(()=>{\n                        if (trackType === TrackType.VIDEO && this.camera.state.status === \"enabled\") {\n                            this.camera.disable().catch((err)=>this.logger(\"error\", `Error disabling camera after permission revoked`, err));\n                        }\n                        if (trackType === TrackType.AUDIO && this.microphone.state.status === \"enabled\") {\n                            this.microphone.disable().catch((err)=>this.logger(\"error\", `Error disabling microphone after permission revoked`, err));\n                        }\n                    });\n                }\n            }\n        }));\n        this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n        createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n            if (!blockedUserIds || blockedUserIds.length === 0) return;\n            const currentUserId = this.currentUserId;\n            if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                this.logger(\"info\", \"Leaving call because of being blocked\");\n                await this.leave({\n                    reason: \"user blocked\"\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Error leaving call after being blocked\", err);\n                });\n            }\n        }));\n        this.leaveCallHooks.add(// watch for auto drop cancellation\n        createSubscription(this.state.callingState$, (callingState)=>{\n            if (!this.ringing) return;\n            if (callingState === CallingState.JOINED || callingState === CallingState.JOINING || callingState === CallingState.LEFT) {\n                clearTimeout(this.dropTimeout);\n                this.dropTimeout = undefined;\n            }\n        }));\n        this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n        createSubscription(this.ringingSubject, (isRinging)=>{\n            if (!isRinging) return;\n            const callSession = this.state.session;\n            const receiver_id = this.clientStore.connectedUser?.id;\n            const ended_at = callSession?.ended_at;\n            const created_by_id = this.state.createdBy?.id;\n            const rejected_by = callSession?.rejected_by;\n            const accepted_by = callSession?.accepted_by;\n            let leaveCallIdle = false;\n            if (ended_at) {\n                // call was ended before it was accepted or rejected so we should leave it to idle\n                leaveCallIdle = true;\n            } else if (created_by_id && rejected_by) {\n                if (rejected_by[created_by_id]) {\n                    // call was cancelled by the caller\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && rejected_by) {\n                if (rejected_by[receiver_id]) {\n                    // call was rejected by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && accepted_by) {\n                if (accepted_by[receiver_id]) {\n                    // call was accepted by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            }\n            if (leaveCallIdle) {\n                if (this.state.callingState !== CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n            } else {\n                if (this.state.callingState === CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.RINGING);\n                }\n                this.scheduleAutoDrop();\n                this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n            }\n        }));\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n    async initCamera(options) {\n        // Wait for any in progress camera operation\n        await this.camera.statusChangeSettled();\n        if (this.state.localParticipant?.videoStream || !this.permissionsContext.hasPermission(\"send-video\")) {\n            return;\n        }\n        // Set camera direction if it's not yet set\n        if (!this.camera.state.direction && !this.camera.state.selectedDevice) {\n            let defaultDirection = \"front\";\n            const backendSetting = this.state.settings?.video.camera_facing;\n            if (backendSetting) {\n                defaultDirection = backendSetting === \"front\" ? \"front\" : \"back\";\n            }\n            this.camera.state.setDirection(defaultDirection);\n        }\n        // Set target resolution\n        const targetResolution = this.state.settings?.video.target_resolution;\n        if (targetResolution) {\n            await this.camera.selectTargetResolution(targetResolution);\n        }\n        if (options.setStatus) {\n            // Publish already that was set before we joined\n            if (this.camera.state.status === \"enabled\" && this.camera.state.mediaStream && !this.publisher?.isPublishing(TrackType.VIDEO)) {\n                await this.publishVideoStream(this.camera.state.mediaStream, {\n                    preferredCodec: this.camera.preferredCodec\n                });\n            }\n            // Start camera if backend config specifies, and there is no local setting\n            if (this.camera.state.status === undefined && this.state.settings?.video.camera_default_on) {\n                await this.camera.enable();\n            }\n        }\n    }\n    async initMic(options) {\n        // Wait for any in progress mic operation\n        await this.microphone.statusChangeSettled();\n        if (this.state.localParticipant?.audioStream || !this.permissionsContext.hasPermission(\"send-audio\")) {\n            return;\n        }\n        if (options.setStatus) {\n            // Publish media stream that was set before we joined\n            if (this.microphone.state.status === \"enabled\" && this.microphone.state.mediaStream && !this.publisher?.isPublishing(TrackType.AUDIO)) {\n                await this.publishAudioStream(this.microphone.state.mediaStream);\n            }\n            // Start mic if backend config specifies, and there is no local setting\n            if (this.microphone.state.status === undefined && this.state.settings?.audio.mic_default_on) {\n                await this.microphone.enable();\n            }\n        }\n    }\n}\nclass InsightMetrics {\n    constructor(){\n        this.connectionStartTimestamp = null;\n        this.wsTotalFailures = 0;\n        this.wsConsecutiveFailures = 0;\n        this.instanceClientId = randomId();\n    }\n}\n/**\n * postInsights is not supposed to be used by end users directly within chat application, and thus is kept isolated\n * from all the client/connection code/logic.\n *\n * @param insightType\n * @param insights\n */ const postInsights = async (insightType, insights)=>{\n    const maxAttempts = 3;\n    for(let i = 0; i < maxAttempts; i++){\n        try {\n            await axios__WEBPACK_IMPORTED_MODULE_35__[\"default\"].post(`https://chat-insights.getstream.io/insights/${insightType}`, insights);\n        } catch (e) {\n            await sleep((i + 1) * 3000);\n            continue;\n        }\n        break;\n    }\n};\nfunction buildWsFatalInsight(connection, event) {\n    return {\n        ...event,\n        ...buildWsBaseInsight(connection)\n    };\n}\nfunction buildWsBaseInsight(connection) {\n    const { client } = connection;\n    return {\n        ready_state: connection.ws?.readyState,\n        url: connection._buildUrl(),\n        api_key: client.key,\n        start_ts: client.insightMetrics.connectionStartTimestamp,\n        end_ts: new Date().getTime(),\n        auth_type: client.getAuthType(),\n        token: client.tokenManager.token,\n        user_id: client.userID,\n        user_details: client._user,\n        // device: client.options.device,\n        device: \"browser\",\n        client_id: connection.connectionID,\n        ws_details: connection.ws,\n        ws_consecutive_failures: client.insightMetrics.wsConsecutiveFailures,\n        ws_total_failures: client.insightMetrics.wsTotalFailures,\n        request_id: connection.requestID,\n        online: typeof navigator !== \"undefined\" ? navigator?.onLine : null,\n        user_agent: typeof navigator !== \"undefined\" ? navigator?.userAgent : null,\n        instance_client_id: client.insightMetrics.instanceClientId\n    };\n}\nfunction buildWsSuccessAfterFailureInsight(connection) {\n    return buildWsBaseInsight(connection);\n}\n// Type guards to check WebSocket error type\nconst isCloseEvent = (res)=>res.code !== undefined;\nconst isErrorEvent = (res)=>res.error !== undefined;\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = \"info\")=>{\n            this.client.logger(level, \"connection:\" + msg, {\n                ...extra\n            });\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            // const qs = encodeURIComponent(this.client._buildWSPayload(this.requestID));\n            // params.set('json', qs);\n            params.set(\"api_key\", this.client.key);\n            params.set(\"stream-auth-type\", this.client.getAuthType());\n            params.set(\"X-Stream-Client\", this.client.getUserAgent());\n            // params.append('authorization', this.client._getToken()!);\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                this._log(\"onlineStatusChanged() - Status changing to offline\");\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger(\"error\", `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger(\"error\", `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = {\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            };\n            this.authenticationSent = true;\n            this.ws?.send(JSON.stringify(authMessage));\n            this._log(\"onopen() - onopen callback\", {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onmessage() - onmessage callback\", {\n                event,\n                wsID\n            });\n            const data = typeof event.data === \"string\" ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isResolved && data && data.type === \"connection.error\") {\n                this.isResolved = true;\n                if (data.error) {\n                    // @ts-expect-error - the types of _errorFromWSEvent are incorrect\n                    this.rejectPromise?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === \"health.check\" || data.type === \"connection.ok\")) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === \"connection.ok\") {\n                this.resolvePromise?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === \"connection.error\" && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onclose() - onclose callback - \" + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                error.reason = event.reason;\n                error.code = event.code;\n                error.wasClean = event.wasClean;\n                error.target = event.target;\n                this.rejectPromise?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectPromise?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this.rejectPromise?.(this._errorFromWSEvent(event));\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         *\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         *\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                statusCode = \"unknown\";\n                message = event.reason;\n            }\n            if (isErrorEvent(event)) {\n                code = event.error.code;\n                statusCode = event.error.StatusCode;\n                message = event.error.message;\n            }\n            // Keeping this `warn` level log, to avoid cluttering of error logs from ws failures.\n            this._log(`_errorFromWSEvent() - WS failed with code ${code}`, {\n                event\n            }, \"warn\");\n            const error = new Error(`WS failed with code ${code} and reason - ${message}`);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpen = new Promise((resolve, reject)=>{\n                this.resolvePromise = resolve;\n                this.rejectPromise = reject;\n            });\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            if (this.healthCheckTimeoutRef) {\n                clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: \"health.check\",\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch (e) {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            if (this.connectionCheckTimeoutRef) {\n                clearTimeout(this.connectionCheckTimeoutRef);\n            }\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** True after the auth payload is sent to the server */ this.authenticationSent = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-ignore\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-ignore\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-ignore\n                        code: error.code,\n                        // @ts-ignore\n                        StatusCode: error.StatusCode,\n                        // @ts-ignore\n                        message: error.message,\n                        // @ts-ignore\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: \"\",\n                    StatusCode: \"\",\n                    message: \"initial WS connection could not be established\",\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        // remove ws handlers...\n        if (this.ws && this.ws.removeAllListeners) {\n            this.ws.removeAllListeners();\n        }\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? \"with\" : \"without\"} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting || this.isDisconnected && this.client.options.enableWSFallback) return; // simply ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        this.requestID = randomId();\n        this.client.insightMetrics.connectionStartTimestamp = new Date().getTime();\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch (e) {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`, {\n                wsURL,\n                requestID: this.requestID\n            });\n            this.ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_4___default())(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                if (this.client.insightMetrics.wsConsecutiveFailures > 0 && this.client.options.enableInsights) {\n                    postInsights(\"ws_success_after_failure\", buildWsSuccessAfterFailureInsight(this));\n                    this.client.insightMetrics.wsConsecutiveFailures = 0;\n                }\n                return response;\n            }\n        } catch (err) {\n            this.isConnecting = false;\n            // @ts-ignore\n            this._log(`_connect() - Error - `, err);\n            if (this.client.options.enableInsights) {\n                this.client.insightMetrics.wsConsecutiveFailures++;\n                this.client.insightMetrics.wsTotalFailures++;\n                const insights = buildWsFatalInsight(this, convertErrorToJson(err));\n                postInsights?.(\"ws_fatal\", insights);\n            }\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log(\"_reconnect() - Initiating the reconnect\");\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n            return;\n        }\n        if (this.isDisconnected && this.client.options.enableWSFallback) {\n            this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n            return;\n        }\n        this._log(\"_reconnect() - Destroying current WS connection\");\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log(\"_reconnect() - Waiting for recoverCallBack\");\n            // await this.client.recoverState();\n            this._log(\"_reconnect() - Finished recoverCallBack\");\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                this._reconnect();\n            }\n        }\n        this._log(\"_reconnect() - == END ==\");\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.removeAllListeners();\n            this?.ws?.close();\n        } catch (e) {\n        // we don't care\n        }\n    }\n}\nfunction isString(arrayOrString) {\n    return typeof arrayOrString === \"string\";\n}\nfunction isMapStringCallback(arrayOrString, callback) {\n    return !!callback && isString(arrayOrString);\n}\nfunction map(arrayOrString, callback) {\n    const res = [];\n    if (isString(arrayOrString) && isMapStringCallback(arrayOrString, callback)) {\n        for(let k = 0, len = arrayOrString.length; k < len; k++){\n            if (arrayOrString.charAt(k)) {\n                const kValue = arrayOrString.charAt(k);\n                const mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    } else if (!isString(arrayOrString) && !isMapStringCallback(arrayOrString, callback)) {\n        for(let k = 0, len = arrayOrString.length; k < len; k++){\n            if (k in arrayOrString) {\n                const kValue = arrayOrString[k];\n                const mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    }\n    return res;\n}\nconst encodeBase64 = (data)=>(0,base64_js__WEBPACK_IMPORTED_MODULE_6__.fromByteArray)(new Uint8Array(map(data, (char)=>char.charCodeAt(0))));\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = \"\";\n    const A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\n/**\n *\n * @param {string} userId the id of the user\n * @return {string}\n */ function DevToken(userId) {\n    return [\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\",\n        encodeBase64(JSON.stringify({\n            user_id: userId\n        })),\n        \"devtoken\"\n    ].join(\".\");\n}\nfunction UserFromToken(token) {\n    const fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    /**\n     * Constructor\n     *\n     * @param {Secret} secret\n     */ constructor(secret){\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.validateToken(tokenOrProvider, user, isAnonymous);\n            this.user = user;\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = \"provider\";\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                this.token = tokenOrProvider;\n                this.type = \"static\";\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider, user, isAnonymous)=>{\n            // allow empty token for anon user\n            if (user && isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error(\"UserWithId token can not be empty\");\n            }\n            if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n                throw new Error(\"user token should either be a string or a function\");\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                // Allow empty token for anonymous users\n                if (isAnonymous && tokenOrProvider === \"\") return;\n                const tokenUserId = UserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || !isAnonymous && tokenUserId !== user.id)) {\n                    throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            // eslint-disable-next-line no-async-promise-executor\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === \"static\") {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== \"string\") {\n                    try {\n                        this.token = await this.tokenProvider();\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === \"static\";\n        this.loadTokenPromise = null;\n        if (secret) {\n            this.secret = secret;\n        }\n        this.type = \"static\";\n    }\n}\nconst APIErrorCodes = {\n    \"-1\": {\n        name: \"InternalSystemError\",\n        retryable: true\n    },\n    \"2\": {\n        name: \"AccessKeyError\",\n        retryable: false\n    },\n    \"3\": {\n        name: \"AuthenticationFailedError\",\n        retryable: true\n    },\n    \"4\": {\n        name: \"InputError\",\n        retryable: false\n    },\n    \"6\": {\n        name: \"DuplicateUsernameError\",\n        retryable: false\n    },\n    \"9\": {\n        name: \"RateLimitError\",\n        retryable: true\n    },\n    \"16\": {\n        name: \"DoesNotExistError\",\n        retryable: false\n    },\n    \"17\": {\n        name: \"NotAllowedError\",\n        retryable: false\n    },\n    \"18\": {\n        name: \"EventNotSupportedError\",\n        retryable: false\n    },\n    \"19\": {\n        name: \"ChannelFeatureNotSupportedError\",\n        retryable: false\n    },\n    \"20\": {\n        name: \"MessageTooLongError\",\n        retryable: false\n    },\n    \"21\": {\n        name: \"MultipleNestingLevelError\",\n        retryable: false\n    },\n    \"22\": {\n        name: \"PayloadTooBigError\",\n        retryable: false\n    },\n    \"23\": {\n        name: \"RequestTimeoutError\",\n        retryable: true\n    },\n    \"24\": {\n        name: \"MaxHeaderSizeExceededError\",\n        retryable: false\n    },\n    \"40\": {\n        name: \"AuthErrorTokenExpired\",\n        retryable: false\n    },\n    \"41\": {\n        name: \"AuthErrorTokenNotValidYet\",\n        retryable: false\n    },\n    \"42\": {\n        name: \"AuthErrorTokenUsedBeforeIssuedAt\",\n        retryable: false\n    },\n    \"43\": {\n        name: \"AuthErrorTokenSignatureInvalid\",\n        retryable: false\n    },\n    \"44\": {\n        name: \"CustomCommandEndpointMissingError\",\n        retryable: false\n    },\n    \"45\": {\n        name: \"CustomCommandEndpointCallError\",\n        retryable: true\n    },\n    \"46\": {\n        name: \"ConnectionIDNotFoundError\",\n        retryable: false\n    },\n    \"60\": {\n        name: \"CoolDownError\",\n        retryable: true\n    },\n    \"69\": {\n        name: \"ErrWrongRegion\",\n        retryable: false\n    },\n    \"70\": {\n        name: \"ErrQueryChannelPermissions\",\n        retryable: false\n    },\n    \"71\": {\n        name: \"ErrTooManyConnections\",\n        retryable: true\n    },\n    \"99\": {\n        name: \"AppSuspendedError\",\n        retryable: false\n    }\n};\nfunction isAPIError(error) {\n    return error.code !== undefined;\n}\nfunction isErrorRetryable(error) {\n    if (!error.code) return false;\n    const err = APIErrorCodes[`${error.code}`];\n    if (!err) return false;\n    return err.retryable;\n}\nfunction isConnectionIDError(error) {\n    return error.code === 46; // ConnectionIDNotFoundError\n}\nfunction isWSFailure(err) {\n    if (typeof err.isWSFailure === \"boolean\") {\n        return err.isWSFailure;\n    }\n    try {\n        return JSON.parse(err.message).isWSFailure;\n    } catch (_) {\n        return false;\n    }\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\nvar ConnectionState;\n(function(ConnectionState) {\n    ConnectionState[\"Closed\"] = \"CLOSED\";\n    ConnectionState[\"Connected\"] = \"CONNECTED\";\n    ConnectionState[\"Connecting\"] = \"CONNECTING\";\n    ConnectionState[\"Disconnected\"] = \"DISCONNECTED\";\n    ConnectionState[\"Init\"] = \"INIT\";\n})(ConnectionState || (ConnectionState = {}));\nclass WSConnectionFallback {\n    constructor(client){\n        /** @private */ this._onlineStatusChanged = (event)=>{\n            this._log(`_onlineStatusChanged() - ${event.type}`);\n            if (event.type === \"offline\") {\n                this._setState(ConnectionState.Closed);\n                this.cancelToken?.cancel(\"disconnect() is called\");\n                this.cancelToken = undefined;\n                return;\n            }\n            if (event.type === \"online\" && this.state === ConnectionState.Closed) {\n                this.connect(true);\n            }\n        };\n        /** @private */ this._req = async (params, config, retry)=>{\n            if (!this.cancelToken && !params.close) {\n                this.cancelToken = axios__WEBPACK_IMPORTED_MODULE_35__[\"default\"].CancelToken.source();\n            }\n            try {\n                const res = await this.client.doAxiosRequest(\"get\", this.client.baseURL.replace(\":3030\", \":8900\") + \"/longpoll\", undefined, {\n                    config: {\n                        ...config,\n                        cancelToken: this.cancelToken?.token\n                    },\n                    params,\n                    publicEndpoint: true\n                });\n                this.consecutiveFailures = 0; // always reset in case of no error\n                return res;\n            } catch (err) {\n                this.consecutiveFailures += 1;\n                // @ts-ignore\n                if (retry && isErrorRetryable(err)) {\n                    this._log(`_req() - Retryable error, retrying request`);\n                    await sleep(retryInterval(this.consecutiveFailures));\n                    return this._req(params, config, retry);\n                }\n                throw err;\n            }\n        };\n        /** @private */ this._poll = async ()=>{\n            while(this.state === ConnectionState.Connected){\n                try {\n                    const data = await this._req({}, {\n                        timeout: 30000\n                    }, true); // 30s => API responds in 20s if there is no event\n                    if (data.events?.length) {\n                        for(let i = 0; i < data.events.length; i++){\n                            this.client.dispatchEvent(data.events[i]);\n                        }\n                    }\n                } catch (err) {\n                    if (axios__WEBPACK_IMPORTED_MODULE_35__[\"default\"].isCancel(err)) {\n                        this._log(`_poll() - axios canceled request`);\n                        return;\n                    }\n                    /** client.doAxiosRequest will take care of TOKEN_EXPIRED error */ // @ts-ignore\n                    if (isConnectionIDError(err)) {\n                        this._log(`_poll() - ConnectionID error, connecting without ID...`);\n                        this._setState(ConnectionState.Disconnected);\n                        this.connect(true);\n                        return;\n                    }\n                    // @ts-ignore\n                    if (isAPIError(err) && !isErrorRetryable(err)) {\n                        this._setState(ConnectionState.Closed);\n                        return;\n                    }\n                    await sleep(retryInterval(this.consecutiveFailures));\n                }\n            }\n        };\n        /**\n         * connect try to open a longpoll request\n         * @param reconnect should be false for first call and true for subsequent calls to keep the connection alive and call recoverState\n         */ this.connect = async (reconnect = false)=>{\n            if (this.state === ConnectionState.Connecting) {\n                this._log(\"connect() - connecting already in progress\", {\n                    reconnect\n                }, \"warn\");\n                return;\n            }\n            if (this.state === ConnectionState.Connected) {\n                this._log(\"connect() - already connected and polling\", {\n                    reconnect\n                }, \"warn\");\n                return;\n            }\n            this._setState(ConnectionState.Connecting);\n            this.connectionID = undefined; // connect should be sent with empty connection_id so API creates one\n            try {\n                const { event } = await this._req({\n                    json: this.client._buildWSPayload()\n                }, {\n                    timeout: 8000\n                }, reconnect);\n                this._setState(ConnectionState.Connected);\n                this.connectionID = event.connection_id;\n                this.client.resolveConnectionId?.();\n                // @ts-expect-error\n                this.client.dispatchEvent(event);\n                this._poll();\n                return event;\n            } catch (err) {\n                this._setState(ConnectionState.Closed);\n                this.client.rejectConnectionId?.();\n                throw err;\n            }\n        };\n        /**\n         * isHealthy checks if there is a connectionID and connection is in Connected state\n         */ this.isHealthy = ()=>{\n            return !!this.connectionID && this.state === ConnectionState.Connected;\n        };\n        this.disconnect = async (timeout = 2000)=>{\n            removeConnectionEventListeners(this._onlineStatusChanged);\n            this._setState(ConnectionState.Disconnected);\n            this.cancelToken?.cancel(\"disconnect() is called\");\n            this.cancelToken = undefined;\n            const connection_id = this.connectionID;\n            this.connectionID = undefined;\n            try {\n                await this._req({\n                    close: true,\n                    connection_id\n                }, {\n                    timeout\n                }, false);\n                this._log(`disconnect() - Closed connectionID`);\n            } catch (err) {\n                this._log(`disconnect() - Failed`, {\n                    err\n                }, \"error\");\n            }\n        };\n        this.client = client;\n        this.state = ConnectionState.Init;\n        this.consecutiveFailures = 0;\n        addConnectionEventListeners(this._onlineStatusChanged);\n    }\n    _log(msg, extra = {}, level = \"info\") {\n        this.client.logger(level, \"WSConnectionFallback:\" + msg, {\n            ...extra\n        });\n    }\n    _setState(state) {\n        this._log(`_setState() - ${state}`);\n        // transition from connecting => connected\n        if (this.state === ConnectionState.Connecting && state === ConnectionState.Connected) {\n            this.client.dispatchEvent({\n                type: \"connection.changed\",\n                online: true\n            });\n        }\n        if (state === ConnectionState.Closed || state === ConnectionState.Disconnected) {\n            this.client.dispatchEvent({\n                type: \"connection.changed\",\n                online: false\n            });\n        }\n        this.state = state;\n    }\n}\nconst logger = getLogger([\n    \"location\"\n]);\nconst HINT_URL = `https://hint.stream-io-video.com/`;\nconst getLocationHint = async (hintUrl = HINT_URL, timeout = 2000)=>{\n    const abortController = new AbortController();\n    const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n    try {\n        const response = await fetch(hintUrl, {\n            method: \"HEAD\",\n            signal: abortController.signal\n        });\n        const awsPop = response.headers.get(\"x-amz-cf-pop\") || \"ERR\";\n        logger(\"debug\", `Location header: ${awsPop}`);\n        return awsPop.substring(0, 3); // AMS1-P2 -> AMS\n    } catch (e) {\n        logger(\"warn\", `Failed to get location hint from ${hintUrl}`, e);\n        return \"ERR\";\n    } finally{\n        clearTimeout(timeoutId);\n    }\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.nextRequestAbortController = null;\n        this.devToken = (userID)=>{\n            return DevToken(userID);\n        };\n        this.getAuthType = ()=>{\n            return this.anonymous ? \"anonymous\" : \"jwt\";\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === \"ERR\") {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID || this.wsFallback?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} userTokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, userTokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.setUserPromise) {\n                this.logger(\"warn\", \"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                return this.setUserPromise;\n            }\n            if (this.userID) {\n                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n            }\n            if ((this._isUsingServerAuth() || this.node) && !this.options.allowServerSideConnect) {\n                this.logger(\"warn\", 'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            const setTokenPromise = this._setToken(user, userTokenOrProvider, this.anonymous);\n            this._setUser(user);\n            const wsPromise = this.openConnection();\n            this.setUserPromise = Promise.all([\n                setTokenPromise,\n                wsPromise\n            ]).then((result)=>result[1]);\n            try {\n                return await this.setUserPromise;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    this.closeConnection();\n                } else {\n                    this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setToken = (user, userTokenOrProvider, isAnonymous)=>this.tokenManager.setTokenOrProvider(userTokenOrProvider, user, isAnonymous);\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            if (this.cleaningIntervalRef != null) {\n                clearInterval(this.cleaningIntervalRef);\n                this.cleaningIntervalRef = undefined;\n            }\n            await Promise.all([\n                this.wsConnection?.disconnect(timeout),\n                this.wsFallback?.disconnect(timeout)\n            ]);\n            return Promise.resolve();\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error(\"UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n            }\n            if (this.wsConnection?.isConnecting && this.wsPromise) {\n                this.logger(\"info\", \"client:openConnection() - connection already in progress\");\n                return this.wsPromise;\n            }\n            if ((this.wsConnection?.isHealthy || this.wsFallback?.isHealthy()) && this._hasConnectionID()) {\n                this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\");\n                return Promise.resolve();\n            }\n            this.connectionIdPromise = new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            });\n            this.clientID = `${this.userID}--${randomId()}`;\n            this.wsPromise = this.connect();\n            return this.wsPromise;\n        };\n        this._normalizeDate = (before)=>{\n            if (before instanceof Date) {\n                before = before.toISOString();\n            }\n            if (before === \"\") {\n                throw new Error(\"Don't pass blank string for since, use null instead if resetting the token revoke\");\n            }\n            return before;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger(\"info\", \"client:disconnect() - Disconnecting the client\");\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            this.tokenManager.reset();\n            this.connectionIdPromise = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest(\"post\", \"/guest\", {\n                user: {\n                    ...user\n                }\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            this.connectionIdPromise = new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            });\n            this.anonymous = true;\n            await this._setToken(user, tokenOrProvider, this.anonymous);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            this.logger(\"trace\", `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            this.logger(\"trace\", `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this._logApiError = (type, url, error)=>{\n            this.logger(\"error\", `client:${type} - Error - url: ${url}`, {\n                url,\n                error\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise,\n                    this.connectionIdPromise\n                ]);\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case \"get\":\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case \"delete\":\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case \"post\":\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case \"put\":\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case \"patch\":\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case \"options\":\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error(\"Invalid request type\");\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return this.handleResponse(response);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.[\"x-client-request-id\"];\n                this.consecutiveFailures += 1;\n                if (e.response) {\n                    this._logApiError(type, url, e.response);\n                    /** connection_fallback depends on this token expiration logic */ if (e.response.data.code === KnownCodes.TOKEN_EXPIRED && !this.tokenManager.isStatic()) {\n                        if (this.consecutiveFailures > 1) {\n                            await sleep(retryInterval(this.consecutiveFailures));\n                        }\n                        await this.tokenManager.loadToken();\n                        return await this.doAxiosRequest(type, url, data, options);\n                    }\n                    return this.handleResponse(e.response);\n                } else {\n                    this._logApiError(type, url, e);\n                    // eslint-disable-next-line no-throw-literal\n                    throw e;\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest(\"get\", url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest(\"put\", url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest(\"post\", url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest(\"patch\", url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest(\"delete\", url, null, {\n                params\n            });\n        };\n        this.errorFromResponse = (response)=>{\n            let err;\n            err = new ErrorFromResponse(`Stream error HTTP code: ${response.status}`);\n            if (response.data && response.data.code) {\n                err = new Error(`Stream error code ${response.data.code}: ${response.data.message}`);\n                err.code = response.data.code;\n            }\n            err.response = response;\n            err.status = response.status;\n            return err;\n        };\n        this.handleResponse = (response)=>{\n            const data = response.data;\n            if (isErrorResponse(response)) {\n                throw this.errorFromResponse(response);\n            }\n            return data;\n        };\n        this.dispatchEvent = (event)=>{\n            if (!event.received_at) event.received_at = new Date();\n            this.logger(\"debug\", `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n            }\n            if (!this.wsBaseURL) {\n                throw Error(\"Websocket base url not set\");\n            }\n            if (!this.clientID) {\n                throw Error(\"clientID is not set\");\n            }\n            if (!this.wsConnection && (this.options.warmUp || this.options.enableInsights)) {\n                this._sayHi();\n            }\n            // The StableWSConnection handles all the reconnection logic.\n            if (this.options.wsConnection && this.node) {\n                // Intentionally avoiding adding ts generics on wsConnection in options since its only useful for unit test purpose.\n                this.options.wsConnection.setClient(this);\n                this.wsConnection = this.options.wsConnection;\n            } else {\n                this.wsConnection = new StableWSConnection(this);\n            }\n            try {\n                // if fallback is used before, continue using it instead of waiting for WS to fail\n                if (this.wsFallback) {\n                    return await this.wsFallback.connect();\n                }\n                this.logger(\"info\", \"StreamClient.connect: this.wsConnection.connect()\");\n                // if WSFallback is enabled, ws connect should timeout faster so fallback can try\n                return await this.wsConnection.connect(this.options.enableWSFallback ? this.defaultWSTimeoutWithFallback : this.defaultWSTimeout);\n            } catch (err) {\n                // run fallback only if it's WS/Network error and not a normal API error\n                // make sure browser is online before even trying the longpoll\n                if (this.options.enableWSFallback && // @ts-ignore\n                isWSFailure(err) && isOnline(this.logger)) {\n                    this.logger(\"warn\", \"client:connect() - WS failed, fallback to longpoll\");\n                    this.dispatchEvent({\n                        type: \"transport.changed\",\n                        mode: \"longpoll\"\n                    });\n                    this.wsConnection._destroyCurrentWSConnection();\n                    this.wsConnection.disconnect().then(); // close WS so no retry\n                    this.wsFallback = new WSConnectionFallback(this);\n                    return await this.wsFallback.connect();\n                }\n                throw err;\n            }\n        };\n        /**\n         * Check the connectivity with server for warmup purpose.\n         *\n         * @private\n         */ this._sayHi = ()=>{\n            const client_request_id = randomId();\n            const opts = {\n                headers: axios__WEBPACK_IMPORTED_MODULE_1__.AxiosHeaders.from({\n                    \"x-client-request-id\": client_request_id\n                })\n            };\n            this.doAxiosRequest(\"get\", this.baseURL + \"/hi\", null, opts).catch((e)=>{\n                if (this.options.enableInsights) {\n                    postInsights(\"http_hi_failed\", {\n                        api_key: this.key,\n                        err: e,\n                        client_request_id\n                    });\n                }\n            });\n        };\n        this.getUserAgent = ()=>{\n            const version = \"1.5.2\";\n            return this.userAgent || `stream-video-javascript-client-${this.node ? \"node\" : \"browser\"}-${version}`;\n        };\n        this.setUserAgent = (userAgent)=>{\n            this.userAgent = userAgent;\n        };\n        /**\n         * _isUsingServerAuth - Returns true if we're using server side auth\n         */ this._isUsingServerAuth = ()=>!!this.secret;\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            let signal = null;\n            if (this.nextRequestAbortController !== null) {\n                signal = this.nextRequestAbortController.signal;\n                this.nextRequestAbortController = null;\n            }\n            if (!options.headers?.[\"x-client-request-id\"]) {\n                options.headers = {\n                    ...options.headers,\n                    \"x-client-request-id\": randomId()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    \"stream-auth-type\": options.publicEndpoint && !this.user ? \"anonymous\" : this.getAuthType(),\n                    \"X-Stream-Client\": this.getUserAgent(),\n                    ...options.headers\n                },\n                ...signal ? {\n                    signal\n                } : {},\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        /**\n         * encode ws url payload\n         * @private\n         * @returns json string\n         */ this._buildWSPayload = (client_request_id)=>{\n            return JSON.stringify({\n                user_id: this.userID,\n                user_details: this._user,\n                client_request_id\n            });\n        };\n        /**\n         * creates an abort controller that will be used by the next HTTP Request.\n         */ this.createAbortControllerForNextRequest = ()=>{\n            return this.nextRequestAbortController = new AbortController();\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== \"undefined\"\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            warmUp: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_5___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || \"https://video.stream-io-api.com/video\");\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_RUN) {\n            this.setBaseURL(\"http://localhost:3030/video\");\n        }\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_HOST) {\n            this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`);\n        }\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_35__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromise = null;\n        this.setUserPromise = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.insightMetrics = new InsightMetrics();\n        this.defaultWSTimeoutWithFallback = 6000;\n        this.defaultWSTimeout = 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n}\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.logLevel = \"warn\";\n        this.eventHandlersToUnregister = [];\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            if (!this.streamClient.user && !this.connectionPromise) {\n                return;\n            }\n            const userId = this.streamClient.user?.id;\n            const disconnectUser = ()=>this.streamClient.disconnectUser(timeout);\n            this.disconnectionPromise = this.connectionPromise ? this.connectionPromise.then(()=>disconnectUser()) : disconnectUser();\n            this.disconnectionPromise.finally(()=>this.disconnectionPromise = undefined);\n            await this.disconnectionPromise;\n            if (userId) {\n                StreamVideoClient._instanceMap.delete(userId);\n            }\n            this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n            this.eventHandlersToUnregister = [];\n            this.writeableStateStore.setConnectedUser(undefined);\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         */ this.call = (type, id)=>{\n            return new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest(\"post\", \"/guest\", data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post(\"/calls\", data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig();\n                if (data.watch) {\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post(\"/devices\", {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get(\"/devices\", userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete(\"/devices\", {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            // if we find the call and is already ringing, we don't need to create a new call\n            // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n            let call = this.readOnlyStateStore.calls.find((c)=>c.cid === call_cid && c.ringing);\n            if (!call) {\n                // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                const [callType, callId] = call_cid.split(\":\");\n                call = new Call({\n                    streamClient: this.streamClient,\n                    type: callType,\n                    id: callId,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                await call.get();\n            }\n            return call;\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            const connectAnonymousUser = ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider);\n            this.connectionPromise = this.disconnectionPromise ? this.disconnectionPromise.then(()=>connectAnonymousUser()) : connectAnonymousUser();\n            this.connectionPromise.finally(()=>this.connectionPromise = undefined);\n            return this.connectionPromise;\n        };\n        let logger = logToConsole;\n        let logLevel = \"warn\";\n        if (typeof apiKeyOrArgs === \"string\") {\n            logLevel = opts?.logLevel || logLevel;\n            logger = opts?.logger || logger;\n        } else {\n            logLevel = apiKeyOrArgs.options?.logLevel || logLevel;\n            logger = apiKeyOrArgs.options?.logger || logger;\n        }\n        setLogger(logger, logLevel);\n        this.logger = getLogger([\n            \"client\"\n        ]);\n        if (typeof apiKeyOrArgs === \"string\") {\n            this.streamClient = new StreamClient(apiKeyOrArgs, {\n                persistUserOnConnectionFailure: true,\n                ...opts,\n                logLevel,\n                logger: this.logger\n            });\n        } else {\n            this.streamClient = new StreamClient(apiKeyOrArgs.apiKey, {\n                persistUserOnConnectionFailure: true,\n                ...apiKeyOrArgs.options,\n                logLevel,\n                logger: this.logger\n            });\n            const sdkInfo = getSdkInfo();\n            if (sdkInfo) {\n                this.streamClient.setUserAgent(this.streamClient.getUserAgent() + `-video-${SdkType[sdkInfo.type].toLowerCase()}-sdk-${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`);\n            }\n        }\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== \"string\") {\n            const user = apiKeyOrArgs.user;\n            const token = apiKeyOrArgs.token || apiKeyOrArgs.tokenProvider;\n            if (user) {\n                let id = user.id;\n                if (user.type === \"anonymous\") {\n                    id = \"!anon\";\n                }\n                if (id) {\n                    if (StreamVideoClient._instanceMap.has(apiKeyOrArgs.apiKey + id)) {\n                        this.logger(\"warn\", `A StreamVideoClient already exists for ${user.type === \"anonymous\" ? \"an anyonymous user\" : id}; Prefer using getOrCreateInstance method`);\n                    }\n                    user.id = id;\n                    StreamVideoClient._instanceMap.set(apiKeyOrArgs.apiKey + id, this);\n                }\n                this.connectUser(user, token).catch((err)=>{\n                    this.logger(\"error\", \"Failed to connect\", err);\n                });\n            }\n        }\n    }\n    static getOrCreateInstance(args) {\n        const user = args.user;\n        if (!user.id) {\n            if (args.user.type === \"anonymous\") {\n                user.id = \"!anon\";\n            } else {\n                throw new Error(\"User ID is required for a non-anonymous user\");\n            }\n        }\n        if (!args.token && !args.tokenProvider) {\n            if (args.user.type !== \"anonymous\" && args.user.type !== \"guest\") {\n                throw new Error(\"TokenProvider or token is required for a user that is not a guest or anonymous\");\n            }\n        }\n        let instance = StreamVideoClient._instanceMap.get(args.apiKey + user.id);\n        if (!instance) {\n            instance = new StreamVideoClient({\n                ...args,\n                user\n            });\n        }\n        return instance;\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n    /**\n     * Connects the given user to the client.\n     * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n     * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n     *\n     * @param user the user to connect.\n     * @param token a token or a function that returns a token.\n     */ async connectUser(user, token) {\n        if (user.type === \"anonymous\") {\n            user.id = \"!anon\";\n            return this.connectAnonymousUser(user, token);\n        }\n        let connectUser = ()=>{\n            return this.streamClient.connectUser(user, token);\n        };\n        if (user.type === \"guest\") {\n            connectUser = async ()=>{\n                return this.streamClient.connectGuestUser(user);\n            };\n        }\n        this.connectionPromise = this.disconnectionPromise ? this.disconnectionPromise.then(()=>connectUser()) : connectUser();\n        this.connectionPromise?.finally(()=>this.connectionPromise = undefined);\n        const connectUserResponse = await this.connectionPromise;\n        // connectUserResponse will be void if connectUser called twice for the same user\n        if (connectUserResponse?.me) {\n            this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n        }\n        this.eventHandlersToUnregister.push(this.on(\"connection.changed\", (event)=>{\n            if (event.online) {\n                const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                this.logger(\"info\", `Rewatching calls after connection changed ${callsToReWatch.join(\", \")}`);\n                if (callsToReWatch.length > 0) {\n                    this.queryCalls({\n                        watch: true,\n                        filter_conditions: {\n                            cid: {\n                                $in: callsToReWatch\n                            }\n                        },\n                        sort: [\n                            {\n                                field: \"cid\",\n                                direction: 1\n                            }\n                        ]\n                    }).catch((err)=>{\n                        this.logger(\"error\", \"Failed to re-watch calls\", err);\n                    });\n                }\n            }\n        }));\n        this.eventHandlersToUnregister.push(this.on(\"call.created\", (event)=>{\n            const { call, members } = event;\n            if (user.id === call.created_by.id) {\n                this.logger(\"warn\", \"Received `call.created` sent by the current user\");\n                return;\n            }\n            this.logger(\"info\", `New call created and registered: ${call.cid}`);\n            const newCall = new Call({\n                streamClient: this.streamClient,\n                type: call.type,\n                id: call.id,\n                members,\n                clientStore: this.writeableStateStore\n            });\n            newCall.state.updateFromCallResponse(call);\n            this.writeableStateStore.registerCall(newCall);\n        }));\n        this.eventHandlersToUnregister.push(this.on(\"call.ring\", async (event)=>{\n            const { call, members } = event;\n            if (user.id === call.created_by.id) {\n                this.logger(\"debug\", \"Received `call.ring` sent by the current user so ignoring the event\");\n                return;\n            }\n            // The call might already be tracked by the client,\n            // if `call.created` was received before `call.ring`.\n            // In that case, we cleanup the already tracked call.\n            const prevCall = this.writeableStateStore.findCall(call.type, call.id);\n            await prevCall?.leave({\n                reason: \"cleaning-up in call.ring\"\n            });\n            // we create a new call\n            const theCall = new Call({\n                streamClient: this.streamClient,\n                type: call.type,\n                id: call.id,\n                members,\n                clientStore: this.writeableStateStore,\n                ringing: true\n            });\n            theCall.state.updateFromCallResponse(call);\n            // we fetch the latest metadata for the call from the server\n            await theCall.get();\n            this.writeableStateStore.registerCall(theCall);\n        }));\n        return connectUserResponse;\n    }\n    /**\n     * addDevice - Adds a push device for a user.\n     *\n     * @param {string} id the device id\n     * @param {string} push_provider the push provider name (eg. apn, firebase)\n     * @param {string} push_provider_name user provided push provider name\n     * @param {string} [userID] the user id (defaults to current user)\n     */ async addVoipDevice(id, push_provider, push_provider_name, userID) {\n        return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n    }\n}\nStreamVideoClient._instanceMap = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtIQTs7Q0FFRyxHQUNVLE1BQUFBLHdDQUF3QztJQUNuREMsU0FBUztJQUNUQyxVQUFVOztBQXVEWjs7Q0FFRyxHQUNVLE1BQUFDLHlDQUF5QztJQUNwREYsU0FBUztJQUNUQyxVQUFVOztBQStEWjs7Q0FFRyxHQUNVLE1BQUFFLCtCQUErQjtJQUMxQ0MsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLGNBQWM7O0FBb2lFaEI7O0NBRUcsR0FDVSxNQUFBQyxtQ0FBbUM7SUFDOUNDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxJQUFJOztBQUtOOztDQUVHLEdBQ1UsTUFBQUMsMkNBQTJDO0lBQ3REUCxNQUFNO0lBQ05DLE9BQU87SUFDUEMsY0FBYzs7QUFLaEI7O0NBRUcsR0FDVSxNQUFBTSw2Q0FBNkM7SUFDeERSLE1BQU07SUFDTkMsT0FBTztJQUNQQyxjQUFjOztBQWtsQmhCOztDQUVHLEdBQ1UsTUFBQU8sc0NBQXNDO0lBQ2pEQyxVQUFVO0lBQ1ZDLEtBQUs7SUFDTEMsUUFBUTtJQUNSQyxRQUFROztBQXd2Q1Y7O0NBRUcsR0FDVSxNQUFBQyxvQ0FBb0M7SUFDL0NDLFdBQVc7SUFDWFgsVUFBVTtJQUNWWSxTQUFTOztBQTRDWDs7O0NBR0csR0FDVSxNQUFBQyxnQkFBZ0I7SUFDM0JDLGFBQWE7SUFDYkMscUJBQXFCO0lBQ3JCQyxhQUFhO0lBQ2JDLGlCQUFpQjtJQUNqQkMsMkJBQTJCO0lBQzNCQyxVQUFVO0lBQ1ZDLGdCQUFnQjtJQUNoQkMsV0FBVztJQUNYQyxpQkFBaUI7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QSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7QUFDRixHQWpGWUEsYUFBQUEsQ0FBQUEsWUFpRlg7QUFDRDs7Q0FFRyxHQUNILElBQVlDO0FBQVosVUFBWUEsT0FBTztJQUNqQjs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFB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T0FBTyxNQUFNLElBQUksQ0FBQ29OLFNBQVMsQ0FDekI3dUQsSUFDQTh1RCxlQUNBQyxvQkFDQXROLFFBQ0E7OztBQW5iV3dNLGtCQUFBSyxZQUFZLEdBQW1DLElBQUkzMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2dlbi9jb29yZGluYXRvci9pbmRleC50cz83Y2VhIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcy50cz83YzI3Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZ2VuL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QudHM/ZGY2NyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnRzPzJlMWMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMudHM/MmRkZSIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwudHM/Y2M5NiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzLnRzPzdjN2EiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy90eXBlcy50cz80NzlkIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQudHM/YWZlZCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3JwYy9jcmVhdGVDbGllbnQudHM/YzZhOCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2hlbHBlcnMvcGxhdGZvcm1zLnRzPzNkMzAiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9sb2dnZXIudHM/ODc0NiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3J0Yy9jb2RlY3MudHM/ZGViNSIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3J0Yy9EaXNwYXRjaGVyLnRzP2QwMWUiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9ydGMvSWNlVHJpY2tsZUJ1ZmZlci50cz9mZjZlIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvcnRjL2hlbHBlcnMvaWNlQ2FuZGlkYXRlLnRzPzExYjMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9jbGllbnQtZGV0YWlscy50cz8zNzhlIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvcnRjL3ZpZGVvTGF5ZXJzLnRzP2JiNzAiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9ydGMvaGVscGVycy90cmFja3MudHM/ZTY5OCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2hlbHBlcnMvY29uY3VycmVuY3kudHM/ZGUxZCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3N0b3JlL3J4VXRpbHMudHM/Nzk0MSIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3NvcnRpbmcvY29tcGFyYXRvci50cz84YTcyIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzLnRzPzg5ODgiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9zb3J0aW5nL3BhcnRpY2lwYW50cy50cz81ODViIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvc29ydGluZy9wcmVzZXRzLnRzP2JjNDgiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9zdG9yZS9DYWxsU3RhdGUudHM/NTdiOCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3N0b3JlL3N0YXRlU3RvcmUudHM/MDE4YSIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2hlbHBlcnMvc2RwLW11bmdpbmcudHM/ZmRjZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3J0Yy9QdWJsaXNoZXIudHM/NDBiZCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3J0Yy9TdWJzY3JpYmVyLnRzPzY4ZDMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9ydGMvc2lnbmFsLnRzP2Q3MWIiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzLnRzPzY4NjYiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9TdHJlYW1TZnVDbGllbnQudHM/NWQyMyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2V2ZW50cy9jYWxsLnRzPzc0ZjMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9ldmVudHMvY2FsbC1wZXJtaXNzaW9ucy50cz85OWYwIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZXZlbnRzL2ludGVybmFsLnRzP2FlN2IiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9ldmVudHMvbXV0ZXMudHM/MjA4ZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2V2ZW50cy9wYXJ0aWNpcGFudC50cz85ZjVjIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZXZlbnRzL3NwZWFrZXIudHM/NjYwMyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2V2ZW50cy9jYWxsRXZlbnRIYW5kbGVycy50cz8yNTliIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvcnRjL2Zsb3dzL2pvaW4udHM/ZTZhNyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL3N0YXRzL3V0aWxzLnRzPzQwN2UiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9zdGF0cy9zdGF0ZVN0b3JlU3RhdHNSZXBvcnRlci50cz9mM2EwIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvc3RhdHMvU2Z1U3RhdHNSZXBvcnRlci50cz8yMWM1Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvaGVscGVycy9WaWV3cG9ydFRyYWNrZXIudHM/Nzg0YyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2hlbHBlcnMvYnJvd3NlcnMudHM/YTg0NiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlci50cz80MTc4Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvcGVybWlzc2lvbnMvUGVybWlzc2lvbnNDb250ZXh0LnRzPzhhOGUiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9DYWxsVHlwZS50cz9hYjk3Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZGV2aWNlcy9Ccm93c2VyUGVybWlzc2lvbi50cz8xYmY3Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvaGVscGVycy9sYXp5LnRzP2EzYTQiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9kZXZpY2VzL2RldmljZXMudHM/YjQ3ZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvSW5wdXRNZWRpYURldmljZU1hbmFnZXIudHM/ZTYxMCIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZS50cz9lYTc3Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZGV2aWNlcy9DYW1lcmFNYW5hZ2VyU3RhdGUudHM/MmM2MiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvQ2FtZXJhTWFuYWdlci50cz9lOGEyIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZGV2aWNlcy9NaWNyb3Bob25lTWFuYWdlclN0YXRlLnRzPzNmMTMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9oZWxwZXJzL3NvdW5kLWRldGVjdG9yLnRzP2NiMmYiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9oZWxwZXJzL1JOU3BlZWNoRGV0ZWN0b3IudHM/NmViNSIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvTWljcm9waG9uZU1hbmFnZXIudHM/Zjc2ZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVTdGF0ZS50cz83OWRmIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvZGV2aWNlcy9TY3JlZW5TaGFyZU1hbmFnZXIudHM/MTA4MyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2RldmljZXMvU3BlYWtlclN0YXRlLnRzPzI5NjgiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJNYW5hZ2VyLnRzPzIxNDUiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9DYWxsLnRzPzdiNWUiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2luc2lnaHRzLnRzPzVlOWMiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2Nvbm5lY3Rpb24udHM/NjA2ZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vYmFzZTY0LnRzPzA1ZjYiLCJ3ZWJwYWNrOi8vY2xpZW50Ly4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL3NpZ25pbmcudHM/OWVjMyIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdG9rZW5fbWFuYWdlci50cz8wM2UyIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9lcnJvcnMudHM/MjEyNiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY29ubmVjdGlvbl9mYWxsYmFjay50cz81NGMwIiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9sb2NhdGlvbi50cz9jZjA5Iiwid2VicGFjazovL2NsaWVudC8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQudHM/M2YxZiIsIndlYnBhY2s6Ly9jbGllbnQvLi4vLi4vc3JjL1N0cmVhbVZpZGVvQ2xpZW50LnRzPzE0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEFQSUVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQVBJRXJyb3Ige1xuICAvKipcbiAgICogUmVzcG9uc2UgSFRUUCBzdGF0dXMgY29kZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIFN0YXR1c0NvZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEFQSSBlcnJvciBjb2RlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgY29kZTogbnVtYmVyO1xuICAvKipcbiAgICogQWRkaXRpb25hbCBlcnJvci1zcGVjaWZpYyBpbmZvcm1hdGlvblxuICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBkZXRhaWxzOiBBcnJheTxudW1iZXI+O1xuICAvKipcbiAgICogUmVxdWVzdCBkdXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGVycm9yIGluZm9cbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGV4Y2VwdGlvbl9maWVsZHM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICogTWVzc2FnZSBkZXNjcmliaW5nIGFuIGVycm9yXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIHdpdGggYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIG1vcmVfaW5mbzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBY2NlcHRDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY2NlcHRDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFjY2VwdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZGVmYXVsdF9kZXZpY2U6IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtaWNfZGVmYXVsdF9vbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Tm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBub2lzZV9jYW5jZWxsYXRpb24/OiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgb3B1c19kdHhfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByZWR1bmRhbnRfY29kaW5nX2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgc3BlYWtlcl9kZWZhdWx0X29uPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtID0ge1xuICBTUEVBS0VSOiAnc3BlYWtlcicsXG4gIEVBUlBJRUNFOiAnZWFycGllY2UnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0gPVxuICAodHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0pW2tleW9mIHR5cGVvZiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkZWZhdWx0X2RldmljZTogQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWljX2RlZmF1bHRfb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Tm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbm9pc2VfY2FuY2VsbGF0aW9uPzogTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBvcHVzX2R0eF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBzcGVha2VyX2RlZmF1bHRfb246IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0gPSB7XG4gIFNQRUFLRVI6ICdzcGVha2VyJyxcbiAgRUFSUElFQ0U6ICdlYXJwaWVjZScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0gPVxuICAodHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtKVtrZXlvZiB0eXBlb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCbG9ja0xpc3RPcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tMaXN0T3B0aW9ucyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tMaXN0T3B0aW9uc1xuICAgKi9cbiAgYmVoYXZpb3I6IEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tMaXN0T3B0aW9uc1xuICAgKi9cbiAgYmxvY2tsaXN0OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSA9IHtcbiAgRkxBRzogJ2ZsYWcnLFxuICBCTE9DSzogJ2Jsb2NrJyxcbiAgU0hBRE9XX0JMT0NLOiAnc2hhZG93X2Jsb2NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtID1cbiAgKHR5cGVvZiBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHVzZXIgdG8gYmxvY2tcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gY2FsbCBwYXJ0aWNpcGFudHMgdG8gbm90aWZ5IHdoZW4gYSB1c2VyIGlzIGJsb2NrZWQgb24gYSBjYWxsLCBjbGllbnRzIGNhbiB1c2UgdGhpcyBldmVudCB0byBzaG93IGEgbm90aWZpY2F0aW9uLlxuICogSWYgdGhlIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciwgdGhlIGNsaWVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuIGFzIHdlbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tlZFVzZXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrZWRVc2VyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGJsb2NrZWRfYnlfdXNlcj86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuYmxvY2tlZF91c2VyXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0hMU1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgaGxzPzogSExTU2V0dGluZ3NSZXF1ZXN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SExTU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGhsczogSExTU2V0dGluZ3NSZXNwb25zZTtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIGFjY2VwdHMgYSBub3RpZmljYXRpb24gdG8gam9pbiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxBY2NlcHRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEFjY2VwdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuYWNjZXB0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogQ2FsbENsb3NlZENhcHRpb24gcmVwcmVzZW50cyBhIGNsb3NlZCBjYXB0aW9uIG9mIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbiB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIGVuZF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHNwZWFrZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgc3RhcnRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBjcmVhdGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBjaGVjayBpZiB0aGUgcmluZ2luZ1xuICogZmllbGQgaXMgc2V0IHRvIHRydWUgYW5kIGlmIHNvLCBzaG93IHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ3JlYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENyZWF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIG1lbWJlcnMgYWRkZWQgdG8gdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmNyZWF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIGRlbGV0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRGVsZXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbERlbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5kZWxldGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBtYXJrIGFzIGVuZGVkIGZvciBhbGwgaXRzIHBhcnRpY2lwYW50cy4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEV2ZW50XG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgZW5kX3RpbWVzdGFtcDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgc2V2ZXJpdHk6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBITFMgYnJvYWRjYXN0aW5nIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgaGxzX3BsYXlsaXN0X3VybDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSW5ncmVzc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEluZ3Jlc3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UlRNUEluZ3Jlc3N9XG4gICAqIEBtZW1iZXJvZiBDYWxsSW5ncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBydG1wOiBSVE1QSW5ncmVzcztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIHN0YXJ0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIHN0YXJ0IHRoZSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxMaXZlU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmxpdmVfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgYWRkZWQgdG8gYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlckFkZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBtZW1iZXJzIGFkZGVkIHRvIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX2FkZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSByZW1vdmVkIGZyb20gYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbGlzdCBvZiBtZW1iZXIgSURzIHJlbW92ZWQgZnJvbSB0aGUgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl9yZW1vdmVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG1lbWJlcnMgdGhhdCB3ZXJlIHVwZGF0ZWRcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX3VwZGF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBnZXQgaXRzIHJvbGUgdXBkYXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBieSByb2xlIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjYXBhYmlsaXRpZXNfYnlfcm9sZTogeyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG1lbWJlcnMgdGhhdCB3ZXJlIHVwZGF0ZWRcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl9hZGRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGNhbGwgbWVtYmVycyB3aG8gZGlkIG5vdCBhY2NlcHQvcmVqZWN0L2pvaW4gdGhlIGNhbGwgdG8gbm90aWZ5IHRoZXkgbWlzc2VkIHRoZSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNaXNzZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNaXNzZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiBtZW1iZXJzIHdobyBtaXNzZWQgdGhlIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIG5vdGlmeV91c2VyOiBib29sZWFuO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGFsbCBjYWxsIG1lbWJlcnMgdG8gbm90aWZ5IHRoZXkgYXJlIGdldHRpbmcgY2FsbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxOb3RpZmljYXRpb25FdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxOb3RpZmljYXRpb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm5vdGlmaWNhdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICBqb2luZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHVzZXJfc2Vzc2lvbl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHJlYWN0aW9uIGlzIHNlbnQgaW4gYSBjYWxsLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB0byBzaG93IHRoZSByZWFjdGlvbiBpbiB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlYWN0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVhY3Rpb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWFjdGlvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIHJlYWN0aW9uOiBSZWFjdGlvblJlc3BvbnNlO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWFjdGlvbl9uZXdcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIENhbGxSZWNvcmRpbmcgcmVwcmVzZW50cyBhIHJlY29yZGluZyBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIGZpbGVuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgc3RhcnRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIHVybDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaXMgcmVhZHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlY29yZGluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX3JlY29yZGluZzogQ2FsbFJlY29yZGluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBzdGFydGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgcmVqZWN0cyBhIG5vdGlmaWNhdGlvbiB0byBqb2luIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlamVjdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVqZWN0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlamVjdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVycz86IEFycmF5PE1lbWJlclJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgc2V0dGluZ3Nfb3ZlcnJpZGU/OiBDYWxsU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHRlYW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgYmFja3N0YWdlOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FsbCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYnk6IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1cnJlbnRfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0VncmVzc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBlZ3Jlc3M6IEVncmVzc1Jlc3BvbnNlO1xuICAvKipcbiAgICogRGF0ZS90aW1lIHdoZW4gdGhlIGNhbGwgZW5kZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbEluZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgaW5ncmVzczogQ2FsbEluZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHJlY29yZGluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2Vzc2lvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzZXNzaW9uPzogQ2FsbFNlc3Npb25SZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICogRGF0ZS90aW1lIHdoZW4gdGhlIGNhbGwgd2lsbCBzdGFydFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0aHVtYm5haWxzPzogVGh1bWJuYWlsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHJhbnNjcmliaW5nOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgY2FsbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGFsbCBjYWxsIG1lbWJlcnMgdG8gbm90aWZ5IHRoZXkgYXJlIGdldHRpbmcgY2FsbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSaW5nRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmluZ0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHZpZGVvOiBib29sZWFuO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgc2Vzc2lvbiBlbmRzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uRW5kZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9lbmRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIHBhcnRpY2lwYW50IGNvdW50cyBpbiBhIGNhbGwgc2Vzc2lvbiBhcmUgdXBkYXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2NvdW50X3VwZGF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBqb2lucyBhIGNhbGwgc2Vzc2lvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnQ6IENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHBhcnRpY2lwYW50IGxlYXZlcyBhIGNhbGwgc2Vzc2lvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBwYXJ0aWNpcGFudDogQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2U7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9sZWZ0XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGFjY2VwdGVkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbGl2ZV9lbmRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBsaXZlX3N0YXJ0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBtaXNzZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRzOiBBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHJlamVjdGVkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHN0YXJ0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgdGltZXJfZW5kc19hdD86IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIHNlc3Npb24gc3RhcnRzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdWRpbz86IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JhY2tzdGFnZVNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGJhY2tzdGFnZT86IEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBicm9hZGNhc3Rpbmc/OiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvZmVuY2VTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBnZW9mZW5jaW5nPzogR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGltaXRzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbGltaXRzPzogTGltaXRzU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlY29yZFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZz86IFJlY29yZFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSaW5nU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcmluZz86IFJpbmdTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJpbmc/OiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0aHVtYm5haWxzPzogVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbj86IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VmlkZW9TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IFZpZGVvU2V0dGluZ3NSZXF1ZXN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBdWRpb1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXVkaW86IEF1ZGlvU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGJhY2tzdGFnZTogQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGJyb2FkY2FzdGluZzogQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZ2VvZmVuY2luZzogR2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbGltaXRzOiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlY29yZFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nOiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJpbmc6IFJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNjcmVlbnNoYXJpbmc6IFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRodW1ibmFpbHM6IFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb246IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB2aWRlbzogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogTGlzdCBvZiBjYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX3N0YXR1czogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGZpcnN0X3N0YXRzX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfc2NvcmU/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUaW1lbGluZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUaW1lbGluZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbEV2ZW50Pn1cbiAgICogQG1lbWJlcm9mIENhbGxUaW1lbGluZVxuICAgKi9cbiAgZXZlbnRzOiBBcnJheTxDYWxsRXZlbnQ+O1xufVxuLyoqXG4gKiBDYWxsVHJhbnNjcmlwdGlvbiByZXByZXNlbnRzIGEgdHJhbnNjcmlwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25cbiAgICovXG4gIHVybDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBpcyByZWFkeVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsVHJhbnNjcmlwdGlvbn1cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF90cmFuc2NyaXB0aW9uOiBDYWxsVHJhbnNjcmlwdGlvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9yZWFkeVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyB1cGRhdGVkLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB1cGRhdGUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBjYWxsLlxuICogVGhpcyBldmVudCBhbHNvIGNvbnRhaW5zIHRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhlIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVwZGF0ZSB0aGUgb3duX2NhcGFiaWxpdHkgZm9yIHRoZSBjdXJyZW50LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIG1lbWJlciBpcyBtdXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGZyb21fdXNlcl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIG11dGVkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC51c2VyX211dGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhbGxvd2VkX2ZsYWdfcmVhc29ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhdXRvbW9kOiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGF1dG9tb2RfYmVoYXZpb3I6IENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RCZWhhdmlvckVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYXV0b21vZF90aHJlc2hvbGRzPzogVGhyZXNob2xkcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdF9iZWhhdmlvcj86IENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxCbG9ja0xpc3RPcHRpb25zPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYmxvY2tsaXN0cz86IEFycmF5PEJsb2NrTGlzdE9wdGlvbnM+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENvbW1hbmQ+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBjb21tYW5kczogQXJyYXk8Q29tbWFuZD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY29ubmVjdF9ldmVudHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY3VzdG9tX2V2ZW50czogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz47IH19XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGdyYW50cz86IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG1hcmtfbWVzc2FnZXNfcGVuZGluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG1heF9tZXNzYWdlX2xlbmd0aDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG11dGVzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcGFydGl0aW9uX3NpemU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBwYXJ0aXRpb25fdHRsPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHBvbGxzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9uczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBxdW90ZXM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcmVhY3Rpb25zOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlYWRfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlbWluZGVyczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICByZXBsaWVzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHNlYXJjaDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICB0eXBpbmdfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHVwbG9hZHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXJsX2VucmljaG1lbnQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0gPSB7XG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBTSU1QTEU6ICdzaW1wbGUnLFxuICBBSTogJ0FJJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0pW2tleW9mIHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bSA9IHtcbiAgRkxBRzogJ2ZsYWcnLFxuICBCTE9DSzogJ2Jsb2NrJyxcbiAgU0hBRE9XX0JMT0NLOiAnc2hhZG93X2Jsb2NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtID1cbiAgKHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtID0ge1xuICBGTEFHOiAnZmxhZycsXG4gIEJMT0NLOiAnYmxvY2snLFxuICBTSEFET1dfQkxPQ0s6ICdzaGFkb3dfYmxvY2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDaGFubmVsTWVtYmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbE1lbWJlciB7XG4gIC8qKlxuICAgKiBFeHBpcmF0aW9uIGRhdGUgb2YgdGhlIGJhblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciBpcyBiYW5uZWQgdGhpcyBjaGFubmVsIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJvbGUgb2YgdGhlIG1lbWJlciBpbiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgY2hhbm5lbF9yb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSB3aGVuIGludml0ZSB3YXMgYWNjZXB0ZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGludml0ZV9hY2NlcHRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgd2hlbiBpbnZpdGUgd2FzIHJlamVjdGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVfcmVqZWN0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciB3YXMgaW52aXRlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgbWVtYmVyIGlzIGNoYW5uZWwgbW9kZXJhdG9yIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGlzX21vZGVyYXRvcj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIG5vdGlmaWNhdGlvbnNfbXV0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciBpcyBzaGFkb3cgYmFubmVkIGluIHRoaXMgY2hhbm5lbCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBzaGFkb3dfYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHN0YXR1cz86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcl9pZD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbE11dGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsTXV0ZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2hhbm5lbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE11dGVcbiAgICovXG4gIGNoYW5uZWw/OiBDaGFubmVsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgbXV0ZSBleHBpcmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgZXhwaXJlcz86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICogUmVwcmVzZW50cyBjaGFubmVsIGluIGNoYXRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYXV0byB0cmFuc2xhdGlvbiBpcyBlbmFibGVkIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgYXV0b190cmFuc2xhdGlvbl9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIExhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0byB3aGVuIGF1dG8gdHJhbnNsYXRpb24gaXMgYWN0aXZlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fdHJhbnNsYXRpb25fbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDaGFubmVsIENJRCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NoYW5uZWxDb25maWdXaXRoSW5mb31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY29uZmlnPzogQ2hhbm5lbENvbmZpZ1dpdGhJbmZvO1xuICAvKipcbiAgICogQ29vbGRvd24gcGVyaW9kIGFmdGVyIHNlbmRpbmcgZWFjaCBtZXNzYWdlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNvb2xkb3duPzogbnVtYmVyO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5PzogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIGNoYW5uZWwgaXMgZnJvemVuIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgZnJvemVuOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciB0aGlzIGNoYW5uZWwgaXMgaGlkZGVuIGJ5IGN1cnJlbnQgdXNlciBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGhpZGRlbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEYXRlIHNpbmNlIHdoZW4gdGhlIG1lc3NhZ2UgaGlzdG9yeSBpcyBhY2Nlc3NpYmxlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGhpZGVfbWVzc2FnZXNfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogQ2hhbm5lbCB1bmlxdWUgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhc3QgbWVzc2FnZSBzZW50XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfbWVzc2FnZV9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIE51bWJlciBvZiBtZW1iZXJzIGluIHRoZSBjaGFubmVsXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcl9jb3VudD86IG51bWJlcjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2hhbm5lbCBtZW1iZXJzIChtYXggMTAwKVxuICAgKiBAdHlwZSB7QXJyYXk8Q2hhbm5lbE1lbWJlcj59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM/OiBBcnJheTxDaGFubmVsTWVtYmVyPjtcbiAgLyoqXG4gICAqIERhdGUgb2YgbXV0ZSBleHBpcmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG11dGVfZXhwaXJlc19hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjaGFubmVsIGlzIG11dGVkIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgbXV0ZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogTGlzdCBvZiBjaGFubmVsIGNhcGFiaWxpdGllcyBvZiBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGVhbSB0aGUgY2hhbm5lbCBiZWxvbmdzIHRvIChtdWx0aS10ZW5hbnQgb25seSlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhdGVzdCB0cnVuY2F0aW9uIG9mIHRoZSBjaGFubmVsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHRydW5jYXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0cnVuY2F0ZWRfYnk/OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2xvc2VkIGNhcHRpb25zIGFyZSBiZWluZyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgY2xvc2VkIGNhcHRpb25zIGluIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsQ2xvc2VkQ2FwdGlvbn1cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb246IENhbGxDbG9zZWRDYXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5jbG9zZWRfY2FwdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHJhdGluZzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGtfdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGN1c3RvbSBjaGF0IGNvbW1hbmRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29tbWFuZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAvKipcbiAgICogQXJndW1lbnRzIGhlbHAgdGV4dCwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBhcmdzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHJlYWRvbmx5IGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXNjcmlwdGlvbiwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIGNvbW1hbmQgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogU2V0IG5hbWUgdXNlZCBmb3IgZ3JvdXBpbmcgY29tbWFuZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHNldDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgcmVhZG9ubHkgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dH1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgV1MgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBhbmQgYXV0aGVudGljYXRlZCwgdGhpcyBldmVudCBjb250YWlucyB0aGUgZnVsbCB1c2VyIG9iamVjdCBhcyBpdCBpcyBzdG9yZWQgb24gdGhlIHNlcnZlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb25uZWN0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb25uZWN0aW9uX2lkIGZvciB0aGlzIGNsaWVudFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge093blVzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBtZTogT3duVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY29ubmVjdGlvbi5va1wiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIFdTIGNvbm5lY3Rpb24gZmFpbHNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FQSUVycm9yfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGVycm9yOiBBUElFcnJvcjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNvbm5lY3Rpb24ub2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvb3JkaW5hdGVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29vcmRpbmF0ZXMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvb3JkaW5hdGVzXG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvb3JkaW5hdGVzXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZURldmljZVJlcXVlc3Qge1xuICAvKipcbiAgICogRGV2aWNlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgcHVzaF9wcm92aWRlcjogQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW07XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIHB1c2hfcHJvdmlkZXJfbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgdm9pcF90b2tlbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0gPSB7XG4gIEZJUkVCQVNFOiAnZmlyZWJhc2UnLFxuICBBUE46ICdhcG4nLFxuICBIVUFXRUk6ICdodWF3ZWknLFxuICBYSUFPTUk6ICd4aWFvbWknLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtID1cbiAgKHR5cGVvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSlba2V5b2YgdHlwZW9mIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAqL1xuICB1c2VyOiBVc2VyUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVzcG9uc2Uge1xuICAvKipcbiAgICogdGhlIGFjY2VzcyB0b2tlbiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlZGVudGlhbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVkZW50aWFscyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8SUNFU2VydmVyPn1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBpY2Vfc2VydmVyczogQXJyYXk8SUNFU2VydmVyPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTRlVSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBzZXJ2ZXI6IFNGVVJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xufVxuLyoqXG4gKiBBIGN1c3RvbSBldmVudCwgdGhpcyBldmVudCBpcyB1c2VkIHRvIHNlbmQgY3VzdG9tIGV2ZW50cyB0byBvdGhlciBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEN1c3RvbVZpZGVvRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21WaWRlb0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudCwgXCJjdXN0b21cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGV2aWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGRldmljZSBpcyBkaXNhYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlYXNvbiBleHBsYWluaW5nIHdoeSBkZXZpY2UgaGFkIGJlZW4gZGlzYWJsZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVxuICAgKi9cbiAgZGlzYWJsZWRfcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV2aWNlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIHB1c2hfcHJvdmlkZXI6IHN0cmluZztcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVc2VyIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICB2b2lwPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBjb3VudHJ5X2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBncmVlbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3lfdGVzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGl0dWRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHJlZDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHllbGxvdzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NITFNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc0hMU1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NITFNSZXNwb25zZVxuICAgKi9cbiAgcGxheWxpc3RfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBzdHJlYW1fa2V5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWdyZXNzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7RWdyZXNzSExTUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgaGxzPzogRWdyZXNzSExTUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RWdyZXNzUlRNUFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBydG1wczogQXJyYXk8RWdyZXNzUlRNUFJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRW5kQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW5kQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFbmRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbmFtZXM/OiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5hbWVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9sb2NhdGlvblJlc3VsdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlb2xvY2F0aW9uUmVzdWx0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgYWNjdXJhY3lfcmFkaXVzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNpdHk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY29udGluZW50OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvdW50cnk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zdGF0dXM6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsVGltZWxpbmV9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF90aW1lbGluZT86IENhbGxUaW1lbGluZTtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbGF0ZW5jeT86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfZnJlZXplc19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbWF4X3RvdGFsX3F1YWxpdHlfbGltaXRhdGlvbl9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VXNlclN0YXRzPn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudF9yZXBvcnQ6IEFycmF5PFVzZXJTdGF0cz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHB1Ymxpc2hpbmdfcGFydGljaXBhbnRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfc2NvcmU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgc2Z1X2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U0ZVTG9jYXRpb25SZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgc2Z1czogQXJyYXk8U0ZVTG9jYXRpb25SZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldEVkZ2VzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRFZGdlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0RWRnZXNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxFZGdlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0RWRnZXNSZXNwb25zZVxuICAgKi9cbiAgZWRnZXM6IEFycmF5PEVkZ2VSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIGRhdGE/OiBDYWxsUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBtZW1iZXJzX2xpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICogaWYgcHJvdmlkZWQgaXQgc2VuZHMgYSBub3RpZmljYXRpb24gZXZlbnQgdG8gdGhlIG1lbWJlcnMgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIG5vdGlmeT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBpZiBwcm92aWRlZCBpdCBzZW5kcyBhIHJpbmcgZXZlbnQgdG8gdGhlIG1lbWJlcnMgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHb0xpdmVSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29MaXZlUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nX3N0b3JhZ2VfbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfaGxzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfcmVjb3JkaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfdHJhbnNjcmlwdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWU/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29MaXZlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBITFNTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBITFNTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1dG9fb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHlfdHJhY2tzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfdHJhY2tzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBIZWFsdGhDaGVja0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY29ubmVjdGlvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtPd25Vc2VyfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgbWU/OiBPd25Vc2VyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSUNFU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFU2VydmVyIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHVzZXJuYW1lOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBpZiB0cnVlIHRoZSBjYWxsIHdpbGwgYmUgY3JlYXRlZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBjcmVhdGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBpcyBtaWdyYXRpbmcgZnJvbSBhbm90aGVyIFNGVSwgdGhlbiB0aGlzIGlzIHRoZSBJRCBvZiB0aGUgcHJldmlvdXMgU0ZVXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1pZ3JhdGluZ19mcm9tPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG5vdGlmeT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBpZiB0cnVlIGFuZCB0aGUgY2FsbCBpcyBjcmVhdGVkLCB0aGUgbm90aWZpY2F0aW9uIHdpbGwgaW5jbHVkZSByaW5nPXRydWVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSm9pbkNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDcmVkZW50aWFsc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzT3B0aW9uc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIHN0YXRzX29wdGlvbnM6IFN0YXRzT3B0aW9ucztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGFiZWxUaHJlc2hvbGRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGFiZWxUaHJlc2hvbGRzIHtcbiAgLyoqXG4gICAqIFRocmVzaG9sZCBmb3IgYXV0b21hdGljIG1lc3NhZ2UgYmxvY2tcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExhYmVsVGhyZXNob2xkc1xuICAgKi9cbiAgYmxvY2s/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaHJlc2hvbGQgZm9yIGF1dG9tYXRpYyBtZXNzYWdlIGZsYWdcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExhYmVsVGhyZXNob2xkc1xuICAgKi9cbiAgZmxhZz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1heF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWF4X3BhcnRpY2lwYW50cz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3REZXZpY2VzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgZGV2aWNlc1xuICAgKiBAdHlwZSB7QXJyYXk8RGV2aWNlPn1cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGRldmljZXM6IEFycmF5PERldmljZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGlzdERldmljZXNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFJlY29yZGluZz59XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmdzOiBBcnJheTxDYWxsUmVjb3JkaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb25zOiBBcnJheTxDYWxsVHJhbnNjcmlwdGlvbj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExvY2F0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBjb250aW5lbnRfY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBjb3VudHJ5X2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTG9jYXRpb25cbiAgICovXG4gIHN1YmRpdmlzaW9uX2lzb19jb2RlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1PU1N0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTU9TU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE1PU1N0YXRzXG4gICAqL1xuICBhdmVyYWdlX3Njb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICogQG1lbWJlcm9mIE1PU1N0YXRzXG4gICAqL1xuICBoaXN0b2dyYW1fZHVyYXRpb25fc2Vjb25kczogQXJyYXk8bnVtYmVyPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBNT1NTdGF0c1xuICAgKi9cbiAgbWF4X3Njb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTU9TU3RhdHNcbiAgICovXG4gIG1pbl9zY29yZTogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZWRpYVB1YlN1YkhpbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZWRpYVB1YlN1YkhpbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNZWRpYVB1YlN1YkhpbnRcbiAgICovXG4gIGF1ZGlvX3B1Ymxpc2hlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICBhdWRpb19zdWJzY3JpYmVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNZWRpYVB1YlN1YkhpbnRcbiAgICovXG4gIHZpZGVvX3B1Ymxpc2hlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICB2aWRlb19zdWJzY3JpYmVkOiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZW1iZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVtYmVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICByb2xlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVtYmVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gbWVtYmVyIHJlc3BvbnNlIGRhdGFcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE11dGVVc2Vyc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBhdWRpbz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIG11dGVfYWxsX3VzZXJzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgc2NyZWVuc2hhcmU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyZV9hdWRpbz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHVzZXJfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE11dGVVc2Vyc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzXG4gICAqL1xuICBtb2RlOiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSA9XG4gICh0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtKVtrZXlvZiB0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOdWxsQm9vbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE51bGxCb29sIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIEhhc1ZhbHVlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIFZhbHVlPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTnVsbFRpbWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOdWxsVGltZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE51bGxUaW1lXG4gICAqL1xuICBIYXNWYWx1ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTnVsbFRpbWVcbiAgICovXG4gIFZhbHVlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFsbCBwb3NzaWJpbGl0eSBvZiBzdHJpbmcgdG8gdXNlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBPd25DYXBhYmlsaXR5ID0ge1xuICBCTE9DS19VU0VSUzogJ2Jsb2NrLXVzZXJzJyxcbiAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICBDUkVBVEVfQ0FMTDogJ2NyZWF0ZS1jYWxsJyxcbiAgQ1JFQVRFX1JFQUNUSU9OOiAnY3JlYXRlLXJlYWN0aW9uJyxcbiAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICBFTkRfQ0FMTDogJ2VuZC1jYWxsJyxcbiAgSk9JTl9CQUNLU1RBR0U6ICdqb2luLWJhY2tzdGFnZScsXG4gIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gIEpPSU5fRU5ERURfQ0FMTDogJ2pvaW4tZW5kZWQtY2FsbCcsXG4gIE1VVEVfVVNFUlM6ICdtdXRlLXVzZXJzJyxcbiAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICBSRU1PVkVfQ0FMTF9NRU1CRVI6ICdyZW1vdmUtY2FsbC1tZW1iZXInLFxuICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICBTRU5EX1ZJREVPOiAnc2VuZC12aWRlbycsXG4gIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICBTVEFSVF9SRUNPUkRfQ0FMTDogJ3N0YXJ0LXJlY29yZC1jYWxsJyxcbiAgU1RBUlRfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RhcnQtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICBTVE9QX1JFQ09SRF9DQUxMOiAnc3RvcC1yZWNvcmQtY2FsbCcsXG4gIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgVVBEQVRFX0NBTExfTUVNQkVSOiAndXBkYXRlLWNhbGwtbWVtYmVyJyxcbiAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE93bkNhcGFiaWxpdHkgPSAodHlwZW9mIE93bkNhcGFiaWxpdHkpW2tleW9mIHR5cGVvZiBPd25DYXBhYmlsaXR5XTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3duVXNlciB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2hhbm5lbE11dGU+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgY2hhbm5lbF9tdXRlczogQXJyYXk8Q2hhbm5lbE11dGU+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZWFjdGl2YXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZXZpY2VzOiBBcnJheTxEZXZpY2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGludmlzaWJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbGF0ZXN0X2hpZGRlbl9jaGFubmVscz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VXNlck11dGU+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbXV0ZXM6IEFycmF5PFVzZXJNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgb25saW5lOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ByaXZhY3lTZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVzaE5vdGlmaWNhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgcHVzaF9ub3RpZmljYXRpb25zPzogUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgdGVhbXM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHRvdGFsX3VucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF9jaGFubmVsczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF90aHJlYWRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDaGFubmVsTXV0ZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNoYW5uZWxfbXV0ZXM6IEFycmF5PENoYW5uZWxNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGRldmljZXM6IEFycmF5PERldmljZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW52aXNpYmxlOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhdGVzdF9oaWRkZW5fY2hhbm5lbHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJNdXRlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBtdXRlczogQXJyYXk8VXNlck11dGVSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIG9ubGluZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsX3VucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdW5yZWFkX2NoYW5uZWxzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB1bnJlYWRfdGhyZWFkczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgcmVxdWVzdHMgYWNjZXNzIHRvIGEgZmVhdHVyZSBvbiBhIGNhbGwsXG4gKiBjbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBkaXNwbGF5IGEgcGVybWlzc2lvbiByZXF1ZXN0IHRvIHRoZSB1c2VyXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHBlcm1pc3Npb25zIHJlcXVlc3RlZCBieSB0aGUgdXNlclxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3RcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3Mge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWRSZWNlaXB0c31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1xuICAgKi9cbiAgcmVhZF9yZWNlaXB0cz86IFJlYWRSZWNlaXB0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUeXBpbmdJbmRpY2F0b3JzfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzXG4gICAqL1xuICB0eXBpbmdfaW5kaWNhdG9ycz86IFR5cGluZ0luZGljYXRvcnM7XG59XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhZFJlY2VpcHRzfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlYWRfcmVjZWlwdHM/OiBSZWFkUmVjZWlwdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHlwaW5nSW5kaWNhdG9yc31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0eXBpbmdfaW5kaWNhdG9ycz86IFR5cGluZ0luZGljYXRvcnM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mbyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBjb2RlY19taW1lX3R5cGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBkdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICAgKi9cbiAgdHJhY2tfdHlwZT86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TnVsbEJvb2x9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dFxuICAgKi9cbiAgZGlzYWJsZWQ/OiBOdWxsQm9vbDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOdWxsVGltZX1cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0XG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IE51bGxUaW1lO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWRfdW50aWw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgZmlsdGVyX2NvbmRpdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxTb3J0UGFyYW1SZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIGxpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHNvcnQ/OiBBcnJheTxTb3J0UGFyYW1SZXF1ZXN0Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0czogQXJyYXk8Q2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgZmlsdGVyX2NvbmRpdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxTb3J0UGFyYW1SZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICB3YXRjaD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRlUmVzcG9uc2VGaWVsZHM+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsczogQXJyYXk8Q2FsbFN0YXRlUmVzcG9uc2VGaWVsZHM+O1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbn1cbi8qKlxuICogUlRNUCBpbnB1dCBzZXR0aW5nc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSVE1QSW5ncmVzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBJbmdyZXNzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QSW5ncmVzc1xuICAgKi9cbiAgYWRkcmVzczogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWFjdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3Rpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGVtb2ppX2NvZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVhZFJlY2VpcHRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZFJlY2VpcHRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVhZFJlY2VpcHRzXG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdWRpb19vbmx5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1vZGU6IFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcXVhbGl0eT86IFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID1cbiAgKHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSlba2V5b2YgdHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSA9IHtcbiAgXzM2MFA6ICczNjBwJyxcbiAgXzQ4MFA6ICc0ODBwJyxcbiAgXzcyMFA6ICc3MjBwJyxcbiAgXzEwODBQOiAnMTA4MHAnLFxuICBfMTQ0MFA6ICcxNDQwcCcsXG4gIFBPUlRSQUlUXzM2MFg2NDA6ICdwb3J0cmFpdC0zNjB4NjQwJyxcbiAgUE9SVFJBSVRfNDgwWDg1NDogJ3BvcnRyYWl0LTQ4MHg4NTQnLFxuICBQT1JUUkFJVF83MjBYMTI4MDogJ3BvcnRyYWl0LTcyMHgxMjgwJyxcbiAgUE9SVFJBSVRfMTA4MFgxOTIwOiAncG9ydHJhaXQtMTA4MHgxOTIwJyxcbiAgUE9SVFJBSVRfMTQ0MFgyNTYwOiAncG9ydHJhaXQtMTQ0MHgyNTYwJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSA9XG4gICh0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0pW2tleW9mIHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpb19vbmx5OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1vZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVqZWN0Q2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogUmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVqZWN0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXV0b19jYW5jZWxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1pc3NlZF9jYWxsX3RpbWVvdXRfbXM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX2NhbmNlbF90aW1lb3V0X21zOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTRlVMb2NhdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDb29yZGluYXRlc31cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBkYXRhY2VudGVyOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVTG9jYXRpb25SZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMb2NhdGlvbn1cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU0ZVUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTRlVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VfbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICB1cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgd3NfZW5kcG9pbnQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kQ2FsbEV2ZW50UmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kQ2FsbEV2ZW50UmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgZW1vamlfY29kZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWFjdGlvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHJlYWN0aW9uOiBSZWFjdGlvblJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTb3J0UGFyYW1SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU29ydFBhcmFtUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBEaXJlY3Rpb24gb2Ygc29ydGluZywgMSBmb3IgQXNjZW5kaW5nLCAtMSBmb3IgRGVzY2VuZGluZywgZGVmYXVsdCBpcyAxXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTb3J0UGFyYW1SZXF1ZXN0XG4gICAqL1xuICBkaXJlY3Rpb24/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBOYW1lIG9mIGZpZWxkIHRvIHNvcnQgYnlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNvcnRQYXJhbVJlcXVlc3RcbiAgICovXG4gIGZpZWxkPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgcGxheWxpc3RfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZT86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAqL1xuICB0cmFuc2NyaXB0aW9uX2V4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdGF0c1xuICAgKi9cbiAgYXZlcmFnZV9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3RhdHNcbiAgICovXG4gIG1heF9zZWNvbmRzOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXRzT3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRzT3B0aW9ucyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3RhdHNPcHRpb25zXG4gICAqL1xuICByZXBvcnRpbmdfaW50ZXJ2YWxfbXM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wTGl2ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcExpdmVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wUmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wUmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3Vic2Vzc2lvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNlc3Npb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIGVuZGVkX2F0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3Vic2Vzc2lvblxuICAgKi9cbiAgam9pbmVkX2F0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVkaWFQdWJTdWJIaW50fVxuICAgKiBAbWVtYmVyb2YgU3Vic2Vzc2lvblxuICAgKi9cbiAgcHViX3N1Yl9oaW50PzogTWVkaWFQdWJTdWJIaW50O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIHNmdV9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUYXJnZXRSZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFyZ2V0UmVzb2x1dGlvbiB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgYml0cmF0ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUYXJnZXRSZXNvbHV0aW9uXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUYXJnZXRSZXNvbHV0aW9uXG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xufVxuLyoqXG4gKiBTZXRzIHRocmVzaG9sZHMgZm9yIEFJIG1vZGVyYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGhyZXNob2xkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRocmVzaG9sZHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xhYmVsVGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIFRocmVzaG9sZHNcbiAgICovXG4gIGV4cGxpY2l0PzogTGFiZWxUaHJlc2hvbGRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xhYmVsVGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIFRocmVzaG9sZHNcbiAgICovXG4gIHNwYW0/OiBMYWJlbFRocmVzaG9sZHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGFiZWxUaHJlc2hvbGRzfVxuICAgKiBAbWVtYmVyb2YgVGhyZXNob2xkc1xuICAgKi9cbiAgdG94aWM/OiBMYWJlbFRocmVzaG9sZHM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbFJlc3BvbnNlXG4gICAqL1xuICBpbWFnZV91cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb25fbW9kZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb25fbW9kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2VzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFR5cGluZ0luZGljYXRvcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVHlwaW5nSW5kaWNhdG9yc1xuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byB1bmJsb2NrXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrVXNlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrVXNlclJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgaXMgdW5ibG9ja2VkIG9uIGEgY2FsbCxcbiAqIHRoaXMgY2FuIGJlIHVzZWZ1bCB0byBub3RpZnkgdGhlIHVzZXIgdGhhdCB0aGV5IGNhbiBub3cgam9pbiB0aGUgY2FsbCBhZ2FpblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrZWRVc2VyRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrZWRVc2VyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudW5ibG9ja2VkX3VzZXJcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbnBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbnBpblJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHNlc3Npb24gSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXF1ZXN0XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgdXNlciBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5waW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVucGluUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICogTGlzdCBvZiB1c2VySUQgdG8gcmVtb3ZlXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICByZW1vdmVfbWVtYmVycz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBMaXN0IG9mIG1lbWJlcnMgdG8gdXBkYXRlIG9yIGluc2VydFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHVwZGF0ZV9tZW1iZXJzPzogQXJyYXk8TWVtYmVyUmVxdWVzdD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgc2V0dGluZ3Nfb3ZlcnJpZGU/OiBDYWxsU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICogdGhlIHRpbWUgdGhlIGNhbGwgaXMgc2NoZWR1bGVkIHRvIHN0YXJ0XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICBncmFudF9wZXJtaXNzaW9ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIHJldm9rZV9wZXJtaXNzaW9ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBub3RpZnkgYWJvdXQgcGVybWlzc2lvbiBjaGFuZ2VzIGZvciBhIHVzZXIsIGNsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIHVwZGF0ZSB0aGVpciBVSSBhY2NvcmRpbmdseVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdXNlclxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckJhbm5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckJhbm5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9ieTogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGV4cGlyYXRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgc2hhZG93OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRGVhY3RpdmF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYnk6IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyRGVsZXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckRlbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBkZWxldGVfY29udmVyc2F0aW9uX2NoYW5uZWxzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBoYXJkX2RlbGV0ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgbWFya19tZXNzYWdlc19kZWxldGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJJbmZvUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VySW5mb1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBpbWFnZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlckluZm9SZXNwb25zZVxuICAgKi9cbiAgcm9sZXM6IEFycmF5PHN0cmluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJNdXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck11dGUge1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIG11dGUgZXhwaXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVcbiAgICovXG4gIGV4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICB0YXJnZXQ/OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck11dGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIGV4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgdGFyZ2V0PzogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJNdXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck11dGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2VyPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgdGFyZ2V0X3VzZXJzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgY2hhdCB1c2VyXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJPYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyT2JqZWN0IHtcbiAgLyoqXG4gICAqIEV4cGlyYXRpb24gZGF0ZSBvZiB0aGUgYmFuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBiYW5fZXhwaXJlcz86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIGlzIGJhbm5lZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBiYW5uZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBEYXRlIG9mIGRlYWN0aXZhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcmVhZG9ubHkgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgZGVsZXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVbmlxdWUgdXNlciBpZGVudGlmaWVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICogUHJlZmVycmVkIGxhbmd1YWdlIG9mIGEgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIGxhc3QgYWN0aXZpdHlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBhIHVzZXIgb25saW5lIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IG9ubGluZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqIFJldm9jYXRpb24gZGF0ZSBmb3IgdG9rZW5zXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBzZXQgb2YgdXNlciBwZXJtaXNzaW9uc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiB0ZWFtcyB1c2VyIGlzIGEgcGFydCBvZlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHRlYW1zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclByZXNlbmNlQ2hhbmdlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclByZXNlbmNlQ2hhbmdlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlYWN0aXZhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBuYW1lIG9mIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ByaXZhY3lTZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogV2hldGhlciBhIHVzZXIgaXMgYmFubmVkIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZSBvZiBkZWFjdGl2YXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgZGVsZXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIFVuaXF1ZSB1c2VyIGlkZW50aWZpZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogUHJlZmVycmVkIGxhbmd1YWdlIG9mIGEgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSBvZiBsYXN0IGFjdGl2aXR5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgbmFtZSBvZiB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgdXNlciBvbmxpbmUgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBSZXZvY2F0aW9uIGRhdGUgZm9yIHRva2Vuc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBzZXQgb2YgdXNlciBwZXJtaXNzaW9uc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICByb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHRlYW1zIHVzZXIgaXMgYSBwYXJ0IG9mXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyU2Vzc2lvblN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclNlc3Npb25TdGF0cyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgYnJvd3Nlcj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBicm93c2VyX3ZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgY3VycmVudF9pcD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBjdXJyZW50X3NmdT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBkZXZpY2VfbW9kZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZGV2aWNlX3ZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZGlzdGFuY2VfdG9fc2Z1X2tpbG9tZXRlcnM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZnJlZXplX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtHZW9sb2NhdGlvblJlc3VsdH1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGdlb2xvY2F0aW9uPzogR2VvbG9jYXRpb25SZXN1bHQ7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBqaXR0ZXI/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGxhdGVuY3k/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfZmlyX3Blcl9zZWNvbmQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2ZyZWV6ZV9mcmFjdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9mcmVlemVzX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfZnJlZXplc19wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9uYWNrX3Blcl9zZWNvbmQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X3BsaV9wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUXVhbGl0eX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9wdWJsaXNoaW5nX3ZpZGVvX3F1YWxpdHk/OiBWaWRlb1F1YWxpdHk7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VmlkZW9RdWFsaXR5fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X3JlY2VpdmluZ192aWRlb19xdWFsaXR5PzogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG9zPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG9zX3ZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcGFja2V0X2xvc3NfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZWRpYVB1YlN1YkhpbnR9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJfc3ViX2hpbnRzPzogTWVkaWFQdWJTdWJIaW50O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFB1Ymxpc2hlZFRyYWNrSW5mbz59XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZWRfdHJhY2tzPzogQXJyYXk8UHVibGlzaGVkVHJhY2tJbmZvPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNT1NTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9hdWRpb19tb3M/OiBNT1NTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9qaXR0ZXI/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9sYXRlbmN5PzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX25vaXNlX2NhbmNlbGxhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9wYWNrZXRfbG9zc19mcmFjdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9xdWFsaXR5X2xpbWl0YXRpb25fZnJhY3Rpb24/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfdmlkZW9fcXVhbGl0eV9saW1pdGF0aW9uX2R1cmF0aW9uX3NlY29uZHM/OiB7XG4gICAgW2tleTogc3RyaW5nXTogbnVtYmVyO1xuICB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hpbmdfYXVkaW9fY29kZWM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGluZ19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGluZ192aWRlb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcmVjZWl2aW5nX2F1ZGlvX2NvZGVjPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHJlY2VpdmluZ19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcmVjZWl2aW5nX3ZpZGVvX2NvZGVjPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHNkaz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzZGtfdmVyc2lvbj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TU9TU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX2F1ZGlvX21vcz86IE1PU1N0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc3Vic2NyaWJlcl9qaXR0ZXI/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHN1YnNjcmliZXJfbGF0ZW5jeT86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHN1YnNjcmliZXJfdmlkZW9fcXVhbGl0eV90aHJvdHRsZWRfZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxTdWJzZXNzaW9uPn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHN1YnNlc3Npb25zPzogQXJyYXk8U3Vic2Vzc2lvbj47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRpbWVsaW5lfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgdGltZWxpbmU/OiBDYWxsVGltZWxpbmU7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgdG90YWxfcGl4ZWxzX2luOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgdG90YWxfcGl4ZWxzX291dDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB0cnVuY2F0ZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHdlYnJ0Y192ZXJzaW9uPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyU3RhdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJJbmZvUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVc2VyU3RhdHNcbiAgICovXG4gIGluZm86IFVzZXJJbmZvUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICBtaW5fZXZlbnRfdHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU3RhdHNcbiAgICovXG4gIHJhdGluZz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxVc2VyU2Vzc2lvblN0YXRzPn1cbiAgICogQG1lbWJlcm9mIFVzZXJTdGF0c1xuICAgKi9cbiAgc2Vzc2lvbl9zdGF0czogQXJyYXk8VXNlclNlc3Npb25TdGF0cz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVbmJhbm5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclVuYmFubmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBjaGFubmVsX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgc2hhZG93OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclVwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICByZWNlaXZlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1F1YWxpdHlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1F1YWxpdHkge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvUXVhbGl0eVxuICAgKi9cbiAgcmVzb2x1dGlvbj86IFZpZGVvUmVzb2x1dGlvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1F1YWxpdHlcbiAgICovXG4gIHVzYWdlX3R5cGU/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvUmVzb2x1dGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUmVzb2x1dGlvbiB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZXNvbHV0aW9uXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1Jlc29sdXRpb25cbiAgICovXG4gIHdpZHRoOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjYW1lcmFfZGVmYXVsdF9vbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNhbWVyYV9mYWNpbmc/OiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0gPSB7XG4gIEZST05UOiAnZnJvbnQnLFxuICBCQUNLOiAnYmFjaycsXG4gIEVYVEVSTkFMOiAnZXh0ZXJuYWwnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSA9XG4gICh0eXBlb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtKVtrZXlvZiB0eXBlb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2FtZXJhX2RlZmF1bHRfb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjYW1lcmFfZmFjaW5nOiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb246IFRhcmdldFJlc29sdXRpb247XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSA9IHtcbiAgRlJPTlQ6ICdmcm9udCcsXG4gIEJBQ0s6ICdiYWNrJyxcbiAgRVhURVJOQUw6ICdleHRlcm5hbCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSA9XG4gICh0eXBlb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSlba2V5b2YgdHlwZW9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFdTQXV0aE1lc3NhZ2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXU0F1dGhNZXNzYWdlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgV1NBdXRoTWVzc2FnZVxuICAgKi9cbiAgcHJvZHVjdHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHVzZXJfZGV0YWlsczogQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdDtcbn1cbi8qKlxuICogQHR5cGUgV1NFdmVudFxuICogVGhlIGRpc2NyaW1pbmF0b3Igb2JqZWN0IGZvciBhbGwgd2Vic29ja2V0IGV2ZW50cywgaXQgbWFwcyBldmVudHMnIHBheWxvYWQgdG8gdGhlIGZpbmFsIHR5cGVcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IHR5cGUgV1NFdmVudCA9XG4gIHwgKHsgdHlwZTogJ2NhbGwuYWNjZXB0ZWQnIH0gJiBDYWxsQWNjZXB0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ibG9ja2VkX3VzZXInIH0gJiBCbG9ja2VkVXNlckV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmNsb3NlZF9jYXB0aW9uJyB9ICYgQ2xvc2VkQ2FwdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmNyZWF0ZWQnIH0gJiBDYWxsQ3JlYXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmRlbGV0ZWQnIH0gJiBDYWxsRGVsZXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmVuZGVkJyB9ICYgQ2FsbEVuZGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RhcnRlZCc7XG4gICAgfSAmIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZCc7XG4gICAgfSAmIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubGl2ZV9zdGFydGVkJyB9ICYgQ2FsbExpdmVTdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubWVtYmVyX2FkZGVkJyB9ICYgQ2FsbE1lbWJlckFkZGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubWVtYmVyX3JlbW92ZWQnIH0gJiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkJyB9ICYgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwubWVtYmVyX3VwZGF0ZWRfcGVybWlzc2lvbic7XG4gICAgfSAmIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1pc3NlZCcgfSAmIENhbGxNaXNzZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ub3RpZmljYXRpb24nIH0gJiBDYWxsTm90aWZpY2F0aW9uRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbl9yZXF1ZXN0JyB9ICYgUGVybWlzc2lvblJlcXVlc3RFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkJyB9ICYgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlYWN0aW9uX25ldycgfSAmIENhbGxSZWFjdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19mYWlsZWQnIH0gJiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVjb3JkaW5nX3JlYWR5JyB9ICYgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVjb3JkaW5nX3N0YXJ0ZWQnIH0gJiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdG9wcGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWplY3RlZCcgfSAmIENhbGxSZWplY3RlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJpbmcnIH0gJiBDYWxsUmluZ0V2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnNlc3Npb25fZW5kZWQnIH0gJiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfY291bnRfdXBkYXRlZCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkJztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnNlc3Npb25fc3RhcnRlZCcgfSAmIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fZmFpbGVkJyB9ICYgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3JlYWR5JyB9ICYgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fc3RhcnRlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fc3RvcHBlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVuYmxvY2tlZF91c2VyJyB9ICYgVW5ibG9ja2VkVXNlckV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVwZGF0ZWQnIH0gJiBDYWxsVXBkYXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVzZXJfbXV0ZWQnIH0gJiBDYWxsVXNlck11dGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24uZXJyb3InIH0gJiBDb25uZWN0aW9uRXJyb3JFdmVudClcbiAgfCAoeyB0eXBlOiAnY29ubmVjdGlvbi5vaycgfSAmIENvbm5lY3RlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjdXN0b20nIH0gJiBDdXN0b21WaWRlb0V2ZW50KVxuICB8ICh7IHR5cGU6ICdoZWFsdGguY2hlY2snIH0gJiBIZWFsdGhDaGVja0V2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLmJhbm5lZCcgfSAmIFVzZXJCYW5uZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5kZWFjdGl2YXRlZCcgfSAmIFVzZXJEZWFjdGl2YXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLmRlbGV0ZWQnIH0gJiBVc2VyRGVsZXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLm11dGVkJyB9ICYgVXNlck11dGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIucHJlc2VuY2UuY2hhbmdlZCcgfSAmIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5yZWFjdGl2YXRlZCcgfSAmIFVzZXJSZWFjdGl2YXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnVuYmFubmVkJyB9ICYgVXNlclVuYmFubmVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIudXBkYXRlZCcgfSAmIFVzZXJVcGRhdGVkRXZlbnQpO1xuIiwiaW1wb3J0IHsgQXhpb3NSZXF1ZXN0Q29uZmlnLCBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgU3RhYmxlV1NDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7IENvbm5lY3RlZEV2ZW50LCBVc2VyUmVxdWVzdCwgV1NFdmVudCB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBBbGxTZnVFdmVudHMgfSBmcm9tICcuLi8uLi9ydGMnO1xuXG5leHBvcnQgdHlwZSBVUiA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG5leHBvcnQgdHlwZSBVc2VyID1cbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ3JvbGUnPiAmIHsgdHlwZT86ICdhdXRoZW50aWNhdGVkJyB9KVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAncm9sZSc+ICYgeyB0eXBlOiAnZ3Vlc3QnIH0pXG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdpZCcgfCAncm9sZSc+ICYge1xuICAgICAgaWQ/OiAnIWFub24nO1xuICAgICAgdHlwZTogJ2Fub255bW91cyc7XG4gICAgfSk7XG5cbmV4cG9ydCB0eXBlIFVzZXJXaXRoSWQgPVxuICB8IChVc2VyUmVxdWVzdCAmIHsgdHlwZT86ICdhdXRoZW50aWNhdGVkJyB9KVxuICB8IChVc2VyUmVxdWVzdCAmIHsgdHlwZTogJ2d1ZXN0JyB9KVxuICB8IChVc2VyUmVxdWVzdCAmIHtcbiAgICAgIGlkOiAnIWFub24nO1xuICAgICAgdHlwZTogJ2Fub255bW91cyc7XG4gICAgfSk7XG5cbmV4cG9ydCB0eXBlIHsgT3duVXNlclJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IHR5cGUgQ29ubmVjdEFQSVJlc3BvbnNlID0gUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+O1xuXG5leHBvcnQgdHlwZSBMb2dMZXZlbCA9ICd0cmFjZScgfCAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxudHlwZSBFcnJvclJlc3BvbnNlRGV0YWlscyA9IHtcbiAgY29kZTogbnVtYmVyO1xuICBtZXNzYWdlczogc3RyaW5nW107XG59O1xuXG5leHBvcnQgdHlwZSBBUElFcnJvclJlc3BvbnNlID0ge1xuICBjb2RlOiBudW1iZXI7XG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbW9yZV9pbmZvOiBzdHJpbmc7XG4gIFN0YXR1c0NvZGU6IG51bWJlcjtcbiAgZGV0YWlscz86IEVycm9yUmVzcG9uc2VEZXRhaWxzO1xufTtcblxuZXhwb3J0IGNsYXNzIEVycm9yRnJvbVJlc3BvbnNlPFQ+IGV4dGVuZHMgRXJyb3Ige1xuICBjb2RlPzogbnVtYmVyO1xuICByZXNwb25zZT86IEF4aW9zUmVzcG9uc2U8VD47XG4gIHN0YXR1cz86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQ29ubmVjdGlvbkNoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCc7XG4gIG9ubGluZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydENoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJztcbiAgbW9kZTogJ2xvbmdwb2xsJztcbn07XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25SZWNvdmVyZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJztcbn07XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvRXZlbnQgPSAoXG4gIHwgV1NFdmVudFxuICB8IENvbm5lY3Rpb25DaGFuZ2VkRXZlbnRcbiAgfCBUcmFuc3BvcnRDaGFuZ2VkRXZlbnRcbiAgfCBDb25uZWN0aW9uUmVjb3ZlcmVkRXZlbnRcbikgJiB7IHJlY2VpdmVkX2F0Pzogc3RyaW5nIHwgRGF0ZSB9O1xuXG4vLyBUT0RPOiB3ZSBzaG91bGQgdXNlIFdTQ2FsbEV2ZW50IGhlcmUgYnV0IHRoYXQgbmVlZHMgZml4aW5nXG5leHBvcnQgdHlwZSBTdHJlYW1DYWxsRXZlbnQgPSBFeHRyYWN0PFN0cmVhbVZpZGVvRXZlbnQsIHsgY2FsbF9jaWQ6IHN0cmluZyB9PjtcbmV4cG9ydCB0eXBlIEV2ZW50VHlwZXMgPSAnYWxsJyB8IFdTRXZlbnRbJ3R5cGUnXTtcblxuZXhwb3J0IHR5cGUgQWxsQ2xpZW50RXZlbnRUeXBlcyA9ICdhbGwnIHwgU3RyZWFtVmlkZW9FdmVudFsndHlwZSddO1xuZXhwb3J0IHR5cGUgQWxsQ2xpZW50RXZlbnRzID0ge1xuICBbSyBpbiBBbGxDbGllbnRFdmVudFR5cGVzXTogRXh0cmFjdDxTdHJlYW1WaWRlb0V2ZW50LCB7IHR5cGU6IEsgfT47XG59O1xuZXhwb3J0IHR5cGUgQ2xpZW50RXZlbnRMaXN0ZW5lcjxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPiA9IChcbiAgZXZlbnQ6IEFsbENsaWVudEV2ZW50c1tFXSxcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgQWxsQ2xpZW50Q2FsbEV2ZW50cyA9IHtcbiAgW0sgaW4gRXZlbnRUeXBlc106IEV4dHJhY3Q8V1NFdmVudCwgeyB0eXBlOiBLIH0+O1xufTtcblxuZXhwb3J0IHR5cGUgQWxsQ2FsbEV2ZW50cyA9IEFsbENsaWVudENhbGxFdmVudHMgJiBBbGxTZnVFdmVudHM7XG5leHBvcnQgdHlwZSBDYWxsRXZlbnRMaXN0ZW5lcjxFIGV4dGVuZHMga2V5b2YgQWxsQ2FsbEV2ZW50cz4gPSAoXG4gIGV2ZW50OiBBbGxDYWxsRXZlbnRzW0VdLFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBMb2dnZXIgPSAoXG4gIGxvZ0xldmVsOiBMb2dMZXZlbCxcbiAgbWVzc2FnZTogc3RyaW5nLFxuICAuLi5hcmdzOiB1bmtub3duW11cbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgU3RyZWFtQ2xpZW50T3B0aW9ucyA9IFBhcnRpYWw8QXhpb3NSZXF1ZXN0Q29uZmlnPiAmIHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gZGlzYWJsZSB3YXJuaW5ncyB0aGF0IGFyZSB0cmlnZ2VyZWQgYnkgdXNpbmcgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgc2VydmVyLXNpZGUuXG4gICAqL1xuICBhbGxvd1NlcnZlclNpZGVDb25uZWN0PzogYm9vbGVhbjtcbiAgYXhpb3NSZXF1ZXN0Q29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnO1xuICAvKipcbiAgICogQmFzZSB1cmwgdG8gdXNlIGZvciBBUElcbiAgICogc3VjaCBhcyBodHRwczovL2NoYXQtcHJveHktZHVibGluLnN0cmVhbS1pby1hcGkuY29tXG4gICAqL1xuICBiYXNlVVJMPzogc3RyaW5nO1xuICBicm93c2VyPzogYm9vbGVhbjtcbiAgLy8gZGV2aWNlPzogQmFzZURldmljZUZpZWxkcztcbiAgZW5hYmxlSW5zaWdodHM/OiBib29sZWFuO1xuICAvKiogZXhwZXJpbWVudGFsIGZlYXR1cmUsIHBsZWFzZSBjb250YWN0IHN1cHBvcnQgaWYgeW91IHdhbnQgdGhpcyBmZWF0dXJlIGVuYWJsZWQgZm9yIHlvdSAqL1xuICBlbmFibGVXU0ZhbGxiYWNrPzogYm9vbGVhbjtcbiAgbG9nZ2VyPzogTG9nZ2VyO1xuICBsb2dMZXZlbD86IExvZ0xldmVsO1xuICAvKipcbiAgICogVGhlIFVSTCB0byB1c2UgZm9yIHRoZSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50VXJsPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGltZW91dCBmb3IgcmVxdWVzdGluZyBhIGxvY2F0aW9uIGhpbnQuXG4gICAqL1xuICBsb2NhdGlvbkhpbnRUaW1lb3V0PzogbnVtYmVyO1xuICAvKipcbiAgICogV2hlbiB0cnVlLCB1c2VyIHdpbGwgYmUgcGVyc2lzdGVkIG9uIGNsaWVudC4gT3RoZXJ3aXNlIGlmIGBjb25uZWN0VXNlcmAgY2FsbCBmYWlscywgdGhlbiB5b3UgbmVlZCB0b1xuICAgKiBjYWxsIGBjb25uZWN0VXNlcmAgYWdhaW4gdG8gcmV0cnkuXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBmb3IgY2hhdCBhcHBsaWNhdGlvbiB3b3JraW5nIGluIG9mZmxpbmUgbW9kZSwgd2hlcmUgeW91IHdpbGwgbmVlZCBjbGllbnQudXNlciB0b1xuICAgKiBwZXJzaXN0IGV2ZW4gaWYgY29ubmVjdFVzZXIgY2FsbCBmYWlscy5cbiAgICovXG4gIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBzZWNyZXQga2V5IGZvciB0aGUgQVBJIGtleS4gVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3Igc2VydmVyIHNpZGUgYXV0aGVudGljYXRpb24uXG4gICAqL1xuICBzZWNyZXQ/OiBzdHJpbmc7XG5cbiAgd2FybVVwPzogYm9vbGVhbjtcbiAgLy8gU2V0IHRoZSBpbnN0YW5jZSBvZiBTdGFibGVXU0Nvbm5lY3Rpb24gb24gY2hhdCBjbGllbnQuIEl0cyBwdXJlbHkgZm9yIHRlc3RpbmcgcHVycG9zZSBhbmQgc2hvdWxkXG4gIC8vIG5vdCBiZSB1c2VkIGluIHByb2R1Y3Rpb24gYXBwcy5cbiAgd3NDb25uZWN0aW9uPzogU3RhYmxlV1NDb25uZWN0aW9uO1xufTtcblxuZXhwb3J0IHR5cGUgVG9rZW5Qcm92aWRlciA9ICgpID0+IFByb21pc2U8c3RyaW5nPjtcbmV4cG9ydCB0eXBlIFRva2VuT3JQcm92aWRlciA9IG51bGwgfCBzdHJpbmcgfCBUb2tlblByb3ZpZGVyIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBCdWlsdEluUmVqZWN0UmVhc29uID0gJ2J1c3knIHwgJ2RlY2xpbmUnIHwgJ2NhbmNlbCc7XG5leHBvcnQgdHlwZSBSZWplY3RSZWFzb24gPSBCdWlsdEluUmVqZWN0UmVhc29uIHwgc3RyaW5nO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvXCIgKHBhY2thZ2UgXCJnb29nbGUucHJvdG9idWZcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG4vL1xuLy8gUHJvdG9jb2wgQnVmZmVycyAtIEdvb2dsZSdzIGRhdGEgaW50ZXJjaGFuZ2UgZm9ybWF0XG4vLyBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4vLyBtZXQ6XG4vL1xuLy8gICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbi8vIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4vLyB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbi8vIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbi8vIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuLy8gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbi8vIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuLy8gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG5pbXBvcnQgdHlwZSB7XG4gIEJpbmFyeVJlYWRPcHRpb25zLFxuICBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gIElCaW5hcnlSZWFkZXIsXG4gIElCaW5hcnlXcml0ZXIsXG4gIEpzb25PYmplY3QsXG4gIEpzb25SZWFkT3B0aW9ucyxcbiAgSnNvblZhbHVlLFxuICBKc29uV3JpdGVPcHRpb25zLFxuICBQYXJ0aWFsTWVzc2FnZSxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgaXNKc29uT2JqZWN0LFxuICBNZXNzYWdlVHlwZSxcbiAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCxcbiAgdHlwZW9mSnNvblZhbHVlLFxuICBVbmtub3duRmllbGRIYW5kbGVyLFxuICBXaXJlVHlwZSxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIGBTdHJ1Y3RgIHJlcHJlc2VudHMgYSBzdHJ1Y3R1cmVkIGRhdGEgdmFsdWUsIGNvbnNpc3Rpbmcgb2YgZmllbGRzXG4gKiB3aGljaCBtYXAgdG8gZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLiBJbiBzb21lIGxhbmd1YWdlcywgYFN0cnVjdGBcbiAqIG1pZ2h0IGJlIHN1cHBvcnRlZCBieSBhIG5hdGl2ZSByZXByZXNlbnRhdGlvbi4gRm9yIGV4YW1wbGUsIGluXG4gKiBzY3JpcHRpbmcgbGFuZ3VhZ2VzIGxpa2UgSlMgYSBzdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgYXMgYW5cbiAqIG9iamVjdC4gVGhlIGRldGFpbHMgb2YgdGhhdCByZXByZXNlbnRhdGlvbiBhcmUgZGVzY3JpYmVkIHRvZ2V0aGVyXG4gKiB3aXRoIHRoZSBwcm90byBzdXBwb3J0IGZvciB0aGUgbGFuZ3VhZ2UuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBTdHJ1Y3RgIGlzIEpTT04gb2JqZWN0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Qge1xuICAvKipcbiAgICogVW5vcmRlcmVkIG1hcCBvZiBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogbWFwPHN0cmluZywgZ29vZ2xlLnByb3RvYnVmLlZhbHVlPiBmaWVsZHMgPSAxO1xuICAgKi9cbiAgZmllbGRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogVmFsdWU7XG4gIH07XG59XG4vKipcbiAqIGBWYWx1ZWAgcmVwcmVzZW50cyBhIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXJcbiAqIG51bGwsIGEgbnVtYmVyLCBhIHN0cmluZywgYSBib29sZWFuLCBhIHJlY3Vyc2l2ZSBzdHJ1Y3QgdmFsdWUsIG9yIGFcbiAqIGxpc3Qgb2YgdmFsdWVzLiBBIHByb2R1Y2VyIG9mIHZhbHVlIGlzIGV4cGVjdGVkIHRvIHNldCBvbmUgb2YgdGhlc2VcbiAqIHZhcmlhbnRzLiBBYnNlbmNlIG9mIGFueSB2YXJpYW50IGluZGljYXRlcyBhbiBlcnJvci5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYFZhbHVlYCBpcyBKU09OIHZhbHVlLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjoga2luZFxuICAgKi9cbiAga2luZDpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBudWxsIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUgbnVsbF92YWx1ZSA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBudWxsVmFsdWU6IE51bGxWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGRvdWJsZSB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBkb3VibGUgbnVtYmVyX3ZhbHVlID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIG51bWJlclZhbHVlOiBudW1iZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBzdHJpbmcgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN0cmluZ192YWx1ZSA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdWYWx1ZTogc3RyaW5nO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdib29sVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGJvb2xlYW4gdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBib29sX3ZhbHVlID0gNDtcbiAgICAgICAgICovXG4gICAgICAgIGJvb2xWYWx1ZTogYm9vbGVhbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHN0cnVjdHVyZWQgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBzdHJ1Y3RfdmFsdWUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbGlzdFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSByZXBlYXRlZCBgVmFsdWVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUgbGlzdF92YWx1ZSA9IDY7XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBgTGlzdFZhbHVlYCBpcyBhIHdyYXBwZXIgYXJvdW5kIGEgcmVwZWF0ZWQgZmllbGQgb2YgdmFsdWVzLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTGlzdFZhbHVlYCBpcyBKU09OIGFycmF5LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VmFsdWUge1xuICAvKipcbiAgICogUmVwZWF0ZWQgZmllbGQgb2YgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZSB2YWx1ZXMgPSAxO1xuICAgKi9cbiAgdmFsdWVzOiBWYWx1ZVtdO1xufVxuLyoqXG4gKiBgTnVsbFZhbHVlYCBpcyBhIHNpbmdsZXRvbiBlbnVtZXJhdGlvbiB0byByZXByZXNlbnQgdGhlIG51bGwgdmFsdWUgZm9yIHRoZVxuICogYFZhbHVlYCB0eXBlIHVuaW9uLlxuICpcbiAqICBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYE51bGxWYWx1ZWAgaXMgSlNPTiBgbnVsbGAuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVxuICovXG5leHBvcnQgZW51bSBOdWxsVmFsdWUge1xuICAvKipcbiAgICogTnVsbCB2YWx1ZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IE5VTExfVkFMVUUgPSAwO1xuICAgKi9cbiAgTlVMTF9WQUxVRSA9IDAsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJ1Y3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cnVjdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdmaWVsZHMnLFxuICAgICAgICBraW5kOiAnbWFwJyxcbiAgICAgICAgSzogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICAgIFY6IHsga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBWYWx1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBTdHJ1Y3RgIHRvIEpTT04gb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogU3RydWN0LCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBsZXQganNvbjogSnNvbk9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLmZpZWxkcykpIHtcbiAgICAgIGpzb25ba10gPSBWYWx1ZS50b0pzb24odik7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFN0cnVjdGAgZnJvbSBKU09OIG9iamVjdC5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdHJ1Y3QsXG4gICk6IFN0cnVjdCB7XG4gICAgaWYgKCFpc0pzb25PYmplY3QoanNvbikpXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBtZXNzYWdlICcgK1xuICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICcgZnJvbSBKU09OICcgK1xuICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSArXG4gICAgICAgICAgJy4nLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgdGFyZ2V0LmZpZWxkc1trXSA9IFZhbHVlLmZyb21Kc29uKHYpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFN0cnVjdD4pOiBTdHJ1Y3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5maWVsZHMgPSB7fTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8U3RydWN0Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdHJ1Y3QsXG4gICk6IFN0cnVjdCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogbWFwPHN0cmluZywgZ29vZ2xlLnByb3RvYnVmLlZhbHVlPiBmaWVsZHMgKi8gMTpcbiAgICAgICAgICB0aGlzLmJpbmFyeVJlYWRNYXAxKG1lc3NhZ2UuZmllbGRzLCByZWFkZXIsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgcHJpdmF0ZSBiaW5hcnlSZWFkTWFwMShcbiAgICBtYXA6IFN0cnVjdFsnZmllbGRzJ10sXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICApOiB2b2lkIHtcbiAgICBsZXQgbGVuID0gcmVhZGVyLnVpbnQzMigpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbixcbiAgICAgIGtleToga2V5b2YgU3RydWN0WydmaWVsZHMnXSB8IHVuZGVmaW5lZCxcbiAgICAgIHZhbDogU3RydWN0WydmaWVsZHMnXVthbnldIHwgdW5kZWZpbmVkO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAga2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdmFsID0gVmFsdWUuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICd1bmtub3duIG1hcCBlbnRyeSBmaWVsZCBmb3IgZmllbGQgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdC5maWVsZHMnLFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcFtrZXkgPz8gJyddID0gdmFsID8/IFZhbHVlLmNyZWF0ZSgpO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU3RydWN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIG1hcDxzdHJpbmcsIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZT4gZmllbGRzID0gMTsgKi9cbiAgICBmb3IgKGxldCBrIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmtleXMobWVzc2FnZS5maWVsZHMpKSB7XG4gICAgICB3cml0ZXJcbiAgICAgICAgLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpXG4gICAgICAgIC5mb3JrKClcbiAgICAgICAgLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpXG4gICAgICAgIC5zdHJpbmcoayk7XG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpO1xuICAgICAgVmFsdWUuaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLmZpZWxkc1trXSwgd3JpdGVyLCBvcHRpb25zKTtcbiAgICAgIHdyaXRlci5qb2luKCkuam9pbigpO1xuICAgIH1cbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFxuICovXG5leHBvcnQgY29uc3QgU3RydWN0ID0gbmV3IFN0cnVjdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWYWx1ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5WYWx1ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdudWxsX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBbJ2dvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUnLCBOdWxsVmFsdWVdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdudW1iZXJfdmFsdWUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogMSAvKlNjYWxhclR5cGUuRE9VQkxFKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N0cmluZ192YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYm9vbF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3N0cnVjdF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogKCkgPT4gU3RydWN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdsaXN0X3ZhbHVlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBMaXN0VmFsdWUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYFZhbHVlYCB0byBKU09OIHZhbHVlLlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogVmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGlmIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgc3dpdGNoIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgIGNhc2UgJ2Jvb2xWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuYm9vbFZhbHVlO1xuICAgICAgY2FzZSAnbnVsbFZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlICdudW1iZXJWYWx1ZSc6XG4gICAgICAgIGxldCBudW1iZXJWYWx1ZSA9IG1lc3NhZ2Uua2luZC5udW1iZXJWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXJWYWx1ZSA9PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzRmluaXRlKG51bWJlclZhbHVlKSlcbiAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gbnVtYmVyVmFsdWU7XG4gICAgICBjYXNlICdzdHJpbmdWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuc3RyaW5nVmFsdWU7XG4gICAgICBjYXNlICdsaXN0VmFsdWUnOlxuICAgICAgICBsZXQgbGlzdFZhbHVlRmllbGQgPSB0aGlzLmZpZWxkcy5maW5kKChmKSA9PiBmLm5vID09PSA2KTtcbiAgICAgICAgaWYgKGxpc3RWYWx1ZUZpZWxkPy5raW5kICE9PSAnbWVzc2FnZScpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBsaXN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5saXN0VmFsdWUpO1xuICAgICAgY2FzZSAnc3RydWN0VmFsdWUnOlxuICAgICAgICBsZXQgc3RydWN0VmFsdWVGaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoKGYpID0+IGYubm8gPT09IDUpO1xuICAgICAgICBpZiAoc3RydWN0VmFsdWVGaWVsZD8ua2luZCAhPT0gJ21lc3NhZ2UnKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gc3RydWN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5zdHJ1Y3RWYWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFZhbHVlYCBmcm9tIEpTT04gdmFsdWUuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmFsdWUsXG4gICk6IFZhbHVlIHtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICB0YXJnZXQua2luZCA9IHsgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnLCBudW1iZXJWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdzdHJpbmdWYWx1ZScsIHN0cmluZ1ZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdib29sVmFsdWUnLCBib29sVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJyxcbiAgICAgICAgICAgIG51bGxWYWx1ZTogTnVsbFZhbHVlLk5VTExfVkFMVUUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICB0YXJnZXQua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2xpc3RWYWx1ZScsXG4gICAgICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZS5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnLFxuICAgICAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdC5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSAnICtcbiAgICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbiksXG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VmFsdWU+KTogVmFsdWUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5raW5kID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxWYWx1ZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmFsdWUsXG4gICk6IFZhbHVlIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlIG51bGxfdmFsdWUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdudWxsVmFsdWUnLFxuICAgICAgICAgICAgbnVsbFZhbHVlOiByZWFkZXIuaW50MzIoKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIGRvdWJsZSBudW1iZXJfdmFsdWUgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdudW1iZXJWYWx1ZScsXG4gICAgICAgICAgICBudW1iZXJWYWx1ZTogcmVhZGVyLmRvdWJsZSgpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHN0cmluZ192YWx1ZSAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJyxcbiAgICAgICAgICAgIHN0cmluZ1ZhbHVlOiByZWFkZXIuc3RyaW5nKCksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIGJvb2xfdmFsdWUgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdib29sVmFsdWUnLFxuICAgICAgICAgICAgYm9vbFZhbHVlOiByZWFkZXIuYm9vbCgpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBzdHJ1Y3RfdmFsdWUgKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdzdHJ1Y3RWYWx1ZScsXG4gICAgICAgICAgICBzdHJ1Y3RWYWx1ZTogU3RydWN0LmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmtpbmQgYXMgYW55KS5zdHJ1Y3RWYWx1ZSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlIGxpc3RfdmFsdWUgKi8gNjpcbiAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdsaXN0VmFsdWUnLFxuICAgICAgICAgICAgbGlzdFZhbHVlOiBMaXN0VmFsdWUuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2Uua2luZCBhcyBhbnkpLmxpc3RWYWx1ZSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogVmFsdWUsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZSBudWxsX3ZhbHVlID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5raW5kLm9uZW9mS2luZCA9PT0gJ251bGxWYWx1ZScpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5raW5kLm51bGxWYWx1ZSk7XG4gICAgLyogZG91YmxlIG51bWJlcl92YWx1ZSA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2Uua2luZC5vbmVvZktpbmQgPT09ICdudW1iZXJWYWx1ZScpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkJpdDY0KS5kb3VibGUobWVzc2FnZS5raW5kLm51bWJlclZhbHVlKTtcbiAgICAvKiBzdHJpbmcgc3RyaW5nX3ZhbHVlID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5raW5kLm9uZW9mS2luZCA9PT0gJ3N0cmluZ1ZhbHVlJylcbiAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5raW5kLnN0cmluZ1ZhbHVlKTtcbiAgICAvKiBib29sIGJvb2xfdmFsdWUgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kID09PSAnYm9vbFZhbHVlJylcbiAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2Uua2luZC5ib29sVmFsdWUpO1xuICAgIC8qIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3Qgc3RydWN0X3ZhbHVlID0gNTsgKi9cbiAgICBpZiAobWVzc2FnZS5raW5kLm9uZW9mS2luZCA9PT0gJ3N0cnVjdFZhbHVlJylcbiAgICAgIFN0cnVjdC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmtpbmQuc3RydWN0VmFsdWUsXG4gICAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlIGxpc3RfdmFsdWUgPSA2OyAqL1xuICAgIGlmIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kID09PSAnbGlzdFZhbHVlJylcbiAgICAgIExpc3RWYWx1ZS5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmtpbmQubGlzdFZhbHVlLFxuICAgICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgY29uc3QgVmFsdWUgPSBuZXcgVmFsdWUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTGlzdFZhbHVlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxMaXN0VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmFsdWVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWYWx1ZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuY29kZSBgTGlzdFZhbHVlYCB0byBKU09OIGFycmF5LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogTGlzdFZhbHVlLCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICByZXR1cm4gbWVzc2FnZS52YWx1ZXMubWFwKCh2KSA9PiBWYWx1ZS50b0pzb24odikpO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYExpc3RWYWx1ZWAgZnJvbSBKU09OIGFycmF5LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IExpc3RWYWx1ZSxcbiAgKTogTGlzdFZhbHVlIHtcbiAgICBpZiAoIWdsb2JhbFRoaXMuQXJyYXkuaXNBcnJheShqc29uKSlcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlICcgK1xuICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICcgZnJvbSBKU09OICcgK1xuICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSxcbiAgICAgICk7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgbGV0IHZhbHVlcyA9IGpzb24ubWFwKCh2KSA9PiBWYWx1ZS5mcm9tSnNvbih2KSk7XG4gICAgdGFyZ2V0LnZhbHVlcy5wdXNoKC4uLnZhbHVlcyk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxMaXN0VmFsdWU+KTogTGlzdFZhbHVlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudmFsdWVzID0gW107XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPExpc3RWYWx1ZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogTGlzdFZhbHVlLFxuICApOiBMaXN0VmFsdWUge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZSB2YWx1ZXMgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnZhbHVlcy5wdXNoKFxuICAgICAgICAgICAgVmFsdWUuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBMaXN0VmFsdWUsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogcmVwZWF0ZWQgZ29vZ2xlLnByb3RvYnVmLlZhbHVlIHZhbHVlcyA9IDE7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLnZhbHVlcy5sZW5ndGg7IGkrKylcbiAgICAgIFZhbHVlLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UudmFsdWVzW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RWYWx1ZSA9IG5ldyBMaXN0VmFsdWUkVHlwZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJnb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvXCIgKHBhY2thZ2UgXCJnb29nbGUucHJvdG9idWZcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG4vL1xuLy8gUHJvdG9jb2wgQnVmZmVycyAtIEdvb2dsZSdzIGRhdGEgaW50ZXJjaGFuZ2UgZm9ybWF0XG4vLyBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4vLyBtZXQ6XG4vL1xuLy8gICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbi8vIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4vLyB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbi8vIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbi8vIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuLy8gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbi8vIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuLy8gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG5pbXBvcnQgdHlwZSB7XG4gIEJpbmFyeVJlYWRPcHRpb25zLFxuICBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gIElCaW5hcnlSZWFkZXIsXG4gIElCaW5hcnlXcml0ZXIsXG4gIEpzb25SZWFkT3B0aW9ucyxcbiAgSnNvblZhbHVlLFxuICBKc29uV3JpdGVPcHRpb25zLFxuICBQYXJ0aWFsTWVzc2FnZSxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgTWVzc2FnZVR5cGUsXG4gIFBiTG9uZyxcbiAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCxcbiAgdHlwZW9mSnNvblZhbHVlLFxuICBVbmtub3duRmllbGRIYW5kbGVyLFxuICBXaXJlVHlwZSxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIEEgVGltZXN0YW1wIHJlcHJlc2VudHMgYSBwb2ludCBpbiB0aW1lIGluZGVwZW5kZW50IG9mIGFueSB0aW1lIHpvbmUgb3IgbG9jYWxcbiAqIGNhbGVuZGFyLCBlbmNvZGVkIGFzIGEgY291bnQgb2Ygc2Vjb25kcyBhbmQgZnJhY3Rpb25zIG9mIHNlY29uZHMgYXRcbiAqIG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gVGhlIGNvdW50IGlzIHJlbGF0aXZlIHRvIGFuIGVwb2NoIGF0IFVUQyBtaWRuaWdodCBvblxuICogSmFudWFyeSAxLCAxOTcwLCBpbiB0aGUgcHJvbGVwdGljIEdyZWdvcmlhbiBjYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS5cbiAqXG4gKiBBbGwgbWludXRlcyBhcmUgNjAgc2Vjb25kcyBsb25nLiBMZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcFxuICogc2Vjb25kIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24sIHVzaW5nIGEgWzI0LWhvdXIgbGluZWFyXG4gKiBzbWVhcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGltZS9zbWVhcikuXG4gKlxuICogVGhlIHJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OS45OTk5OTk5OTlaLiBCeVxuICogcmVzdHJpY3RpbmcgdG8gdGhhdCByYW5nZSwgd2UgZW5zdXJlIHRoYXQgd2UgY2FuIGNvbnZlcnQgdG8gYW5kIGZyb20gW1JGQ1xuICogMzMzOV0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzMzMzkudHh0KSBkYXRlIHN0cmluZ3MuXG4gKlxuICogIyBFeGFtcGxlc1xuICpcbiAqIEV4YW1wbGUgMTogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBQT1NJWCBgdGltZSgpYC5cbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHModGltZShOVUxMKSk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcygwKTtcbiAqXG4gKiBFeGFtcGxlIDI6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gUE9TSVggYGdldHRpbWVvZmRheSgpYC5cbiAqXG4gKiAgICAgc3RydWN0IHRpbWV2YWwgdHY7XG4gKiAgICAgZ2V0dGltZW9mZGF5KCZ0diwgTlVMTCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKHR2LnR2X3NlYyk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcyh0di50dl91c2VjICogMTAwMCk7XG4gKlxuICogRXhhbXBsZSAzOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFdpbjMyIGBHZXRTeXN0ZW1UaW1lQXNGaWxlVGltZSgpYC5cbiAqXG4gKiAgICAgRklMRVRJTUUgZnQ7XG4gKiAgICAgR2V0U3lzdGVtVGltZUFzRmlsZVRpbWUoJmZ0KTtcbiAqICAgICBVSU5UNjQgdGlja3MgPSAoKChVSU5UNjQpZnQuZHdIaWdoRGF0ZVRpbWUpIDw8IDMyKSB8IGZ0LmR3TG93RGF0ZVRpbWU7XG4gKlxuICogICAgIC8vIEEgV2luZG93cyB0aWNrIGlzIDEwMCBuYW5vc2Vjb25kcy4gV2luZG93cyBlcG9jaCAxNjAxLTAxLTAxVDAwOjAwOjAwWlxuICogICAgIC8vIGlzIDExNjQ0NDczNjAwIHNlY29uZHMgYmVmb3JlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHMoKElOVDY0KSAoKHRpY2tzIC8gMTAwMDAwMDApIC0gMTE2NDQ0NzM2MDBMTCkpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3MoKElOVDMyKSAoKHRpY2tzICUgMTAwMDAwMDApICogMTAwKSk7XG4gKlxuICogRXhhbXBsZSA0OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIEphdmEgYFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpYC5cbiAqXG4gKiAgICAgbG9uZyBtaWxsaXMgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9IFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhtaWxsaXMgLyAxMDAwKVxuICogICAgICAgICAuc2V0TmFub3MoKGludCkgKChtaWxsaXMgJSAxMDAwKSAqIDEwMDAwMDApKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDU6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gSmF2YSBgSW5zdGFudC5ub3coKWAuXG4gKlxuICogICAgIEluc3RhbnQgbm93ID0gSW5zdGFudC5ub3coKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9XG4gKiAgICAgICAgIFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhub3cuZ2V0RXBvY2hTZWNvbmQoKSlcbiAqICAgICAgICAgICAgIC5zZXROYW5vcyhub3cuZ2V0TmFubygpKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDY6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gY3VycmVudCB0aW1lIGluIFB5dGhvbi5cbiAqXG4gKiAgICAgdGltZXN0YW1wID0gVGltZXN0YW1wKClcbiAqICAgICB0aW1lc3RhbXAuR2V0Q3VycmVudFRpbWUoKVxuICpcbiAqICMgSlNPTiBNYXBwaW5nXG4gKlxuICogSW4gSlNPTiBmb3JtYXQsIHRoZSBUaW1lc3RhbXAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nIGluIHRoZVxuICogW1JGQyAzMzM5XShodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzMzOS50eHQpIGZvcm1hdC4gVGhhdCBpcywgdGhlXG4gKiBmb3JtYXQgaXMgXCJ7eWVhcn0te21vbnRofS17ZGF5fVR7aG91cn06e21pbn06e3NlY31bLntmcmFjX3NlY31dWlwiXG4gKiB3aGVyZSB7eWVhcn0gaXMgYWx3YXlzIGV4cHJlc3NlZCB1c2luZyBmb3VyIGRpZ2l0cyB3aGlsZSB7bW9udGh9LCB7ZGF5fSxcbiAqIHtob3VyfSwge21pbn0sIGFuZCB7c2VjfSBhcmUgemVyby1wYWRkZWQgdG8gdHdvIGRpZ2l0cyBlYWNoLiBUaGUgZnJhY3Rpb25hbFxuICogc2Vjb25kcywgd2hpY2ggY2FuIGdvIHVwIHRvIDkgZGlnaXRzIChpLmUuIHVwIHRvIDEgbmFub3NlY29uZCByZXNvbHV0aW9uKSxcbiAqIGFyZSBvcHRpb25hbC4gVGhlIFwiWlwiIHN1ZmZpeCBpbmRpY2F0ZXMgdGhlIHRpbWV6b25lIChcIlVUQ1wiKTsgdGhlIHRpbWV6b25lXG4gKiBpcyByZXF1aXJlZC4gQSBwcm90bzMgSlNPTiBzZXJpYWxpemVyIHNob3VsZCBhbHdheXMgdXNlIFVUQyAoYXMgaW5kaWNhdGVkIGJ5XG4gKiBcIlpcIikgd2hlbiBwcmludGluZyB0aGUgVGltZXN0YW1wIHR5cGUgYW5kIGEgcHJvdG8zIEpTT04gcGFyc2VyIHNob3VsZCBiZVxuICogYWJsZSB0byBhY2NlcHQgYm90aCBVVEMgYW5kIG90aGVyIHRpbWV6b25lcyAoYXMgaW5kaWNhdGVkIGJ5IGFuIG9mZnNldCkuXG4gKlxuICogRm9yIGV4YW1wbGUsIFwiMjAxNy0wMS0xNVQwMTozMDoxNS4wMVpcIiBlbmNvZGVzIDE1LjAxIHNlY29uZHMgcGFzdFxuICogMDE6MzAgVVRDIG9uIEphbnVhcnkgMTUsIDIwMTcuXG4gKlxuICogSW4gSmF2YVNjcmlwdCwgb25lIGNhbiBjb252ZXJ0IGEgRGF0ZSBvYmplY3QgdG8gdGhpcyBmb3JtYXQgdXNpbmcgdGhlXG4gKiBzdGFuZGFyZFxuICogW3RvSVNPU3RyaW5nKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmcpXG4gKiBtZXRob2QuIEluIFB5dGhvbiwgYSBzdGFuZGFyZCBgZGF0ZXRpbWUuZGF0ZXRpbWVgIG9iamVjdCBjYW4gYmUgY29udmVydGVkXG4gKiB0byB0aGlzIGZvcm1hdCB1c2luZ1xuICogW2BzdHJmdGltZWBdKGh0dHBzOi8vZG9jcy5weXRob24ub3JnLzIvbGlicmFyeS90aW1lLmh0bWwjdGltZS5zdHJmdGltZSkgd2l0aFxuICogdGhlIHRpbWUgZm9ybWF0IHNwZWMgJyVZLSVtLSVkVCVIOiVNOiVTLiVmWicuIExpa2V3aXNlLCBpbiBKYXZhLCBvbmUgY2FuIHVzZVxuICogdGhlIEpvZGEgVGltZSdzIFtgSVNPRGF0ZVRpbWVGb3JtYXQuZGF0ZVRpbWUoKWBdKFxuICogaHR0cDovL3d3dy5qb2RhLm9yZy9qb2RhLXRpbWUvYXBpZG9jcy9vcmcvam9kYS90aW1lL2Zvcm1hdC9JU09EYXRlVGltZUZvcm1hdC5odG1sI2RhdGVUaW1lJTJEJTJEXG4gKiApIHRvIG9idGFpbiBhIGZvcm1hdHRlciBjYXBhYmxlIG9mIGdlbmVyYXRpbmcgdGltZXN0YW1wcyBpbiB0aGlzIGZvcm1hdC5cbiAqXG4gKlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lc3RhbXAge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICogMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgKiA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgc2Vjb25kcyA9IDE7XG4gICAqL1xuICBzZWNvbmRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOb24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gTmVnYXRpdmVcbiAgICogc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmUgbm9uLW5lZ2F0aXZlIG5hbm9zIHZhbHVlc1xuICAgKiB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZSBmcm9tIDAgdG8gOTk5LDk5OSw5OTlcbiAgICogaW5jbHVzaXZlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG5hbm9zID0gMjtcbiAgICovXG4gIG5hbm9zOiBudW1iZXI7XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUaW1lc3RhbXAkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRpbWVzdGFtcD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZWNvbmRzJywga2luZDogJ3NjYWxhcicsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICduYW5vcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYFRpbWVzdGFtcGAgZm9yIHRoZSBjdXJyZW50IHRpbWUuXG4gICAqL1xuICBub3coKTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtc2cgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1zID0gRGF0ZS5ub3coKTtcbiAgICBtc2cuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKE1hdGguZmxvb3IobXMgLyAxMDAwKSkudG9TdHJpbmcoKTtcbiAgICBtc2cubmFub3MgPSAobXMgJSAxMDAwKSAqIDEwMDAwMDA7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIEphdmFTY3JpcHQgRGF0ZS5cbiAgICovXG4gIHRvRGF0ZShtZXNzYWdlOiBUaW1lc3RhbXApOiBEYXRlIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwICtcbiAgICAgICAgTWF0aC5jZWlsKG1lc3NhZ2UubmFub3MgLyAxMDAwMDAwKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgRGF0ZSB0byBhIGBUaW1lc3RhbXBgLlxuICAgKi9cbiAgZnJvbURhdGUoZGF0ZTogRGF0ZSk6IFRpbWVzdGFtcCB7XG4gICAgY29uc3QgbXNnID0gdGhpcy5jcmVhdGUoKTtcbiAgICBjb25zdCBtcyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIG1zZy5zZWNvbmRzID0gUGJMb25nLmZyb20oTWF0aC5mbG9vcihtcyAvIDEwMDApKS50b1N0cmluZygpO1xuICAgIG1zZy5uYW5vcyA9IChtcyAlIDEwMDApICogMTAwMDAwMDtcbiAgICByZXR1cm4gbXNnO1xuICB9XG4gIC8qKlxuICAgKiBJbiBKU09OIGZvcm1hdCwgdGhlIGBUaW1lc3RhbXBgIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZ1xuICAgKiBpbiB0aGUgUkZDIDMzMzkgZm9ybWF0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogVGltZXN0YW1wLCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBsZXQgbXMgPSBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwO1xuICAgIGlmIChcbiAgICAgIG1zIDwgRGF0ZS5wYXJzZSgnMDAwMS0wMS0wMVQwMDowMDowMFonKSB8fFxuICAgICAgbXMgPiBEYXRlLnBhcnNlKCc5OTk5LTEyLTMxVDIzOjU5OjU5WicpXG4gICAgKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIGVuY29kZSBUaW1lc3RhbXAgdG8gSlNPTi4gTXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZS4nLFxuICAgICAgKTtcbiAgICBpZiAobWVzc2FnZS5uYW5vcyA8IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gZW5jb2RlIGludmFsaWQgVGltZXN0YW1wIHRvIEpTT04uIE5hbm9zIG11c3Qgbm90IGJlIG5lZ2F0aXZlLicsXG4gICAgICApO1xuICAgIGxldCB6ID0gJ1onO1xuICAgIGlmIChtZXNzYWdlLm5hbm9zID4gMCkge1xuICAgICAgbGV0IG5hbm9zU3RyID0gKG1lc3NhZ2UubmFub3MgKyAxMDAwMDAwMDAwKS50b1N0cmluZygpLnN1YnN0cmluZygxKTtcbiAgICAgIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoMykgPT09ICcwMDAwMDAnKVxuICAgICAgICB6ID0gJy4nICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDMpICsgJ1onO1xuICAgICAgZWxzZSBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDYpID09PSAnMDAwJylcbiAgICAgICAgeiA9ICcuJyArIG5hbm9zU3RyLnN1YnN0cmluZygwLCA2KSArICdaJztcbiAgICAgIGVsc2UgeiA9ICcuJyArIG5hbm9zU3RyICsgJ1onO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUobXMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnLjAwMFonLCB6KTtcbiAgfVxuICAvKipcbiAgICogSW4gSlNPTiBmb3JtYXQsIHRoZSBgVGltZXN0YW1wYCB0eXBlIGlzIGVuY29kZWQgYXMgYSBzdHJpbmdcbiAgICogaW4gdGhlIFJGQyAzMzM5IGZvcm1hdC5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBUaW1lc3RhbXAsXG4gICk6IFRpbWVzdGFtcCB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSAnc3RyaW5nJylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OICcgKyB0eXBlb2ZKc29uVmFsdWUoanNvbikgKyAnLicsXG4gICAgICApO1xuICAgIGxldCBtYXRjaGVzID0ganNvbi5tYXRjaChcbiAgICAgIC9eKFswLTldezR9KS0oWzAtOV17Mn0pLShbMC05XXsyfSlUKFswLTldezJ9KTooWzAtOV17Mn0pOihbMC05XXsyfSkoPzpafFxcLihbMC05XXszLDl9KVp8KFsrLV1bMC05XVswLTldOlswLTldWzAtOV0pKSQvLFxuICAgICk7XG4gICAgaWYgKCFtYXRjaGVzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gSW52YWxpZCBmb3JtYXQuJyk7XG4gICAgbGV0IG1zID0gRGF0ZS5wYXJzZShcbiAgICAgIG1hdGNoZXNbMV0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBtYXRjaGVzWzJdICtcbiAgICAgICAgJy0nICtcbiAgICAgICAgbWF0Y2hlc1szXSArXG4gICAgICAgICdUJyArXG4gICAgICAgIG1hdGNoZXNbNF0gK1xuICAgICAgICAnOicgK1xuICAgICAgICBtYXRjaGVzWzVdICtcbiAgICAgICAgJzonICtcbiAgICAgICAgbWF0Y2hlc1s2XSArXG4gICAgICAgIChtYXRjaGVzWzhdID8gbWF0Y2hlc1s4XSA6ICdaJyksXG4gICAgKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG1zKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIEludmFsaWQgdmFsdWUuJyk7XG4gICAgaWYgKFxuICAgICAgbXMgPCBEYXRlLnBhcnNlKCcwMDAxLTAxLTAxVDAwOjAwOjAwWicpIHx8XG4gICAgICBtcyA+IERhdGUucGFyc2UoJzk5OTktMTItMzFUMjM6NTk6NTlaJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLicsXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHRhcmdldC5zZWNvbmRzID0gUGJMb25nLmZyb20obXMgLyAxMDAwKS50b1N0cmluZygpO1xuICAgIHRhcmdldC5uYW5vcyA9IDA7XG4gICAgaWYgKG1hdGNoZXNbN10pXG4gICAgICB0YXJnZXQubmFub3MgPVxuICAgICAgICBwYXJzZUludCgnMScgKyBtYXRjaGVzWzddICsgJzAnLnJlcGVhdCg5IC0gbWF0Y2hlc1s3XS5sZW5ndGgpKSAtXG4gICAgICAgIDEwMDAwMDAwMDA7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxUaW1lc3RhbXA+KTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2Uuc2Vjb25kcyA9ICcwJztcbiAgICBtZXNzYWdlLm5hbm9zID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VGltZXN0YW1wPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBUaW1lc3RhbXAsXG4gICk6IFRpbWVzdGFtcCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogaW50NjQgc2Vjb25kcyAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2Uuc2Vjb25kcyA9IHJlYWRlci5pbnQ2NCgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogaW50MzIgbmFub3MgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLm5hbm9zID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFRpbWVzdGFtcCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBpbnQ2NCBzZWNvbmRzID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5zZWNvbmRzICE9PSAnMCcpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50NjQobWVzc2FnZS5zZWNvbmRzKTtcbiAgICAvKiBpbnQzMiBuYW5vcyA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UubmFub3MgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5uYW5vcyk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGNvbnN0IFRpbWVzdGFtcCA9IG5ldyBUaW1lc3RhbXAkVHlwZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvbW9kZWxzL21vZGVscy5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5tb2RlbHNcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQgdHlwZSB7XG4gIEJpbmFyeVJlYWRPcHRpb25zLFxuICBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gIElCaW5hcnlSZWFkZXIsXG4gIElCaW5hcnlXcml0ZXIsXG4gIFBhcnRpYWxNZXNzYWdlLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQge1xuICBNZXNzYWdlVHlwZSxcbiAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCxcbiAgVW5rbm93bkZpZWxkSGFuZGxlcixcbiAgV2lyZVR5cGUsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IFN0cnVjdCB9IGZyb20gJy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QnO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcCc7XG5cbi8qKlxuICogQ2FsbFN0YXRlIGlzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYWxsXG4gKiBhcyBzZWVuIGJ5IGFuIFNGVS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGUge1xuICAvKipcbiAgICogcGFydGljaXBhbnRzIGlzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAgICogSW4gbGFyZ2UgY2FsbHMsIHRoZSBsaXN0IGNvdWxkIGJlIHRydW5jYXRlZCBpbiB3aGljaFxuICAgKiBjYXNlLCB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgY29udGFpbnMgZmV3ZXIgcGFydGljaXBhbnRzXG4gICAqIHRoYW4gdGhlIGNvdW50cyByZXR1cm5lZCBpbiBwYXJ0aWNpcGFudF9jb3VudC4gQW5vbnltb3VzXG4gICAqIHBhcnRpY2lwYW50cyBhcmUgKipOT1QqKiBpbmNsdWRlZCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudHMgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudFtdO1xuICAvKipcbiAgICogc3RhcnRlZF9hdCBpcyB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBzdGFydGVkX2F0ID0gMjtcbiAgICovXG4gIHN0YXJ0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIHBhcnRpY2lwYW50X2NvdW50IGNvbnRhaW5zIHRoZSBzdW1tYXJ5IG9mIHRoZSBjb3VudHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDM7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gNDtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudCB7XG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsIGluY2x1ZGluZ1xuICAgKiB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgdG90YWwgPSAxO1xuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBhbm9ueW1vdXMgPSAyO1xuICAgKi9cbiAgYW5vbnltb3VzOiBudW1iZXI7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbiB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byBwaW5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHNlc2lvbl9pZCB0byBwaW4sIGlmIG5vdCBwcm92aWRlZCwgYXBwbGllcyB0byBhbGwgc2Vzc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogdGhvc2Ugd2hvIGFyZSBvbmxpbmUgaW4gdGhlIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogbWFwIG9mIHRyYWNrIGlkIHRvIHRyYWNrIHR5cGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgcHVibGlzaGVkX3RyYWNrcyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZWRUcmFja3M6IFRyYWNrVHlwZVtdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGpvaW5lZF9hdCA9IDQ7XG4gICAqL1xuICBqb2luZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2xvb2t1cF9wcmVmaXggPSA1O1xuICAgKi9cbiAgdHJhY2tMb29rdXBQcmVmaXg6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gNjtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19zcGVha2luZyA9IDc7XG4gICAqL1xuICBpc1NwZWFraW5nOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX2RvbWluYW50X3NwZWFrZXIgPSA4O1xuICAgKi9cbiAgaXNEb21pbmFudFNwZWFrZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGF1ZGlvX2xldmVsID0gOTtcbiAgICovXG4gIGF1ZGlvTGV2ZWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxMDtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGltYWdlID0gMTE7XG4gICAqL1xuICBpbWFnZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDEyO1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgcm9sZXMgPSAxMztcbiAgICovXG4gIHJvbGVzOiBzdHJpbmdbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSA9IDE7XG4gICAqL1xuICB2aWRlb1F1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAyO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9EaW1lbnNpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXIge1xuICAvKipcbiAgICogZm9yIHRyYWNrcyB3aXRoIGEgc2luZ2xlIGxheWVyLCB0aGlzIHNob3VsZCBiZSBISUdIXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJpZCA9IDE7XG4gICAqL1xuICByaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gMjtcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiB0YXJnZXQgYml0cmF0ZSwgc2VydmVyIHdpbGwgbWVhc3VyZSBhY3R1YWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgYml0cmF0ZSA9IDQ7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBmcHMgPSA1O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSBxdWFsaXR5ID0gNjtcbiAgICovXG4gIHF1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlYyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBwYXlsb2FkX3R5cGUgPSAxO1xuICAgKi9cbiAgcGF5bG9hZFR5cGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAyO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZm10cF9saW5lID0gMztcbiAgICovXG4gIGZtdHBMaW5lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBjbG9ja19yYXRlID0gNDtcbiAgICovXG4gIGNsb2NrUmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZW5jb2RpbmdfcGFyYW1ldGVycyA9IDU7XG4gICAqL1xuICBlbmNvZGluZ1BhcmFtZXRlcnM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGZlZWRiYWNrcyA9IDY7XG4gICAqL1xuICBmZWVkYmFja3M6IHN0cmluZ1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2lkID0gMTtcbiAgICovXG4gIHRyYWNrSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzID0gNTtcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllcltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWlkID0gNjtcbiAgICovXG4gIG1pZDogc3RyaW5nO1xuICAvKipcbiAgICogZm9yIGF1ZGlvIHRyYWNrc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZHR4ID0gNztcbiAgICovXG4gIGR0eDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzdGVyZW8gPSA4O1xuICAgKi9cbiAgc3RlcmVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHJlZCA9IDk7XG4gICAqL1xuICByZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIHRvZG8gcmVtb3ZlIHRoaXNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbCB7XG4gIC8qKlxuICAgKiB0aGUgY2FsbCB0eXBlXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIGNhbGwgaWRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaWQgPSAyO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBpZCBvZiB0aGUgdXNlciB0aGF0IGNyZWF0ZWQgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGNyZWF0ZWRfYnlfdXNlcl9pZCA9IDM7XG4gICAqL1xuICBjcmVhdGVkQnlVc2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBpZCBvZiB0aGUgY3VycmVudCBob3N0IGZvciB0aGlzIGNhbGxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaG9zdF91c2VyX2lkID0gNDtcbiAgICovXG4gIGhvc3RVc2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBjdXN0b20gPSA1O1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGNyZWF0ZWRfYXQgPSA2O1xuICAgKi9cbiAgY3JlYXRlZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHVwZGF0ZWRfYXQgPSA3O1xuICAgKi9cbiAgdXBkYXRlZEF0PzogVGltZXN0YW1wO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxO1xuICAgKi9cbiAgY29kZTogRXJyb3JDb2RlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvdWxkX3JldHJ5ID0gMztcbiAgICovXG4gIHNob3VsZFJldHJ5OiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkayBzZGsgPSAxO1xuICAgKi9cbiAgc2RrPzogU2RrO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUyBvcyA9IDI7XG4gICAqL1xuICBvcz86IE9TO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgPSAzO1xuICAgKi9cbiAgYnJvd3Nlcj86IEJyb3dzZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZSBkZXZpY2UgPSA0O1xuICAgKi9cbiAgZGV2aWNlPzogRGV2aWNlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZGsge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogU2RrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1ham9yID0gMjtcbiAgICovXG4gIG1ham9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaW5vciA9IDM7XG4gICAqL1xuICBtaW5vcjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGF0Y2ggPSA0O1xuICAgKi9cbiAgcGF0Y2g6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPUyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYXJjaGl0ZWN0dXJlID0gMztcbiAgICovXG4gIGFyY2hpdGVjdHVyZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gMjtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZztcbn1cbi8qKlxuICogQ2FsbEdyYW50cyByZXByZXNlbnRzIHRoZSBzZXQgb2YgcGVybWlzc2lvbnMgZ2l2ZW5cbiAqIHRvIHRoZSB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF9hdWRpbyA9IDE7XG4gICAqL1xuICBjYW5QdWJsaXNoQXVkaW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3B1Ymxpc2hfdmlkZW8gPSAyO1xuICAgKi9cbiAgY2FuUHVibGlzaFZpZGVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7XG4gICAqL1xuICBjYW5TY3JlZW5zaGFyZTogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGVcbiAqL1xuZXhwb3J0IGVudW0gUGVlclR5cGUge1xuICAvKipcbiAgICogdG9kbyBmaXggbWUgKG1hcmNlbG8pXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQRUVSX1RZUEVfUFVCTElTSEVSX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFBVQkxJU0hFUl9VTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogUEVFUl9UWVBFX1NVQlNDUklCRVIgPSAxO1xuICAgKi9cbiAgU1VCU0NSSUJFUiA9IDEsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5XG4gKi9cbmV4cG9ydCBlbnVtIENvbm5lY3Rpb25RdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9QT09SID0gMTtcbiAgICovXG4gIFBPT1IgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9HT09EID0gMjtcbiAgICovXG4gIEdPT0QgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9FWENFTExFTlQgPSAzO1xuICAgKi9cbiAgRVhDRUxMRU5UID0gMyxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5XG4gKi9cbmV4cG9ydCBlbnVtIFZpZGVvUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9MT1dfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgTE9XX1VOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX01JRCA9IDE7XG4gICAqL1xuICBNSUQgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfSElHSCA9IDI7XG4gICAqL1xuICBISUdIID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX09GRiA9IDM7XG4gICAqL1xuICBPRkYgPSAzLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGVcbiAqL1xuZXhwb3J0IGVudW0gVHJhY2tUeXBlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX0FVRElPID0gMTtcbiAgICovXG4gIEFVRElPID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX1ZJREVPID0gMjtcbiAgICovXG4gIFZJREVPID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX1NDUkVFTl9TSEFSRSA9IDM7XG4gICAqL1xuICBTQ1JFRU5fU0hBUkUgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFX0FVRElPID0gNDtcbiAgICovXG4gIFNDUkVFTl9TSEFSRV9BVURJTyA9IDQsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yQ29kZVxuICovXG5leHBvcnQgZW51bSBFcnJvckNvZGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS19OT1RfRk9VTkQgPSAxMDA7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLX05PVF9GT1VORCA9IDEwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tTX01JU01BVENIID0gMTAxO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS1NfTUlTTUFUQ0ggPSAxMDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX09VVF9PRl9PUkRFUiA9IDEwMjtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfT1VUX09GX09SREVSID0gMTAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS19WSURFT19MQVlFUl9OT1RfRk9VTkQgPSAxMDM7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLX1ZJREVPX0xBWUVSX05PVF9GT1VORCA9IDEwMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0xJVkVfRU5ERUQgPSAxMDQ7XG4gICAqL1xuICBMSVZFX0VOREVEID0gMTA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTk9UX0ZPVU5EID0gMjAwO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTk9UX0ZPVU5EID0gMjAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU5HX09VVCA9IDIwMTtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01JR1JBVElOR19PVVQgPSAyMDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJT05fRkFJTEVEID0gMjAyO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU9OX0ZBSUxFRCA9IDIwMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElORyA9IDIwMztcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01JR1JBVElORyA9IDIwMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX1JFQ09OTkVDVF9GQUlMRUQgPSAyMDQ7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9SRUNPTk5FQ1RfRkFJTEVEID0gMjA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUVESUFfVFJBTlNQT1JUX0ZBSUxVUkUgPSAyMDU7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NRURJQV9UUkFOU1BPUlRfRkFJTFVSRSA9IDIwNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0NBTExfTk9UX0ZPVU5EID0gMzAwO1xuICAgKi9cbiAgQ0FMTF9OT1RfRk9VTkQgPSAzMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9SRVFVRVNUX1ZBTElEQVRJT05fRkFJTEVEID0gNDAwO1xuICAgKi9cbiAgUkVRVUVTVF9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1VOQVVUSEVOVElDQVRFRCA9IDQwMTtcbiAgICovXG4gIFVOQVVUSEVOVElDQVRFRCA9IDQwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BFUk1JU1NJT05fREVOSUVEID0gNDAzO1xuICAgKi9cbiAgUEVSTUlTU0lPTl9ERU5JRUQgPSA0MDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9UT09fTUFOWV9SRVFVRVNUUyA9IDQyOTtcbiAgICovXG4gIFRPT19NQU5ZX1JFUVVFU1RTID0gNDI5LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwO1xuICAgKi9cbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfU0ZVX1NIVVRUSU5HX0RPV04gPSA2MDA7XG4gICAqL1xuICBTRlVfU0hVVFRJTkdfRE9XTiA9IDYwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1NGVV9GVUxMID0gNzAwO1xuICAgKi9cbiAgU0ZVX0ZVTEwgPSA3MDAsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGVcbiAqL1xuZXhwb3J0IGVudW0gU2RrVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1JFQUNUID0gMTtcbiAgICovXG4gIFJFQUNUID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9BTkdVTEFSID0gMjtcbiAgICovXG4gIEFOR1VMQVIgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0FORFJPSUQgPSAzO1xuICAgKi9cbiAgQU5EUk9JRCA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfSU9TID0gNDtcbiAgICovXG4gIElPUyA9IDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfRkxVVFRFUiA9IDU7XG4gICAqL1xuICBGTFVUVEVSID0gNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9SRUFDVF9OQVRJVkUgPSA2O1xuICAgKi9cbiAgUkVBQ1RfTkFUSVZFID0gNixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9VTklUWSA9IDc7XG4gICAqL1xuICBVTklUWSA9IDcsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfR08gPSA4O1xuICAgKi9cbiAgR08gPSA4LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1BMQUlOX0pBVkFTQ1JJUFQgPSA5O1xuICAgKi9cbiAgUExBSU5fSkFWQVNDUklQVCA9IDksXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNrVW5wdWJsaXNoUmVhc29uIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgdmFsdWUgd2hpY2ggaXMgdXNlZCB3aGVuIHRoZSBzcGVjaWZpYyByZWFzb25cbiAgICogZm9yIG11dGluZyB0aGUgdHJhY2sgaXMgbm90IGtub3duLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHVzZXIgbXV0aW5nIHRoZWlyIHRyYWNrcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fVVNFUl9NVVRFRCA9IDE7XG4gICAqL1xuICBVU0VSX01VVEVEID0gMSxcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgbXV0aW5nIHRoZSB0cmFjayBiZWNhdXNlIHRoZSBwZXJtaXNzaW9uIHRvXG4gICAqIHB1Ymxpc2ggdGhlIHRyYWNrIGhhcyBiZWVuIHJldm9rZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1BFUk1JU1NJT05fUkVWT0tFRCA9IDI7XG4gICAqL1xuICBQRVJNSVNTSU9OX1JFVk9LRUQgPSAyLFxuICAvKipcbiAgICogUmVwcmVzZW50cyBtdXRpbmcgdGhlIHRyYWNrIGR1ZSB0byBtb2RlcmF0aW9uIGFjdGlvbnMuXG4gICAqIFRoaXMgaXMgZGlmZmVyZW50IGZyb20gcGVybWlzc2lvbiByZXZva2VkIGJlY2F1c2UgdGhlXG4gICAqIHBhcnRpY2lwYW50IGNhbiB1bm11dGUgdGhlbXNlbHZlcyBoZXJlIHdoZXJlYXMgaW4gY2FzZVxuICAgKiBvZiBcInBlcm1pc3Npb24gcmV2b2tlXCIgaXQgaXMgbm90IHBvc3NpYmxlIHVudGlsIHRoZVxuICAgKiBjYWxsIHBlcm1pc3Npb25zIGFyZSB1cGRhdGVkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9NT0RFUkFUSU9OID0gMztcbiAgICovXG4gIE1PREVSQVRJT04gPSAzLFxufVxuLyoqXG4gKiBHb0F3YXlSZWFzb24gcmVwcmVzZW50cyB0aGUgcmVhc29uIGZvciB0aGUgU0ZVIHRvXG4gKiBkaXNjb25uZWN0IHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIEdvQXdheVJlYXNvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1NIVVRUSU5HX0RPV04gPSAxO1xuICAgKi9cbiAgU0hVVFRJTkdfRE9XTiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fUkVCQUxBTkNFID0gMjtcbiAgICovXG4gIFJFQkFMQU5DRSA9IDIsXG59XG4vKipcbiAqIENhbGxFbmRlZFJlYXNvbiByZXByZXNlbnRzIHRoZSByZWFzb24gZm9yIHRoZSBjYWxsIHRvIGVuZC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb25cbiAqL1xuZXhwb3J0IGVudW0gQ2FsbEVuZGVkUmVhc29uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fRU5ERUQgPSAxO1xuICAgKi9cbiAgRU5ERUQgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0xJVkVfRU5ERUQgPSAyO1xuICAgKi9cbiAgTElWRV9FTkRFRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fS0lDS0VEID0gMztcbiAgICovXG4gIEtJQ0tFRCA9IDMsXG59XG4vKipcbiAqIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IGRlZmluZXMgdGhlIHdzIHN0cmF0ZWdpZXMgYXZhaWxhYmxlIGZvciBoYW5kbGluZyByZWNvbm5lY3Rpb25zLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBlbnVtIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIFNlbnQgYWZ0ZXIgcmVhY2hpbmcgdGhlIG1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzLCBsZWFkaW5nIHRvIHBlcm1hbmVudCBkaXNjb25uZWN0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9ESVNDT05ORUNUID0gMTtcbiAgICovXG4gIERJU0NPTk5FQ1QgPSAxLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBtYWludGFpbmluZyBleGlzdGluZyBwdWJsaXNoZXIvc3Vic2NyaWJlciBwYyBpbnN0YW5jZXNcbiAgICogYW5kIGVzdGFibGlzaCBhIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfRkFTVCA9IDI7XG4gICAqL1xuICBGQVNUID0gMixcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgZHJvcCBleGlzdGluZyBwYyBpbnN0YW5jZXMgYW5kIGNyZWF0ZXMgYSBmcmVzaCBXZWJTb2NrZXQgY29ubmVjdGlvbixcbiAgICogZW5zdXJpbmcgYSBjbGVhbiBzdGF0ZSBmb3IgdGhlIHJlY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfQ0xFQU4gPSAzO1xuICAgKi9cbiAgQ0xFQU4gPSAzLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBvYnRhaW4gbmV3IGNyZWRlbnRpYWxzIGZyb20gdGhlIGNvb3JkaW5hdG9yLCBkcm9wcyBleGlzdGluZyBwYyBpbnN0YW5jZXMsIGFuZCBpbml0aWFsaXplc1xuICAgKiBhIGNvbXBsZXRlbHkgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uLCBlbnN1cmluZyBhIGNvbXByZWhlbnNpdmUgcmVzZXQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX0ZVTEwgPSA0O1xuICAgKi9cbiAgRlVMTCA9IDQsXG4gIC8qKlxuICAgKiBTREsgc2hvdWxkIG1pZ3JhdGUgdG8gYSBuZXcgU0ZVIGluc3RhbmNlXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX01JR1JBVEUgPSA1O1xuICAgKi9cbiAgTUlHUkFURSA9IDUsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50cycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnQsXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3N0YXJ0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X2NvdW50JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudENvdW50LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdwaW5zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPENhbGxTdGF0ZT4pOiBDYWxsU3RhdGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5wYXJ0aWNpcGFudHMgPSBbXTtcbiAgICBtZXNzYWdlLnBpbnMgPSBbXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8Q2FsbFN0YXRlPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBDYWxsU3RhdGUsXG4gICk6IENhbGxTdGF0ZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnRzICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudHMucHVzaChcbiAgICAgICAgICAgIFBhcnRpY2lwYW50LmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucyksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHN0YXJ0ZWRfYXQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnN0YXJ0ZWRBdCA9IFRpbWVzdGFtcC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5zdGFydGVkQXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50IHBhcnRpY2lwYW50X2NvdW50ICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudENvdW50ID0gUGFydGljaXBhbnRDb3VudC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudENvdW50LFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLnBpbnMucHVzaChcbiAgICAgICAgICAgIFBpbi5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IENhbGxTdGF0ZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudHMgPSAxOyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5wYXJ0aWNpcGFudHMubGVuZ3RoOyBpKyspXG4gICAgICBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnBhcnRpY2lwYW50c1tpXSxcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgc3RhcnRlZF9hdCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc3RhcnRlZEF0KVxuICAgICAgVGltZXN0YW1wLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2Uuc3RhcnRlZEF0LFxuICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UucGFydGljaXBhbnRDb3VudClcbiAgICAgIFBhcnRpY2lwYW50Q291bnQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudENvdW50LFxuICAgICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgPSA0OyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5waW5zLmxlbmd0aDsgaSsrKVxuICAgICAgUGluLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UucGluc1tpXSxcbiAgICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxTdGF0ZSA9IG5ldyBDYWxsU3RhdGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRDb3VudCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRDb3VudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0b3RhbCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdhbm9ueW1vdXMnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8UGFydGljaXBhbnRDb3VudD4pOiBQYXJ0aWNpcGFudENvdW50IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudG90YWwgPSAwO1xuICAgIG1lc3NhZ2UuYW5vbnltb3VzID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8UGFydGljaXBhbnRDb3VudD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogUGFydGljaXBhbnRDb3VudCxcbiAgKTogUGFydGljaXBhbnRDb3VudCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogdWludDMyIHRvdGFsICovIDE6XG4gICAgICAgICAgbWVzc2FnZS50b3RhbCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiB1aW50MzIgYW5vbnltb3VzICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5hbm9ueW1vdXMgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFBhcnRpY2lwYW50Q291bnQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogdWludDMyIHRvdGFsID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS50b3RhbCAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS51aW50MzIobWVzc2FnZS50b3RhbCk7XG4gICAgLyogdWludDMyIGFub255bW91cyA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UuYW5vbnltb3VzICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLnVpbnQzMihtZXNzYWdlLmFub255bW91cyk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Q291bnQgPSBuZXcgUGFydGljaXBhbnRDb3VudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW4kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBpbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8UGluPik6IFBpbiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnVzZXJJZCA9ICcnO1xuICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8UGluPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBQaW4sXG4gICk6IFBpbiB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHVzZXJfaWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2Vzc2lvbl9pZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBQaW4sXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIHVzZXJfaWQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudXNlcklkKTtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW5cbiAqL1xuZXhwb3J0IGNvbnN0IFBpbiA9IG5ldyBQaW4kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnam9pbmVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICd0cmFja19sb29rdXBfcHJlZml4JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAnaXNfZG9taW5hbnRfc3BlYWtlcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogOSwgbmFtZTogJ2F1ZGlvX2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDEwLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICdpbWFnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTIsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdyb2xlcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxQYXJ0aWNpcGFudD4pOiBQYXJ0aWNpcGFudCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnVzZXJJZCA9ICcnO1xuICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gJyc7XG4gICAgbWVzc2FnZS5wdWJsaXNoZWRUcmFja3MgPSBbXTtcbiAgICBtZXNzYWdlLnRyYWNrTG9va3VwUHJlZml4ID0gJyc7XG4gICAgbWVzc2FnZS5jb25uZWN0aW9uUXVhbGl0eSA9IDA7XG4gICAgbWVzc2FnZS5pc1NwZWFraW5nID0gZmFsc2U7XG4gICAgbWVzc2FnZS5pc0RvbWluYW50U3BlYWtlciA9IGZhbHNlO1xuICAgIG1lc3NhZ2UuYXVkaW9MZXZlbCA9IDA7XG4gICAgbWVzc2FnZS5uYW1lID0gJyc7XG4gICAgbWVzc2FnZS5pbWFnZSA9ICcnO1xuICAgIG1lc3NhZ2Uucm9sZXMgPSBbXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8UGFydGljaXBhbnQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFBhcnRpY2lwYW50LFxuICApOiBQYXJ0aWNpcGFudCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHVzZXJfaWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2Vzc2lvbl9pZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSBwdWJsaXNoZWRfdHJhY2tzICovIDM6XG4gICAgICAgICAgaWYgKHdpcmVUeXBlID09PSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpXG4gICAgICAgICAgICBmb3IgKGxldCBlID0gcmVhZGVyLmludDMyKCkgKyByZWFkZXIucG9zOyByZWFkZXIucG9zIDwgZTsgKVxuICAgICAgICAgICAgICBtZXNzYWdlLnB1Ymxpc2hlZFRyYWNrcy5wdXNoKHJlYWRlci5pbnQzMigpKTtcbiAgICAgICAgICBlbHNlIG1lc3NhZ2UucHVibGlzaGVkVHJhY2tzLnB1c2gocmVhZGVyLmludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgam9pbmVkX2F0ICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5qb2luZWRBdCA9IFRpbWVzdGFtcC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5qb2luZWRBdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyB0cmFja19sb29rdXBfcHJlZml4ICovIDU6XG4gICAgICAgICAgbWVzc2FnZS50cmFja0xvb2t1cFByZWZpeCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgKi8gNjpcbiAgICAgICAgICBtZXNzYWdlLmNvbm5lY3Rpb25RdWFsaXR5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBpc19zcGVha2luZyAqLyA3OlxuICAgICAgICAgIG1lc3NhZ2UuaXNTcGVha2luZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBpc19kb21pbmFudF9zcGVha2VyICovIDg6XG4gICAgICAgICAgbWVzc2FnZS5pc0RvbWluYW50U3BlYWtlciA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogZmxvYXQgYXVkaW9fbGV2ZWwgKi8gOTpcbiAgICAgICAgICBtZXNzYWdlLmF1ZGlvTGV2ZWwgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgbmFtZSAqLyAxMDpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIGltYWdlICovIDExOlxuICAgICAgICAgIG1lc3NhZ2UuaW1hZ2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBjdXN0b20gKi8gMTI6XG4gICAgICAgICAgbWVzc2FnZS5jdXN0b20gPSBTdHJ1Y3QuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuY3VzdG9tLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgc3RyaW5nIHJvbGVzICovIDEzOlxuICAgICAgICAgIG1lc3NhZ2Uucm9sZXMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBQYXJ0aWNpcGFudCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgdXNlcl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHB1Ymxpc2hlZF90cmFja3MgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLnB1Ymxpc2hlZFRyYWNrcy5sZW5ndGgpIHtcbiAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UucHVibGlzaGVkVHJhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICB3cml0ZXIuaW50MzIobWVzc2FnZS5wdWJsaXNoZWRUcmFja3NbaV0pO1xuICAgICAgd3JpdGVyLmpvaW4oKTtcbiAgICB9XG4gICAgLyogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBqb2luZWRfYXQgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmpvaW5lZEF0KVxuICAgICAgVGltZXN0YW1wLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2Uuam9pbmVkQXQsXG4gICAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJpbmcgdHJhY2tfbG9va3VwX3ByZWZpeCA9IDU7ICovXG4gICAgaWYgKG1lc3NhZ2UudHJhY2tMb29rdXBQcmVmaXggIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnRyYWNrTG9va3VwUHJlZml4KTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSA2OyAqL1xuICAgIGlmIChtZXNzYWdlLmNvbm5lY3Rpb25RdWFsaXR5ICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZyg2LCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHkpO1xuICAgIC8qIGJvb2wgaXNfc3BlYWtpbmcgPSA3OyAqL1xuICAgIGlmIChtZXNzYWdlLmlzU3BlYWtpbmcgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZyg3LCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5pc1NwZWFraW5nKTtcbiAgICAvKiBib29sIGlzX2RvbWluYW50X3NwZWFrZXIgPSA4OyAqL1xuICAgIGlmIChtZXNzYWdlLmlzRG9taW5hbnRTcGVha2VyICE9PSBmYWxzZSlcbiAgICAgIHdyaXRlci50YWcoOCwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UuaXNEb21pbmFudFNwZWFrZXIpO1xuICAgIC8qIGZsb2F0IGF1ZGlvX2xldmVsID0gOTsgKi9cbiAgICBpZiAobWVzc2FnZS5hdWRpb0xldmVsICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZyg5LCBXaXJlVHlwZS5CaXQzMikuZmxvYXQobWVzc2FnZS5hdWRpb0xldmVsKTtcbiAgICAvKiBzdHJpbmcgbmFtZSA9IDEwOyAqL1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxMCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAvKiBzdHJpbmcgaW1hZ2UgPSAxMTsgKi9cbiAgICBpZiAobWVzc2FnZS5pbWFnZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDExLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmltYWdlKTtcbiAgICAvKiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDEyOyAqL1xuICAgIGlmIChtZXNzYWdlLmN1c3RvbSlcbiAgICAgIFN0cnVjdC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmN1c3RvbSxcbiAgICAgICAgd3JpdGVyLnRhZygxMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiByZXBlYXRlZCBzdHJpbmcgcm9sZXMgPSAxMzsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2Uucm9sZXMubGVuZ3RoOyBpKyspXG4gICAgICB3cml0ZXIudGFnKDEzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnJvbGVzW2ldKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50ID0gbmV3IFBhcnRpY2lwYW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0cmVhbVF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cmVhbVF1YWxpdHk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlN0cmVhbVF1YWxpdHknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmlkZW9fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8U3RyZWFtUXVhbGl0eT4pOiBTdHJlYW1RdWFsaXR5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudmlkZW9RdWFsaXR5ID0gMDtcbiAgICBtZXNzYWdlLnVzZXJJZCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTdHJlYW1RdWFsaXR5Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdHJlYW1RdWFsaXR5LFxuICApOiBTdHJlYW1RdWFsaXR5IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UudmlkZW9RdWFsaXR5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHVzZXJfaWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU3RyZWFtUXVhbGl0eSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudmlkZW9RdWFsaXR5ICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UudmlkZW9RdWFsaXR5KTtcbiAgICAvKiBzdHJpbmcgdXNlcl9pZCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1RdWFsaXR5ID0gbmV3IFN0cmVhbVF1YWxpdHkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9EaW1lbnNpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvRGltZW5zaW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd3aWR0aCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdoZWlnaHQnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VmlkZW9EaW1lbnNpb24+KTogVmlkZW9EaW1lbnNpb24ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS53aWR0aCA9IDA7XG4gICAgbWVzc2FnZS5oZWlnaHQgPSAwO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxWaWRlb0RpbWVuc2lvbj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmlkZW9EaW1lbnNpb24sXG4gICk6IFZpZGVvRGltZW5zaW9uIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiB1aW50MzIgd2lkdGggKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHVpbnQzMiBoZWlnaHQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogVmlkZW9EaW1lbnNpb24sXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogdWludDMyIHdpZHRoID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS51aW50MzIobWVzc2FnZS53aWR0aCk7XG4gICAgLyogdWludDMyIGhlaWdodCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLnVpbnQzMihtZXNzYWdlLmhlaWdodCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0RpbWVuc2lvbiA9IG5ldyBWaWRlb0RpbWVuc2lvbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb0xheWVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0xheWVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0xheWVyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3JpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3ZpZGVvX2RpbWVuc2lvbicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9EaW1lbnNpb24sXG4gICAgICB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2JpdHJhdGUnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnZnBzJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5JyxcbiAgICAgICAgICBWaWRlb1F1YWxpdHksXG4gICAgICAgICAgJ1ZJREVPX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VmlkZW9MYXllcj4pOiBWaWRlb0xheWVyIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UucmlkID0gJyc7XG4gICAgbWVzc2FnZS5iaXRyYXRlID0gMDtcbiAgICBtZXNzYWdlLmZwcyA9IDA7XG4gICAgbWVzc2FnZS5xdWFsaXR5ID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VmlkZW9MYXllcj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmlkZW9MYXllcixcbiAgKTogVmlkZW9MYXllciB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHJpZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UucmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uIHZpZGVvX2RpbWVuc2lvbiAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlkZW9EaW1lbnNpb24gPSBWaWRlb0RpbWVuc2lvbi5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS52aWRlb0RpbWVuc2lvbixcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHVpbnQzMiBiaXRyYXRlICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5iaXRyYXRlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHVpbnQzMiBmcHMgKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLmZwcyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgcXVhbGl0eSAqLyA2OlxuICAgICAgICAgIG1lc3NhZ2UucXVhbGl0eSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBWaWRlb0xheWVyLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyByaWQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnJpZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UucmlkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiB2aWRlb19kaW1lbnNpb24gPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnZpZGVvRGltZW5zaW9uKVxuICAgICAgVmlkZW9EaW1lbnNpb24uaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS52aWRlb0RpbWVuc2lvbixcbiAgICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHVpbnQzMiBiaXRyYXRlID0gNDsgKi9cbiAgICBpZiAobWVzc2FnZS5iaXRyYXRlICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5WYXJpbnQpLnVpbnQzMihtZXNzYWdlLmJpdHJhdGUpO1xuICAgIC8qIHVpbnQzMiBmcHMgPSA1OyAqL1xuICAgIGlmIChtZXNzYWdlLmZwcyAhPT0gMCkgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5WYXJpbnQpLnVpbnQzMihtZXNzYWdlLmZwcyk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5IHF1YWxpdHkgPSA2OyAqL1xuICAgIGlmIChtZXNzYWdlLnF1YWxpdHkgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5xdWFsaXR5KTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9MYXllciA9IG5ldyBWaWRlb0xheWVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvZGVjJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb2RlYz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGF5bG9hZF90eXBlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2ZtdHBfbGluZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2Nsb2NrX3JhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdlbmNvZGluZ19wYXJhbWV0ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmZWVkYmFja3MnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q29kZWM+KTogQ29kZWMge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5wYXlsb2FkVHlwZSA9IDA7XG4gICAgbWVzc2FnZS5uYW1lID0gJyc7XG4gICAgbWVzc2FnZS5mbXRwTGluZSA9ICcnO1xuICAgIG1lc3NhZ2UuY2xvY2tSYXRlID0gMDtcbiAgICBtZXNzYWdlLmVuY29kaW5nUGFyYW1ldGVycyA9ICcnO1xuICAgIG1lc3NhZ2UuZmVlZGJhY2tzID0gW107XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPENvZGVjPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBDb2RlYyxcbiAgKTogQ29kZWMge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHVpbnQzMiBwYXlsb2FkX3R5cGUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWRUeXBlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBuYW1lICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBmbXRwX2xpbmUgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLmZtdHBMaW5lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHVpbnQzMiBjbG9ja19yYXRlICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5jbG9ja1JhdGUgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIGVuY29kaW5nX3BhcmFtZXRlcnMgKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLmVuY29kaW5nUGFyYW1ldGVycyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJpbmcgZmVlZGJhY2tzICovIDY6XG4gICAgICAgICAgbWVzc2FnZS5mZWVkYmFja3MucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBDb2RlYyxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiB1aW50MzIgcGF5bG9hZF90eXBlID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkVHlwZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS51aW50MzIobWVzc2FnZS5wYXlsb2FkVHlwZSk7XG4gICAgLyogc3RyaW5nIG5hbWUgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIC8qIHN0cmluZyBmbXRwX2xpbmUgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLmZtdHBMaW5lICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5mbXRwTGluZSk7XG4gICAgLyogdWludDMyIGNsb2NrX3JhdGUgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmNsb2NrUmF0ZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuVmFyaW50KS51aW50MzIobWVzc2FnZS5jbG9ja1JhdGUpO1xuICAgIC8qIHN0cmluZyBlbmNvZGluZ19wYXJhbWV0ZXJzID0gNTsgKi9cbiAgICBpZiAobWVzc2FnZS5lbmNvZGluZ1BhcmFtZXRlcnMgIT09ICcnKVxuICAgICAgd3JpdGVyXG4gICAgICAgIC50YWcoNSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKVxuICAgICAgICAuc3RyaW5nKG1lc3NhZ2UuZW5jb2RpbmdQYXJhbWV0ZXJzKTtcbiAgICAvKiByZXBlYXRlZCBzdHJpbmcgZmVlZGJhY2tzID0gNjsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UuZmVlZGJhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgd3JpdGVyLnRhZyg2LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmZlZWRiYWNrc1tpXSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjXG4gKi9cbmV4cG9ydCBjb25zdCBDb2RlYyA9IG5ldyBDb2RlYyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8SUNFVHJpY2tsZT4pOiBJQ0VUcmlja2xlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UucGVlclR5cGUgPSAwO1xuICAgIG1lc3NhZ2UuaWNlQ2FuZGlkYXRlID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8SUNFVHJpY2tsZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSUNFVHJpY2tsZSxcbiAgKTogSUNFVHJpY2tsZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5wZWVyVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBpY2VfY2FuZGlkYXRlICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5pY2VDYW5kaWRhdGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogSUNFVHJpY2tsZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnBlZXJUeXBlICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UucGVlclR5cGUpO1xuICAgIC8qIHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5pY2VDYW5kaWRhdGUgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmljZUNhbmRpZGF0ZSk7XG4gICAgLyogc3RyaW5nIHNlc3Npb25faWQgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLnNlc3Npb25JZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2Vzc2lvbklkKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZSA9IG5ldyBJQ0VUcmlja2xlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrSW5mbyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tJbmZvPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndHJhY2tfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllcixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnbWlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnZHR4Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ3N0ZXJlbycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDksIG5hbWU6ICdyZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VHJhY2tJbmZvPik6IFRyYWNrSW5mbyB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnRyYWNrSWQgPSAnJztcbiAgICBtZXNzYWdlLnRyYWNrVHlwZSA9IDA7XG4gICAgbWVzc2FnZS5sYXllcnMgPSBbXTtcbiAgICBtZXNzYWdlLm1pZCA9ICcnO1xuICAgIG1lc3NhZ2UuZHR4ID0gZmFsc2U7XG4gICAgbWVzc2FnZS5zdGVyZW8gPSBmYWxzZTtcbiAgICBtZXNzYWdlLnJlZCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxUcmFja0luZm8+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFRyYWNrSW5mbyxcbiAgKTogVHJhY2tJbmZvIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgdHJhY2tfaWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnRyYWNrSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnRyYWNrVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzICovIDU6XG4gICAgICAgICAgbWVzc2FnZS5sYXllcnMucHVzaChcbiAgICAgICAgICAgIFZpZGVvTGF5ZXIuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBtaWQgKi8gNjpcbiAgICAgICAgICBtZXNzYWdlLm1pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIGR0eCAqLyA3OlxuICAgICAgICAgIG1lc3NhZ2UuZHR4ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIHN0ZXJlbyAqLyA4OlxuICAgICAgICAgIG1lc3NhZ2Uuc3RlcmVvID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIHJlZCAqLyA5OlxuICAgICAgICAgIG1lc3NhZ2UucmVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogVHJhY2tJbmZvLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyB0cmFja19pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudHJhY2tJZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudHJhY2tJZCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnRyYWNrVHlwZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnRyYWNrVHlwZSk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllciBsYXllcnMgPSA1OyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5sYXllcnMubGVuZ3RoOyBpKyspXG4gICAgICBWaWRlb0xheWVyLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UubGF5ZXJzW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDUsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyaW5nIG1pZCA9IDY7ICovXG4gICAgaWYgKG1lc3NhZ2UubWlkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5taWQpO1xuICAgIC8qIGJvb2wgZHR4ID0gNzsgKi9cbiAgICBpZiAobWVzc2FnZS5kdHggIT09IGZhbHNlKSB3cml0ZXIudGFnKDcsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLmR0eCk7XG4gICAgLyogYm9vbCBzdGVyZW8gPSA4OyAqL1xuICAgIGlmIChtZXNzYWdlLnN0ZXJlbyAhPT0gZmFsc2UpXG4gICAgICB3cml0ZXIudGFnKDgsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLnN0ZXJlbyk7XG4gICAgLyogYm9vbCByZWQgPSA5OyAqL1xuICAgIGlmIChtZXNzYWdlLnJlZCAhPT0gZmFsc2UpIHdyaXRlci50YWcoOSwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UucmVkKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja0luZm8gPSBuZXcgVHJhY2tJbmZvJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGwnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndHlwZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY3JlYXRlZF9ieV91c2VyX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdob3N0X3VzZXJfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ2N1c3RvbScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU3RydWN0IH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnY3JlYXRlZF9hdCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGltZXN0YW1wIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAndXBkYXRlZF9hdCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGltZXN0YW1wIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q2FsbD4pOiBDYWxsIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudHlwZSA9ICcnO1xuICAgIG1lc3NhZ2UuaWQgPSAnJztcbiAgICBtZXNzYWdlLmNyZWF0ZWRCeVVzZXJJZCA9ICcnO1xuICAgIG1lc3NhZ2UuaG9zdFVzZXJJZCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPENhbGw+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IENhbGwsXG4gICk6IENhbGwge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyB0eXBlICovIDE6XG4gICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBpZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIGNyZWF0ZWRfYnlfdXNlcl9pZCAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UuY3JlYXRlZEJ5VXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBob3N0X3VzZXJfaWQgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLmhvc3RVc2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBjdXN0b20gKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLmN1c3RvbSA9IFN0cnVjdC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5jdXN0b20sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGNyZWF0ZWRfYXQgKi8gNjpcbiAgICAgICAgICBtZXNzYWdlLmNyZWF0ZWRBdCA9IFRpbWVzdGFtcC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHVwZGF0ZWRfYXQgKi8gNzpcbiAgICAgICAgICBtZXNzYWdlLnVwZGF0ZWRBdCA9IFRpbWVzdGFtcC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS51cGRhdGVkQXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQ2FsbCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgdHlwZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudHlwZSk7XG4gICAgLyogc3RyaW5nIGlkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIC8qIHN0cmluZyBjcmVhdGVkX2J5X3VzZXJfaWQgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLmNyZWF0ZWRCeVVzZXJJZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuY3JlYXRlZEJ5VXNlcklkKTtcbiAgICAvKiBzdHJpbmcgaG9zdF91c2VyX2lkID0gNDsgKi9cbiAgICBpZiAobWVzc2FnZS5ob3N0VXNlcklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5ob3N0VXNlcklkKTtcbiAgICAvKiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDU7ICovXG4gICAgaWYgKG1lc3NhZ2UuY3VzdG9tKVxuICAgICAgU3RydWN0LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuY3VzdG9tLFxuICAgICAgICB3cml0ZXIudGFnKDUsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjcmVhdGVkX2F0ID0gNjsgKi9cbiAgICBpZiAobWVzc2FnZS5jcmVhdGVkQXQpXG4gICAgICBUaW1lc3RhbXAuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIHdyaXRlci50YWcoNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHVwZGF0ZWRfYXQgPSA3OyAqL1xuICAgIGlmIChtZXNzYWdlLnVwZGF0ZWRBdClcbiAgICAgIFRpbWVzdGFtcC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnVwZGF0ZWRBdCxcbiAgICAgICAgd3JpdGVyLnRhZyg3LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsID0gbmV3IENhbGwkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvcicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjb2RlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yQ29kZScsXG4gICAgICAgICAgRXJyb3JDb2RlLFxuICAgICAgICAgICdFUlJPUl9DT0RFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21lc3NhZ2UnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzaG91bGRfcmV0cnknLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8RXJyb3I+KTogRXJyb3Ige1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5jb2RlID0gMDtcbiAgICBtZXNzYWdlLm1lc3NhZ2UgPSAnJztcbiAgICBtZXNzYWdlLnNob3VsZFJldHJ5ID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEVycm9yPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBFcnJvcixcbiAgKTogRXJyb3Ige1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yQ29kZSBjb2RlICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5jb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG1lc3NhZ2UgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBzaG91bGRfcmV0cnkgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnNob3VsZFJldHJ5ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogRXJyb3IsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IDApIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmNvZGUpO1xuICAgIC8qIHN0cmluZyBtZXNzYWdlID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5tZXNzYWdlKTtcbiAgICAvKiBib29sIHNob3VsZF9yZXRyeSA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2hvdWxkUmV0cnkgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5zaG91bGRSZXRyeSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvciA9IG5ldyBFcnJvciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDbGllbnREZXRhaWxzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDbGllbnREZXRhaWxzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkaycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU2RrIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnb3MnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IE9TIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnYnJvd3NlcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQnJvd3NlciB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2RldmljZScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRGV2aWNlIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q2xpZW50RGV0YWlscz4pOiBDbGllbnREZXRhaWxzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxDbGllbnREZXRhaWxzPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBDbGllbnREZXRhaWxzLFxuICApOiBDbGllbnREZXRhaWxzIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGsgc2RrICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZGsgPSBTZGsuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2RrLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1Mgb3MgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLm9zID0gT1MuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2Uub3MsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLmJyb3dzZXIgPSBCcm93c2VyLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmJyb3dzZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2UgZGV2aWNlICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5kZXZpY2UgPSBEZXZpY2UuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuZGV2aWNlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IENsaWVudERldGFpbHMsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrIHNkayA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2RrKVxuICAgICAgU2RrLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2Uuc2RrLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1Mgb3MgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLm9zKVxuICAgICAgT1MuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5vcyxcbiAgICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXIgYnJvd3NlciA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UuYnJvd3NlcilcbiAgICAgIEJyb3dzZXIuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5icm93c2VyLFxuICAgICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlIGRldmljZSA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZGV2aWNlKVxuICAgICAgRGV2aWNlLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZGV2aWNlLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IENsaWVudERldGFpbHMgPSBuZXcgQ2xpZW50RGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZGskVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNkaz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrVHlwZScsIFNka1R5cGUsICdTREtfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWFqb3InLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtaW5vcicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3BhdGNoJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8U2RrPik6IFNkayB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnR5cGUgPSAwO1xuICAgIG1lc3NhZ2UubWFqb3IgPSAnJztcbiAgICBtZXNzYWdlLm1pbm9yID0gJyc7XG4gICAgbWVzc2FnZS5wYXRjaCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFNkaz4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU2RrLFxuICApOiBTZGsge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGUgdHlwZSAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBtYWpvciAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UubWFqb3IgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG1pbm9yICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5taW5vciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgcGF0Y2ggKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLnBhdGNoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBTZGssXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrVHlwZSB0eXBlID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS50eXBlICE9PSAwKSB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICAvKiBzdHJpbmcgbWFqb3IgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLm1ham9yICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5tYWpvcik7XG4gICAgLyogc3RyaW5nIG1pbm9yID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5taW5vciAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubWlub3IpO1xuICAgIC8qIHN0cmluZyBwYXRjaCA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UucGF0Y2ggIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnBhdGNoKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrXG4gKi9cbmV4cG9ydCBjb25zdCBTZGsgPSBuZXcgU2RrJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE9TJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxPUz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1MnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhcmNoaXRlY3R1cmUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPE9TPik6IE9TIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UubmFtZSA9ICcnO1xuICAgIG1lc3NhZ2UudmVyc2lvbiA9ICcnO1xuICAgIG1lc3NhZ2UuYXJjaGl0ZWN0dXJlID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8T1M+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IE9TLFxuICApOiBPUyB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG5hbWUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHZlcnNpb24gKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIGFyY2hpdGVjdHVyZSAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UuYXJjaGl0ZWN0dXJlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBPUyxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgbmFtZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgLyogc3RyaW5nIHZlcnNpb24gPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnZlcnNpb24pO1xuICAgIC8qIHN0cmluZyBhcmNoaXRlY3R1cmUgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLmFyY2hpdGVjdHVyZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuYXJjaGl0ZWN0dXJlKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGNvbnN0IE9TID0gbmV3IE9TJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEJyb3dzZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEJyb3dzZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxCcm93c2VyPik6IEJyb3dzZXIge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5uYW1lID0gJyc7XG4gICAgbWVzc2FnZS52ZXJzaW9uID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEJyb3dzZXI+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IEJyb3dzZXIsXG4gICk6IEJyb3dzZXIge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBuYW1lICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyB2ZXJzaW9uICovIDI6XG4gICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBCcm93c2VyLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyBuYW1lID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAvKiBzdHJpbmcgdmVyc2lvbiA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudmVyc2lvbik7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEJyb3dzZXIgPSBuZXcgQnJvd3NlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEZXZpY2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPERldmljZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd2ZXJzaW9uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8RGV2aWNlPik6IERldmljZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLm5hbWUgPSAnJztcbiAgICBtZXNzYWdlLnZlcnNpb24gPSAnJztcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8RGV2aWNlPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBEZXZpY2UsXG4gICk6IERldmljZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG5hbWUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHZlcnNpb24gKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IERldmljZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgbmFtZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgLyogc3RyaW5nIHZlcnNpb24gPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnZlcnNpb24pO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGNvbnN0IERldmljZSA9IG5ldyBEZXZpY2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEdyYW50cyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEdyYW50cz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEdyYW50cycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjYW5fcHVibGlzaF9hdWRpbycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2Nhbl9wdWJsaXNoX3ZpZGVvJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY2FuX3NjcmVlbnNoYXJlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q2FsbEdyYW50cz4pOiBDYWxsR3JhbnRzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UuY2FuUHVibGlzaEF1ZGlvID0gZmFsc2U7XG4gICAgbWVzc2FnZS5jYW5QdWJsaXNoVmlkZW8gPSBmYWxzZTtcbiAgICBtZXNzYWdlLmNhblNjcmVlbnNoYXJlID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPENhbGxHcmFudHM+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IENhbGxHcmFudHMsXG4gICk6IENhbGxHcmFudHMge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIGJvb2wgY2FuX3B1Ymxpc2hfYXVkaW8gKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmNhblB1Ymxpc2hBdWRpbyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBjYW5fcHVibGlzaF92aWRlbyAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UuY2FuUHVibGlzaFZpZGVvID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIGNhbl9zY3JlZW5zaGFyZSAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UuY2FuU2NyZWVuc2hhcmUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBDYWxsR3JhbnRzLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIGJvb2wgY2FuX3B1Ymxpc2hfYXVkaW8gPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmNhblB1Ymxpc2hBdWRpbyAhPT0gZmFsc2UpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLmNhblB1Ymxpc2hBdWRpbyk7XG4gICAgLyogYm9vbCBjYW5fcHVibGlzaF92aWRlbyA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UuY2FuUHVibGlzaFZpZGVvICE9PSBmYWxzZSlcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UuY2FuUHVibGlzaFZpZGVvKTtcbiAgICAvKiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UuY2FuU2NyZWVuc2hhcmUgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5jYW5TY3JlZW5zaGFyZSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxHcmFudHMgPSBuZXcgQ2FsbEdyYW50cyRUeXBlKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcInZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5zaWduYWxcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQge1xuICBFcnJvcixcbiAgSUNFVHJpY2tsZSxcbiAgUGVlclR5cGUsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0RpbWVuc2lvbixcbn0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTZXJ2aWNlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgdHlwZSB7XG4gIEJpbmFyeVJlYWRPcHRpb25zLFxuICBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gIElCaW5hcnlSZWFkZXIsXG4gIElCaW5hcnlXcml0ZXIsXG4gIFBhcnRpYWxNZXNzYWdlLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQge1xuICBNZXNzYWdlVHlwZSxcbiAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCxcbiAgVW5rbm93bkZpZWxkSGFuZGxlcixcbiAgV2lyZVR5cGUsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zdGF0cyA9IDI7XG4gICAqL1xuICBzdWJzY3JpYmVyU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9zdGF0cyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZXJTdGF0czogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gPSA0O1xuICAgKi9cbiAgd2VicnRjVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrID0gNTtcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrX3ZlcnNpb24gPSA2O1xuICAgKi9cbiAgc2RrVmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAyO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlIG11dGVfc3RhdGVzID0gMztcbiAgICovXG4gIG11dGVTdGF0ZXM6IFRyYWNrTXV0ZVN0YXRlW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tNdXRlU3RhdGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDI7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuQXVkaW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTXV0ZUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMTtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5WaWRlb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9NdXRlQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAyO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHRyYWNrcyA9IDM7XG4gICAqL1xuICB0cmFja3M6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMztcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiBkaW1lbnNpb24gPSA0O1xuICAgKi9cbiAgZGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMjtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldFB1Ymxpc2hlclJlcXVlc3Qge1xuICAvKipcbiAgICogc2RwIG9mZmVyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyB0cmFja3MgPSAzO1xuICAgKi9cbiAgdHJhY2tzOiBUcmFja0luZm9bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXRQdWJsaXNoZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBzZHAgYW5zd2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAzO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZShcbiAgICB2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PixcbiAgKTogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Q+KFxuICAgICAgICB0aGlzLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgKTogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Qge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCA9XG4gIG5ldyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZShcbiAgICB2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4sXG4gICk6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICApO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICApOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlID1cbiAgbmV3IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUoXG4gICAgdmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PixcbiAgKTogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICApO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgKTogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0ID1cbiAgbmV3IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUoXG4gICAgdmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4sXG4gICk6IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4oXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICApOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmVycm9yID0gRXJyb3IuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmVycm9yKVxuICAgICAgRXJyb3IuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5lcnJvcixcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UgPVxuICBuZXcgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZFN0YXRzUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaWJlcl9zdGF0cycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICd3ZWJydGNfdmVyc2lvbicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnc2RrJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnc2RrX3ZlcnNpb24nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFNlbmRTdGF0c1JlcXVlc3Q+KTogU2VuZFN0YXRzUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIG1lc3NhZ2Uuc3Vic2NyaWJlclN0YXRzID0gJyc7XG4gICAgbWVzc2FnZS5wdWJsaXNoZXJTdGF0cyA9ICcnO1xuICAgIG1lc3NhZ2Uud2VicnRjVmVyc2lvbiA9ICcnO1xuICAgIG1lc3NhZ2Uuc2RrID0gJyc7XG4gICAgbWVzc2FnZS5zZGtWZXJzaW9uID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFNlbmRTdGF0c1JlcXVlc3Q+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFNlbmRTdGF0c1JlcXVlc3QsXG4gICk6IFNlbmRTdGF0c1JlcXVlc3Qge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHN1YnNjcmliZXJfc3RhdHMgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnN1YnNjcmliZXJTdGF0cyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgcHVibGlzaGVyX3N0YXRzICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5wdWJsaXNoZXJTdGF0cyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLndlYnJ0Y1ZlcnNpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNkayAqLyA1OlxuICAgICAgICAgIG1lc3NhZ2Uuc2RrID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZGtfdmVyc2lvbiAqLyA2OlxuICAgICAgICAgIG1lc3NhZ2Uuc2RrVmVyc2lvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIC8qIHN0cmluZyBzdWJzY3JpYmVyX3N0YXRzID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zdWJzY3JpYmVyU3RhdHMgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnN1YnNjcmliZXJTdGF0cyk7XG4gICAgLyogc3RyaW5nIHB1Ymxpc2hlcl9zdGF0cyA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UucHVibGlzaGVyU3RhdHMgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnB1Ymxpc2hlclN0YXRzKTtcbiAgICAvKiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLndlYnJ0Y1ZlcnNpb24gIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLndlYnJ0Y1ZlcnNpb24pO1xuICAgIC8qIHN0cmluZyBzZGsgPSA1OyAqL1xuICAgIGlmIChtZXNzYWdlLnNkayAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDUsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2RrKTtcbiAgICAvKiBzdHJpbmcgc2RrX3ZlcnNpb24gPSA2OyAqL1xuICAgIGlmIChtZXNzYWdlLnNka1ZlcnNpb24gIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZyg2LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNka1ZlcnNpb24pO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXF1ZXN0ID0gbmV3IFNlbmRTdGF0c1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxTZW5kU3RhdHNSZXNwb25zZT4pOiBTZW5kU3RhdHNSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8U2VuZFN0YXRzUmVzcG9uc2U+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICApOiBTZW5kU3RhdHNSZXNwb25zZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmVycm9yID0gRXJyb3IuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU2VuZFN0YXRzUmVzcG9uc2UsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmVycm9yKVxuICAgICAgRXJyb3IuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5lcnJvcixcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2VuZFN0YXRzUmVzcG9uc2UgPSBuZXcgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnRSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPElDRVJlc3RhcnRSZXF1ZXN0Pik6IElDRVJlc3RhcnRSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gJyc7XG4gICAgbWVzc2FnZS5wZWVyVHlwZSA9IDA7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPElDRVJlc3RhcnRSZXF1ZXN0Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgKTogSUNFUmVzdGFydFJlcXVlc3Qge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5wZWVyVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucGVlclR5cGUgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5wZWVyVHlwZSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VSZXN0YXJ0UmVxdWVzdCA9IG5ldyBJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0UmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnRSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPElDRVJlc3RhcnRSZXNwb25zZT4pOiBJQ0VSZXN0YXJ0UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPElDRVJlc3RhcnRSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSUNFUmVzdGFydFJlc3BvbnNlLFxuICApOiBJQ0VSZXN0YXJ0UmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IElDRVJlc3RhcnRSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlc3BvbnNlID0gbmV3IElDRVJlc3RhcnRSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdtdXRlX3N0YXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tNdXRlU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZShcbiAgICB2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0PixcbiAgKTogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLm11dGVTdGF0ZXMgPSBbXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICApOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZSBtdXRlX3N0YXRlcyAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UubXV0ZVN0YXRlcy5wdXNoKFxuICAgICAgICAgICAgVHJhY2tNdXRlU3RhdGUuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlIG11dGVfc3RhdGVzID0gMzsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UubXV0ZVN0YXRlcy5sZW5ndGg7IGkrKylcbiAgICAgIFRyYWNrTXV0ZVN0YXRlLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UubXV0ZVN0YXRlc1tpXSxcbiAgICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QgPSBuZXcgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUoXG4gICAgdmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+LFxuICApOiBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlLFxuICApOiBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja011dGVTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tNdXRlU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VHJhY2tNdXRlU3RhdGU+KTogVHJhY2tNdXRlU3RhdGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS50cmFja1R5cGUgPSAwO1xuICAgIG1lc3NhZ2UubXV0ZWQgPSBmYWxzZTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VHJhY2tNdXRlU3RhdGU+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFRyYWNrTXV0ZVN0YXRlLFxuICApOiBUcmFja011dGVTdGF0ZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnRyYWNrVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIGJvb2wgbXV0ZWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLm11dGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogVHJhY2tNdXRlU3RhdGUsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnRyYWNrVHlwZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnRyYWNrVHlwZSk7XG4gICAgLyogYm9vbCBtdXRlZCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UubXV0ZWQgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5tdXRlZCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja011dGVTdGF0ZSA9IG5ldyBUcmFja011dGVTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb011dGVDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb011dGVDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPEF1ZGlvTXV0ZUNoYW5nZWQ+KTogQXVkaW9NdXRlQ2hhbmdlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLm11dGVkID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEF1ZGlvTXV0ZUNoYW5nZWQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IEF1ZGlvTXV0ZUNoYW5nZWQsXG4gICk6IEF1ZGlvTXV0ZUNoYW5nZWQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIGJvb2wgbXV0ZWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLm11dGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQXVkaW9NdXRlQ2hhbmdlZCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBib29sIG11dGVkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5tdXRlZCAhPT0gZmFsc2UpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLm11dGVkKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuQXVkaW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9NdXRlQ2hhbmdlZCA9IG5ldyBBdWRpb011dGVDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTXV0ZUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTXV0ZUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VmlkZW9NdXRlQ2hhbmdlZD4pOiBWaWRlb011dGVDaGFuZ2VkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UubXV0ZWQgPSBmYWxzZTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VmlkZW9NdXRlQ2hhbmdlZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmlkZW9NdXRlQ2hhbmdlZCxcbiAgKTogVmlkZW9NdXRlQ2hhbmdlZCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogYm9vbCBtdXRlZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UubXV0ZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBWaWRlb011dGVDaGFuZ2VkLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIGJvb2wgbXV0ZWQgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLm11dGVkICE9PSBmYWxzZSlcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UubXV0ZWQpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5WaWRlb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb011dGVDaGFuZ2VkID0gbmV3IFZpZGVvTXV0ZUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZShcbiAgICB2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0PixcbiAgKTogVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLnRyYWNrcyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gICk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2Vzc2lvbl9pZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB0cmFja3MgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnRyYWNrcy5wdXNoKFxuICAgICAgICAgICAgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHRyYWNrcyA9IDM7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLnRyYWNrcy5sZW5ndGg7IGkrKylcbiAgICAgIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscy5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnRyYWNrc1tpXSxcbiAgICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUoXG4gICAgdmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+LFxuICApOiBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICApOiBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlID1cbiAgbmV3IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdkaW1lbnNpb24nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKFxuICAgIHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzPixcbiAgKTogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudXNlcklkID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLnRyYWNrVHlwZSA9IDA7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscz4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICApOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyB1c2VyX2lkICovIDE6XG4gICAgICAgICAgbWVzc2FnZS51c2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UudHJhY2tUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gZGltZW5zaW9uICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5kaW1lbnNpb24gPSBWaWRlb0RpbWVuc2lvbi5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5kaW1lbnNpb24sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyB1c2VyX2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS51c2VySWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgLyogc3RyaW5nIHNlc3Npb25faWQgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnNlc3Npb25JZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2Vzc2lvbklkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UudHJhY2tUeXBlICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UudHJhY2tUeXBlKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiBkaW1lbnNpb24gPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmRpbWVuc2lvbilcbiAgICAgIFZpZGVvRGltZW5zaW9uLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZGltZW5zaW9uLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1xuICovXG5leHBvcnQgY29uc3QgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzID0gbmV3IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kQW5zd2VyUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZEFuc3dlclJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8U2VuZEFuc3dlclJlcXVlc3Q+KTogU2VuZEFuc3dlclJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5wZWVyVHlwZSA9IDA7XG4gICAgbWVzc2FnZS5zZHAgPSAnJztcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTZW5kQW5zd2VyUmVxdWVzdD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU2VuZEFuc3dlclJlcXVlc3QsXG4gICk6IFNlbmRBbnN3ZXJSZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnBlZXJUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNkcCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2RwID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UucGVlclR5cGUgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5wZWVyVHlwZSk7XG4gICAgLyogc3RyaW5nIHNkcCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2RwICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZHApO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kQW5zd2VyUmVxdWVzdCA9IG5ldyBTZW5kQW5zd2VyUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFNlbmRBbnN3ZXJSZXNwb25zZT4pOiBTZW5kQW5zd2VyUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFNlbmRBbnN3ZXJSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICApOiBTZW5kQW5zd2VyUmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFNlbmRBbnN3ZXJSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2VuZEFuc3dlclJlc3BvbnNlID0gbmV3IFNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVRyaWNrbGVSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPElDRVRyaWNrbGVSZXNwb25zZT4pOiBJQ0VUcmlja2xlUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPElDRVRyaWNrbGVSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSUNFVHJpY2tsZVJlc3BvbnNlLFxuICApOiBJQ0VUcmlja2xlUmVzcG9uc2Uge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yICovIDQ6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IElDRVRyaWNrbGVSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZVJlc3BvbnNlID0gbmV3IElDRVRyaWNrbGVSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZXRQdWJsaXNoZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8U2V0UHVibGlzaGVyUmVxdWVzdD4pOiBTZXRQdWJsaXNoZXJSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2Uuc2RwID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLnRyYWNrcyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTZXRQdWJsaXNoZXJSZXF1ZXN0Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICApOiBTZXRQdWJsaXNoZXJSZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2RwICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZHAgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8gdHJhY2tzICovIDM6XG4gICAgICAgICAgbWVzc2FnZS50cmFja3MucHVzaChcbiAgICAgICAgICAgIFRyYWNrSW5mby5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIHNkcCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2RwICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZHApO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIHRyYWNrcyA9IDM7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLnRyYWNrcy5sZW5ndGg7IGkrKylcbiAgICAgIFRyYWNrSW5mby5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnRyYWNrc1tpXSxcbiAgICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZXRQdWJsaXNoZXJSZXF1ZXN0ID0gbmV3IFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8U2V0UHVibGlzaGVyUmVzcG9uc2U+KTogU2V0UHVibGlzaGVyUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5zZHAgPSAnJztcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIG1lc3NhZ2UuaWNlUmVzdGFydCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTZXRQdWJsaXNoZXJSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICk6IFNldFB1Ymxpc2hlclJlc3BvbnNlIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2RwICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZHAgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIGljZV9yZXN0YXJ0ICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5pY2VSZXN0YXJ0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciAqLyA0OlxuICAgICAgICAgIG1lc3NhZ2UuZXJyb3IgPSBFcnJvci5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcixcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBTZXRQdWJsaXNoZXJSZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgc2RwID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5zZHAgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNkcCk7XG4gICAgLyogc3RyaW5nIHNlc3Npb25faWQgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnNlc3Npb25JZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2Vzc2lvbklkKTtcbiAgICAvKiBib29sIGljZV9yZXN0YXJ0ID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5pY2VSZXN0YXJ0ICE9PSBmYWxzZSlcbiAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UuaWNlUmVzdGFydCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmVycm9yKVxuICAgICAgRXJyb3IuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5lcnJvcixcbiAgICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVzcG9uc2UgPSBuZXcgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSgpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIFNlcnZpY2VUeXBlIGZvciBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY29uc3QgU2lnbmFsU2VydmVyID0gbmV3IFNlcnZpY2VUeXBlKFxuICAnc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyJyxcbiAgW1xuICAgIHtcbiAgICAgIG5hbWU6ICdTZXRQdWJsaXNoZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgICAgTzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZEFuc3dlcicsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgICAgTzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICAgIH0sXG4gICAgeyBuYW1lOiAnSWNlVHJpY2tsZScsIG9wdGlvbnM6IHt9LCBJOiBJQ0VUcmlja2xlLCBPOiBJQ0VUcmlja2xlUmVzcG9uc2UgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnVXBkYXRlU3Vic2NyaXB0aW9ucycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgTzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZU11dGVTdGF0ZXMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJY2VSZXN0YXJ0JyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgICBPOiBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZFN0YXRzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICAgIE86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N0YXJ0Tm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdG9wTm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgTzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgXSxcbik7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcInZpZGVvL3NmdS9ldmVudC9ldmVudHMucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuZXZlbnRcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQgdHlwZSB7XG4gIEJpbmFyeVJlYWRPcHRpb25zLFxuICBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gIElCaW5hcnlSZWFkZXIsXG4gIElCaW5hcnlXcml0ZXIsXG4gIFBhcnRpYWxNZXNzYWdlLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQge1xuICBNZXNzYWdlVHlwZSxcbiAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCxcbiAgVW5rbm93bkZpZWxkSGFuZGxlcixcbiAgV2lyZVR5cGUsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7XG4gIENhbGxFbmRlZFJlYXNvbixcbiAgQ2FsbEdyYW50cyxcbiAgQ2FsbFN0YXRlLFxuICBDbGllbnREZXRhaWxzLFxuICBDb2RlYyxcbiAgQ29ubmVjdGlvblF1YWxpdHksXG4gIEVycm9yIGFzIEVycm9yJCxcbiAgR29Bd2F5UmVhc29uLFxuICBJQ0VUcmlja2xlIGFzIElDRVRyaWNrbGUkLFxuICBQYXJ0aWNpcGFudCxcbiAgUGFydGljaXBhbnRDb3VudCxcbiAgUGVlclR5cGUsXG4gIFBpbixcbiAgVHJhY2tJbmZvLFxuICBUcmFja1R5cGUsXG4gIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgfSBmcm9tICcuLi9zaWduYWxfcnBjL3NpZ25hbCc7XG5cbi8qKlxuICogU0ZVRXZlbnQgaXMgYSBtZXNzYWdlIHRoYXQgaXMgc2VudCBmcm9tIHRoZSBTRlUgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Z1RXZlbnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBldmVudF9wYXlsb2FkXG4gICAqL1xuICBldmVudFBheWxvYWQ6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N1YnNjcmliZXJPZmZlcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmVyT2ZmZXIgc2VuZHMgdGhlIFNEUCBvZmZlciBmb3IgZXN0YWJsaXNoaW5nIHRoZVxuICAgICAgICAgKiBzdWJzY3JpYmVyIFBlZXJDb25uZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyIHN1YnNjcmliZXJfb2ZmZXIgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlck9mZmVyOiBTdWJzY3JpYmVyT2ZmZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3B1Ymxpc2hlckFuc3dlcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQdWJsaXNoZXJBbnN3ZXIgc2VuZHMgdGhlIFNEUCBhbnN3ZXIgdG8gdGhlIG9mZmVyIHNlbnQgYnlcbiAgICAgICAgICogdGhlIGNsaWVudCBmb3IgZXN0YWJsaXNoaW5nIHRoZSBQdWJsaXNoZXIgUGVlckNvbm5lY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXIgcHVibGlzaGVyX2Fuc3dlciA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaXNoZXJBbnN3ZXI6IFB1Ymxpc2hlckFuc3dlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCBpcyBzZW50IHRvIGluZm9ybSB0aGUgY29ubmVjdGlvblxuICAgICAgICAgKiBxdWFsaXR5IG9mIHRoZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuIEl0IGRvZXMgbm90IGhhdmVcbiAgICAgICAgICogdG8gY29udGFpbiB0aGUgZnVsbCBsaXN0IG9mIGNhbGwgcGFydGljaXBhbnRzIGluIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIGNvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkID0gMztcbiAgICAgICAgICovXG4gICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDogQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdhdWRpb0xldmVsQ2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdWRpb0xldmVsQ2hhbmdlZCBpcyBzZW50IGZvciBjaGFuZ2UgaW4gYXVkaW8gbGV2ZWxzIG9mXG4gICAgICAgICAqIHRoZSBwYXJ0aWNpcGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZCBhdWRpb19sZXZlbF9jaGFuZ2VkID0gNDtcbiAgICAgICAgICovXG4gICAgICAgIGF1ZGlvTGV2ZWxDaGFuZ2VkOiBBdWRpb0xldmVsQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaWNlVHJpY2tsZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJQ0VUcmlja2xlIGNvbnRhaW5zIHRoZSBJQ0UgY2FuZGlkYXRlIHJlcXVpcmVkIHRvIGVzdGFibGlzaFxuICAgICAgICAgKiB0aGUgSUNFIHRyYW5zcG9ydDogcGFydCBvZiBlc3RhYmxpc2hpbmcgdGhlIFBlZXJDb25uZWN0aW9uXG4gICAgICAgICAqIGFuZCBhbHNvIGZvciBJQ0UgcmVzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSBpY2VfdHJpY2tsZSA9IDU7XG4gICAgICAgICAqL1xuICAgICAgICBpY2VUcmlja2xlOiBJQ0VUcmlja2xlJDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2hhbmdlUHVibGlzaFF1YWxpdHknO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlUHVibGlzaFF1YWxpdHkgYWR2aXNlcyB0aGUgcHVibGlzaGVyIHRvIHN3aXRjaCBvbi9vZmZcbiAgICAgICAgICogdmFyaW91cyBxdWFsaXRpZXMgb2YgdGhlaXIgdmlkZW8gc3RyZWFtIGJhc2VkIG9uIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICAgICAqIFRoaXMgaXMgZG9uZSB0byBzYXZlIHRoZSBiYW5kd2lkdGggYW5kIHRoZSBDUFUgb2YgdGhlIHB1Ymxpc2hlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5IGNoYW5nZV9wdWJsaXNoX3F1YWxpdHkgPSA2O1xuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlUHVibGlzaFF1YWxpdHk6IENoYW5nZVB1Ymxpc2hRdWFsaXR5O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudEpvaW5lZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudEpvaW5lZCBub3RpZmllcyB0aGUgY2xpZW50IHRoYXQgYSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgICogaGFzIGpvaW5lZCB0aGUgY2FsbC4gVGhpcyBpcyBub3Qgc2VudCBmb3IgYW5vbnltb3VzIHVzZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWQgcGFydGljaXBhbnRfam9pbmVkID0gMTA7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudEpvaW5lZDogUGFydGljaXBhbnRKb2luZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50TGVmdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudExlZnQgbm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgY2FsbCBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBoYXMgbGVmdCB0aGUgY2FsbC4gVGhpcyBpcyBub3Qgc2VudCBmb3IgYW5vbnltb3VzIHVzZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0IHBhcnRpY2lwYW50X2xlZnQgPSAxMTtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50TGVmdDogUGFydGljaXBhbnRMZWZ0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdkb21pbmFudFNwZWFrZXJDaGFuZ2VkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvbWluYW50U3BlYWtlckNoYW5nZWQgbm90aWZpZXMgdGhlIGNsaWVudCBhYm91dCB0aGUgY3VycmVudFxuICAgICAgICAgKiBkb21pbmFudCBzcGVha2VyLiBUaGlzIGlzIHJlcXVpcmVkIGZvciBjZXJ0YWluIHVzZSBjYXNlcyBsaWtlXG4gICAgICAgICAqIHRoZSBzcG90bGlnaHQgdmlldy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQgZG9taW5hbnRfc3BlYWtlcl9jaGFuZ2VkID0gMTI7XG4gICAgICAgICAqL1xuICAgICAgICBkb21pbmFudFNwZWFrZXJDaGFuZ2VkOiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVzcG9uc2UnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSm9pblJlc3BvbnNlIGFja25vd2xlZGdlcyBhIHBhcnRpY2lwYW50IHN1Y2Nlc3NmdWxseSBqb2luaW5nXG4gICAgICAgICAqIHRoZSBjYWxsLiBUaGlzIGlzIHNlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIEpvaW5SZXF1ZXN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlIGpvaW5fcmVzcG9uc2UgPSAxMztcbiAgICAgICAgICovXG4gICAgICAgIGpvaW5SZXNwb25zZTogSm9pblJlc3BvbnNlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1Jlc3BvbnNlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlYWx0aENoZWNrUmVzcG9uc2UgaXMgc2VudCBpbiByZXNwb25zZSB0byB0aGUgSGVhbHRoQ2hlY2tSZXF1ZXN0LlxuICAgICAgICAgKiBJdCBjb250YWlucyB0aGUgcGFydGljaXBhbnQgY291bnQgaW4gdGhlIGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlIGhlYWx0aF9jaGVja19yZXNwb25zZSA9IDE0O1xuICAgICAgICAgKi9cbiAgICAgICAgaGVhbHRoQ2hlY2tSZXNwb25zZTogSGVhbHRoQ2hlY2tSZXNwb25zZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAndHJhY2tQdWJsaXNoZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tQdWJsaXNoZWQgaXMgc2VudCB3aGVuIGEgbmV3IHRyYWNrIChsaWtlIGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmUpXG4gICAgICAgICAqIGlzIHB1Ymxpc2hlZCBieSBhIHBhcnRpY2lwYW50IGluIHRoZSBjYWxsLiBJdCBpcyBhbHNvIHNlbnQgb24gbXV0ZS91bm11dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZCB0cmFja19wdWJsaXNoZWQgPSAxNjtcbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrUHVibGlzaGVkOiBUcmFja1B1Ymxpc2hlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAndHJhY2tVbnB1Ymxpc2hlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja1VucHVibGlzaGVkIGlzIHNlbnQgd2hlbiBhIHRyYWNrIChsaWtlIGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmUpXG4gICAgICAgICAqIGlzIG5vIGxvbmdlciBwdWJsaXNoZWQuIEl0IGlzIHNlbnQgb24gbXV0aW5nIGEgdHJhY2sgb3Igd2hlbiB0aGUgcGFydGljaXBhbnRcbiAgICAgICAgICogaXMgbGVhdmluZyB0aGUgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWQgdHJhY2tfdW5wdWJsaXNoZWQgPSAxNztcbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrVW5wdWJsaXNoZWQ6IFRyYWNrVW5wdWJsaXNoZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Vycm9yJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgYW55IGVycm9yIHJlbGF0ZWQgdG8gdGhlIHBhcnRpY2lwYW50LiBUaGVcbiAgICAgICAgICogZXJyb3IgY29kZSBhbmQgdGhlIG1lc3NhZ2UgZXhwbGFpbiB3aGF0IHdlbnQgd3JvbmcuIFdoZXRoZXIgdGhlIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGNhbiByZXRyeSBpcyBhbHNvIGluZGljYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yIGVycm9yID0gMTg7XG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogRXJyb3I7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NhbGxHcmFudHNVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxHcmFudHNVcGRhdGVkIHRlbGxzIHdoYXQgdHJhY2tzIGEgcGFydGljaXBhbnQgaXMgYWxsb3dlZCB0byBwdWJsaXNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQgY2FsbF9ncmFudHNfdXBkYXRlZCA9IDE5O1xuICAgICAgICAgKi9cbiAgICAgICAgY2FsbEdyYW50c1VwZGF0ZWQ6IENhbGxHcmFudHNVcGRhdGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdnb0F3YXknO1xuICAgICAgICAvKipcbiAgICAgICAgICogR29Bd2F5IHRlbGxzIHRoZSBjbGllbnQgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVSBpdCBpcyBjb25uZWN0ZWQgdG8uXG4gICAgICAgICAqIFRoZSByZWFzb24gZmllbGQgaW5kaWNhdGVzIHdoeSB0aGlzIG1lc3NhZ2Ugd2FzIHNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXkgZ29fYXdheSA9IDIwO1xuICAgICAgICAgKi9cbiAgICAgICAgZ29Bd2F5OiBHb0F3YXk7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2ljZVJlc3RhcnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSUNFUmVzdGFydCB0ZWxscyB0aGUgY2xpZW50IHRvIHBlcmZvcm0gSUNFIHJlc3RhcnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VSZXN0YXJ0IGljZV9yZXN0YXJ0ID0gMjE7XG4gICAgICAgICAqL1xuICAgICAgICBpY2VSZXN0YXJ0OiBJQ0VSZXN0YXJ0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwaW5zVXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaW5zQ2hhbmdlZCBpcyBzZW50IHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwgY2hhbmdlcy4gVGhpcyBldmVudCBjb250YWlucyB0aGUgZW50aXJlIGxpc3Qgb2YgcGlucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkIHBpbnNfdXBkYXRlZCA9IDIyO1xuICAgICAgICAgKi9cbiAgICAgICAgcGluc1VwZGF0ZWQ6IFBpbnNDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjYWxsRW5kZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbEVuZGVkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byB0aGUgY2xpZW50IHRvIHNpZ25hbCB0aGF0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgICAgICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkIGNhbGxfZW5kZWQgPSAyMztcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxFbmRlZDogQ2FsbEVuZGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudFVwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRVcGRhdGVkIGlzIHNlbnQgd2hlbiB1c2VyIGRhdGEgaXMgdXBkYXRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkIHBhcnRpY2lwYW50X3VwZGF0ZWQgPSAyNDtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50VXBkYXRlZDogUGFydGljaXBhbnRVcGRhdGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5zQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsLlxuICAgKiBQaW5zIGFyZSBvcmRlcmVkIGluIGRlc2NlbmRpbmcgb3JkZXIgKG1vc3QgaW1wb3J0YW50IGZpcnN0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW4gcGlucyA9IDE7XG4gICAqL1xuICBwaW5zOiBQaW5bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvciQ7XG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSByZWNvbm5lY3Qgc3RyYXRlZ3kgdG8gYmUgdXNlZCBieSB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgcmVjb25uZWN0X3N0cmF0ZWd5ID0gNTtcbiAgICovXG4gIHJlY29ubmVjdFN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbn1cbi8qKlxuICogU2Z1UmVxdWVzdCBpcyBhIG1lc3NhZ2UgdGhhdCBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgU0ZVLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiByZXF1ZXN0X3BheWxvYWRcbiAgICovXG4gIHJlcXVlc3RQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3Qgam9pbl9yZXF1ZXN0ID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIGpvaW5SZXF1ZXN0OiBKb2luUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QgaGVhbHRoX2NoZWNrX3JlcXVlc3QgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiBIZWFsdGhDaGVja1JlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhDaGVja1JlcXVlc3Qge31cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnQgcGFydGljaXBhbnRfY291bnQgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRDb3VudD86IFBhcnRpY2lwYW50Q291bnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1B1Ymxpc2hlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgPSAzO1xuICAgKi9cbiAgdHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogUGFydGljaXBhbnQgaW5mb3JtYXRpb24gaGVyZSBpcyBpbmNsdWRlZCBhcyBhbiBvcHRpbWlzYXRpb25cbiAgICogZm9yIGxhcmdlIGNhbGxzIHdoZXJlIGJyb2FkY2FzdGluZyBvbiBldmVyeSBwYXJ0aWNpcGFudCBqb2luXG4gICAqIGlzIGV4cGVuc2l2ZS4gWW91IHNob3VsZCAqKk5PVCoqIGFzc3VtZSB0aGF0IHRoaXMgd2lsbCBhbHdheXNcbiAgICogYmUgYXZhaWxhYmxlIHRob3VnaCB5b3UgY2FuIHVzZSBpdCB0byB1cGRhdGUgdGhlIHBhcnRpY2lwYW50XG4gICAqIGxpc3Qgd2hlbiBpdCBpcyB0aGVyZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDQ7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1VucHVibGlzaGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHlwZSA9IDM7XG4gICAqL1xuICB0eXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uIGNhdXNlID0gNDtcbiAgICovXG4gIGNhdXNlOiBUcmFja1VucHVibGlzaFJlYXNvbjtcbiAgLyoqXG4gICAqIFBhcnRpY2lwYW50IGluZm9ybWF0aW9uIGhlcmUgaXMgaW5jbHVkZWQgYXMgYW4gb3B0aW1pc2F0aW9uXG4gICAqIGZvciBsYXJnZSBjYWxscyB3aGVyZSBicm9hZGNhc3Rpbmcgb24gZXZlcnkgcGFydGljaXBhbnQgam9pblxuICAgKiBpcyBleHBlbnNpdmUuIFlvdSBzaG91bGQgKipOT1QqKiBhc3N1bWUgdGhhdCB0aGlzIHdpbGwgYWx3YXlzXG4gICAqIGJlIGF2YWlsYWJsZSB0aG91Z2ggeW91IGNhbiB1c2UgaXQgdG8gdXBkYXRlIHRoZSBwYXJ0aWNpcGFudFxuICAgKiBsaXN0IHdoZW4gaXQgaXMgdGhlcmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSA1O1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRva2VuID0gMTtcbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogZHVtYiBTRFAgdGhhdCBhbGxvdyB1cyB0byBleHRyYWN0IHN1YnNjcmliZXIncyBkZWNvZGUgY29kZWNzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN1YnNjcmliZXJfc2RwID0gMztcbiAgICovXG4gIHN1YnNjcmliZXJTZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2xpZW50RGV0YWlscyBjbGllbnRfZGV0YWlscyA9IDQ7XG4gICAqL1xuICBjbGllbnREZXRhaWxzPzogQ2xpZW50RGV0YWlscztcbiAgLyoqXG4gICAqIFRPRE86IHdlIHNob3VsZCBrbm93IGlmIHRoaXMgaXMgZ29pbmcgdG8gYmVcbiAgICogLSBwdWJsaXNoaW5nIGFuZCBzdWJzY3JpYmluZywgb3IganVzdCBzdWJzY3JpYmluZyBmb3IgZnV0dXJlIHJvdXRpbmdcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbiBtaWdyYXRpb24gPSA1O1xuICAgKi9cbiAgbWlncmF0aW9uPzogTWlncmF0aW9uO1xuICAvKipcbiAgICogRmFzdCByZWNvbm5lY3QgZmxhZyBleHBsaWNpdGx5IGluZGljYXRlcyB0aGF0IGlmIHRoZSBwYXJ0aWNpcGFudCBzZXNzaW9uXG4gICAqIGFuZCB0aGUgYXNzb2NpYXRlZCBzdGF0ZSBpcyBzdGlsbCBwcmVzZW50IGluIHRoZSBTRlUsIHRoZSBjbGllbnQgaXMgcmVhZHlcbiAgICogdG8gcmVzdG9yZSB0aGUgUGVlckNvbm5lY3Rpb24gd2l0aCBhbiBJQ0UgcmVzdGFydC4gSWYgdGhlIFNGVSByZXBsaWVzIHdpdGhcbiAgICogXCJyZWNvbm5lY3RlZDogdHJ1ZVwiIGluIGl0cyBKb2luUmVzcG9uc2UsIHRoZW4gaXQgaXMgc2FmZSB0byBwZXJmb3JtIGFuIElDRVxuICAgKiByZXN0YXJ0IG9yIGVsc2UgdGhlIGV4aXN0aW5nIFBlZXJDb25uZWN0aW9ucyBtdXN0IGJlIGNsZWFuZWQgdXAuXG4gICAqXG4gICAqIEZvciB0aGUgU0ZVLCBmYXN0X3JlY29ubmVjdDpmYWxzZSBpbmRpY2F0ZXMgdGhhdCBldmVuIGlmIGl0IGhhcyB0aGUgc3RhdGVcbiAgICogY2FjaGVkLCB0aGUgY2xpZW50IHN0YXRlIGlzIG5vdCBpbiBzeW5jIGFuZCBoZW5jZSBpdCBtdXN0IGJlIGNsZWFuZWQgdXAgYmVmb3JlXG4gICAqIHByb2NlZWRpbmcgZnVydGhlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGZhc3RfcmVjb25uZWN0ID0gNjtcbiAgICovXG4gIGZhc3RSZWNvbm5lY3Q6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWlncmF0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGZyb21fc2Z1X2lkID0gMTtcbiAgICovXG4gIGZyb21TZnVJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8gYW5ub3VuY2VkX3RyYWNrcyA9IDI7XG4gICAqL1xuICBhbm5vdW5jZWRUcmFja3M6IFRyYWNrSW5mb1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgc3Vic2NyaXB0aW9ucyA9IDM7XG4gICAqL1xuICBzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGUgY2FsbF9zdGF0ZSA9IDE7XG4gICAqL1xuICBjYWxsU3RhdGU/OiBDYWxsU3RhdGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcmVjb25uZWN0ZWQgPSAyO1xuICAgKi9cbiAgcmVjb25uZWN0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGpvaW5zIGEgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudEpvaW5lZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGxlYXZlcyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50TGVmdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBmaXJlZCB3aGVuIHVzZXIgZGF0YSBpcyB1cGRhdGVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudFVwZGF0ZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBTdWJzY3JpYmVyT2ZmZXIgaXMgc2VudCB3aGVuIHRoZSBTRlUgYWRkcyB0cmFja3MgdG8gYSBzdWJzY3JpcHRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZXJPZmZlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAxO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDI7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoZXJBbnN3ZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xufVxuLyoqXG4gKiBDb25uZWN0aW9uUXVhbGl0eSBpcyBzZW50IHRvIGluZm9ybSBhYm91dCBjb25uZWN0aW9uIHF1YWxpdHkgY2hhbmdlc1xuICogZWcuIHRoaWVycnkncyBjb25uZWN0aW9uIGlzIG5vdCBnb29kIC0+IHJlbmRlciBhIHJlZCBpY29uIFpvb20gc3R5bGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvIGNvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzID0gMTtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlczogQ29ubmVjdGlvblF1YWxpdHlJbmZvW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvblF1YWxpdHlJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSAzO1xuICAgKi9cbiAgY29ubmVjdGlvblF1YWxpdHk6IENvbm5lY3Rpb25RdWFsaXR5O1xufVxuLyoqXG4gKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgd2hlbiB0aGVyZSBpcyBhIG5ldyBkb21pbmFudCBzcGVha2VyIGluIHRoZSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIDAuMCBtZWFucyBjb21wbGV0ZSBzaWxlbmNlLCAxLjAgbG91ZGVzdFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGxldmVsID0gMztcbiAgICovXG4gIGxldmVsOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfc3BlYWtpbmcgPSA0O1xuICAgKi9cbiAgaXNTcGVha2luZzogYm9vbGVhbjtcbn1cbi8qKlxuICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIG5vdGlmeSBhYm91dCBhdWRpbyBsZXZlbHMgYnkgdXNlclxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb0xldmVsQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCBhdWRpb19sZXZlbHMgPSAxO1xuICAgKi9cbiAgYXVkaW9MZXZlbHM6IEF1ZGlvTGV2ZWxbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTWVkaWFSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgY2hhbm5lbF9jb3VudCA9IDE7XG4gICAqL1xuICBjaGFubmVsQ291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdCBtZWRpYV9yZXF1ZXN0ID0gMTtcbiAgICovXG4gIG1lZGlhUmVxdWVzdD86IEF1ZGlvTWVkaWFSZXF1ZXN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTWVkaWFSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9NZWRpYVJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBpZGVhbF9oZWlnaHQgPSAxO1xuICAgKi9cbiAgaWRlYWxIZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgaWRlYWxfd2lkdGggPSAyO1xuICAgKi9cbiAgaWRlYWxXaWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBpZGVhbF9mcmFtZV9yYXRlID0gMztcbiAgICovXG4gIGlkZWFsRnJhbWVSYXRlOiBudW1iZXI7XG59XG4vKipcbiAqIFZpZGVvTGF5ZXJTZXR0aW5nIGlzIHVzZWQgdG8gc3BlY2lmeSB2YXJpb3VzIHBhcmFtZXRlcnMgb2YgYSBwYXJ0aWN1bGFyIGVuY29kaW5nIGluIHNpbXVsY2FzdC5cbiAqIFRoZSBwYXJhbWV0ZXJzIGFyZSBzcGVjaWZpZWQgaGVyZSAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SVENSdHBFbmNvZGluZ1BhcmFtZXRlcnNcbiAqIFNES3MgdXNlIHRoZXNlIHBhcmFtZXRlcnMgc2VudCBmcm9tIHRoZSBzZXJ2ZXIgdG8gZHluYW1pY2FsbHkgYWRqdXN0IHRoZXNlIHBhcmFtZXRlcnMgdG8gc2F2ZSBDUFUsIGJhbmR3aWR0aFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0xheWVyU2V0dGluZyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBhY3RpdmUgPSAyO1xuICAgKi9cbiAgYWN0aXZlOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfYml0cmF0ZSA9IDM7XG4gICAqL1xuICBtYXhCaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IHNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSA9IDQ7XG4gICAqL1xuICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZy5Qcmlvcml0eSBwcmlvcml0eSA9IDU7XG4gICAqL1xuICBwcmlvcml0eTogVmlkZW9MYXllclNldHRpbmdfUHJpb3JpdHk7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gNjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBtYXhfZnJhbWVyYXRlID0gNztcbiAgICovXG4gIG1heEZyYW1lcmF0ZTogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nLlByaW9yaXR5XG4gKi9cbmV4cG9ydCBlbnVtIFZpZGVvTGF5ZXJTZXR0aW5nX1ByaW9yaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQUklPUklUWV9ISUdIX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIEhJR0hfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX0xPVyA9IDE7XG4gICAqL1xuICBMT1cgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX01FRElVTSA9IDI7XG4gICAqL1xuICBNRURJVU0gPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX1ZFUllfTE9XID0gMztcbiAgICovXG4gIFZFUllfTE9XID0gMyxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb01lZGlhUmVxdWVzdCBtZWRpYV9yZXF1ZXN0ID0gMTtcbiAgICovXG4gIG1lZGlhUmVxdWVzdD86IFZpZGVvTWVkaWFSZXF1ZXN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nIGxheWVycyA9IDM7XG4gICAqL1xuICBsYXllcnM6IFZpZGVvTGF5ZXJTZXR0aW5nW107XG59XG4vKipcbiAqIHNlbnQgdG8gdXNlcnMgd2hlbiB0aGV5IG5lZWQgdG8gY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZWlyIHZpZGVvXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hRdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlciBhdWRpb19zZW5kZXJzID0gMTtcbiAgICovXG4gIGF1ZGlvU2VuZGVyczogQXVkaW9TZW5kZXJbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlciB2aWRlb19zZW5kZXJzID0gMjtcbiAgICovXG4gIHZpZGVvU2VuZGVyczogVmlkZW9TZW5kZXJbXTtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyBpcyBzZW50IHRvIHVzZXJzIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UgaW4gdGhlIGNhbGwgcGVybWlzc2lvbnNcbiAqIHRvIHB1Ymxpc2ggYXVkaW8sIHZpZGVvIG9yIHNoYXJlIHRoZSBzY3JlZW4gZm9yIGEgdXNlciBvciBhIHJvbGUuIFRoaXMgaXNcbiAqIGlkZW1wb3RlbnQgYW5kIGNhbiBiZSBzZW50IGF0IGFueSB0aW1lLiBPbmx5IHRoZSBjdXJyZW50X2dyYW50cyBpbiB0aGUgbGF0ZXN0XG4gKiBtZXNzYWdlIHNob3VsZCBiZSBjb25zaWRlcmVkLiBJbiBvdGhlciB3b3JkcywgdGhpcyBpcyBub3QgZGVwZW5kZW50IG9uIGFueVxuICogb3RoZXIgbWVzc2FnZSAoaW5jbHVkaW5nIHByZXZpb3VzIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgbWVzc2FnZSlcbiAqXG4gKiBXaGVuIHRoaXMgbWVzc2FnZSBpcyByZWNlaXZlZCwgdGhlIGNsaWVudCAoc2F5LCBSZWFjdCBjb21wb25lbnQpIHNob3VsZCBtdXRlXG4gKiB0aGUgdHJhY2tzIHdoaWNoIGFyZSBub3QgYWxsb3dlZCBhbnltb3JlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG1lc3NhZ2UgaGFzXG4gKiBncmFudHMge2F1ZGlvOnRydWUsIHZpZGVvOmZhbHNlfSB3aGlsZSB0aGUgdXNlciBpcyBwdWJsaXNoaW5nIHZpZGVvLCB0aGVuIHRoZVxuICogY2xpZW50IGNvbXBvbmVudCBzaG91bGQgbXV0ZSB0aGUgdmlkZW8gdHJhY2sgYW5kIGdyYXkgb3V0IHRoZSB2aWRlbyBidXR0b24uXG4gKiBUaGlzIHdheSwgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBwdWJsaXNoIHZpZGVvIHVudGlsIHRoZSBwZXJtaXNzaW9uc1xuICogYXJlIGdyYW50ZWQgYWdhaW4uIEFsc28sIG11dGluZyB0aGUgdHJhY2sgb24gdGhlIGNsaWVudCBzaWRlIHdpbGwgcHJldmVudFxuICogdGhlIFNGVSBmcm9tIHJlY2VpdmluZyB0aGUgdmlkZW8gdHJhY2sgYW5kIHdpbGwgc2F2ZSBiYW5kd2lkdGguXG4gKlxuICogSW4gc2ltcGxlIHdvcmRzLCB0aGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgbXV0aW5nIGEgdHJhY2sgb24gdGhlIGNsaWVudC5cbiAqIEhlcmUsIGluc3RlYWQgb2YgdGhlIHVzZXIgaW5zdHJ1Y3RpbmcgdGhlIGNsaWVudCwgU0ZVIHdvdWxkIGJlIGRvaW5nIGl0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzVXBkYXRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMgY3VycmVudF9ncmFudHMgPSAxO1xuICAgKi9cbiAgY3VycmVudEdyYW50cz86IENhbGxHcmFudHM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtZXNzYWdlID0gMjtcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cbi8qKlxuICogR28gYXdheSBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVS5cbiAqIFRoZSBldmljdCByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSB1c2VyIGlzIGJlaW5nIGV2aWN0ZWQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0F3YXkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb24gcmVhc29uID0gMTtcbiAgICovXG4gIHJlYXNvbjogR29Bd2F5UmVhc29uO1xufVxuLyoqXG4gKiBDYWxsRW5kZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IENhbGxFbmRlZFJlYXNvbjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdUV2ZW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVFdmVudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX29mZmVyJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFN1YnNjcmliZXJPZmZlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX2Fuc3dlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoZXJBbnN3ZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnaWNlX3RyaWNrbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSUNFVHJpY2tsZSQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2NoYW5nZV9wdWJsaXNoX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9qb2luZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRKb2luZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9sZWZ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TGVmdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ2RvbWluYW50X3NwZWFrZXJfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXNwb25zZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3B1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1B1Ymxpc2hlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3VucHVibGlzaGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICdlcnJvcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBFcnJvcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOSxcbiAgICAgICAgbmFtZTogJ2NhbGxfZ3JhbnRzX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjAsXG4gICAgICAgIG5hbWU6ICdnb19hd2F5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEdvQXdheSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyMSxcbiAgICAgICAgbmFtZTogJ2ljZV9yZXN0YXJ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVJlc3RhcnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjIsXG4gICAgICAgIG5hbWU6ICdwaW5zX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGluc0NoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjMsXG4gICAgICAgIG5hbWU6ICdjYWxsX2VuZGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxFbmRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNCxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxTZnVFdmVudD4pOiBTZnVFdmVudCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8U2Z1RXZlbnQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFNmdUV2ZW50LFxuICApOiBTZnVFdmVudCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXIgc3Vic2NyaWJlcl9vZmZlciAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnc3Vic2NyaWJlck9mZmVyJyxcbiAgICAgICAgICAgIHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLnN1YnNjcmliZXJPZmZlcixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlciBwdWJsaXNoZXJfYW5zd2VyICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdwdWJsaXNoZXJBbnN3ZXInLFxuICAgICAgICAgICAgcHVibGlzaGVyQW5zd2VyOiBQdWJsaXNoZXJBbnN3ZXIuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkucHVibGlzaGVyQW5zd2VyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIGNvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLFxuICAgICAgICAgICAgY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkOlxuICAgICAgICAgICAgICBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5jb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkIGF1ZGlvX2xldmVsX2NoYW5nZWQgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2F1ZGlvTGV2ZWxDaGFuZ2VkJyxcbiAgICAgICAgICAgIGF1ZGlvTGV2ZWxDaGFuZ2VkOiBBdWRpb0xldmVsQ2hhbmdlZC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5hdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlIGljZV90cmlja2xlICovIDU6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdpY2VUcmlja2xlJyxcbiAgICAgICAgICAgIGljZVRyaWNrbGU6IElDRVRyaWNrbGUkLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLmljZVRyaWNrbGUsXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eSBjaGFuZ2VfcHVibGlzaF9xdWFsaXR5ICovIDY6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdjaGFuZ2VQdWJsaXNoUXVhbGl0eScsXG4gICAgICAgICAgICBjaGFuZ2VQdWJsaXNoUXVhbGl0eTogQ2hhbmdlUHVibGlzaFF1YWxpdHkuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkuY2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZCBwYXJ0aWNpcGFudF9qb2luZWQgKi8gMTA6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudEpvaW5lZCcsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudEpvaW5lZDogUGFydGljaXBhbnRKb2luZWQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkucGFydGljaXBhbnRKb2luZWQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnQgcGFydGljaXBhbnRfbGVmdCAqLyAxMTpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50TGVmdCcsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudExlZnQ6IFBhcnRpY2lwYW50TGVmdC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5wYXJ0aWNpcGFudExlZnQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkIGRvbWluYW50X3NwZWFrZXJfY2hhbmdlZCAqLyAxMjpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnLFxuICAgICAgICAgICAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogRG9taW5hbnRTcGVha2VyQ2hhbmdlZC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5kb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlIGpvaW5fcmVzcG9uc2UgKi8gMTM6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVzcG9uc2UnLFxuICAgICAgICAgICAgam9pblJlc3BvbnNlOiBKb2luUmVzcG9uc2UuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkuam9pblJlc3BvbnNlLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZSBoZWFsdGhfY2hlY2tfcmVzcG9uc2UgKi8gMTQ6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1Jlc3BvbnNlJyxcbiAgICAgICAgICAgIGhlYWx0aENoZWNrUmVzcG9uc2U6IEhlYWx0aENoZWNrUmVzcG9uc2UuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkuaGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkIHRyYWNrX3B1Ymxpc2hlZCAqLyAxNjpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ3RyYWNrUHVibGlzaGVkJyxcbiAgICAgICAgICAgIHRyYWNrUHVibGlzaGVkOiBUcmFja1B1Ymxpc2hlZC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS50cmFja1B1Ymxpc2hlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWQgdHJhY2tfdW5wdWJsaXNoZWQgKi8gMTc6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICd0cmFja1VucHVibGlzaGVkJyxcbiAgICAgICAgICAgIHRyYWNrVW5wdWJsaXNoZWQ6IFRyYWNrVW5wdWJsaXNoZWQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkudHJhY2tVbnB1Ymxpc2hlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yIGVycm9yICovIDE4OlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnZXJyb3InLFxuICAgICAgICAgICAgZXJyb3I6IEVycm9yLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLmVycm9yLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQgY2FsbF9ncmFudHNfdXBkYXRlZCAqLyAxOTpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2NhbGxHcmFudHNVcGRhdGVkJyxcbiAgICAgICAgICAgIGNhbGxHcmFudHNVcGRhdGVkOiBDYWxsR3JhbnRzVXBkYXRlZC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5jYWxsR3JhbnRzVXBkYXRlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkdvQXdheSBnb19hd2F5ICovIDIwOlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnZ29Bd2F5JyxcbiAgICAgICAgICAgIGdvQXdheTogR29Bd2F5LmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLmdvQXdheSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnQgaWNlX3Jlc3RhcnQgKi8gMjE6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdpY2VSZXN0YXJ0JyxcbiAgICAgICAgICAgIGljZVJlc3RhcnQ6IElDRVJlc3RhcnQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkIGFzIGFueSkuaWNlUmVzdGFydCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkIHBpbnNfdXBkYXRlZCAqLyAyMjpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ3BpbnNVcGRhdGVkJyxcbiAgICAgICAgICAgIHBpbnNVcGRhdGVkOiBQaW5zQ2hhbmdlZC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAobWVzc2FnZS5ldmVudFBheWxvYWQgYXMgYW55KS5waW5zVXBkYXRlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCBjYWxsX2VuZGVkICovIDIzOlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnY2FsbEVuZGVkJyxcbiAgICAgICAgICAgIGNhbGxFbmRlZDogQ2FsbEVuZGVkLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLmNhbGxFbmRlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCBwYXJ0aWNpcGFudF91cGRhdGVkICovIDI0OlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRVcGRhdGVkJyxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50VXBkYXRlZDogUGFydGljaXBhbnRVcGRhdGVkLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIChtZXNzYWdlLmV2ZW50UGF5bG9hZCBhcyBhbnkpLnBhcnRpY2lwYW50VXBkYXRlZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU2Z1RXZlbnQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXIgc3Vic2NyaWJlcl9vZmZlciA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ3N1YnNjcmliZXJPZmZlcicpXG4gICAgICBTdWJzY3JpYmVyT2ZmZXIuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQuc3Vic2NyaWJlck9mZmVyLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXIgcHVibGlzaGVyX2Fuc3dlciA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ3B1Ymxpc2hlckFuc3dlcicpXG4gICAgICBQdWJsaXNoZXJBbnN3ZXIuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQucHVibGlzaGVyQW5zd2VyLFxuICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgY29ubmVjdGlvbl9xdWFsaXR5X2NoYW5nZWQgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnKVxuICAgICAgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQgYXVkaW9fbGV2ZWxfY2hhbmdlZCA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ2F1ZGlvTGV2ZWxDaGFuZ2VkJylcbiAgICAgIEF1ZGlvTGV2ZWxDaGFuZ2VkLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmF1ZGlvTGV2ZWxDaGFuZ2VkLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSBpY2VfdHJpY2tsZSA9IDU7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ2ljZVRyaWNrbGUnKVxuICAgICAgSUNFVHJpY2tsZSQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQuaWNlVHJpY2tsZSxcbiAgICAgICAgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHkgY2hhbmdlX3B1Ymxpc2hfcXVhbGl0eSA9IDY7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JylcbiAgICAgIENoYW5nZVB1Ymxpc2hRdWFsaXR5LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmNoYW5nZVB1Ymxpc2hRdWFsaXR5LFxuICAgICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZCBwYXJ0aWNpcGFudF9qb2luZWQgPSAxMDsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAncGFydGljaXBhbnRKb2luZWQnKVxuICAgICAgUGFydGljaXBhbnRKb2luZWQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQucGFydGljaXBhbnRKb2luZWQsXG4gICAgICAgIHdyaXRlci50YWcoMTAsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnQgcGFydGljaXBhbnRfbGVmdCA9IDExOyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdwYXJ0aWNpcGFudExlZnQnKVxuICAgICAgUGFydGljaXBhbnRMZWZ0LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLnBhcnRpY2lwYW50TGVmdCxcbiAgICAgICAgd3JpdGVyLnRhZygxMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQgZG9taW5hbnRfc3BlYWtlcl9jaGFuZ2VkID0gMTI7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnKVxuICAgICAgRG9taW5hbnRTcGVha2VyQ2hhbmdlZC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZC5kb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgICB3cml0ZXIudGFnKDEyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlIGpvaW5fcmVzcG9uc2UgPSAxMzsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAnam9pblJlc3BvbnNlJylcbiAgICAgIEpvaW5SZXNwb25zZS5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZC5qb2luUmVzcG9uc2UsXG4gICAgICAgIHdyaXRlci50YWcoMTMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlIGhlYWx0aF9jaGVja19yZXNwb25zZSA9IDE0OyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdoZWFsdGhDaGVja1Jlc3BvbnNlJylcbiAgICAgIEhlYWx0aENoZWNrUmVzcG9uc2UuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQuaGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgICAgd3JpdGVyLnRhZygxNCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkIHRyYWNrX3B1Ymxpc2hlZCA9IDE2OyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICd0cmFja1B1Ymxpc2hlZCcpXG4gICAgICBUcmFja1B1Ymxpc2hlZC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZC50cmFja1B1Ymxpc2hlZCxcbiAgICAgICAgd3JpdGVyLnRhZygxNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWQgdHJhY2tfdW5wdWJsaXNoZWQgPSAxNzsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAndHJhY2tVbnB1Ymxpc2hlZCcpXG4gICAgICBUcmFja1VucHVibGlzaGVkLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLnRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICAgIHdyaXRlci50YWcoMTcsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvciBlcnJvciA9IDE4OyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdlcnJvcicpXG4gICAgICBFcnJvci5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmV2ZW50UGF5bG9hZC5lcnJvcixcbiAgICAgICAgd3JpdGVyLnRhZygxOCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgPSAxOTsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAnY2FsbEdyYW50c1VwZGF0ZWQnKVxuICAgICAgQ2FsbEdyYW50c1VwZGF0ZWQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQuY2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICAgIHdyaXRlci50YWcoMTksIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXkgZ29fYXdheSA9IDIwOyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdnb0F3YXknKVxuICAgICAgR29Bd2F5LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmdvQXdheSxcbiAgICAgICAgd3JpdGVyLnRhZygyMCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnQgaWNlX3Jlc3RhcnQgPSAyMTsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAnaWNlUmVzdGFydCcpXG4gICAgICBJQ0VSZXN0YXJ0LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmljZVJlc3RhcnQsXG4gICAgICAgIHdyaXRlci50YWcoMjEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZCBwaW5zX3VwZGF0ZWQgPSAyMjsgKi9cbiAgICBpZiAobWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kID09PSAncGluc1VwZGF0ZWQnKVxuICAgICAgUGluc0NoYW5nZWQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQucGluc1VwZGF0ZWQsXG4gICAgICAgIHdyaXRlci50YWcoMjIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWQgY2FsbF9lbmRlZCA9IDIzOyAqL1xuICAgIGlmIChtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQgPT09ICdjYWxsRW5kZWQnKVxuICAgICAgQ2FsbEVuZGVkLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuZXZlbnRQYXlsb2FkLmNhbGxFbmRlZCxcbiAgICAgICAgd3JpdGVyLnRhZygyMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCBwYXJ0aWNpcGFudF91cGRhdGVkID0gMjQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ3BhcnRpY2lwYW50VXBkYXRlZCcpXG4gICAgICBQYXJ0aWNpcGFudFVwZGF0ZWQuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5ldmVudFBheWxvYWQucGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgICB3cml0ZXIudGFnKDI0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdUV2ZW50XG4gKi9cbmV4cG9ydCBjb25zdCBTZnVFdmVudCA9IG5ldyBTZnVFdmVudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW5zQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluc0NoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGluLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxQaW5zQ2hhbmdlZD4pOiBQaW5zQ2hhbmdlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnBpbnMgPSBbXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8UGluc0NoYW5nZWQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFBpbnNDaGFuZ2VkLFxuICApOiBQaW5zQ2hhbmdlZCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnBpbnMucHVzaChcbiAgICAgICAgICAgIFBpbi5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFBpbnNDaGFuZ2VkLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gMTsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UucGlucy5sZW5ndGg7IGkrKylcbiAgICAgIFBpbi5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnBpbnNbaV0sXG4gICAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgUGluc0NoYW5nZWQgPSBuZXcgUGluc0NoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciQgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3Rfc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPEVycm9yPik6IEVycm9yIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UucmVjb25uZWN0U3RyYXRlZ3kgPSAwO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxFcnJvcj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogRXJyb3IsXG4gICk6IEVycm9yIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciAqLyA0OlxuICAgICAgICAgIG1lc3NhZ2UuZXJyb3IgPSBFcnJvciQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSByZWNvbm5lY3Rfc3RyYXRlZ3kgKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLnJlY29ubmVjdFN0cmF0ZWd5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IEVycm9yLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDsgKi9cbiAgICBpZiAobWVzc2FnZS5lcnJvcilcbiAgICAgIEVycm9yJC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgcmVjb25uZWN0X3N0cmF0ZWd5ID0gNTsgKi9cbiAgICBpZiAobWVzc2FnZS5yZWNvbm5lY3RTdHJhdGVneSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnJlY29ubmVjdFN0cmF0ZWd5KTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgY29uc3QgRXJyb3IgPSBuZXcgRXJyb3IkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxJQ0VUcmlja2xlPik6IElDRVRyaWNrbGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5wZWVyVHlwZSA9IDA7XG4gICAgbWVzc2FnZS5pY2VDYW5kaWRhdGUgPSAnJztcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8SUNFVHJpY2tsZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSUNFVHJpY2tsZSxcbiAgKTogSUNFVHJpY2tsZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5wZWVyVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBpY2VfY2FuZGlkYXRlICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5pY2VDYW5kaWRhdGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IElDRVRyaWNrbGUsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5wZWVyVHlwZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnBlZXJUeXBlKTtcbiAgICAvKiBzdHJpbmcgaWNlX2NhbmRpZGF0ZSA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UuaWNlQ2FuZGlkYXRlICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5pY2VDYW5kaWRhdGUpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVRyaWNrbGUgPSBuZXcgSUNFVHJpY2tsZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPElDRVJlc3RhcnQ+KTogSUNFUmVzdGFydCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnBlZXJUeXBlID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8SUNFUmVzdGFydD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSUNFUmVzdGFydCxcbiAgKTogSUNFUmVzdGFydCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5wZWVyVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBJQ0VSZXN0YXJ0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UucGVlclR5cGUgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5wZWVyVHlwZSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydCA9IG5ldyBJQ0VSZXN0YXJ0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdVJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNmdVJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdqb2luX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVxdWVzdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaGVhbHRoX2NoZWNrX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBIZWFsdGhDaGVja1JlcXVlc3QsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFNmdVJlcXVlc3Q+KTogU2Z1UmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnJlcXVlc3RQYXlsb2FkID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxTZnVSZXF1ZXN0Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTZnVSZXF1ZXN0LFxuICApOiBTZnVSZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0IGpvaW5fcmVxdWVzdCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UucmVxdWVzdFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCcsXG4gICAgICAgICAgICBqb2luUmVxdWVzdDogSm9pblJlcXVlc3QuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UucmVxdWVzdFBheWxvYWQgYXMgYW55KS5qb2luUmVxdWVzdCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdCBoZWFsdGhfY2hlY2tfcmVxdWVzdCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UucmVxdWVzdFBheWxvYWQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1JlcXVlc3QnLFxuICAgICAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiBIZWFsdGhDaGVja1JlcXVlc3QuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgKG1lc3NhZ2UucmVxdWVzdFBheWxvYWQgYXMgYW55KS5oZWFsdGhDaGVja1JlcXVlc3QsXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IFNmdVJlcXVlc3QsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdCBqb2luX3JlcXVlc3QgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnJlcXVlc3RQYXlsb2FkLm9uZW9mS2luZCA9PT0gJ2pvaW5SZXF1ZXN0JylcbiAgICAgIEpvaW5SZXF1ZXN0LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UucmVxdWVzdFBheWxvYWQuam9pblJlcXVlc3QsXG4gICAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdCBoZWFsdGhfY2hlY2tfcmVxdWVzdCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucmVxdWVzdFBheWxvYWQub25lb2ZLaW5kID09PSAnaGVhbHRoQ2hlY2tSZXF1ZXN0JylcbiAgICAgIEhlYWx0aENoZWNrUmVxdWVzdC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnJlcXVlc3RQYXlsb2FkLmhlYWx0aENoZWNrUmVxdWVzdCxcbiAgICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFNmdVJlcXVlc3QgPSBuZXcgU2Z1UmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEhlYWx0aENoZWNrUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QnLCBbXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8SGVhbHRoQ2hlY2tSZXF1ZXN0Pik6IEhlYWx0aENoZWNrUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8SGVhbHRoQ2hlY2tSZXF1ZXN0Pih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBIZWFsdGhDaGVja1JlcXVlc3QsXG4gICk6IEhlYWx0aENoZWNrUmVxdWVzdCB7XG4gICAgcmV0dXJuIHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogSGVhbHRoQ2hlY2tSZXF1ZXN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSGVhbHRoQ2hlY2tSZXF1ZXN0ID0gbmV3IEhlYWx0aENoZWNrUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxIZWFsdGhDaGVja1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2UnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfY291bnQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Q291bnQsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPEhlYWx0aENoZWNrUmVzcG9uc2U+KTogSGVhbHRoQ2hlY2tSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8SGVhbHRoQ2hlY2tSZXNwb25zZT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgKTogSGVhbHRoQ2hlY2tSZXNwb25zZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnRDb3VudCA9IFBhcnRpY2lwYW50Q291bnQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnRDb3VudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBIZWFsdGhDaGVja1Jlc3BvbnNlLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnQgcGFydGljaXBhbnRfY291bnQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnBhcnRpY2lwYW50Q291bnQpXG4gICAgICBQYXJ0aWNpcGFudENvdW50LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnRDb3VudCxcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWx0aENoZWNrUmVzcG9uc2UgPSBuZXcgSGVhbHRoQ2hlY2tSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1B1Ymxpc2hlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tQdWJsaXNoZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFRyYWNrUHVibGlzaGVkPik6IFRyYWNrUHVibGlzaGVkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudXNlcklkID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLnR5cGUgPSAwO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxUcmFja1B1Ymxpc2hlZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVHJhY2tQdWJsaXNoZWQsXG4gICk6IFRyYWNrUHVibGlzaGVkIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgdXNlcl9pZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCAqLyA0OlxuICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQgPSBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBUcmFja1B1Ymxpc2hlZCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgdXNlcl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLnR5cGUgIT09IDApIHdyaXRlci50YWcoMywgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNDsgKi9cbiAgICBpZiAobWVzc2FnZS5wYXJ0aWNpcGFudClcbiAgICAgIFBhcnRpY2lwYW50LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQsXG4gICAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZFxuICovXG5leHBvcnQgY29uc3QgVHJhY2tQdWJsaXNoZWQgPSBuZXcgVHJhY2tQdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tVbnB1Ymxpc2hlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tVbnB1Ymxpc2hlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjYXVzZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvbicsXG4gICAgICAgICAgVHJhY2tVbnB1Ymxpc2hSZWFzb24sXG4gICAgICAgICAgJ1RSQUNLX1VOUFVCTElTSF9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8VHJhY2tVbnB1Ymxpc2hlZD4pOiBUcmFja1VucHVibGlzaGVkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudXNlcklkID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLnR5cGUgPSAwO1xuICAgIG1lc3NhZ2UuY2F1c2UgPSAwO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxUcmFja1VucHVibGlzaGVkPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBUcmFja1VucHVibGlzaGVkLFxuICApOiBUcmFja1VucHVibGlzaGVkIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgdXNlcl9pZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvbiBjYXVzZSAqLyA0OlxuICAgICAgICAgIG1lc3NhZ2UuY2F1c2UgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCAqLyA1OlxuICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQgPSBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBUcmFja1VucHVibGlzaGVkLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyB1c2VyX2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS51c2VySWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgLyogc3RyaW5nIHNlc3Npb25faWQgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnNlc3Npb25JZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2Vzc2lvbklkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHlwZSA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UudHlwZSk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24gY2F1c2UgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLmNhdXNlICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuY2F1c2UpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNTsgKi9cbiAgICBpZiAobWVzc2FnZS5wYXJ0aWNpcGFudClcbiAgICAgIFBhcnRpY2lwYW50LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQsXG4gICAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1VucHVibGlzaGVkID0gbmV3IFRyYWNrVW5wdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEpvaW5SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Rva2VuJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmliZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjbGllbnRfZGV0YWlscycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gQ2xpZW50RGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnbWlncmF0aW9uJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBNaWdyYXRpb24gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPEpvaW5SZXF1ZXN0Pik6IEpvaW5SZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudG9rZW4gPSAnJztcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIG1lc3NhZ2Uuc3Vic2NyaWJlclNkcCA9ICcnO1xuICAgIG1lc3NhZ2UuZmFzdFJlY29ubmVjdCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxKb2luUmVxdWVzdD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogSm9pblJlcXVlc3QsXG4gICk6IEpvaW5SZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgdG9rZW4gKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnRva2VuID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHN1YnNjcmliZXJfc2RwICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5zdWJzY3JpYmVyU2RwID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHMgY2xpZW50X2RldGFpbHMgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLmNsaWVudERldGFpbHMgPSBDbGllbnREZXRhaWxzLmludGVybmFsQmluYXJ5UmVhZChcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtZXNzYWdlLmNsaWVudERldGFpbHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbiBtaWdyYXRpb24gKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLm1pZ3JhdGlvbiA9IE1pZ3JhdGlvbi5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5taWdyYXRpb24sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIGZhc3RfcmVjb25uZWN0ICovIDY6XG4gICAgICAgICAgbWVzc2FnZS5mYXN0UmVjb25uZWN0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogSm9pblJlcXVlc3QsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIHRva2VuID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS50b2tlbiAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudG9rZW4pO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgLyogc3RyaW5nIHN1YnNjcmliZXJfc2RwID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5zdWJzY3JpYmVyU2RwICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zdWJzY3JpYmVyU2RwKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzIGNsaWVudF9kZXRhaWxzID0gNDsgKi9cbiAgICBpZiAobWVzc2FnZS5jbGllbnREZXRhaWxzKVxuICAgICAgQ2xpZW50RGV0YWlscy5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmNsaWVudERldGFpbHMsXG4gICAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbiBtaWdyYXRpb24gPSA1OyAqL1xuICAgIGlmIChtZXNzYWdlLm1pZ3JhdGlvbilcbiAgICAgIE1pZ3JhdGlvbi5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLm1pZ3JhdGlvbixcbiAgICAgICAgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIGJvb2wgZmFzdF9yZWNvbm5lY3QgPSA2OyAqL1xuICAgIGlmIChtZXNzYWdlLmZhc3RSZWNvbm5lY3QgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZyg2LCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5mYXN0UmVjb25uZWN0KTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSm9pblJlcXVlc3QgPSBuZXcgSm9pblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTWlncmF0aW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxNaWdyYXRpb24+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Zyb21fc2Z1X2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdhbm5vdW5jZWRfdHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmlwdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8TWlncmF0aW9uPik6IE1pZ3JhdGlvbiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLmZyb21TZnVJZCA9ICcnO1xuICAgIG1lc3NhZ2UuYW5ub3VuY2VkVHJhY2tzID0gW107XG4gICAgbWVzc2FnZS5zdWJzY3JpcHRpb25zID0gW107XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPE1pZ3JhdGlvbj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogTWlncmF0aW9uLFxuICApOiBNaWdyYXRpb24ge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBmcm9tX3NmdV9pZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuZnJvbVNmdUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5hbm5vdW5jZWRUcmFja3MucHVzaChcbiAgICAgICAgICAgIFRyYWNrSW5mby5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHN1YnNjcmlwdGlvbnMgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscy5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBNaWdyYXRpb24sXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIGZyb21fc2Z1X2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5mcm9tU2Z1SWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmZyb21TZnVJZCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIGFubm91bmNlZF90cmFja3MgPSAyOyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5hbm5vdW5jZWRUcmFja3MubGVuZ3RoOyBpKyspXG4gICAgICBUcmFja0luZm8uaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5hbm5vdW5jZWRUcmFja3NbaV0sXG4gICAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgc3Vic2NyaXB0aW9ucyA9IDM7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLnN1YnNjcmlwdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgICBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5zdWJzY3JpcHRpb25zW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBNaWdyYXRpb24gPSBuZXcgTWlncmF0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEpvaW5SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Sm9pblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX3N0YXRlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDYWxsU3RhdGUgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWNvbm5lY3RlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxKb2luUmVzcG9uc2U+KTogSm9pblJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UucmVjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8Sm9pblJlc3BvbnNlPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBKb2luUmVzcG9uc2UsXG4gICk6IEpvaW5SZXNwb25zZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlIGNhbGxfc3RhdGUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmNhbGxTdGF0ZSA9IENhbGxTdGF0ZS5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5jYWxsU3RhdGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBib29sIHJlY29ubmVjdGVkICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5yZWNvbm5lY3RlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IEpvaW5SZXNwb25zZSxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGUgY2FsbF9zdGF0ZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UuY2FsbFN0YXRlKVxuICAgICAgQ2FsbFN0YXRlLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuY2FsbFN0YXRlLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogYm9vbCByZWNvbm5lY3RlZCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucmVjb25uZWN0ZWQgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5yZWNvbm5lY3RlZCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBKb2luUmVzcG9uc2UgPSBuZXcgSm9pblJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50Sm9pbmVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudEpvaW5lZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFBhcnRpY2lwYW50Sm9pbmVkPik6IFBhcnRpY2lwYW50Sm9pbmVkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UuY2FsbENpZCA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxQYXJ0aWNpcGFudEpvaW5lZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogUGFydGljaXBhbnRKb2luZWQsXG4gICk6IFBhcnRpY2lwYW50Sm9pbmVkIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgY2FsbF9jaWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmNhbGxDaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnBhcnRpY2lwYW50ID0gUGFydGljaXBhbnQuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogUGFydGljaXBhbnRKb2luZWQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIGNhbGxfY2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5jYWxsQ2lkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5jYWxsQ2lkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucGFydGljaXBhbnQpXG4gICAgICBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnBhcnRpY2lwYW50LFxuICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Sm9pbmVkID0gbmV3IFBhcnRpY2lwYW50Sm9pbmVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50TGVmdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRMZWZ0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFBhcnRpY2lwYW50TGVmdD4pOiBQYXJ0aWNpcGFudExlZnQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5jYWxsQ2lkID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFBhcnRpY2lwYW50TGVmdD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogUGFydGljaXBhbnRMZWZ0LFxuICApOiBQYXJ0aWNpcGFudExlZnQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBjYWxsX2NpZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuY2FsbENpZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQgPSBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBQYXJ0aWNpcGFudExlZnQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIGNhbGxfY2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5jYWxsQ2lkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5jYWxsQ2lkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucGFydGljaXBhbnQpXG4gICAgICBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnBhcnRpY2lwYW50LFxuICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudExlZnQgPSBuZXcgUGFydGljaXBhbnRMZWZ0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50VXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRVcGRhdGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFBhcnRpY2lwYW50VXBkYXRlZD4pOiBQYXJ0aWNpcGFudFVwZGF0ZWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5jYWxsQ2lkID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFBhcnRpY2lwYW50VXBkYXRlZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogUGFydGljaXBhbnRVcGRhdGVkLFxuICApOiBQYXJ0aWNpcGFudFVwZGF0ZWQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBjYWxsX2NpZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuY2FsbENpZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UucGFydGljaXBhbnQgPSBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5wYXJ0aWNpcGFudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBQYXJ0aWNpcGFudFVwZGF0ZWQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIGNhbGxfY2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5jYWxsQ2lkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5jYWxsQ2lkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2UucGFydGljaXBhbnQpXG4gICAgICBQYXJ0aWNpcGFudC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLnBhcnRpY2lwYW50LFxuICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudFVwZGF0ZWQgPSBuZXcgUGFydGljaXBhbnRVcGRhdGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN1YnNjcmliZXJPZmZlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3Vic2NyaWJlck9mZmVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdpY2VfcmVzdGFydCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxTdWJzY3JpYmVyT2ZmZXI+KTogU3Vic2NyaWJlck9mZmVyIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UuaWNlUmVzdGFydCA9IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc2RwID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFN1YnNjcmliZXJPZmZlcj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU3Vic2NyaWJlck9mZmVyLFxuICApOiBTdWJzY3JpYmVyT2ZmZXIge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIGJvb2wgaWNlX3Jlc3RhcnQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmljZVJlc3RhcnQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZHAgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnNkcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogU3Vic2NyaWJlck9mZmVyLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIGJvb2wgaWNlX3Jlc3RhcnQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmljZVJlc3RhcnQgIT09IGZhbHNlKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5pY2VSZXN0YXJ0KTtcbiAgICAvKiBzdHJpbmcgc2RwID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZHAgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNkcCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyXG4gKi9cbmV4cG9ydCBjb25zdCBTdWJzY3JpYmVyT2ZmZXIgPSBuZXcgU3Vic2NyaWJlck9mZmVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFB1Ymxpc2hlckFuc3dlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UHVibGlzaGVyQW5zd2VyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxQdWJsaXNoZXJBbnN3ZXI+KTogUHVibGlzaGVyQW5zd2VyIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2Uuc2RwID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFB1Ymxpc2hlckFuc3dlcj4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogUHVibGlzaGVyQW5zd2VyLFxuICApOiBQdWJsaXNoZXJBbnN3ZXIge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZHAgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnNkcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogUHVibGlzaGVyQW5zd2VyLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyBzZHAgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnNkcCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2RwKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFB1Ymxpc2hlckFuc3dlciA9IG5ldyBQdWJsaXNoZXJBbnN3ZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBDb25uZWN0aW9uUXVhbGl0eUluZm8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZShcbiAgICB2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZD4sXG4gICk6IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLmNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgKTogQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mbyBjb25uZWN0aW9uX3F1YWxpdHlfdXBkYXRlcyAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzLnB1c2goXG4gICAgICAgICAgICBDb25uZWN0aW9uUXVhbGl0eUluZm8uaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgIHJlYWRlci51aW50MzIoKSxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvIGNvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzID0gMTsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgQ29ubmVjdGlvblF1YWxpdHlJbmZvLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgPSBuZXcgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q29ubmVjdGlvblF1YWxpdHlJbmZvPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mbycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eScsXG4gICAgICAgICAgQ29ubmVjdGlvblF1YWxpdHksXG4gICAgICAgICAgJ0NPTk5FQ1RJT05fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxDb25uZWN0aW9uUXVhbGl0eUluZm8+KTogQ29ubmVjdGlvblF1YWxpdHlJbmZvIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UudXNlcklkID0gJyc7XG4gICAgbWVzc2FnZS5zZXNzaW9uSWQgPSAnJztcbiAgICBtZXNzYWdlLmNvbm5lY3Rpb25RdWFsaXR5ID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8Q29ubmVjdGlvblF1YWxpdHlJbmZvPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBDb25uZWN0aW9uUXVhbGl0eUluZm8sXG4gICk6IENvbm5lY3Rpb25RdWFsaXR5SW5mbyB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHVzZXJfaWQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgc2Vzc2lvbl9pZCAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5IGNvbm5lY3Rpb25fcXVhbGl0eSAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHkgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQ29ubmVjdGlvblF1YWxpdHlJbmZvLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmluZyB1c2VyX2lkID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS51c2VySWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgLyogc3RyaW5nIHNlc3Npb25faWQgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLnNlc3Npb25JZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2Uuc2Vzc2lvbklkKTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLmNvbm5lY3Rpb25RdWFsaXR5ICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuY29ubmVjdGlvblF1YWxpdHkpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlJbmZvID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxEb21pbmFudFNwZWFrZXJDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUoXG4gICAgdmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxEb21pbmFudFNwZWFrZXJDaGFuZ2VkPixcbiAgKTogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnVzZXJJZCA9ICcnO1xuICAgIG1lc3NhZ2Uuc2Vzc2lvbklkID0gJyc7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPERvbWluYW50U3BlYWtlckNoYW5nZWQ+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IERvbWluYW50U3BlYWtlckNoYW5nZWQsXG4gICk6IERvbWluYW50U3BlYWtlckNoYW5nZWQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmluZyB1c2VyX2lkICovIDE6XG4gICAgICAgICAgbWVzc2FnZS51c2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIHNlc3Npb25faWQgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLnNlc3Npb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgdXNlcl9pZCA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgIC8qIHN0cmluZyBzZXNzaW9uX2lkID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5zZXNzaW9uSWQgIT09ICcnKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlc3Npb25JZCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IG5ldyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTGV2ZWw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxBdWRpb0xldmVsPik6IEF1ZGlvTGV2ZWwge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS51c2VySWQgPSAnJztcbiAgICBtZXNzYWdlLnNlc3Npb25JZCA9ICcnO1xuICAgIG1lc3NhZ2UubGV2ZWwgPSAwO1xuICAgIG1lc3NhZ2UuaXNTcGVha2luZyA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxBdWRpb0xldmVsPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBBdWRpb0xldmVsLFxuICApOiBBdWRpb0xldmVsIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJpbmcgdXNlcl9pZCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXNzaW9uX2lkICovIDI6XG4gICAgICAgICAgbWVzc2FnZS5zZXNzaW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogZmxvYXQgbGV2ZWwgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLmxldmVsID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBpc19zcGVha2luZyAqLyA0OlxuICAgICAgICAgIG1lc3NhZ2UuaXNTcGVha2luZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IEF1ZGlvTGV2ZWwsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyaW5nIHVzZXJfaWQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudXNlcklkKTtcbiAgICAvKiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7ICovXG4gICAgaWYgKG1lc3NhZ2Uuc2Vzc2lvbklkICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5zZXNzaW9uSWQpO1xuICAgIC8qIGZsb2F0IGxldmVsID0gMzsgKi9cbiAgICBpZiAobWVzc2FnZS5sZXZlbCAhPT0gMCkgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5CaXQzMikuZmxvYXQobWVzc2FnZS5sZXZlbCk7XG4gICAgLyogYm9vbCBpc19zcGVha2luZyA9IDQ7ICovXG4gICAgaWYgKG1lc3NhZ2UuaXNTcGVha2luZyAhPT0gZmFsc2UpXG4gICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLmlzU3BlYWtpbmcpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTGV2ZWwgPSBuZXcgQXVkaW9MZXZlbCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb0xldmVsQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXVkaW9MZXZlbENoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxBdWRpb0xldmVsQ2hhbmdlZD4pOiBBdWRpb0xldmVsQ2hhbmdlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLmF1ZGlvTGV2ZWxzID0gW107XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEF1ZGlvTGV2ZWxDaGFuZ2VkPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgKTogQXVkaW9MZXZlbENoYW5nZWQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCBhdWRpb19sZXZlbHMgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmF1ZGlvTGV2ZWxzLnB1c2goXG4gICAgICAgICAgICBBdWRpb0xldmVsLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucyksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQXVkaW9MZXZlbENoYW5nZWQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsIGF1ZGlvX2xldmVscyA9IDE7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLmF1ZGlvTGV2ZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgQXVkaW9MZXZlbC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmF1ZGlvTGV2ZWxzW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTGV2ZWxDaGFuZ2VkID0gbmV3IEF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTWVkaWFSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb01lZGlhUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjaGFubmVsX2NvdW50JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPEF1ZGlvTWVkaWFSZXF1ZXN0Pik6IEF1ZGlvTWVkaWFSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UuY2hhbm5lbENvdW50ID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8QXVkaW9NZWRpYVJlcXVlc3Q+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IEF1ZGlvTWVkaWFSZXF1ZXN0LFxuICApOiBBdWRpb01lZGlhUmVxdWVzdCB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogaW50MzIgY2hhbm5lbF9jb3VudCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UuY2hhbm5lbENvdW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IEF1ZGlvTWVkaWFSZXF1ZXN0LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIGludDMyIGNoYW5uZWxfY291bnQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmNoYW5uZWxDb3VudCAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmNoYW5uZWxDb3VudCk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9NZWRpYVJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTWVkaWFSZXF1ZXN0ID0gbmV3IEF1ZGlvTWVkaWFSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvU2VuZGVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb1NlbmRlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlcicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdtZWRpYV9yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb01lZGlhUmVxdWVzdCxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8QXVkaW9TZW5kZXI+KTogQXVkaW9TZW5kZXIge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEF1ZGlvU2VuZGVyPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBBdWRpb1NlbmRlcixcbiAgKTogQXVkaW9TZW5kZXIge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9NZWRpYVJlcXVlc3QgbWVkaWFfcmVxdWVzdCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UubWVkaWFSZXF1ZXN0ID0gQXVkaW9NZWRpYVJlcXVlc3QuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UubWVkaWFSZXF1ZXN0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmNvZGVjID0gQ29kZWMuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuY29kZWMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICBpZiAodSA9PT0gJ3Rocm93JylcbiAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICAgICBgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKFxuICAgICAgICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICBmaWVsZE5vLFxuICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgbWVzc2FnZTogQXVkaW9TZW5kZXIsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdCBtZWRpYV9yZXF1ZXN0ID0gMTsgKi9cbiAgICBpZiAobWVzc2FnZS5tZWRpYVJlcXVlc3QpXG4gICAgICBBdWRpb01lZGlhUmVxdWVzdC5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLm1lZGlhUmVxdWVzdCxcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5jb2RlYylcbiAgICAgIENvZGVjLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuY29kZWMsXG4gICAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlclxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZW5kZXIgPSBuZXcgQXVkaW9TZW5kZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9NZWRpYVJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTWVkaWFSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTWVkaWFSZXF1ZXN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2lkZWFsX2hlaWdodCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdpZGVhbF93aWR0aCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnaWRlYWxfZnJhbWVfcmF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxWaWRlb01lZGlhUmVxdWVzdD4pOiBWaWRlb01lZGlhUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLmlkZWFsSGVpZ2h0ID0gMDtcbiAgICBtZXNzYWdlLmlkZWFsV2lkdGggPSAwO1xuICAgIG1lc3NhZ2UuaWRlYWxGcmFtZVJhdGUgPSAwO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxWaWRlb01lZGlhUmVxdWVzdD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmlkZW9NZWRpYVJlcXVlc3QsXG4gICk6IFZpZGVvTWVkaWFSZXF1ZXN0IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBpbnQzMiBpZGVhbF9oZWlnaHQgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmlkZWFsSGVpZ2h0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogaW50MzIgaWRlYWxfd2lkdGggKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmlkZWFsV2lkdGggPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBpbnQzMiBpZGVhbF9mcmFtZV9yYXRlICovIDM6XG4gICAgICAgICAgbWVzc2FnZS5pZGVhbEZyYW1lUmF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBWaWRlb01lZGlhUmVxdWVzdCxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBpbnQzMiBpZGVhbF9oZWlnaHQgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmlkZWFsSGVpZ2h0ICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuaWRlYWxIZWlnaHQpO1xuICAgIC8qIGludDMyIGlkZWFsX3dpZHRoID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5pZGVhbFdpZHRoICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuaWRlYWxXaWR0aCk7XG4gICAgLyogaW50MzIgaWRlYWxfZnJhbWVfcmF0ZSA9IDM7ICovXG4gICAgaWYgKG1lc3NhZ2UuaWRlYWxGcmFtZVJhdGUgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5pZGVhbEZyYW1lUmF0ZSk7XG4gICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkoXG4gICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHdyaXRlcixcbiAgICAgICk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9NZWRpYVJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTWVkaWFSZXF1ZXN0ID0gbmV3IFZpZGVvTWVkaWFSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTGF5ZXJTZXR0aW5nJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0xheWVyU2V0dGluZz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnYWN0aXZlJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ21heF9iaXRyYXRlJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnknLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAncHJpb3JpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZy5Qcmlvcml0eScsXG4gICAgICAgICAgVmlkZW9MYXllclNldHRpbmdfUHJpb3JpdHksXG4gICAgICAgICAgJ1BSSU9SSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ21heF9mcmFtZXJhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxWaWRlb0xheWVyU2V0dGluZz4pOiBWaWRlb0xheWVyU2V0dGluZyB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLm5hbWUgPSAnJztcbiAgICBtZXNzYWdlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIG1lc3NhZ2UubWF4Qml0cmF0ZSA9IDA7XG4gICAgbWVzc2FnZS5zY2FsZVJlc29sdXRpb25Eb3duQnkgPSAwO1xuICAgIG1lc3NhZ2UucHJpb3JpdHkgPSAwO1xuICAgIG1lc3NhZ2UubWF4RnJhbWVyYXRlID0gMDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8VmlkZW9MYXllclNldHRpbmc+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgcmVhZGVyOiBJQmluYXJ5UmVhZGVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFZpZGVvTGF5ZXJTZXR0aW5nLFxuICApOiBWaWRlb0xheWVyU2V0dGluZyB7XG4gICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSxcbiAgICAgIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG5hbWUgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogYm9vbCBhY3RpdmUgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmFjdGl2ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogaW50MzIgbWF4X2JpdHJhdGUgKi8gMzpcbiAgICAgICAgICBtZXNzYWdlLm1heEJpdHJhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiBmbG9hdCBzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnkgKi8gNDpcbiAgICAgICAgICBtZXNzYWdlLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcuUHJpb3JpdHkgcHJpb3JpdHkgKi8gNTpcbiAgICAgICAgICBtZXNzYWdlLnByaW9yaXR5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgKi8gNjpcbiAgICAgICAgICBtZXNzYWdlLmNvZGVjID0gQ29kZWMuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuY29kZWMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiB1aW50MzIgbWF4X2ZyYW1lcmF0ZSAqLyA3OlxuICAgICAgICAgIG1lc3NhZ2UubWF4RnJhbWVyYXRlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBWaWRlb0xheWVyU2V0dGluZyxcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJpbmcgbmFtZSA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gJycpXG4gICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgLyogYm9vbCBhY3RpdmUgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLmFjdGl2ZSAhPT0gZmFsc2UpXG4gICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLmFjdGl2ZSk7XG4gICAgLyogaW50MzIgbWF4X2JpdHJhdGUgPSAzOyAqL1xuICAgIGlmIChtZXNzYWdlLm1heEJpdHJhdGUgIT09IDApXG4gICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5tYXhCaXRyYXRlKTtcbiAgICAvKiBmbG9hdCBzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnkgPSA0OyAqL1xuICAgIGlmIChtZXNzYWdlLnNjYWxlUmVzb2x1dGlvbkRvd25CeSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuQml0MzIpLmZsb2F0KG1lc3NhZ2Uuc2NhbGVSZXNvbHV0aW9uRG93bkJ5KTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nLlByaW9yaXR5IHByaW9yaXR5ID0gNTsgKi9cbiAgICBpZiAobWVzc2FnZS5wcmlvcml0eSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnByaW9yaXR5KTtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDY7ICovXG4gICAgaWYgKG1lc3NhZ2UuY29kZWMpXG4gICAgICBDb2RlYy5pbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgICAgICBtZXNzYWdlLmNvZGVjLFxuICAgICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogdWludDMyIG1heF9mcmFtZXJhdGUgPSA3OyAqL1xuICAgIGlmIChtZXNzYWdlLm1heEZyYW1lcmF0ZSAhPT0gMClcbiAgICAgIHdyaXRlci50YWcoNywgV2lyZVR5cGUuVmFyaW50KS51aW50MzIobWVzc2FnZS5tYXhGcmFtZXJhdGUpO1xuICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKFxuICAgICAgICB0aGlzLnR5cGVOYW1lLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB3cml0ZXIsXG4gICAgICApO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0xheWVyU2V0dGluZyA9IG5ldyBWaWRlb0xheWVyU2V0dGluZyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb1NlbmRlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9TZW5kZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXInLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnbWVkaWFfcmVxdWVzdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9NZWRpYVJlcXVlc3QsXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllclNldHRpbmcsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPFZpZGVvU2VuZGVyPik6IFZpZGVvU2VuZGVyIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UubGF5ZXJzID0gW107XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFZpZGVvU2VuZGVyPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgIHJlYWRlcjogSUJpbmFyeVJlYWRlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBWaWRlb1NlbmRlcixcbiAgKTogVmlkZW9TZW5kZXIge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9NZWRpYVJlcXVlc3QgbWVkaWFfcmVxdWVzdCAqLyAxOlxuICAgICAgICAgIG1lc3NhZ2UubWVkaWFSZXF1ZXN0ID0gVmlkZW9NZWRpYVJlcXVlc3QuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UubWVkaWFSZXF1ZXN0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLmNvZGVjID0gQ29kZWMuaW50ZXJuYWxCaW5hcnlSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1lc3NhZ2UuY29kZWMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nIGxheWVycyAqLyAzOlxuICAgICAgICAgIG1lc3NhZ2UubGF5ZXJzLnB1c2goXG4gICAgICAgICAgICBWaWRlb0xheWVyU2V0dGluZy5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpLFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBWaWRlb1NlbmRlcixcbiAgICB3cml0ZXI6IElCaW5hcnlXcml0ZXIsXG4gICAgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zLFxuICApOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAvKiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTWVkaWFSZXF1ZXN0IG1lZGlhX3JlcXVlc3QgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLm1lZGlhUmVxdWVzdClcbiAgICAgIFZpZGVvTWVkaWFSZXF1ZXN0LmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UubWVkaWFSZXF1ZXN0LFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgPSAyOyAqL1xuICAgIGlmIChtZXNzYWdlLmNvZGVjKVxuICAgICAgQ29kZWMuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5jb2RlYyxcbiAgICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcgbGF5ZXJzID0gMzsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UubGF5ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgVmlkZW9MYXllclNldHRpbmcuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS5sYXllcnNbaV0sXG4gICAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZW5kZXIgPSBuZXcgVmlkZW9TZW5kZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENoYW5nZVB1Ymxpc2hRdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2F1ZGlvX3NlbmRlcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvU2VuZGVyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19zZW5kZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb1NlbmRlcixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q2hhbmdlUHVibGlzaFF1YWxpdHk+KTogQ2hhbmdlUHVibGlzaFF1YWxpdHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlISk7XG4gICAgbWVzc2FnZS5hdWRpb1NlbmRlcnMgPSBbXTtcbiAgICBtZXNzYWdlLnZpZGVvU2VuZGVycyA9IFtdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxDaGFuZ2VQdWJsaXNoUXVhbGl0eT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICk6IENoYW5nZVB1Ymxpc2hRdWFsaXR5IHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyIGF1ZGlvX3NlbmRlcnMgKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLmF1ZGlvU2VuZGVycy5wdXNoKFxuICAgICAgICAgICAgQXVkaW9TZW5kZXIuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXIgdmlkZW9fc2VuZGVycyAqLyAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlkZW9TZW5kZXJzLnB1c2goXG4gICAgICAgICAgICBWaWRlb1NlbmRlci5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IENoYW5nZVB1Ymxpc2hRdWFsaXR5LFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXIgYXVkaW9fc2VuZGVycyA9IDE7ICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLmF1ZGlvU2VuZGVycy5sZW5ndGg7IGkrKylcbiAgICAgIEF1ZGlvU2VuZGVyLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuYXVkaW9TZW5kZXJzW2ldLFxuICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKS5qb2luKCk7XG4gICAgLyogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlciB2aWRlb19zZW5kZXJzID0gMjsgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2UudmlkZW9TZW5kZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgVmlkZW9TZW5kZXIuaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICAgICAgbWVzc2FnZS52aWRlb1NlbmRlcnNbaV0sXG4gICAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLmpvaW4oKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eVxuICovXG5leHBvcnQgY29uc3QgQ2hhbmdlUHVibGlzaFF1YWxpdHkgPSBuZXcgQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEdyYW50c1VwZGF0ZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxHcmFudHNVcGRhdGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2N1cnJlbnRfZ3JhbnRzJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDYWxsR3JhbnRzIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWVzc2FnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG4gIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPENhbGxHcmFudHNVcGRhdGVkPik6IENhbGxHcmFudHNVcGRhdGVkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSEpO1xuICAgIG1lc3NhZ2UubWVzc2FnZSA9ICcnO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxDYWxsR3JhbnRzVXBkYXRlZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICk6IENhbGxHcmFudHNVcGRhdGVkIHtcbiAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLFxuICAgICAgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgY2FzZSAvKiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzIGN1cnJlbnRfZ3JhbnRzICovIDE6XG4gICAgICAgICAgbWVzc2FnZS5jdXJyZW50R3JhbnRzID0gQ2FsbEdyYW50cy5pbnRlcm5hbEJpbmFyeVJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKCksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgbWVzc2FnZS5jdXJyZW50R3JhbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLyogc3RyaW5nIG1lc3NhZ2UgKi8gMjpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgaWYgKHUgPT09ICd0aHJvdycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAgICAgYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KShcbiAgICAgICAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgZmllbGRObyxcbiAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpbnRlcm5hbEJpbmFyeVdyaXRlKFxuICAgIG1lc3NhZ2U6IENhbGxHcmFudHNVcGRhdGVkLFxuICAgIHdyaXRlcjogSUJpbmFyeVdyaXRlcixcbiAgICBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMsXG4gICk6IElCaW5hcnlXcml0ZXIge1xuICAgIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMgY3VycmVudF9ncmFudHMgPSAxOyAqL1xuICAgIGlmIChtZXNzYWdlLmN1cnJlbnRHcmFudHMpXG4gICAgICBDYWxsR3JhbnRzLmludGVybmFsQmluYXJ5V3JpdGUoXG4gICAgICAgIG1lc3NhZ2UuY3VycmVudEdyYW50cyxcbiAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICkuam9pbigpO1xuICAgIC8qIHN0cmluZyBtZXNzYWdlID0gMjsgKi9cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9PSAnJylcbiAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5tZXNzYWdlKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsR3JhbnRzVXBkYXRlZFxuICovXG5leHBvcnQgY29uc3QgQ2FsbEdyYW50c1VwZGF0ZWQgPSBuZXcgQ2FsbEdyYW50c1VwZGF0ZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgR29Bd2F5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxHb0F3YXk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3JlYXNvbicsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb24nLFxuICAgICAgICAgIEdvQXdheVJlYXNvbixcbiAgICAgICAgICAnR09fQVdBWV9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8R29Bd2F5Pik6IEdvQXdheSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnJlYXNvbiA9IDA7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPEdvQXdheT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogR29Bd2F5LFxuICApOiBHb0F3YXkge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvbiByZWFzb24gKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnJlYXNvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBHb0F3YXksXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uIHJlYXNvbiA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UucmVhc29uICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UucmVhc29uKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGNvbnN0IEdvQXdheSA9IG5ldyBHb0F3YXkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEVuZGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsRW5kZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3JlYXNvbicsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb24nLFxuICAgICAgICAgIENhbGxFbmRlZFJlYXNvbixcbiAgICAgICAgICAnQ0FMTF9FTkRFRF9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8Q2FsbEVuZGVkPik6IENhbGxFbmRlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKTtcbiAgICBtZXNzYWdlLnJlYXNvbiA9IDA7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPENhbGxFbmRlZD4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGludGVybmFsQmluYXJ5UmVhZChcbiAgICByZWFkZXI6IElCaW5hcnlSZWFkZXIsXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogQ2FsbEVuZGVkLFxuICApOiBDYWxsRW5kZWQge1xuICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksXG4gICAgICBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICBjYXNlIC8qIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxFbmRlZFJlYXNvbiByZWFzb24gKi8gMTpcbiAgICAgICAgICBtZXNzYWdlLnJlYXNvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgIGlmICh1ID09PSAndGhyb3cnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkoXG4gICAgICAgICAgICAgIHRoaXMudHlwZU5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGZpZWxkTm8sXG4gICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgaW50ZXJuYWxCaW5hcnlXcml0ZShcbiAgICBtZXNzYWdlOiBDYWxsRW5kZWQsXG4gICAgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLFxuICAgIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyxcbiAgKTogSUJpbmFyeVdyaXRlciB7XG4gICAgLyogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uIHJlYXNvbiA9IDE7ICovXG4gICAgaWYgKG1lc3NhZ2UucmVhc29uICE9PSAwKVxuICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UucmVhc29uKTtcbiAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KShcbiAgICAgICAgdGhpcy50eXBlTmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgd3JpdGVyLFxuICAgICAgKTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxFbmRlZCA9IG5ldyBDYWxsRW5kZWQkVHlwZSgpO1xuIiwiaW1wb3J0IHR5cGUge1xuICBQYXJ0aWNpcGFudCxcbiAgVmlkZW9EaW1lbnNpb24sXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB0eXBlIHtcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBNZW1iZXJSZXNwb25zZSxcbiAgT3duQ2FwYWJpbGl0eSxcbiAgUmVhY3Rpb25SZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB0eXBlIHsgQ29tcGFyYXRvciB9IGZyb20gJy4vc29ydGluZyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtUmVhY3Rpb24gPSBQaWNrPFxuICBSZWFjdGlvblJlc3BvbnNlLFxuICAndHlwZScgfCAnZW1vamlfY29kZScgfCAnY3VzdG9tJ1xuPjtcblxuZXhwb3J0IGVudW0gVmlzaWJpbGl0eVN0YXRlIHtcbiAgVU5LTk9XTiA9ICdVTktOT1dOJyxcbiAgVklTSUJMRSA9ICdWSVNJQkxFJyxcbiAgSU5WSVNJQkxFID0gJ0lOVklTSUJMRScsXG59XG5cbmV4cG9ydCBlbnVtIERlYm91bmNlVHlwZSB7XG4gIElNTUVESUFURSA9IDIwLFxuICBGQVNUID0gMTAwLFxuICBNRURJVU0gPSA2MDAsXG4gIFNMT1cgPSAxMjAwLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQgZXh0ZW5kcyBQYXJ0aWNpcGFudCB7XG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHB1Ymxpc2hpbmcgYXVkaW8gYW5kXG4gICAqIHdlIGhhdmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIGF1ZGlvU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHZpZGVvIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciB2aWRlbyxcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgdmlkZW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciBzY3JlZW4sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHNjcmVlbiBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHNoYXJpbmcgdGhlaXIgYXVkaW8sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCB2aWRlbyBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3MgdmlkZW8uXG4gICAqL1xuICB2aWRlb0RpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHNjcmVlbiBzaGFyZSBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlLlxuICAgKi9cbiAgc2NyZWVuU2hhcmVEaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgdGhlIGxvY2FsIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgaXNMb2NhbFBhcnRpY2lwYW50PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHBpbiBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQuXG4gICAqL1xuICBwaW4/OiBQYXJ0aWNpcGFudFBpbjtcblxuICAvKipcbiAgICogVGhlIGxhc3QgcmVhY3Rpb24gdGhpcyB1c2VyIGhhcyBzZW50IHRvIHRoaXMgY2FsbC5cbiAgICogSW50ZWdyYXRvcnMgY2FuIGJhdGNoL2NvbGxlY3QgcGFzdCByZWFjdGlvbnMgYW5kIHNob3cgdGhlbSB0byB0aGUgVUkuXG4gICAqL1xuICByZWFjdGlvbj86IFN0cmVhbVJlYWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQncyB0cmFja3Mgd2l0aGluIGEgZGVmaW5lZCB2aWV3cG9ydC5cbiAgICovXG4gIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPzogUmVjb3JkPFZpZGVvVHJhY2tUeXBlLCBWaXNpYmlsaXR5U3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgdm9sdW1lIG9mIHRoZSBwYXJ0aWNpcGFudCdzIGF1ZGlvIHN0cmVhbSAoZnJvbSAwIHRvIDEpLlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdXNlIHRoZSBkZWZhdWx0IHZvbHVtZS5cbiAgICpcbiAgICogTm90ZTogdGhpcyB2YWx1ZSBpcyBub3QgYXBwbGljYWJsZSBpbiBSZWFjdCBOYXRpdmUuXG4gICAqL1xuICBhdWRpb1ZvbHVtZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgVmlkZW9UcmFja1R5cGUgPSAndmlkZW9UcmFjaycgfCAnc2NyZWVuU2hhcmVUcmFjayc7XG5leHBvcnQgdHlwZSBBdWRpb1RyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJyB8ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snO1xuZXhwb3J0IHR5cGUgVHJhY2tNdXRlVHlwZSA9XG4gIHwgJ2F1ZGlvJ1xuICB8ICd2aWRlbydcbiAgfCAnc2NyZWVuc2hhcmUnXG4gIHwgJ3NjcmVlbnNoYXJlX2F1ZGlvJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcGFydGljaXBhbnQncyBwaW4gc3RhdGUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnRpY2lwYW50UGluID0ge1xuICAvKipcbiAgICogU2V0IHRvIHRydWUgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBieSB0aGUgbG9jYWwgdXNlci5cbiAgICogRmFsc2UgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBzZXJ2ZXItc2lkZSwgYnkgdGhlIGNhbGwgbW9kZXJhdG9yLlxuICAgKi9cbiAgaXNMb2NhbFBpbjogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGltZXN0YW1wIHdoZW4gdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZC5cbiAgICovXG4gIHBpbm5lZEF0OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEEgcGFydGlhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoID0gUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2Yge0BsaW5rIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaH0gb3JnYW5pemVkIGJ5IHNlc3Npb25JZC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgPSB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaDtcbn07XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZSA9IHtcbiAgLyoqXG4gICAqIFRoZSB2aWRlbyBkaW1lbnNpb24gdG8gcmVxdWVzdC5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIGluIGNhc2UgeW91IHdhbnQgdG8gdW5zdWJzY3JpYmUuXG4gICAqL1xuICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlcyA9IHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3Vic2NyaXB0aW9uQ2hhbmdlO1xufTtcblxuZXhwb3J0IHR5cGUgUHVibGlzaE9wdGlvbnMgPSB7XG4gIHByZWZlcnJlZENvZGVjPzogc3RyaW5nIHwgbnVsbDtcbiAgc2NyZWVuU2hhcmVTZXR0aW5ncz86IFNjcmVlblNoYXJlU2V0dGluZ3M7XG59O1xuXG5leHBvcnQgdHlwZSBTY3JlZW5TaGFyZVNldHRpbmdzID0ge1xuICAvKipcbiAgICogTGltaXRzIHRoZSBtYXhpbXVtIGZyYW1lcmF0ZSAoaW4gZnJhbWVzIHBlciBzZWNvbmQpIG9mIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIERlZmF1bHRzIHRvIDMwLlxuICAgKi9cbiAgbWF4RnJhbWVyYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIG1heGltdW0gYml0cmF0ZSAoaW4gYml0cyBwZXIgc2Vjb25kKSBvZiB0aGUgc2NyZWVuIHNoYXJlLlxuICAgKiBEZWZhdWx0cyB0byAzMDAwMDAwICgzTWJwcykuXG4gICAqL1xuICBtYXhCaXRyYXRlPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsbExlYXZlT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBjYWxsZXIgd2lsbCBnZXQgYSBgY2FsbC5yZWplY3RlZGAgZXZlbnQuXG4gICAqIEhhcyBhbiBlZmZlY3Qgb25seSBpZiB0aGUgY2FsbCBpcyBpbiB0aGUgYHJpbmdpbmdgIHN0YXRlLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgLlxuICAgKi9cbiAgcmVqZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHJlYXNvbiBmb3IgbGVhdmluZyB0aGUgY2FsbC5cbiAgICogVGhpcyB3aWxsIGJlIHNlbnQgdG8gdGhlIGJhY2tlbmQgYW5kIHdpbGwgYmUgdmlzaWJsZSBpbiB0aGUgbG9ncy5cbiAgICovXG4gIHJlYXNvbj86IHN0cmluZztcbn07XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB7QGxpbmsgQ2FsbH0gY29uc3RydWN0b3IuXG4gKi9cbmV4cG9ydCB0eXBlIENhbGxDb25zdHJ1Y3RvciA9IHtcbiAgLyoqXG4gICAqIFRoZSBzdHJlYW1DbGllbnQgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIHR5cGUuXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIElELlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgTWVtYmVyUmVzcG9uc2V9IGZyb20gdGhlIGJhY2tlbmQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgbWVtYmVycz86IE1lbWJlclJlc3BvbnNlW107XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGxpc3Qgb2Yge0BsaW5rIE93bkNhcGFiaWxpdHl9IGNvbWluZyBmcm9tIHRoZSBiYWNrZWQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgb3duQ2FwYWJpbGl0aWVzPzogT3duQ2FwYWJpbGl0eVtdO1xuXG4gIC8qKlxuICAgKiBGbGFncyB0aGUgY2FsbCBhcyBhIHJpbmdpbmcgY2FsbC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJpbmdpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGlzIGNhbGwgaW5zdGFuY2Ugc2hvdWxkIHJlY2VpdmUgdXBkYXRlcyBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZS5cbiAgICovXG4gIHdhdGNoaW5nPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29tcGFyYXRvciB0byB1c2Ugd2hlbiBzb3J0aW5nIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNvcnRQYXJ0aWNpcGFudHNCeT86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBzdG9yZSBvZiB0aGUgY2xpZW50XG4gICAqL1xuICBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsLmpvaW59IG1ldGhvZC5cbiAqL1xuZXhwb3J0IHR5cGUgSm9pbkNhbGxEYXRhID0gT21pdDxKb2luQ2FsbFJlcXVlc3QsICdsb2NhdGlvbic+O1xuZXhwb3J0IHsgQXhpb3NFcnJvciB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuc2lnbmFsXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHR5cGUge1xuICBScGNPcHRpb25zLFxuICBScGNUcmFuc3BvcnQsXG4gIFNlcnZpY2VJbmZvLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBzdGFja0ludGVyY2VwdCB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgdHlwZSB7XG4gIElDRVJlc3RhcnRSZXF1ZXN0LFxuICBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gIElDRVRyaWNrbGVSZXNwb25zZSxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRBbnN3ZXJSZXNwb25zZSxcbiAgU2VuZFN0YXRzUmVxdWVzdCxcbiAgU2VuZFN0YXRzUmVzcG9uc2UsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlc3BvbnNlLFxuICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSxcbn0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNpZ25hbFNlcnZlckNsaWVudCB7XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBVcGRhdGVNdXRlU3RhdGVzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UpO1xuICAgKi9cbiAgdXBkYXRlTXV0ZVN0YXRlcyhcbiAgICBpbnB1dDogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJDbGllbnQgaW1wbGVtZW50cyBJU2lnbmFsU2VydmVyQ2xpZW50LCBTZXJ2aWNlSW5mbyB7XG4gIHR5cGVOYW1lID0gU2lnbmFsU2VydmVyLnR5cGVOYW1lO1xuICBtZXRob2RzID0gU2lnbmFsU2VydmVyLm1ldGhvZHM7XG4gIG9wdGlvbnMgPSBTaWduYWxTZXJ2ZXIub3B0aW9ucztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfdHJhbnNwb3J0OiBScGNUcmFuc3BvcnQpIHt9XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1swXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNldFB1Ymxpc2hlclJlcXVlc3QsIFNldFB1Ymxpc2hlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1sxXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRJQ0VDYW5kaWRhdGUgc2VuZHMgYW4gSUNFIGNhbmRpZGF0ZSB0byB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVRyaWNrbGUoc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlKTtcbiAgICovXG4gIGljZVRyaWNrbGUoXG4gICAgaW5wdXQ6IElDRVRyaWNrbGUsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1szXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gICAgICBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s0XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZW5kU3RhdHMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2UpO1xuICAgKi9cbiAgc2VuZFN0YXRzKFxuICAgIGlucHV0OiBTZW5kU3RhdHNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RhcnROb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s3XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzhdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8XG4gICAgICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgTWV0aG9kSW5mbyxcbiAgTmV4dFVuYXJ5Rm4sXG4gIFJwY0ludGVyY2VwdG9yLFxuICBScGNPcHRpb25zLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQge1xuICBUd2lycEZldGNoVHJhbnNwb3J0LFxuICBUd2lycE9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogVHdpcnBPcHRpb25zID0ge1xuICBiYXNlVXJsOiAnJyxcbiAgc2VuZEpzb246IHRydWUsXG4gIHRpbWVvdXQ6IDUgKiAxMDAwLCAvLyBtcy5cbiAganNvbk9wdGlvbnM6IHtcbiAgICBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5KFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwge1xuICAgICAgb3B0aW9ucy5tZXRhID0geyAuLi5vcHRpb25zLm1ldGEsIC4uLmhlYWRlcnMgfTtcbiAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH0sXG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IFNpZ25hbFNlcnZlckNsaWVudCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgdHdpcnAgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNpZ25hbENsaWVudCA9IChvcHRpb25zPzogVHdpcnBPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBUd2lycEZldGNoVHJhbnNwb3J0KHtcbiAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAuLi5vcHRpb25zLFxuICB9KTtcblxuICByZXR1cm4gbmV3IFNpZ25hbFNlcnZlckNsaWVudCh0cmFuc3BvcnQpO1xufTtcbiIsIi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgd2UgYXJlIHVzaW5nIFJlYWN0IE5hdGl2ZVxuICovXG5leHBvcnQgY29uc3QgaXNSZWFjdE5hdGl2ZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IucHJvZHVjdD8udG9Mb3dlckNhc2UoKSA9PT0gJ3JlYWN0bmF0aXZlJztcbn07XG4iLCJpbXBvcnQgeyBMb2dnZXIsIExvZ0xldmVsIH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuL2hlbHBlcnMvcGxhdGZvcm1zJztcblxuLy8gbG9nIGxldmVscywgc29ydGVkIGJ5IHZlcmJvc2l0eVxuZXhwb3J0IGNvbnN0IGxvZ0xldmVsczogUmVjb3JkPExvZ0xldmVsLCBudW1iZXI+ID0gT2JqZWN0LmZyZWV6ZSh7XG4gIHRyYWNlOiAwLFxuICBkZWJ1ZzogMSxcbiAgaW5mbzogMixcbiAgd2FybjogMyxcbiAgZXJyb3I6IDQsXG59KTtcblxubGV0IGxvZ2dlcjogTG9nZ2VyIHwgdW5kZWZpbmVkO1xubGV0IGxldmVsOiBMb2dMZXZlbCA9ICdpbmZvJztcblxuZXhwb3J0IGNvbnN0IGxvZ1RvQ29uc29sZTogTG9nZ2VyID0gKGxvZ0xldmVsLCBtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gIGxldCBsb2dNZXRob2Q7XG4gIHN3aXRjaCAobG9nTGV2ZWwpIHtcbiAgICBjYXNlICdlcnJvcic6XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgRVJST1I6ICR7bWVzc2FnZX1gO1xuICAgICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmluZm87XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5lcnJvcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICBtZXNzYWdlID0gYFdBUk46ICR7bWVzc2FnZX1gO1xuICAgICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmluZm87XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS53YXJuO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5mbyc6XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmluZm87XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0cmFjZSc6XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLnRyYWNlO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUubG9nO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBsb2dNZXRob2QobWVzc2FnZSwgLi4uYXJncyk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9nZ2VyID0gKGw6IExvZ2dlciwgbHZsPzogTG9nTGV2ZWwpID0+IHtcbiAgbG9nZ2VyID0gbDtcbiAgaWYgKGx2bCkge1xuICAgIHNldExvZ0xldmVsKGx2bCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRMb2dMZXZlbCA9IChsOiBMb2dMZXZlbCkgPT4ge1xuICBsZXZlbCA9IGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKHdpdGhUYWdzPzogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgbG9nZ2VyTWV0aG9kID0gbG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgY29uc3QgdGFncyA9ICh3aXRoVGFncyB8fCBbXSkuam9pbignOicpO1xuICBjb25zdCByZXN1bHQ6IExvZ2dlciA9IChsb2dMZXZlbCwgbWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICAgIGlmIChsb2dMZXZlbHNbbG9nTGV2ZWxdID49IGxvZ0xldmVsc1tsZXZlbF0pIHtcbiAgICAgIGxvZ2dlck1ldGhvZChsb2dMZXZlbCwgYFske3RhZ3N9XTogJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJlZmVycmVkQ29kZWNzID0gKFxuICBraW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJyxcbiAgcHJlZmVycmVkQ29kZWM6IHN0cmluZyxcbiAgY29kZWNUb1JlbW92ZT86IHN0cmluZyxcbik6IFJUQ1J0cENvZGVjQ2FwYWJpbGl0eVtdIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY29kZWNzJ10pO1xuICBpZiAoISgnZ2V0Q2FwYWJpbGl0aWVzJyBpbiBSVENSdHBSZWNlaXZlcikpIHtcbiAgICBsb2dnZXIoJ3dhcm4nLCAnUlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY2FwID0gUlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzKGtpbmQpO1xuICBpZiAoIWNhcCkgcmV0dXJuO1xuICBjb25zdCBtYXRjaGVkOiBSVENSdHBDb2RlY0NhcGFiaWxpdHlbXSA9IFtdO1xuICBjb25zdCBwYXJ0aWFsTWF0Y2hlZDogUlRDUnRwQ29kZWNDYXBhYmlsaXR5W10gPSBbXTtcbiAgY29uc3QgdW5tYXRjaGVkOiBSVENSdHBDb2RlY0NhcGFiaWxpdHlbXSA9IFtdO1xuICBjYXAuY29kZWNzLmZvckVhY2goKGMpID0+IHtcbiAgICBjb25zdCBjb2RlYyA9IGMubWltZVR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICBsb2dnZXIoJ2RlYnVnJywgYEZvdW5kIHN1cHBvcnRlZCBjb2RlYzogJHtjb2RlY31gKTtcbiAgICBjb25zdCBzaG91bGRSZW1vdmVDb2RlYyA9XG4gICAgICBjb2RlY1RvUmVtb3ZlICYmIGNvZGVjID09PSBgJHtraW5kfS8ke2NvZGVjVG9SZW1vdmUudG9Mb3dlckNhc2UoKX1gO1xuICAgIGlmIChzaG91bGRSZW1vdmVDb2RlYykgcmV0dXJuO1xuICAgIGNvbnN0IG1hdGNoZXNDb2RlYyA9IGNvZGVjID09PSBgJHtraW5kfS8ke3ByZWZlcnJlZENvZGVjLnRvTG93ZXJDYXNlKCl9YDtcbiAgICBpZiAoIW1hdGNoZXNDb2RlYykge1xuICAgICAgdW5tYXRjaGVkLnB1c2goYyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZvciBoMjY0IGNvZGVjcyB0aGF0IGhhdmUgc2RwRm10cExpbmUgYXZhaWxhYmxlLCB1c2Ugb25seSBpZiB0aGVcbiAgICAvLyBwcm9maWxlLWxldmVsLWlkIGlzIDQyZTAxZiBmb3IgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmlsaXR5XG4gICAgaWYgKGNvZGVjID09PSAnaDI2NCcpIHtcbiAgICAgIGlmIChjLnNkcEZtdHBMaW5lICYmIGMuc2RwRm10cExpbmUuaW5jbHVkZXMoJ3Byb2ZpbGUtbGV2ZWwtaWQ9NDJlMDFmJykpIHtcbiAgICAgICAgbWF0Y2hlZC5wdXNoKGMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydGlhbE1hdGNoZWQucHVzaChjKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWF0Y2hlZC5wdXNoKGMpO1xuICB9KTtcblxuICByZXR1cm4gWy4uLm1hdGNoZWQsIC4uLnBhcnRpYWxNYXRjaGVkLCAuLi51bm1hdGNoZWRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEdlbmVyaWNTZHAgPSBhc3luYyAoZGlyZWN0aW9uOiBSVENSdHBUcmFuc2NlaXZlckRpcmVjdGlvbikgPT4ge1xuICBjb25zdCB0ZW1wUGMgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oKTtcbiAgdGVtcFBjLmFkZFRyYW5zY2VpdmVyKCd2aWRlbycsIHsgZGlyZWN0aW9uIH0pO1xuICB0ZW1wUGMuYWRkVHJhbnNjZWl2ZXIoJ2F1ZGlvJywgeyBkaXJlY3Rpb24gfSk7XG5cbiAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0ZW1wUGMuY3JlYXRlT2ZmZXIoKTtcbiAgbGV0IHNkcCA9IG9mZmVyLnNkcCA/PyAnJztcblxuICB0ZW1wUGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgIHQuc3RvcD8uKCk7XG4gIH0pO1xuICB0ZW1wUGMuY2xvc2UoKTtcbiAgcmV0dXJuIHNkcDtcbn07XG4iLCJpbXBvcnQgeyBDYWxsRXZlbnRMaXN0ZW5lciwgRXZlbnRUeXBlcyB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCB0eXBlIFNmdUV2ZW50S2luZHMgPSBOb25OdWxsYWJsZTxTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ11bJ29uZW9mS2luZCddPjtcbmV4cG9ydCB0eXBlIEFsbFNmdUV2ZW50cyA9IHtcbiAgW0sgaW4gU2Z1RXZlbnRLaW5kc106IEsgZXh0ZW5kcyBrZXlvZiBFeHRyYWN0PFxuICAgIFNmdUV2ZW50WydldmVudFBheWxvYWQnXSxcbiAgICB7IG9uZW9mS2luZDogSyB9XG4gID5cbiAgICA/IEV4dHJhY3Q8U2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddLCB7IG9uZW9mS2luZDogSyB9PltLXVxuICAgIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEaXNwYXRjaGFibGVNZXNzYWdlPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPiA9IHtcbiAgZXZlbnRQYXlsb2FkOiB7XG4gICAgb25lb2ZLaW5kOiBLO1xuICB9ICYge1xuICAgIFtLZXkgaW4gS106IEFsbFNmdUV2ZW50c1tLZXldO1xuICB9O1xufTtcblxuY29uc3Qgc2Z1RXZlbnRLaW5kczogeyBba2V5IGluIFNmdUV2ZW50S2luZHNdOiB1bmRlZmluZWQgfSA9IHtcbiAgc3Vic2NyaWJlck9mZmVyOiB1bmRlZmluZWQsXG4gIHB1Ymxpc2hlckFuc3dlcjogdW5kZWZpbmVkLFxuICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgYXVkaW9MZXZlbENoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgaWNlVHJpY2tsZTogdW5kZWZpbmVkLFxuICBjaGFuZ2VQdWJsaXNoUXVhbGl0eTogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudEpvaW5lZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudExlZnQ6IHVuZGVmaW5lZCxcbiAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogdW5kZWZpbmVkLFxuICBqb2luUmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgaGVhbHRoQ2hlY2tSZXNwb25zZTogdW5kZWZpbmVkLFxuICB0cmFja1B1Ymxpc2hlZDogdW5kZWZpbmVkLFxuICB0cmFja1VucHVibGlzaGVkOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWQsXG4gIGNhbGxHcmFudHNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGdvQXdheTogdW5kZWZpbmVkLFxuICBpY2VSZXN0YXJ0OiB1bmRlZmluZWQsXG4gIHBpbnNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGNhbGxFbmRlZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IHVuZGVmaW5lZCxcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NmdUV2ZW50ID0gKFxuICBldmVudE5hbWU6IFNmdUV2ZW50S2luZHMgfCBFdmVudFR5cGVzLFxuKTogZXZlbnROYW1lIGlzIFNmdUV2ZW50S2luZHMgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNmdUV2ZW50S2luZHMsIGV2ZW50TmFtZSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRGlzcGF0Y2hlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnRGlzcGF0Y2hlciddKTtcbiAgcHJpdmF0ZSBzdWJzY3JpYmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8U2Z1RXZlbnRLaW5kcywgQ2FsbEV2ZW50TGlzdGVuZXI8YW55PltdIHwgdW5kZWZpbmVkPlxuICA+ID0ge307XG5cbiAgZGlzcGF0Y2ggPSA8SyBleHRlbmRzIFNmdUV2ZW50S2luZHM+KG1lc3NhZ2U6IERpc3BhdGNoYWJsZU1lc3NhZ2U8Sz4pID0+IHtcbiAgICBjb25zdCBldmVudEtpbmQgPSBtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQ7XG4gICAgaWYgKCFldmVudEtpbmQpIHJldHVybjtcbiAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5ldmVudFBheWxvYWRbZXZlbnRLaW5kXTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgRGlzcGF0Y2hpbmcgJHtldmVudEtpbmR9YCwgcGF5bG9hZCk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5zdWJzY3JpYmVyc1tldmVudEtpbmRdO1xuICAgIGlmICghbGlzdGVuZXJzKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBmbiBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKHBheWxvYWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdMaXN0ZW5lciBmYWlsZWQgd2l0aCBlcnJvcicsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsU2Z1RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID8/PSBbXSkucHVzaChmbiBhcyBuZXZlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH07XG4gIH07XG5cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9ICh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihcbiAgICAgIChmKSA9PiBmICE9PSBmbixcbiAgICApO1xuICB9O1xuXG4gIG9mZkFsbCA9IChldmVudE5hbWU/OiBTZnVFdmVudEtpbmRzKSA9PiB7XG4gICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuLyoqXG4gKiBBIGJ1ZmZlciBmb3IgSUNFIENhbmRpZGF0ZXMuIFVzZWQgZm9yIElDRSBUcmlja2xlOlxuICogLSBodHRwczovL2Jsb2dnZWVrLm1lL3dlYnJ0Y2dsb3NzYXJ5L3RyaWNrbGUtaWNlL1xuICovXG5leHBvcnQgY2xhc3MgSWNlVHJpY2tsZUJ1ZmZlciB7XG4gIHJlYWRvbmx5IHN1YnNjcmliZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8SUNFVHJpY2tsZT4oKTtcbiAgcmVhZG9ubHkgcHVibGlzaGVyQ2FuZGlkYXRlcyA9IG5ldyBSZXBsYXlTdWJqZWN0PElDRVRyaWNrbGU+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCddKTtcblxuICBwdXNoID0gKGljZVRyaWNrbGU6IElDRVRyaWNrbGUpID0+IHtcbiAgICBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuU1VCU0NSSUJFUikge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyQ2FuZGlkYXRlcy5uZXh0KGljZVRyaWNrbGUpO1xuICAgIH0gZWxzZSBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlckNhbmRpZGF0ZXMubmV4dChpY2VUcmlja2xlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSwgVW5rbm93biBwZWVyIHR5cGVgLCBpY2VUcmlja2xlKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljZUNhbmRpZGF0ZShcbiAgY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGUsXG4pOiBJQ0VUcmlja2xlWydpY2VDYW5kaWRhdGUnXSB7XG4gIGlmICghY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQpIHtcbiAgICAvLyByZWFjdC1uYXRpdmUtd2VicnRjIGRvZXNuJ3QgaW5jbHVkZSB1c2VybmFtZUZyYWdtZW50IGluIHRoZSBjYW5kaWRhdGVcbiAgICBjb25zdCBzcGxpdHRlZENhbmRpZGF0ZSA9IGNhbmRpZGF0ZS5jYW5kaWRhdGUuc3BsaXQoJyAnKTtcbiAgICBjb25zdCB1ZnJhZ0luZGV4ID1cbiAgICAgIHNwbGl0dGVkQ2FuZGlkYXRlLmZpbmRJbmRleCgoczogc3RyaW5nKSA9PiBzID09PSAndWZyYWcnKSArIDE7XG4gICAgY29uc3QgdXNlcm5hbWVGcmFnbWVudCA9IHNwbGl0dGVkQ2FuZGlkYXRlW3VmcmFnSW5kZXhdO1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IC4uLmNhbmRpZGF0ZSwgdXNlcm5hbWVGcmFnbWVudCB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY2FuZGlkYXRlLnRvSlNPTigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ2xpZW50RGV0YWlscyxcbiAgRGV2aWNlLFxuICBPUyxcbiAgU2RrLFxuICBTZGtUeXBlLFxufSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBVQVBhcnNlciB9IGZyb20gJ3VhLXBhcnNlci1qcyc7XG5cbnR5cGUgV2ViUlRDSW5mb1R5cGUgPSB7XG4gIHZlcnNpb246IHN0cmluZztcbn07XG5cbmNvbnN0IHZlcnNpb24gPSBwcm9jZXNzLmVudi5QS0dfVkVSU0lPTiB8fCAnMC4wLjAnO1xuY29uc3QgW21ham9yLCBtaW5vciwgcGF0Y2hdID0gdmVyc2lvbi5zcGxpdCgnLicpO1xuXG5sZXQgc2RrSW5mbzogU2RrIHwgdW5kZWZpbmVkID0ge1xuICB0eXBlOiBTZGtUeXBlLlBMQUlOX0pBVkFTQ1JJUFQsXG4gIG1ham9yLFxuICBtaW5vcixcbiAgcGF0Y2gsXG59O1xuXG5sZXQgb3NJbmZvOiBPUyB8IHVuZGVmaW5lZDtcbmxldCBkZXZpY2VJbmZvOiBEZXZpY2UgfCB1bmRlZmluZWQ7XG5sZXQgd2ViUnRjSW5mbzogV2ViUlRDSW5mb1R5cGUgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBzZXRTZGtJbmZvID0gKGluZm86IFNkaykgPT4ge1xuICBzZGtJbmZvID0gaW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gc2RrSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRPU0luZm8gPSAoaW5mbzogT1MpID0+IHtcbiAgb3NJbmZvID0gaW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPU0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiBvc0luZm87XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0RGV2aWNlSW5mbyA9IChpbmZvOiBEZXZpY2UpID0+IHtcbiAgZGV2aWNlSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGV2aWNlSW5mbyA9ICgpID0+IHtcbiAgcmV0dXJuIGRldmljZUluZm87XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0V2ViUlRDSW5mbyA9ICgpID0+IHtcbiAgcmV0dXJuIHdlYlJ0Y0luZm87XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0V2ViUlRDSW5mbyA9IChpbmZvOiBXZWJSVENJbmZvVHlwZSkgPT4ge1xuICB3ZWJSdGNJbmZvID0gaW5mbztcbn07XG5cbmV4cG9ydCB0eXBlIExvY2FsQ2xpZW50RGV0YWlsc1R5cGUgPSBDbGllbnREZXRhaWxzICYge1xuICB3ZWJSVENJbmZvPzogV2ViUlRDSW5mb1R5cGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50RGV0YWlscyA9ICgpOiBMb2NhbENsaWVudERldGFpbHNUeXBlID0+IHtcbiAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgIC8vIFNpbmNlIFJOIGRvZXNuJ3Qgc3VwcG9ydCB3ZWIsIHNoYXJpbmcgYnJvd3NlciBpbmZvIGlzIG5vdCByZXF1aXJlZFxuICAgIHJldHVybiB7XG4gICAgICBzZGs6IGdldFNka0luZm8oKSxcbiAgICAgIG9zOiBnZXRPU0luZm8oKSxcbiAgICAgIGRldmljZTogZ2V0RGV2aWNlSW5mbygpLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB1c2VyQWdlbnQgPSBuZXcgVUFQYXJzZXIobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIGNvbnN0IHsgYnJvd3Nlciwgb3MsIGRldmljZSwgY3B1IH0gPSB1c2VyQWdlbnQuZ2V0UmVzdWx0KCk7XG4gIHJldHVybiB7XG4gICAgc2RrOiBnZXRTZGtJbmZvKCksXG4gICAgYnJvd3Nlcjoge1xuICAgICAgbmFtZTogYnJvd3Nlci5uYW1lIHx8IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICB2ZXJzaW9uOiBicm93c2VyLnZlcnNpb24gfHwgJycsXG4gICAgfSxcbiAgICBvczoge1xuICAgICAgbmFtZTogb3MubmFtZSB8fCAnJyxcbiAgICAgIHZlcnNpb246IG9zLnZlcnNpb24gfHwgJycsXG4gICAgICBhcmNoaXRlY3R1cmU6IGNwdS5hcmNoaXRlY3R1cmUgfHwgJycsXG4gICAgfSxcbiAgICBkZXZpY2U6IHtcbiAgICAgIG5hbWU6IFtkZXZpY2UudmVuZG9yLCBkZXZpY2UubW9kZWwsIGRldmljZS50eXBlXVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIC5qb2luKCcgJyksXG4gICAgICB2ZXJzaW9uOiAnJyxcbiAgICB9LFxuICB9O1xufTtcbiIsImltcG9ydCB7IGdldE9TSW5mbyB9IGZyb20gJy4uL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vc2hpbXMnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcblxuZXhwb3J0IHR5cGUgT3B0aW1hbFZpZGVvTGF5ZXIgPSBSVENSdHBFbmNvZGluZ1BhcmFtZXRlcnMgJiB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcblxuY29uc3QgREVGQVVMVF9CSVRSQVRFID0gMTI1MDAwMDtcbmNvbnN0IGRlZmF1bHRUYXJnZXRSZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgPSB7XG4gIGJpdHJhdGU6IERFRkFVTFRfQklUUkFURSxcbiAgd2lkdGg6IDEyODAsXG4gIGhlaWdodDogNzIwLFxufTtcblxuY29uc3QgZGVmYXVsdEJpdHJhdGVQZXJSaWQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gIHE6IDMwMDAwMCxcbiAgaDogNzUwMDAwLFxuICBmOiBERUZBVUxUX0JJVFJBVEUsXG59O1xuXG4vKipcbiAqIERldGVybWluZXMgdGhlIG1vc3Qgb3B0aW1hbCB2aWRlbyBsYXllcnMgZm9yIHNpbXVsY2FzdGluZ1xuICogZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAqXG4gKiBAcGFyYW0gdmlkZW9UcmFjayB0aGUgdmlkZW8gdHJhY2sgdG8gZmluZCBvcHRpbWFsIGxheWVycyBmb3IuXG4gKiBAcGFyYW0gdGFyZ2V0UmVzb2x1dGlvbiB0aGUgZXhwZWN0ZWQgdGFyZ2V0IHJlc29sdXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kT3B0aW1hbFZpZGVvTGF5ZXJzID0gKFxuICB2aWRlb1RyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICB0YXJnZXRSZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgPSBkZWZhdWx0VGFyZ2V0UmVzb2x1dGlvbixcbikgPT4ge1xuICBjb25zdCBvcHRpbWFsVmlkZW9MYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW10gPSBbXTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gIGNvbnN0IHsgd2lkdGg6IHcgPSAwLCBoZWlnaHQ6IGggPSAwIH0gPSBzZXR0aW5ncztcblxuICBjb25zdCBpc1JOSW9zID0gaXNSZWFjdE5hdGl2ZSgpICYmIGdldE9TSW5mbygpPy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpb3MnO1xuXG4gIGNvbnN0IG1heEJpdHJhdGUgPSBnZXRDb21wdXRlZE1heEJpdHJhdGUodGFyZ2V0UmVzb2x1dGlvbiwgdywgaCk7XG4gIGxldCBkb3duc2NhbGVGYWN0b3IgPSAxO1xuICBbJ2YnLCAnaCcsICdxJ10uZm9yRWFjaCgocmlkKSA9PiB7XG4gICAgLy8gUmV2ZXJzaW5nIHRoZSBvcmRlciBbZiwgaCwgcV0gdG8gW3EsIGgsIGZdIGFzIENocm9tZSB1c2VzIGVuY29kaW5nIGluZGV4XG4gICAgLy8gd2hlbiBkZWNpZGluZyB3aGljaCBsYXllciB0byBkaXNhYmxlIHdoZW4gQ1BVIG9yIGJhbmR3aWR0aCBpcyBjb25zdHJhaW5lZC5cbiAgICAvLyBFbmNvZGluZ3Mgc2hvdWxkIGJlIG9yZGVyZWQgaW4gaW5jcmVhc2luZyBzcGF0aWFsIHJlc29sdXRpb24gb3JkZXIuXG4gICAgb3B0aW1hbFZpZGVvTGF5ZXJzLnVuc2hpZnQoe1xuICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgcmlkLFxuICAgICAgd2lkdGg6IE1hdGgucm91bmQodyAvIGRvd25zY2FsZUZhY3RvciksXG4gICAgICBoZWlnaHQ6IE1hdGgucm91bmQoaCAvIGRvd25zY2FsZUZhY3RvciksXG4gICAgICBtYXhCaXRyYXRlOlxuICAgICAgICBNYXRoLnJvdW5kKG1heEJpdHJhdGUgLyBkb3duc2NhbGVGYWN0b3IpIHx8IGRlZmF1bHRCaXRyYXRlUGVyUmlkW3JpZF0sXG4gICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IGRvd25zY2FsZUZhY3RvcixcbiAgICAgIC8vIFNpbXVsY2FzdCBvbiBpT1MgUmVhY3QtTmF0aXZlIHJlcXVpcmVzIGFsbCBlbmNvZGluZ3MgdG8gc2hhcmUgdGhlIHNhbWUgZnJhbWVyYXRlXG4gICAgICBtYXhGcmFtZXJhdGU6IHtcbiAgICAgICAgZjogMzAsXG4gICAgICAgIGg6IGlzUk5Jb3MgPyAzMCA6IDI1LFxuICAgICAgICBxOiBpc1JOSW9zID8gMzAgOiAyMCxcbiAgICAgIH1bcmlkXSxcbiAgICB9KTtcbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgfSk7XG5cbiAgLy8gZm9yIHNpbXBsaWNpdHksIHdlIHN0YXJ0IHdpdGggYWxsIGxheWVycyBlbmFibGVkLCB0aGVuIHRoaXMgZnVuY3Rpb25cbiAgLy8gd2lsbCBjbGVhci9yZWFzc2lnbiB0aGUgbGF5ZXJzIHRoYXQgYXJlIG5vdCBuZWVkZWRcbiAgcmV0dXJuIHdpdGhTaW11bGNhc3RDb25zdHJhaW50cyhzZXR0aW5ncywgb3B0aW1hbFZpZGVvTGF5ZXJzKTtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG1heGltdW0gYml0cmF0ZSBmb3IgYSBnaXZlbiByZXNvbHV0aW9uLlxuICogSWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBsb3dlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAqIHdlIHdhbnQgdG8gcHJvcG9ydGlvbmFsbHkgcmVkdWNlIHRoZSB0YXJnZXQgYml0cmF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgaGlnaGVyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICogd2Ugd2FudCB0byB1c2UgdGhlIHRhcmdldCBiaXRyYXRlLlxuICpcbiAqIEBwYXJhbSB0YXJnZXRSZXNvbHV0aW9uIHRoZSB0YXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSBjdXJyZW50V2lkdGggdGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIHRyYWNrLlxuICogQHBhcmFtIGN1cnJlbnRIZWlnaHQgdGhlIGN1cnJlbnQgaGVpZ2h0IG9mIHRoZSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbXB1dGVkTWF4Qml0cmF0ZSA9IChcbiAgdGFyZ2V0UmVzb2x1dGlvbjogVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlLFxuICBjdXJyZW50V2lkdGg6IG51bWJlcixcbiAgY3VycmVudEhlaWdodDogbnVtYmVyLFxuKTogbnVtYmVyID0+IHtcbiAgLy8gaWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBsb3dlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAgLy8gd2Ugd2FudCB0byBwcm9wb3J0aW9uYWxseSByZWR1Y2UgdGhlIHRhcmdldCBiaXRyYXRlXG4gIGNvbnN0IHsgd2lkdGg6IHRhcmdldFdpZHRoLCBoZWlnaHQ6IHRhcmdldEhlaWdodCB9ID0gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgaWYgKGN1cnJlbnRXaWR0aCA8IHRhcmdldFdpZHRoIHx8IGN1cnJlbnRIZWlnaHQgPCB0YXJnZXRIZWlnaHQpIHtcbiAgICBjb25zdCBjdXJyZW50UGl4ZWxzID0gY3VycmVudFdpZHRoICogY3VycmVudEhlaWdodDtcbiAgICBjb25zdCB0YXJnZXRQaXhlbHMgPSB0YXJnZXRXaWR0aCAqIHRhcmdldEhlaWdodDtcbiAgICBjb25zdCByZWR1Y3Rpb25GYWN0b3IgPSBjdXJyZW50UGl4ZWxzIC8gdGFyZ2V0UGl4ZWxzO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHRhcmdldFJlc29sdXRpb24uYml0cmF0ZSAqIHJlZHVjdGlvbkZhY3Rvcik7XG4gIH1cbiAgcmV0dXJuIHRhcmdldFJlc29sdXRpb24uYml0cmF0ZTtcbn07XG5cbi8qKlxuICogQnJvd3NlcnMgaGF2ZSBkaWZmZXJlbnQgc2ltdWxjYXN0IGNvbnN0cmFpbnRzIGZvciBkaWZmZXJlbnQgdmlkZW8gcmVzb2x1dGlvbnMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgcHJvdmlkZWQgbGlzdCBvZiB2aWRlbyBsYXllcnMgYWNjb3JkaW5nIHRvIHRoZVxuICogY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiBzaW11bGNhc3QgY29uc3RyYWludHMgaW4gdGhlIENocm9taXVtIGJhc2VkIGJyb3dzZXJzLlxuICpcbiAqIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9leHRlcm5hbC93ZWJydGMvKy9yZWZzL2hlYWRzL21haW4vbWVkaWEvZW5naW5lL3NpbXVsY2FzdC5jYyM5MFxuICovXG5jb25zdCB3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMgPSAoXG4gIHNldHRpbmdzOiBNZWRpYVRyYWNrU2V0dGluZ3MsXG4gIG9wdGltYWxWaWRlb0xheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSxcbikgPT4ge1xuICBsZXQgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdO1xuXG4gIGNvbnN0IHNpemUgPSBNYXRoLm1heChzZXR0aW5ncy53aWR0aCB8fCAwLCBzZXR0aW5ncy5oZWlnaHQgfHwgMCk7XG4gIGlmIChzaXplIDw9IDMyMCkge1xuICAgIC8vIHByb3ZpZGUgb25seSBvbmUgbGF5ZXIgMzIweDI0MCAocSksIHRoZSBvbmUgd2l0aCB0aGUgaGlnaGVzdCBxdWFsaXR5XG4gICAgbGF5ZXJzID0gb3B0aW1hbFZpZGVvTGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnJpZCA9PT0gJ2YnKTtcbiAgfSBlbHNlIGlmIChzaXplIDw9IDY0MCkge1xuICAgIC8vIHByb3ZpZGUgdHdvIGxheWVycywgMTYweDEyMCAocSkgYW5kIDY0MHg0ODAgKGgpXG4gICAgbGF5ZXJzID0gb3B0aW1hbFZpZGVvTGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnJpZCAhPT0gJ2gnKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBwcm92aWRlIHRocmVlIGxheWVycyBmb3Igc2l6ZXMgPiA2NDB4NDgwXG4gICAgbGF5ZXJzID0gb3B0aW1hbFZpZGVvTGF5ZXJzO1xuICB9XG5cbiAgY29uc3QgcmlkTWFwcGluZyA9IFsncScsICdoJywgJ2YnXTtcbiAgcmV0dXJuIGxheWVycy5tYXA8T3B0aW1hbFZpZGVvTGF5ZXI+KChsYXllciwgaW5kZXgpID0+ICh7XG4gICAgLi4ubGF5ZXIsXG4gICAgcmlkOiByaWRNYXBwaW5nW2luZGV4XSwgLy8gcmVhc3NpZ24gcmlkXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kT3B0aW1hbFNjcmVlblNoYXJpbmdMYXllcnMgPSAoXG4gIHZpZGVvVHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssXG4gIHByZWZlcmVuY2VzPzogU2NyZWVuU2hhcmVTZXR0aW5ncyxcbiAgZGVmYXVsdE1heEJpdHJhdGUgPSAzMDAwMDAwLFxuKTogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZDogJ3EnLCAvLyBzaW5nbGUgdHJhY2ssIHN0YXJ0IGZyb20gJ3EnXG4gICAgICB3aWR0aDogc2V0dGluZ3Mud2lkdGggfHwgMCxcbiAgICAgIGhlaWdodDogc2V0dGluZ3MuaGVpZ2h0IHx8IDAsXG4gICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IDEsXG4gICAgICBtYXhCaXRyYXRlOiBwcmVmZXJlbmNlcz8ubWF4Qml0cmF0ZSA/PyBkZWZhdWx0TWF4Qml0cmF0ZSxcbiAgICAgIG1heEZyYW1lcmF0ZTogcHJlZmVyZW5jZXM/Lm1heEZyYW1lcmF0ZSA/PyAzMCxcbiAgICB9LFxuICBdO1xufTtcbiIsImltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uLy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBUcmFja011dGVUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSA9IChcbiAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4pOiBrZXlvZiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50ID0+IHtcbiAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU86XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgcmV0dXJuICd2aWRlb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuQVVESU86XG4gICAgICByZXR1cm4gJ2F1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5VTlNQRUNJRklFRDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJhY2sgdHlwZSBpcyB1bnNwZWNpZmllZCcpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCBleGhhdXN0aXZlVHJhY2tUeXBlQ2hlY2s6IG5ldmVyID0gdHJhY2tUeXBlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHRyYWNrIHR5cGU6ICR7ZXhoYXVzdGl2ZVRyYWNrVHlwZUNoZWNrfWApO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbXV0ZVR5cGVUb1RyYWNrVHlwZSA9IChtdXRlVHlwZTogVHJhY2tNdXRlVHlwZSk6IFRyYWNrVHlwZSA9PiB7XG4gIHN3aXRjaCAobXV0ZVR5cGUpIHtcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLkFVRElPO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnc2NyZWVuc2hhcmUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnc2NyZWVuc2hhcmVfYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IGV4aGF1c3RpdmVNdXRlVHlwZUNoZWNrOiBuZXZlciA9IG11dGVUeXBlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG11dGUgdHlwZTogJHtleGhhdXN0aXZlTXV0ZVR5cGVDaGVja31gKTtcbiAgfVxufTtcbiIsImludGVyZmFjZSBQZW5kaW5nUHJvbWlzZSB7XG4gIHByb21pc2U6IFByb21pc2U8dW5rbm93bj47XG4gIG9uQ29udGludWVkOiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIEFzeW5jV3JhcHBlcjxQIGV4dGVuZHMgdW5rbm93bltdLCBUPiA9IChcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoLi4uYXJnczogUCkgPT4gUHJvbWlzZTxUPixcbikgPT4ge1xuICBjYjogKCkgPT4gUHJvbWlzZTxUPjtcbiAgb25Db250aW51ZWQ6ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIFJ1bnMgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LiBVc2VmdWwgZm9yIHdyYXBwaW5nIGFzeW5jIGFjdGlvbnMgdGhhdFxuICogc2hvdWxkIG5ldmVyIHJ1biBzaW11bHRhbmVvdXNseTogaWYgbWFya2VkIHdpdGggdGhlIHNhbWUgdGFnLCBmdW5jdGlvbnNcbiAqIHdpbGwgcnVuIG9uZSBhZnRlciBhbm90aGVyLlxuICpcbiAqIEBwYXJhbSB0YWcgQXN5bmMgZnVuY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnIHdpbGwgcnVuIHNlcmlhbGx5LiBBc3luYyBmdW5jdGlvbnNcbiAqIHdpdGggZGlmZmVyZW50IHRhZ3MgY2FuIHJ1biBpbiBwYXJhbGxlbC5cbiAqIEBwYXJhbSBjYiBBc3luYyBmdW5jdGlvbiB0byBydW4uXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhc3luYyBmdW5jdGlvbnMgcmV0dXJucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhvdXRDb25jdXJyZW5jeSA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nKTtcblxuLyoqXG4gKiBSdW5zIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseSwgYW5kIGNhbmNlbHMgYWxsIG90aGVyIGFjdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWdcbiAqIHdoZW4gYSBuZXcgYWN0aW9uIGlzIHNjaGVkdWxlZC4gVXNlZnVsIGZvciB3cmFwcGluZyBhc3luYyBhY3Rpb25zIHRoYXQgb3ZlcnJpZGVcbiAqIGVhY2ggb3RoZXIgKGUuZy4gZW5hYmxpbmcgYW5kIGRpc2FibGluZyBjYW1lcmEpLlxuICpcbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGhhc24ndCBzdGFydGVkIHlldCBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIG5ldmVyIHJ1bi5cbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGlzIGFscmVhZHkgcnVubmluZyBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIGJlIG5vdGlmaWVkXG4gKiB2aWEgYW4gYWJvcnQgc2lnbmFsIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0gdGFnIEFzeW5jIGZ1bmN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZyB3aWxsIHJ1biBzZXJpYWxseSBhbmQgYXJlIGNhbmNlbGVkXG4gKiB3aGVuIGEgbmV3IGFjdGlvbiB3aXRoIHRoZSBzYW1lIHRhZyBpcyBzY2hlZHVsZWQuXG4gKiBAcGFyYW0gY2IgQXN5bmMgZnVuY3Rpb24gdG8gcnVuLiBSZWNlaXZlcyBBYm9ydFNpZ25hbCBhcyB0aGUgb25seSBhcmd1bWVudC5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFzeW5jIGZ1bmN0aW9ucyByZXR1cm5zLiBJZiB0aGUgZnVuY3Rpb24gZGlkbid0XG4gKiBzdGFydCBhbmQgd2FzIGNhbmNlbGVkLCB3aWxsIHJlc29sdmUgd2l0aCAnY2FuY2VsZWQnLiBJZiB0aGUgZnVuY3Rpb24gc3RhcnRlZCB0byBydW4sXG4gKiBpdCdzIHVwIHRvIHRoZSBmdW5jdGlvbiB0byBkZWNpZGUgaG93IHRvIHJlYWN0IHRvIGNhbmNlbGF0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aENhbmNlbGxhdGlvbiA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENhbmNlbGxhdGlvbik7XG5cbmNvbnN0IHBlbmRpbmdQcm9taXNlcyA9IG5ldyBNYXA8c3RyaW5nIHwgc3ltYm9sLCBQZW5kaW5nUHJvbWlzZT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1BlbmRpbmcodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgcmV0dXJuIHBlbmRpbmdQcm9taXNlcy5oYXModGFnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldHRsZWQodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgYXdhaXQgcGVuZGluZ1Byb21pc2VzLmdldCh0YWcpPy5wcm9taXNlO1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgY29tbW9uIGZ1bmN0aW9uYWxpdHkgb2YgcnVubmluZyBhc3luYyBmdW5jdGlvbnMgc2VyaWFsbHksIGJ5IGNoYWluaW5nXG4gKiB0aGVpciBwcm9taXNlcyBvbmUgYWZ0ZXIgYW5vdGhlci5cbiAqXG4gKiBCZWZvcmUgcnVubmluZywgYXN5bmMgZnVuY3Rpb24gaXMgXCJ3cmFwcGVkXCIgdXNpbmcgdGhlIHByb3ZpZGVkIHdyYXBwZXIuIFRoaXMgd3JhcHBlclxuICogY2FuIGFkZCBhZGRpdGlvbmFsIHN0ZXBzIHRvIHJ1biBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIFdoZW4gYXN5bmMgZnVuY3Rpb24gaXMgc2NoZWR1bGVkIHRvIHJ1biwgdGhlIHByZXZpb3VzIGZ1bmN0aW9uIGlzIG5vdGlmaWVkXG4gKiBieSBjYWxsaW5nIHRoZSBhc3NvY2lhdGVkIG9uQ29udGludWVkIGNhbGxiYWNrLiBUaGlzIGJlaGF2aW9yIG9mIHRoaXMgY2FsbGJhY2tcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHdyYXBwZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJ1bm5lcjxQIGV4dGVuZHMgdW5rbm93bltdLCBUPih3cmFwcGVyOiBBc3luY1dyYXBwZXI8UCwgVD4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJ1bih0YWc6IHN0cmluZyB8IHN5bWJvbCwgY2I6ICguLi5hcmdzOiBQKSA9PiBQcm9taXNlPFQ+KSB7XG4gICAgY29uc3QgeyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfSA9IHdyYXBwZXIodGFnLCBjYik7XG4gICAgY29uc3QgcGVuZGluZyA9IHBlbmRpbmdQcm9taXNlcy5nZXQodGFnKTtcbiAgICBwZW5kaW5nPy5vbkNvbnRpbnVlZCgpO1xuICAgIGNvbnN0IHByb21pc2UgPSBwZW5kaW5nXG4gICAgICA/IHBlbmRpbmcucHJvbWlzZS50aGVuKHdyYXBwZWQsIHdyYXBwZWQpXG4gICAgICA6IHdyYXBwZWQoKTtcbiAgICBwZW5kaW5nUHJvbWlzZXMuc2V0KHRhZywgeyBwcm9taXNlLCBvbkNvbnRpbnVlZCB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBhc3luYyBmdW5jdGlvbiB3aXRoIGFuIGFkZGl0aW9uYWwgc3RlcCBydW4gYWZ0ZXIgdGhlIGZ1bmN0aW9uOlxuICogaWYgdGhlIGZ1bmN0aW9uIGlzIHRoZSBsYXN0IGluIHRoZSBxdWV1ZSwgaXQgY2xlYW5zIHVwIHRoZSB3aG9sZSBjaGFpblxuICogb2YgcHJvbWlzZXMgYWZ0ZXIgZmluaXNoaW5nLlxuICovXG5mdW5jdGlvbiB3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nPFQ+KFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6ICgpID0+IFByb21pc2U8VD4sXG4pIHtcbiAgbGV0IGhhc0NvbnRpbnVhdGlvbiA9IGZhbHNlO1xuICBjb25zdCB3cmFwcGVkID0gKCkgPT5cbiAgICBjYigpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFoYXNDb250aW51YXRpb24pIHtcbiAgICAgICAgcGVuZGluZ1Byb21pc2VzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH0pO1xuICBjb25zdCBvbkNvbnRpbnVlZCA9ICgpID0+IChoYXNDb250aW51YXRpb24gPSB0cnVlKTtcbiAgcmV0dXJuIHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH07XG59XG5cbi8qKlxuICogV3JhcHMgYW4gYXN5bmMgZnVuY3Rpb24gd2l0aCBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpbHR5OlxuICogMS4gQXNzb2NpYXRlcyBhbiBhYm9ydCBzaWduYWwgd2l0aCBldmVyeSBmdW5jdGlvbiwgdGhhdCBpcyBwYXNzZWQgdG8gaXRcbiAqICAgIGFzIGFuIGFyZ3VtZW50LiBXaGVuIGEgbmV3IGZ1bmN0aW9uIGlzIHNjaGVkdWxlZCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnRcbiAqICAgIG9uZSwgY3VycmVudCBzaWduYWwgaXMgYWJvcnRlZC5cbiAqIDIuIElmIGN1cnJlbnQgZnVuY3Rpb24gZGlkbid0IHN0YXJ0IGFuZCB3YXMgYWJvcnRlZCwgaW4gd2lsbCBuZXZlciBzdGFydC5cbiAqIDMuIElmIHRoZSBmdW5jdGlvbiBpcyB0aGUgbGFzdCBpbiB0aGUgcXVldWUsIGl0IGNsZWFucyB1cCB0aGUgd2hvbGUgY2hhaW5cbiAqICAgIG9mIHByb21pc2VzIGFmdGVyIGZpbmlzaGluZy5cbiAqL1xuZnVuY3Rpb24gd3JhcFdpdGhDYW5jZWxsYXRpb248VD4oXG4gIHRhZzogc3RyaW5nIHwgc3ltYm9sLFxuICBjYjogKHNpZ25hbDogQWJvcnRTaWduYWwpID0+IFByb21pc2U8VCB8ICdjYW5jZWxlZCc+LFxuKSB7XG4gIGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCB3cmFwcGVkID0gKCkgPT4ge1xuICAgIGlmIChhYy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnY2FuY2VsZWQnIGFzIGNvbnN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2IoYWMuc2lnbmFsKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghYWMuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcGVuZGluZ1Byb21pc2VzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNvbnRpbnVlZCA9ICgpID0+IGFjLmFib3J0KCk7XG4gIHJldHVybiB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9O1xufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbnR5cGUgRnVuY3Rpb25QYXRjaDxUPiA9IChjdXJyZW50VmFsdWU6IFQpID0+IFQ7XG5cbi8qKlxuICogQSB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICovXG5leHBvcnQgdHlwZSBQYXRjaDxUPiA9IFQgfCBGdW5jdGlvblBhdGNoPFQ+O1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdXBkYXRlIGlzIGEgZnVuY3Rpb24gcGF0Y2guXG4gKlxuICogQHBhcmFtIHVwZGF0ZSB0aGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb25QYXRjaCA9IDxUPih1cGRhdGU6IFBhdGNoPFQ+KTogdXBkYXRlIGlzIEZ1bmN0aW9uUGF0Y2g8VD4gPT5cbiAgdHlwZW9mIHVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAqIG5vdCBlbWl0dGVkIGEgdmFsdWUgeWV0LlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VmFsdWUgPSA8VD4ob2JzZXJ2YWJsZSQ6IE9ic2VydmFibGU8VD4pID0+IHtcbiAgbGV0IHZhbHVlITogVDtcbiAgbGV0IGVycjogRXJyb3IgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGNvbWJpbmVMYXRlc3QoW29ic2VydmFibGUkXSlcbiAgICAuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6IChbdl0pID0+IHtcbiAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgfSxcbiAgICAgIGVycm9yOiAoZSkgPT4ge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfSxcbiAgICB9KVxuICAgIC51bnN1YnNjcmliZSgpO1xuXG4gIGlmIChlcnIpIHRocm93IGVycjtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICogdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKlxuICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldEN1cnJlbnRWYWx1ZSA9IDxUPihzdWJqZWN0OiBTdWJqZWN0PFQ+LCB1cGRhdGU6IFBhdGNoPFQ+KSA9PiB7XG4gIGNvbnN0IG5leHQgPSBpc0Z1bmN0aW9uUGF0Y2godXBkYXRlKVxuICAgID8gdXBkYXRlKGdldEN1cnJlbnRWYWx1ZShzdWJqZWN0KSlcbiAgICA6IHVwZGF0ZTtcblxuICBzdWJqZWN0Lm5leHQobmV4dCk7XG4gIHJldHVybiBuZXh0O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3Vic2NyaXB0aW9uIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5zdWJzY3JpYmUuXG4gKlxuICogQHBhcmFtIG9ic2VydmFibGUgdGhlIG9ic2VydmFibGUgdG8gc3Vic2NyaWJlIHRvLlxuICogQHBhcmFtIGhhbmRsZXIgdGhlIGhhbmRsZXIgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb24gPSA8VD4oXG4gIG9ic2VydmFibGU6IE9ic2VydmFibGU8VD4sXG4gIGhhbmRsZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCxcbikgPT4ge1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZShoYW5kbGVyKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLiBNYWtlcyBzdXJlIHRoYXRcbiAqIG9ubHkgb25lIGFzeW5jIGhhbmRsZXIgcnVucyBhdCB0aGUgc2FtZSB0aW1lLiBJZiB1cGRhdGVzIGNvbWUgaW4gcXVpY2tlciB0aGFuXG4gKiBpdCB0YWtlcyBmb3IgdGhlIGN1cnJlbnQgaGFuZGxlciB0byBmaW5pc2gsIG90aGVyIGhhbmRsZXJzIHdpbGwgd2FpdC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcGFyYW0gaGFuZGxlciB0aGUgYXN5bmMgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiA9IDxUPihcbiAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxUPixcbiAgaGFuZGxlcjogKHZhbHVlOiBUKSA9PiBQcm9taXNlPHZvaWQ+LFxuKSA9PiB7XG4gIGNvbnN0IHRhZyA9IFN5bWJvbCgpO1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICB3aXRob3V0Q29uY3VycmVuY3kodGFnLCAoKSA9PiBoYW5kbGVyKHZhbHVlKSk7XG4gIH0pO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9O1xufTtcbiIsIi8qKlxuICogRGVmaW5lcyBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHNvcnRpbmcgaXRlbXMuXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBhcmF0b3I8VD4gPSAoYTogVCwgYjogVCkgPT4gLTEgfCAwIHwgMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbWJpbmVkIHtAbGluayBDb21wYXJhdG9yPFQ+fSB3aGljaCBzb3J0cyBpdGVtcyBieSB0aGUgZ2l2ZW4gY29tcGFyYXRvcnMuXG4gKiBUaGUgY29tcGFyYXRvcnMgYXJlIGFwcGxpZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGdpdmVuIChsZWZ0IC0+IHJpZ2h0KS5cbiAqXG4gKiBAcGFyYW0gY29tcGFyYXRvcnMgdGhlIGNvbXBhcmF0b3JzIHRvIHVzZSBmb3Igc29ydGluZy5cbiAqIEByZXR1cm5zIGEgY29tYmluZWQge0BsaW5rIENvbXBhcmF0b3I8VD59LlxuICovXG5leHBvcnQgY29uc3QgY29tYmluZUNvbXBhcmF0b3JzID0gPFQ+KFxuICAuLi5jb21wYXJhdG9yczogQ29tcGFyYXRvcjxUPltdXG4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgZm9yIChjb25zdCBjb21wYXJhdG9yIG9mIGNvbXBhcmF0b3JzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb21wYXJhdG9yKGEsIGIpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gMCkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tcGFyYXRvciB3aGljaCBzb3J0cyBpdGVtcyBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBieVZhbHVlID0gKGEsIGIpID0+IGEgPCBiID8gLSAxIDogYSA+IGIgPyAxIDogMDtcbiAqIGNvbnN0IGJ5VmFsdWVEZXNjID0gZGVzY2VuZGluZyhieVZhbHVlKTtcbiAqXG4gKiBAcGFyYW0gY29tcGFyYXRvciB0aGUgY29tcGFyYXRvciB0byB3cmFwLlxuICovXG5leHBvcnQgY29uc3QgZGVzY2VuZGluZyA9IDxUPihjb21wYXJhdG9yOiBDb21wYXJhdG9yPFQ+KTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4gY29tcGFyYXRvcihiLCBhKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wYXJhdG9yIHdoaWNoIGNvbmRpdGlvbmFsbHkgYXBwbGllcyB0aGUgZ2l2ZW4gY29tcGFyYXRvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc2hvdWxkU29ydEJ5VmFsdWUgPSAoYSwgYikgPT4gYSAlIDIgPT09IDA7IC8vIHJldHVybiBmYWxzZSB0byB0dXJuIGl0IG9mZlxuICogY29uc3QgYnlWYWx1ZSA9IChhLCBiKSA9PiBhIDwgYiA/IC0gMSA6IGEgPiBiID8gMSA6IDA7XG4gKiBjb25zdCBjb21wYXJhdG9yID0gY29uZGl0aW9uYWwoc2hvdWxkU29ydEJ5VmFsdWUpKGJ5VmFsdWUpO1xuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byB1c2UgZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdG8gYXBwbHkgdGhlIGNvbXBhcmF0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjb25kaXRpb25hbCA9IDxUPihwcmVkaWNhdGU6IChhOiBULCBiOiBUKSA9PiBib29sZWFuKSA9PiB7XG4gIHJldHVybiAoY29tcGFyYXRvcjogQ29tcGFyYXRvcjxUPik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYSwgYikpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYSwgYik7XG4gICAgfTtcbiAgfTtcbn07XG5cbi8qKlxuICogQSBuby1vcCBjb21wYXJhdG9yIHdoaWNoIGFsd2F5cyByZXR1cm5zIDAuXG4gKi9cbmV4cG9ydCBjb25zdCBub29wQ29tcGFyYXRvciA9IDxUPigpOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuICgpID0+IDA7XG59O1xuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYSB2aWRlby5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNWaWRlbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuVklERU8pO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaGFzIGF1ZGlvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc0F1ZGlvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5BVURJTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBpcyBzY3JlZW4gc2hhcmluZy5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNTY3JlZW5TaGFyZSA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nIGF1ZGlvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZC5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1Bpbm5lZCA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICAhIXAucGluICYmIChwLnBpbi5pc0xvY2FsUGluIHx8IHAucGluLnBpbm5lZEF0ID4gMCk7XG4iLCJpbXBvcnQgeyBDb21wYXJhdG9yIH0gZnJvbSAnLi8nO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIGhhc0F1ZGlvLFxuICBoYXNTY3JlZW5TaGFyZSxcbiAgaGFzVmlkZW8sXG59IGZyb20gJy4uL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscyc7XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHRoZSBkb21pbmFudCBzcGVha2VyIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgZG9taW5hbnRTcGVha2VyOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEuaXNEb21pbmFudFNwZWFrZXIgJiYgIWIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzRG9taW5hbnRTcGVha2VyICYmIGIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHNwZWFraW5nIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc1NwZWFraW5nICYmICFiLmlzU3BlYWtpbmcpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzU3BlYWtpbmcgJiYgYi5pc1NwZWFraW5nKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgc2NyZWVuIHNoYXJpbmcgc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JlZW5TaGFyaW5nOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc1NjcmVlblNoYXJlKGEpICYmICFoYXNTY3JlZW5TaGFyZShiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc1NjcmVlblNoYXJlKGEpICYmIGhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgdmlkZW8gc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwdWJsaXNoaW5nVmlkZW86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzVmlkZW8oYSkgJiYgIWhhc1ZpZGVvKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzVmlkZW8oYSkgJiYgaGFzVmlkZW8oYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBhdWRpbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdBdWRpbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNBdWRpbyhhKSAmJiAhaGFzQXVkaW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNBdWRpbyhhKSAmJiBoYXNBdWRpbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggcHJpb3JpdGl6ZXMgcGFydGljaXBhbnRzIHdobyBhcmUgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwaW5uZWQ6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5waW4gJiYgYi5waW4pIHtcbiAgICBpZiAoIWEucGluLmlzTG9jYWxQaW4gJiYgYi5waW4uaXNMb2NhbFBpbikgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5pc0xvY2FsUGluICYmICFiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gMTtcbiAgICBpZiAoYS5waW4ucGlubmVkQXQgPiBiLnBpbi5waW5uZWRBdCkgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA8IGIucGluLnBpbm5lZEF0KSByZXR1cm4gMTtcbiAgfVxuXG4gIGlmIChhLnBpbiAmJiAhYi5waW4pIHJldHVybiAtMTtcbiAgaWYgKCFhLnBpbiAmJiBiLnBpbikgcmV0dXJuIDE7XG5cbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcmVhY3Rpb24uXG4gKlxuICogQHBhcmFtIHR5cGUgdGhlIHJlYWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFjdGlvblR5cGUgPSAoXG4gIHR5cGU6IHN0cmluZyxcbik6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlICE9PSB0eXBlKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUgJiYgYi5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcm9sZS5cbiAqXG4gKiBAcGFyYW0gcm9sZXMgdGhlIHJvbGVzIHRvIHByaW9yaXRpemUuXG4gKi9cbmV4cG9ydCBjb25zdCByb2xlID1cbiAgKC4uLnJvbGVzOiBzdHJpbmdbXSk6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT5cbiAgKGEsIGIpID0+IHtcbiAgICBpZiAoaGFzQW55Um9sZShhLCByb2xlcykgJiYgIWhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gLTE7XG4gICAgaWYgKCFoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiBoYXNBbnlSb2xlKGIsIHJvbGVzKSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBuYW1lOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEubmFtZSA8IGIubmFtZSkgcmV0dXJuIC0xO1xuICBpZiAoYS5uYW1lID4gYi5uYW1lKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBoYXNBbnlSb2xlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIHJvbGVzOiBzdHJpbmdbXSkgPT5cbiAgKHAucm9sZXMgfHwgW10pLnNvbWUoKHIpID0+IHJvbGVzLmluY2x1ZGVzKHIpKTtcbiIsImltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIFZpc2liaWxpdHlTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbWJpbmVDb21wYXJhdG9ycywgY29uZGl0aW9uYWwgfSBmcm9tICcuL2NvbXBhcmF0b3InO1xuaW1wb3J0IHtcbiAgZG9taW5hbnRTcGVha2VyLFxuICBwaW5uZWQsXG4gIHB1Ymxpc2hpbmdBdWRpbyxcbiAgcHVibGlzaGluZ1ZpZGVvLFxuICByZWFjdGlvblR5cGUsXG4gIHJvbGUsXG4gIHNjcmVlblNoYXJpbmcsXG4gIHNwZWFraW5nLFxufSBmcm9tICcuL3BhcnRpY2lwYW50cyc7XG5cbi8vIGEgY29tcGFyYXRvciBkZWNvcmF0b3Igd2hpY2ggYXBwbGllcyB0aGUgZGVjb3JhdGVkIGNvbXBhcmF0b3Igb25seSBpZiB0aGVcbi8vIHBhcnRpY2lwYW50IGlzIGludmlzaWJsZS5cbi8vIFRoaXMgZW5zdXJlcyBzdGFibGUgc29ydGluZyB3aGVuIGFsbCBwYXJ0aWNpcGFudHMgYXJlIHZpc2libGUuXG5jb25zdCBpZkludmlzaWJsZUJ5ID0gY29uZGl0aW9uYWwoXG4gIChhOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LCBiOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KSA9PlxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUgfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFLFxuKTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3IgdGhhdCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciB3aGVuIGEgcGFydGljaXBhbnQgaXNcbiAqIGVpdGhlciBpbnZpc2libGUgb3IgaXRzIHZpc2liaWxpdHkgc3RhdGUgaXNuJ3Qga25vd24uXG4gKiBGb3IgdmlzaWJsZSBwYXJ0aWNpcGFudHMsIGl0IGVuc3VyZXMgc3RhYmxlIHNvcnRpbmcuXG4gKi9cbmNvbnN0IGlmSW52aXNpYmxlT3JVbmtub3duQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuKTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBzb3J0aW5nIHByZXNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGlmSW52aXNpYmxlQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVCeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBzcGVha2VyIGxheW91dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGRvbWluYW50U3BlYWtlcixcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIGxheW91dHMgdGhhdCBkb24ndCByZW5kZXIgYWxsIHBhcnRpY2lwYW50cyBidXRcbiAqIGluc3RlYWQsIHJlbmRlciB0aGVtIGluIHBhZ2VzLlxuICovXG5leHBvcnQgY29uc3QgcGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgcGlubmVkLFxuICBpZkludmlzaWJsZU9yVW5rbm93bkJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlT3JVbmtub3duQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGl2ZXN0cmVhbXMgYW5kIGF1ZGlvIHJvb21zLlxuICovXG5leHBvcnQgY29uc3QgbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICByb2xlKCdhZG1pbicsICdob3N0JywgJ3NwZWFrZXInKSxcbiAgLy8gbmFtZSxcbik7XG4iLCJpbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBtYXAsXG4gIE9ic2VydmFibGUsXG4gIHNoYXJlUmVwbGF5LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRzUmVwb3J0IH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHtcbiAgQmxvY2tlZFVzZXJFdmVudCxcbiAgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudCxcbiAgQ2FsbEluZ3Jlc3NSZXNwb25zZSxcbiAgQ2FsbE1lbWJlckFkZGVkRXZlbnQsXG4gIENhbGxNZW1iZXJSZW1vdmVkRXZlbnQsXG4gIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQsXG4gIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50LFxuICBDYWxsUmVhY3Rpb25FdmVudCxcbiAgQ2FsbFJlc3BvbnNlLFxuICBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50LFxuICBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQsXG4gIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQsXG4gIENhbGxTZXNzaW9uUmVzcG9uc2UsXG4gIENhbGxTZXR0aW5nc1Jlc3BvbnNlLFxuICBFZ3Jlc3NSZXNwb25zZSxcbiAgTWVtYmVyUmVzcG9uc2UsXG4gIE93bkNhcGFiaWxpdHksXG4gIFRodW1ibmFpbFJlc3BvbnNlLFxuICBVbmJsb2NrZWRVc2VyRXZlbnQsXG4gIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCxcbiAgVXNlclJlc3BvbnNlLFxuICBXU0V2ZW50LFxufSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbXBhcmF0b3IsIGRlZmF1bHRTb3J0UHJlc2V0IH0gZnJvbSAnLi4vc29ydGluZyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaGFzU2NyZWVuU2hhcmUgfSBmcm9tICcuLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxpbmdTdGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBhbiB1bmtub3duIHN0YXRlLlxuICAgKi9cbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIGFuIGlkbGUgc3RhdGUuXG4gICAqL1xuICBJRExFID0gJ2lkbGUnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByaW5naW5nLlxuICAgKiAoVXNlciBoYXNuJ3QgYWNjZXB0ZWQgbm9yIHJlamVjdGVkIHRoZSBjYWxsIHlldC4pXG4gICAqL1xuICBSSU5HSU5HID0gJ3JpbmdpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBqb2luaW5nLlxuICAgKi9cbiAgSk9JTklORyA9ICdqb2luaW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICovXG4gIEpPSU5FRCA9ICdqb2luZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgYmVlbiBsZWZ0LlxuICAgKi9cbiAgTEVGVCA9ICdsZWZ0JyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgcmVjb25uZWN0aW5nLlxuICAgKi9cbiAgUkVDT05ORUNUSU5HID0gJ3JlY29ubmVjdGluZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIG1pZ3JhdGluZyBmcm9tIG9uZSBub2RlIHRvIGFub3RoZXIuXG4gICAqL1xuICBNSUdSQVRJTkcgPSAnbWlncmF0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaGFzIGZhaWxlZCB0byByZWNvbm5lY3QuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkdfRkFJTEVEID0gJ3JlY29ubmVjdGluZy1mYWlsZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBvZmZsaW5lIG1vZGUuXG4gICAqL1xuICBPRkZMSU5FID0gJ29mZmxpbmUnLFxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgZWdyZXNzIG9iamVjdCAtIHdoZW4gbm8gZWdyZXNzIGRhdGEgaXMgYXZhaWxhYmxlLlxuICovXG5jb25zdCBkZWZhdWx0RWdyZXNzOiBFZ3Jlc3NSZXNwb25zZSA9IHtcbiAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgaGxzOiB7IHBsYXlsaXN0X3VybDogJycgfSxcbiAgcnRtcHM6IFtdLFxufTtcblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIEByZWFjdCBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgYXMgd2UgYXJlIGV4cG9zaW5nIHRoZSBzdGF0ZSB0aHJvdWdoIEhvb2tzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFN0YXRlIHtcbiAgcHJpdmF0ZSBiYWNrc3RhZ2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBibG9ja2VkVXNlcklkc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZ1tdPihbXSk7XG4gIHByaXZhdGUgY3JlYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgZW5kZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgc3RhcnRzQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHVwZGF0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGU+KG5ldyBEYXRlKCkpO1xuICBwcml2YXRlIGNyZWF0ZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGN1c3RvbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgcHJpdmF0ZSBlZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGluZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgcmVjb3JkaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIHNlc3Npb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgc2V0dGluZ3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdHJhbnNjcmliaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIGVuZGVkQnlTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJpdmF0ZSB0aHVtYm5haWxzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgVGh1bWJuYWlsUmVzcG9uc2UgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuICBwcml2YXRlIG1lbWJlcnNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxNZW1iZXJSZXNwb25zZVtdPihbXSk7XG4gIHByaXZhdGUgb3duQ2FwYWJpbGl0aWVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duQ2FwYWJpbGl0eVtdPihbXSk7XG4gIHByaXZhdGUgY2FsbGluZ1N0YXRlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FsbGluZ1N0YXRlPihcbiAgICBDYWxsaW5nU3RhdGUuVU5LTk9XTixcbiAgKTtcbiAgcHJpdmF0ZSBzdGFydGVkQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHBhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIGFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIHBhcnRpY2lwYW50c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT4oXG4gICAgW10sXG4gICk7XG4gIHByaXZhdGUgY2FsbFN0YXRzUmVwb3J0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgQ2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcblxuICAvLyBEZXJpdmVkIHN0YXRlXG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhcnRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBleGNsdWRlcyB0aGUgcmVndWxhciBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBBbGwgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgb3RoZXIgcGFydGljaXBhbnRzIGFzIHdlbGwpLlxuICAgKi9cbiAgcGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBSZW1vdGUgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgZXZlcnkgcGFydGljaXBhbnQgZXhjZXB0IHRoZSBsb2dnZWQtaW4gdXNlcikuXG4gICAqL1xuICByZW1vdGVQYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBvZiB0aGUgY3VycmVudCBjYWxsICh0aGUgbG9nZ2VkLWluIHVzZXIpLlxuICAgKi9cbiAgbG9jYWxQYXJ0aWNpcGFudCQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFBpbm5lZCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIHBpbm5lZFBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBlbGVjdGVkIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGRvbWluYW50U3BlYWtlciQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEVtaXRzIHRydWUgd2hlbmV2ZXIgdGhlcmUgaXMgYW4gYWN0aXZlIHNjcmVlbiBzaGFyaW5nIHNlc3Npb24gd2l0aGluXG4gICAqIHRoZSBjdXJyZW50IGNhbGwuIFVzZWZ1bCBmb3IgZGlzcGxheWluZyBhIFwic2NyZWVuIHNoYXJpbmdcIiBpbmRpY2F0b3IgYW5kXG4gICAqIHN3aXRjaGluZyB0aGUgbGF5b3V0IHRvIGEgc2NyZWVuIHNoYXJpbmcgbGF5b3V0LlxuICAgKlxuICAgKiBUaGUgYWN0dWFsIHNjcmVlbiBzaGFyaW5nIHRyYWNrIGlzbid0IGV4cG9zZWQgaGVyZSwgYnV0IGNhbiBiZSByZXRyaWV2ZWRcbiAgICogZnJvbSB0aGUgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cy4gV2UgYWxzbyBkb24ndCB3YW50IHRvIGJlIGxpbWl0aW5nXG4gICAqIHRvIHRoZSBudW1iZXIgb2Ygc2hhcmUgc2NyZWVuIHRyYWNrcyBhcmUgZGlzcGxheWVkIGluIGEgY2FsbC5cbiAgICovXG4gIGhhc09uZ29pbmdTY3JlZW5TaGFyZSQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFdoZW4gc3RhdHMgZ2F0aGVyaW5nIGlzIGVuYWJsZWQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXQgYSBuZXcgdmFsdWVcbiAgICogYXQgYSByZWd1bGFyIChjb25maWd1cmFibGUpIGludGVydmFsLlxuICAgKlxuICAgKiBDb25zdW1lcnMgb2YgdGhpcyBvYnNlcnZhYmxlIGNhbiBpbXBsZW1lbnQgdGhlaXIgb3duIGJhdGNoaW5nIGxvZ2ljXG4gICAqIGluIGNhc2UgdGhleSB3YW50IHRvIHNob3cgaGlzdG9yaWNhbCBzdGF0cyBkYXRhLlxuICAgKi9cbiAgY2FsbFN0YXRzUmVwb3J0JDogT2JzZXJ2YWJsZTxDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBtZW1iZXJzJDogT2JzZXJ2YWJsZTxNZW1iZXJSZXNwb25zZVtdPjtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXMkOiBPYnNlcnZhYmxlPE93bkNhcGFiaWxpdHlbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgY2FsbGluZ1N0YXRlJDogT2JzZXJ2YWJsZTxDYWxsaW5nU3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgYmFja3N0YWdlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBsaXN0IG9mIGJsb2NrZWQgdXNlciBJRHMuXG4gICAqL1xuICBibG9ja2VkVXNlcklkcyQ6IE9ic2VydmFibGU8c3RyaW5nW10+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIGVuZGVkQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgc3RhcnRzQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gdXBkYXRlZC5cbiAgICovXG4gIHVwZGF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBjcmVhdGVkQnkkOiBPYnNlcnZhYmxlPFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgY3VzdG9tJDogT2JzZXJ2YWJsZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBlZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBlZ3Jlc3MkOiBPYnNlcnZhYmxlPEVncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgaW5ncmVzcyQ6IE9ic2VydmFibGU8Q2FsbEluZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlY29yZGluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2Vzc2lvbiBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNlc3Npb24kOiBPYnNlcnZhYmxlPENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNldHRpbmdzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNldHRpbmdzJDogT2JzZXJ2YWJsZTxDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdHJhbnNjcmliaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRyYW5zY3JpYmluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gZW5kZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZW5kZWRCeSQ6IE9ic2VydmFibGU8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aHVtYm5haWxzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRodW1ibmFpbHMkOiBPYnNlcnZhYmxlPFRodW1ibmFpbFJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydDYWxsU3RhdGUnXSk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjb21wYXJhdG9ycyB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgc29ydFBhcnRpY2lwYW50c0J5ID0gZGVmYXVsdFNvcnRQcmVzZXQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBldmVudEhhbmRsZXJzOiB7XG4gICAgW0V2ZW50VHlwZSBpbiBXU0V2ZW50Wyd0eXBlJ11dOlxuICAgICAgfCAoKGV2ZW50OiBFeHRyYWN0PFdTRXZlbnQsIHsgdHlwZTogRXZlbnRUeXBlIH0+KSA9PiB2b2lkKVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIENhbGxTdGF0ZSBjbGFzcy5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gbWFpbnRhaW4gc3RhYmxlLXNvcnQgYnkgbXV0YXRpbmcgdGhlIHBhcnRpY2lwYW50cyBzdG9yZWRcbiAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBzdWJqZWN0XG4gICAgICBtYXAoKHBzKSA9PiBwcy5zb3J0KHRoaXMuc29ydFBhcnRpY2lwYW50c0J5KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNMb2NhbFBhcnRpY2lwYW50KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlbW90ZVBhcnRpY2lwYW50cyQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucGlubmVkUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICEhcC5waW4pKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZG9taW5hbnRTcGVha2VyJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLmlzRG9taW5hbnRTcGVha2VyKSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc09uZ29pbmdTY3JlZW5TaGFyZSQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuc29tZSgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvLyBkYXRlc1xuICAgIHRoaXMuY3JlYXRlZEF0JCA9IHRoaXMuY3JlYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQXQkID0gdGhpcy5lbmRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXJ0c0F0JCA9IHRoaXMuc3RhcnRzQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRlZEF0JCA9IHRoaXMuc3RhcnRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCQgPSB0aGlzLnVwZGF0ZWRBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmNhbGxTdGF0c1JlcG9ydCQgPSB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5tZW1iZXJzJCA9IHRoaXMubWVtYmVyc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBjb21wbGV4IG9iamVjdHMgc2hvdWxkIHdvcmsgYXMgc3RyZWFtcyBvZiBkYXRhXG4gICAgdGhpcy5jcmVhdGVkQnkkID0gdGhpcy5jcmVhdGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY3VzdG9tJCA9IHRoaXMuY3VzdG9tU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVncmVzcyQgPSB0aGlzLmVncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5pbmdyZXNzJCA9IHRoaXMuaW5ncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXNzaW9uJCA9IHRoaXMuc2Vzc2lvblN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQnkkID0gdGhpcy5lbmRlZEJ5U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnRodW1ibmFpbHMkID0gdGhpcy50aHVtYm5haWxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0d28gYXJyYXlzLlxuICAgICAqIEV4cGVjdHMgcHJpbWl0aXZlIHZhbHVlczogWzEsIDIsIDNdIGlzIGVxdWFsIHRvIFsyLCAxLCAzXS5cbiAgICAgKi9cbiAgICBjb25zdCBpc1NoYWxsb3dFcXVhbCA9IDxUPihhOiBBcnJheTxUPiwgYjogQXJyYXk8VD4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhKSBpZiAoIWIuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBiKSBpZiAoIWEuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSB0aGUgZ2l2ZW4gc3ViamVjdCBieSBwaXBpbmcgdG8gdGhlXG4gICAgICogYGRpc3RpbmN0VW50aWxDaGFuZ2VkKClgIG9wZXJhdG9yLlxuICAgICAqL1xuICAgIGNvbnN0IGR1YyA9IDxUPihcbiAgICAgIHN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxUPixcbiAgICAgIGNvbXBhcmF0b3I/OiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbixcbiAgICApOiBPYnNlcnZhYmxlPFQ+ID0+XG4gICAgICBzdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoY29tcGFyYXRvcikpO1xuXG4gICAgLy8gcHJpbWl0aXZlIHZhbHVlcyBzaG91bGQgb25seSBlbWl0IG9uY2UgdGhlIHZhbHVlIHRoZXkgaG9sZCBjaGFuZ2VzXG4gICAgdGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCA9IGR1YyhcbiAgICAgIHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QsXG4gICAgKTtcbiAgICB0aGlzLmJsb2NrZWRVc2VySWRzJCA9IGR1Yyh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgaXNTaGFsbG93RXF1YWwpO1xuICAgIHRoaXMuYmFja3N0YWdlJCA9IGR1Yyh0aGlzLmJhY2tzdGFnZVN1YmplY3QpO1xuICAgIHRoaXMuY2FsbGluZ1N0YXRlJCA9IGR1Yyh0aGlzLmNhbGxpbmdTdGF0ZVN1YmplY3QpO1xuICAgIHRoaXMub3duQ2FwYWJpbGl0aWVzJCA9IGR1Yyh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGlzU2hhbGxvd0VxdWFsKTtcbiAgICB0aGlzLnBhcnRpY2lwYW50Q291bnQkID0gZHVjKHRoaXMucGFydGljaXBhbnRDb3VudFN1YmplY3QpO1xuICAgIHRoaXMucmVjb3JkaW5nJCA9IGR1Yyh0aGlzLnJlY29yZGluZ1N1YmplY3QpO1xuICAgIHRoaXMudHJhbnNjcmliaW5nJCA9IGR1Yyh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QpO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge1xuICAgICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBub3QgdXBkYXRpbmcgdGhlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbic6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLmRlbGV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3QnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3JlYWR5JzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwudXNlcl9tdXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjb25uZWN0aW9uLmVycm9yJzogdW5kZWZpbmVkLFxuICAgICAgJ2Nvbm5lY3Rpb24ub2snOiB1bmRlZmluZWQsXG4gICAgICAnaGVhbHRoLmNoZWNrJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuYmFubmVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuZGVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5kZWxldGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIubXV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIucmVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci51bmJhbm5lZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnVwZGF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICBjdXN0b206IHVuZGVmaW5lZCxcblxuICAgICAgLy8gZXZlbnRzIHRoYXQgdXBkYXRlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5hY2NlcHRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmJsb2NrZWRfdXNlcic6IHRoaXMuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwuY3JlYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmVuZGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeVN1YmplY3QsIGUudXNlcik7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RpbmdGYWlsZWQsXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkLFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdG9wcGVkJzogdGhpcy51cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCxcbiAgICAgICdjYWxsLmxpdmVfc3RhcnRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLm1lbWJlcl9hZGRlZCc6IHRoaXMudXBkYXRlRnJvbU1lbWJlckFkZGVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3JlbW92ZWQnOiB0aGlzLnVwZGF0ZUZyb21NZW1iZXJSZW1vdmVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3VwZGF0ZWRfcGVybWlzc2lvbic6IHRoaXMudXBkYXRlTWVtYmVycyxcbiAgICAgICdjYWxsLm1lbWJlcl91cGRhdGVkJzogdGhpcy51cGRhdGVNZW1iZXJzLFxuICAgICAgJ2NhbGwubm90aWZpY2F0aW9uJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0TWVtYmVycyhlLm1lbWJlcnMpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWQnOiB0aGlzLnVwZGF0ZU93bkNhcGFiaWxpdGllcyxcbiAgICAgICdjYWxsLnJlYWN0aW9uX25ldyc6IHRoaXMudXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbixcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdGFydGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCB0cnVlKSxcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdG9wcGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWplY3RlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnJpbmcnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5taXNzZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5zZXNzaW9uX2VuZGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkJzpcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUsXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZCc6XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdCc6IHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQsXG4gICAgICAnY2FsbC5zZXNzaW9uX3N0YXJ0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudW5ibG9ja2VkX3VzZXInOiB0aGlzLnVuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwudXBkYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdGhhdCBhcmUgdXNlZCB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIFRvIGRpc2FibGUgc29ydGluZywgeW91IGNhbiBwYXNzIGBub29wQ29tcGFyYXRvcigpYC5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBhcmF0b3IgdGhlIGNvbXBhcmF0b3IgdG8gdXNlIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeSA9IChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KSA9PiB7XG4gICAgdGhpcy5zb3J0UGFydGljaXBhbnRzQnkgPSBjb21wYXJhdG9yO1xuICAgIC8vIHRyaWdnZXIgcmUtc29ydGluZyBvZiBwYXJ0aWNpcGFudHNcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIChwcykgPT4gcHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gICAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICAgKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgKi9cbiAgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGFzIHdlbGwuXG4gICAqL1xuICBnZXQgcGFydGljaXBhbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudENvdW50JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXJ0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGFydGVkQXQgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKi9cbiAgc2V0U3RhcnRlZEF0ID0gKHN0YXJ0ZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXRTdWJqZWN0LCBzdGFydGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoY291bnQ6IFBhdGNoPG51bWJlcj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCwgY291bnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXJ0aWNpcGFudHMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRzID0gKHBhcnRpY2lwYW50czogUGF0Y2g8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIHBhcnRpY2lwYW50cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGxvY2FsUGFydGljaXBhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubG9jYWxQYXJ0aWNpcGFudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHJlbW90ZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCByZW1vdGVQYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVtb3RlUGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBkb21pbmFudFNwZWFrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZG9taW5hbnRTcGVha2VyJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcGlubmVkIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBpbm5lZFBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5waW5uZWRQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxsIGlmIHRoZXJlIGlzIGFuIG9uZ29pbmcgc2NyZWVuIHNoYXJlIGluIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaGFzT25nb2luZ1NjcmVlblNoYXJlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBnZXQgY2FsbGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxpbmdTdGF0ZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdGUgdGhlIG5ldyBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FsbGluZ1N0YXRlID0gKHN0YXRlOiBQYXRjaDxDYWxsaW5nU3RhdGU+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqL1xuICBnZXQgY2FsbFN0YXRzUmVwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGwgc3RhdHMgcmVwb3J0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIHNldC5cbiAgICovXG4gIHNldENhbGxTdGF0c1JlcG9ydCA9IChyZXBvcnQ6IFBhdGNoPENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsU3RhdHNSZXBvcnRTdWJqZWN0LCByZXBvcnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbWVtYmVycyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG1lbWJlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVycyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1lbWJlcnMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBtZW1iZXJzIHRoZSBtZW1iZXJzIHRvIHNldC5cbiAgICovXG4gIHNldE1lbWJlcnMgPSAobWVtYmVyczogUGF0Y2g8TWVtYmVyUmVzcG9uc2VbXT4pID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCBtZW1iZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG93bkNhcGFiaWxpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvd24gY2FwYWJpbGl0aWVzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNhcGFiaWxpdGllcyB0aGUgY2FwYWJpbGl0aWVzIHRvIHNldC5cbiAgICovXG4gIHNldE93bkNhcGFiaWxpdGllcyA9IChjYXBhYmlsaXRpZXM6IFBhdGNoPE93bkNhcGFiaWxpdHlbXT4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBjYXBhYmlsaXRpZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0IGJhY2tzdGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5iYWNrc3RhZ2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGdldCBibG9ja2VkVXNlcklkcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5ibG9ja2VkVXNlcklkcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgZ2V0IGNyZWF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBnZXQgZW5kZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHNjaGVkdWxlZCB0byBzdGFydC5cbiAgICovXG4gIGdldCBzdGFydHNBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydHNBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiB1cGRhdGVkLlxuICAgKi9cbiAgZ2V0IHVwZGF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy51cGRhdGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGNyZWF0ZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGNyZWF0ZWRCeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQnkkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGN1c3RvbSBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBjdXN0b20oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY3VzdG9tJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBlZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgZWdyZXNzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgaW5ncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBpbmdyZXNzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmluZ3Jlc3MkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHJlY29yZGluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgcmVjb3JkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2Vzc2lvbiBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBzZXNzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb24kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNldHRpbmdzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5ncyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdHJhbnNjcmliaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCB0cmFuc2NyaWJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBlbmRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgZW5kZWRCeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEJ5JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aHVtYm5haWxzIG9mIHRoaXMgY2FsbCwgaWYgZW5hYmxlZCBpbiB0aGUgY2FsbCBzZXR0aW5ncy5cbiAgICovXG4gIGdldCB0aHVtYm5haWxzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnRodW1ibmFpbHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHRyeSB0byBmaW5kIHRoZSBwYXJ0aWNpcGFudCB3aXRoIHRoZSBnaXZlbiBzZXNzaW9uSWQgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIG9mIHRoZSBwYXJ0aWNpcGFudCB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgZ2l2ZW4gc2Vzc2lvbklkIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBmaW5kUGFydGljaXBhbnRCeVNlc3Npb25JZCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgKTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGxvb2t1cCB0YWJsZSBvZiBwYXJ0aWNpcGFudHMgaW5kZXhlZCBieSB0aGVpciBzZXNzaW9uIElELlxuICAgKi9cbiAgZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMucmVkdWNlPHtcbiAgICAgIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQ7XG4gICAgfT4oKGxvb2t1cFRhYmxlLCBwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgbG9va3VwVGFibGVbcGFydGljaXBhbnQuc2Vzc2lvbklkXSA9IHBhcnRpY2lwYW50O1xuICAgICAgcmV0dXJuIGxvb2t1cFRhYmxlO1xuICAgIH0sIHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW4gYHNlc3Npb25JZGAuXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBjYW4ndCBiZSBmb3VuZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBwYXJ0aWNpcGFudCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50LlxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBwYXJ0aWNpcGFudCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcGFydGljaXBhbnQgY291bGRuJ3QgYmUgZm91bmQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBwYXRjaDpcbiAgICAgIHwgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoXG4gICAgICB8ICgocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT4gU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoKSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgUGFydGljaXBhbnQgd2l0aCBzZXNzaW9uSWQgJHtzZXNzaW9uSWR9IG5vdCBmb3VuZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRoZVBhdGNoID0gdHlwZW9mIHBhdGNoID09PSAnZnVuY3Rpb24nID8gcGF0Y2gocGFydGljaXBhbnQpIDogcGF0Y2g7XG4gICAgY29uc3QgdXBkYXRlZFBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50ID0ge1xuICAgICAgLy8gRklYTUUgT0w6IHRoaXMgaXMgbm90IGEgZGVlcCBtZXJnZSwgd2UgbWlnaHQgd2FudCB0byByZXZpc2l0IHRoaXNcbiAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgLi4udGhlUGF0Y2gsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHApID0+XG4gICAgICAgIHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQgPyB1cGRhdGVkUGFydGljaXBhbnQgOiBwLFxuICAgICAgKSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcGFydGljaXBhbnQgaW4gdGhlIGN1cnJlbnQgY2FsbCBpZGVudGlmaWVkIGJ5IHRoZSBnaXZlbiBgc2Vzc2lvbklkYC5cbiAgICogSWYgYSBwYXJ0aWNpcGFudCB3aXRoIG1hdGNoaW5nIGBzZXNzaW9uSWRgIGNhbid0IGJlIGZvdW5kLCB0aGUgcHJvdmlkZWRcbiAgICogYHBhcnRpY2lwYW50YCBpcyBhZGRlZCB0byB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHBhcnRpY2lwYW50IHRoZSBwYXJ0aWNpcGFudCB0byB1cGRhdGUgb3IgYWRkLlxuICAgKi9cbiAgdXBkYXRlT3JBZGRQYXJ0aWNpcGFudCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBwYXJ0aWNpcGFudDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIGxldCBhZGQgPSB0cnVlO1xuICAgICAgY29uc3QgbmV4dFBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICBhZGQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucCxcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KTtcbiAgICAgIGlmIChhZGQpIG5leHRQYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICByZXR1cm4gbmV4dFBhcnRpY2lwYW50cztcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwgd2hvc2Ugc2Vzc2lvbiBJRCBpcyBpbiB0aGUgZ2l2ZW4gYHNlc3Npb25JZHNgLlxuICAgKiBJZiBubyBwYXRjaGVzIGFyZSBwcm92aWRlZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gcGF0Y2ggdGhlIHBhdGNoIHRvIGFwcGx5IHRvIHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIEByZXR1cm5zIGFsbCBwYXJ0aWNpcGFudHMsIHdpdGggYWxsIHBhdGNoIGFwcGxpZWQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudHMgPSAocGF0Y2g6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHBhdGNoKS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgdGhlUGF0Y2ggPSBwYXRjaFtwLnNlc3Npb25JZF07XG4gICAgICAgIGlmICh0aGVQYXRjaCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4udGhlUGF0Y2gsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgdGhlIHZpZGVvIGV2ZW50IHRoYXQgb3VyIGJhY2tlbmQgc2VudCB1cy5cbiAgICovXG4gIHVwZGF0ZUZyb21FdmVudCA9IChldmVudDogV1NFdmVudCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICBpZiAodXBkYXRlKSB7XG4gICAgICB1cGRhdGUoZXZlbnQgYXMgYW55KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHBhcnRpY2lwYW50IHBpbm5lZCBzdGF0ZSB3aXRoIHNlcnZlciBzaWRlIHBpbm5pbmcgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHBpbnMgdGhlIGxhdGVzdCBwaW5zIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHNldFNlcnZlclNpZGVQaW5zID0gKHBpbnM6IFBpbltdKSA9PiB7XG4gICAgY29uc3QgcGluc0xvb2t1cCA9IHBpbnMucmVkdWNlPHsgW3Nlc3Npb25JZDogc3RyaW5nXTogbnVtYmVyIHwgdW5kZWZpbmVkIH0+KFxuICAgICAgKGxvb2t1cCwgcGluKSA9PiB7XG4gICAgICAgIGxvb2t1cFtwaW4uc2Vzc2lvbklkXSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBsb29rdXA7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmVyU2lkZVBpbm5lZEF0ID0gcGluc0xvb2t1cFtwYXJ0aWNpcGFudC5zZXNzaW9uSWRdO1xuICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQgaXMgbmV3bHkgcGlubmVkXG4gICAgICAgIGlmIChzZXJ2ZXJTaWRlUGlubmVkQXQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBwaW46IHtcbiAgICAgICAgICAgICAgaXNMb2NhbFBpbjogZmFsc2UsXG4gICAgICAgICAgICAgIHBpbm5lZEF0OiBzZXJ2ZXJTaWRlUGlubmVkQXQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGlzIG5vIGxvbmdlciBwaW5uZWQgc2VydmVyIHNpZGVcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXNldCB0aGUgcGluXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5waW4gJiYgIXBhcnRpY2lwYW50LnBpbi5pc0xvY2FsUGluKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgcGluOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBubyBjaGFuZ2VzIHRvIGJlIGFwcGxpZWRcbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50O1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHVwZGF0ZUZyb21DYWxsUmVzcG9uc2UgPSAoY2FsbDogQ2FsbFJlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5iYWNrc3RhZ2VTdWJqZWN0LCBjYWxsLmJhY2tzdGFnZSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5ibG9ja2VkVXNlcklkc1N1YmplY3QsIGNhbGwuYmxvY2tlZF91c2VyX2lkcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQXRTdWJqZWN0LCBuZXcgRGF0ZShjYWxsLmNyZWF0ZWRfYXQpKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnVwZGF0ZWRBdFN1YmplY3QsIG5ldyBEYXRlKGNhbGwudXBkYXRlZF9hdCkpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKFxuICAgICAgdGhpcy5zdGFydHNBdFN1YmplY3QsXG4gICAgICBjYWxsLnN0YXJ0c19hdCA/IG5ldyBEYXRlKGNhbGwuc3RhcnRzX2F0KSA6IHVuZGVmaW5lZCxcbiAgICApO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKFxuICAgICAgdGhpcy5lbmRlZEF0U3ViamVjdCxcbiAgICAgIGNhbGwuZW5kZWRfYXQgPyBuZXcgRGF0ZShjYWxsLmVuZGVkX2F0KSA6IHVuZGVmaW5lZCxcbiAgICApO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEJ5U3ViamVjdCwgY2FsbC5jcmVhdGVkX2J5KTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmN1c3RvbVN1YmplY3QsIGNhbGwuY3VzdG9tKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIGNhbGwuZWdyZXNzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmluZ3Jlc3NTdWJqZWN0LCBjYWxsLmluZ3Jlc3MpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgY2FsbC5yZWNvcmRpbmcpO1xuICAgIGNvbnN0IHMgPSB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb25TdWJqZWN0LCBjYWxsLnNlc3Npb24pO1xuICAgIHRoaXMudXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uKHMpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2V0dGluZ3NTdWJqZWN0LCBjYWxsLnNldHRpbmdzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIGNhbGwudHJhbnNjcmliaW5nKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRodW1ibmFpbHNTdWJqZWN0LCBjYWxsLnRodW1ibmFpbHMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlclJlbW92ZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJSZW1vdmVkRXZlbnQpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZXZlbnQuY2FsbCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzU3ViamVjdCwgKG1lbWJlcnMpID0+XG4gICAgICBtZW1iZXJzLmZpbHRlcigobSkgPT4gZXZlbnQubWVtYmVycy5pbmRleE9mKG0udXNlcl9pZCkgPT09IC0xKSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlckFkZGVkID0gKGV2ZW50OiBDYWxsTWVtYmVyQWRkZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT4gW1xuICAgICAgLi4ubWVtYmVycyxcbiAgICAgIC4uLmV2ZW50Lm1lbWJlcnMsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgIH0pKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkID0gKFxuICAgIGV2ZW50OiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiB0cnVlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMsXG4gICAgICAgIHBsYXlsaXN0X3VybDogZXZlbnQuaGxzX3BsYXlsaXN0X3VybCxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uID0gKFxuICAgIHNlc3Npb246IENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIC8vIHdoZW4gaW4gSk9JTkVEIHN0YXRlLCB3ZSBzaG91bGQgdXNlIHRoZSBwYXJ0aWNpcGFudCBjb3VudCBjb21pbmcgdGhyb3VnaFxuICAgIC8vIHRoZSBTRlUgaGVhbHRoY2hlY2sgZXZlbnQsIGFzIGl0J3MgbW9yZSBhY2N1cmF0ZS5cbiAgICBpZiAoIXNlc3Npb24gfHwgdGhpcy5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHJldHVybjtcbiAgICBjb25zdCBieVJvbGVDb3VudCA9IE9iamVjdC52YWx1ZXMoXG4gICAgICBzZXNzaW9uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICkucmVkdWNlKCh0b3RhbCwgY291bnRCeVJvbGUpID0+IHRvdGFsICsgY291bnRCeVJvbGUsIDApO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSBNYXRoLm1heChieVJvbGVDb3VudCwgc2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RoKTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHNlc3Npb24uYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IHx8IDApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IGV2ZW50LmFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IGV2ZW50LnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0ID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cy5maWx0ZXIoXG4gICAgICAgICAgKHApID0+IHAudXNlcl9zZXNzaW9uX2lkICE9PSB1c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICksXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApIC0gMSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvblN1YmplY3QsIChzZXNzaW9uKSA9PiB7XG4gICAgICBpZiAoIXNlc3Npb24pIHJldHVybiBzZXNzaW9uO1xuICAgICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlIH0gPSBzZXNzaW9uO1xuICAgICAgY29uc3QgeyB1c2VyLCB1c2VyX3Nlc3Npb25faWQgfSA9IGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgLy8gSXQgY291bGQgaGFwcGVuIHRoYXQgdGhlIGJhY2tlbmQgZGVsaXZlcnMgdGhlIHNhbWUgcGFydGljaXBhbnQgbW9yZSB0aGFuIG9uY2UuXG4gICAgICAvLyBPbmNlIHdpdGggdGhlIGNhbGwuc2Vzc2lvbl9zdGFydGVkIGV2ZW50IGFuZCBvbmNlIGFnYWluIHdpdGggdGhlXG4gICAgICAvLyBjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkIGV2ZW50LiBJbiB0aGlzIGNhc2UsXG4gICAgICAvLyB3ZSBzaG91bGQgdXBkYXRlIHRoZSBleGlzdGluZyBwYXJ0aWNpcGFudCBhbmQgcHJldmVudCBkdXBsaWNhdGluZyBpdC5cbiAgICAgIGxldCBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA9IHRydWU7XG4gICAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC51c2VyX3Nlc3Npb25faWQgPT09IHVzZXJfc2Vzc2lvbl9pZCkge1xuICAgICAgICAgIHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5ldyBhcnJheSwgd2UgY2FuIHNhZmVseSBwdXNoIHRoZSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgdXBkYXRlZFBhcnRpY2lwYW50cy5wdXNoKGV2ZW50LnBhcnRpY2lwYW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgYXJlIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHBhcnRpY2lwYW50LCB3ZSBkb24ndCB3YW50IHRvIGluY3JlbWVudFxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50X2J5X3JvbGUgY291bnQuXG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcGFydGljaXBhbnRzOiB1cGRhdGVkUGFydGljaXBhbnRzLFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZToge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgICAgIFt1c2VyLnJvbGVdOiAocGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGVbdXNlci5yb2xlXSB8fCAwKSArIGluY3JlbWVudCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24ocyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZW1iZXJzID0gKFxuICAgIGV2ZW50OiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHwgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMubWFwKChtZW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgbWVtYmVyVXBkYXRlID0gZXZlbnQubWVtYmVycy5maW5kKFxuICAgICAgICAgIChtKSA9PiBtLnVzZXJfaWQgPT09IG1lbWJlci51c2VyX2lkLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbWVtYmVyVXBkYXRlID8gbWVtYmVyVXBkYXRlIDogbWVtYmVyO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24gPSAoZXZlbnQ6IENhbGxSZWFjdGlvbkV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyB1c2VyLCBjdXN0b20sIHR5cGUsIGVtb2ppX2NvZGUgfSA9IGV2ZW50LnJlYWN0aW9uO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIC8vIHNraXAgaWYgdGhlIHJlYWN0aW9uIGlzIG5vdCBmb3IgdGhpcyBwYXJ0aWNpcGFudFxuICAgICAgICBpZiAocC51c2VySWQgIT09IHVzZXIuaWQpIHJldHVybiBwO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIG5ldyByZWFjdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgcmVhY3Rpb246IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBlbW9qaV9jb2RlLFxuICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHVuYmxvY2tVc2VyID0gKGV2ZW50OiBVbmJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IHtcbiAgICAgIGlmICghY3VycmVudCkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICByZXR1cm4gY3VycmVudC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZXZlbnQudXNlci5pZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBibG9ja1VzZXIgPSAoZXZlbnQ6IEJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IFtcbiAgICAgIC4uLihjdXJyZW50IHx8IFtdKSxcbiAgICAgIGV2ZW50LnVzZXIuaWQsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVPd25DYXBhYmlsaXRpZXMgPSAoZXZlbnQ6IFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC51c2VyLmlkID09PSB0aGlzLmxvY2FsUGFydGljaXBhbnQ/LnVzZXJJZCkge1xuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBldmVudC5vd25fY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsU3RhdGUnO1xuaW1wb3J0IHR5cGUgeyBPd25Vc2VyUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB7XG4gIC8qKlxuICAgKiBBIHN0b3JlIGtlZXBpbmcgZGF0YSBvZiBhIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdXNlciBvdmVyIFdTIHRvIHRoZSBjb29yZGluYXRvciBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0ZWRVc2VyU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxsc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxbXT4oW10pO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3Quc3Vic2NyaWJlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgICAvLyBsZWF2ZSBhbGwgY2FsbHMgd2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQtc3RhdGUnXSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNhbGxzKSB7XG4gICAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgY29udGludWU7XG5cbiAgICAgICAgICBsb2dnZXIoJ2luZm8nLCBgVXNlciBkaXNjb25uZWN0ZWQsIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgICBhd2FpdCBjYWxsXG4gICAgICAgICAgICAubGVhdmUoeyByZWFzb246ICdjbGllbnQuZGlzY29ubmVjdFVzZXIoKSBjYWxsZWQnIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgYEVycm9yIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBwcml2YXRlIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAgICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICovXG4gIHByaXZhdGUgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIuXG4gICAqL1xuICBnZXQgY29ubmVjdGVkVXNlcigpOiBPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBzZXQgYXMgY29ubmVjdGVkLlxuICAgKi9cbiAgc2V0Q29ubmVjdGVkVXNlciA9ICh1c2VyOiBQYXRjaDxPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3QsIHVzZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGNhbGxzKCk6IENhbGxbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHNTdWJqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICogQHBhcmFtIGNhbGxzXG4gICAqL1xuICBzZXRDYWxscyA9IChjYWxsczogUGF0Y2g8Q2FsbFtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxzU3ViamVjdCwgY2FsbHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEge0BsaW5rIENhbGx9IG9iamVjdCB0byB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIGFkZC5cbiAgICovXG4gIHJlZ2lzdGVyQ2FsbCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxzLmZpbmQoKGMpID0+IGMuY2lkID09PSBjYWxsLmNpZCkpIHtcbiAgICAgIHRoaXMuc2V0Q2FsbHMoKGNhbGxzKSA9PiBbLi4uY2FsbHMsIGNhbGxdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IGZyb20gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZW1vdmVcbiAgICovXG4gIHVucmVnaXN0ZXJDYWxsID0gKGNhbGw6IENhbGwpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDYWxscygoY2FsbHMpID0+IGNhbGxzLmZpbHRlcigoYykgPT4gYyAhPT0gY2FsbCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kcyBhIHtAbGluayBDYWxsfSBvYmplY3QgaW4gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiBjYWxsIHRvIGZpbmQuXG4gICAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwgdG8gZmluZC5cbiAgICovXG4gIGZpbmRDYWxsID0gKHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLmNhbGxzLmZpbmQoKGMpID0+IGMudHlwZSA9PT0gdHlwZSAmJiBjLmlkID09PSBpZCk7XG4gIH07XG59XG5cbi8qKlxuICogQSByZWFjdGl2ZSBzdG9yZSB0aGF0IGV4cG9zZXMgc3RhdGUgdmFyaWFibGVzIGluIGEgcmVhY3RpdmUgbWFubmVyLlxuICogWW91IGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBvZiB0aGUgZGlmZmVyZW50IHN0YXRlIHZhcmlhYmxlcy5cbiAqIFRoaXMgY2VudHJhbCBzdG9yZSBjb250YWlucyBhbGwgdGhlIHN0YXRlIHZhcmlhYmxlcyByZWxhdGVkIHRvIFtgU3RyZWFtVmlkZW9DbGllbnRgXSguL1N0cmVhbVZpZGVDbGllbnQubWQpIGFuZCBbYENhbGxgXSguL0NhbGwubWQpLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUge1xuICAvKipcbiAgICogRGF0YSBkZXNjcmliaW5nIGEgdXNlciBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIG92ZXIgV1MgdG8gY29vcmRpbmF0b3Igc2VydmVyLlxuICAgKi9cbiAgY29ubmVjdGVkVXNlciQ6IE9ic2VydmFibGU8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICovXG4gIGNhbGxzJDogT2JzZXJ2YWJsZTxDYWxsW10+O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgeW91IHRoZSBnZXQgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYSBzdGF0ZSB2YXJpYWJsZS5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mLlxuICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgb2JzZXJ2YWJsZS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUpIHtcbiAgICAvLyBjb252ZXJ0IGFuZCBleHBvc2Ugc3ViamVjdHMgYXMgb2JzZXJ2YWJsZXNcbiAgICB0aGlzLmNvbm5lY3RlZFVzZXIkID0gc3RvcmUuY29ubmVjdGVkVXNlclN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5jYWxscyQgPSBzdG9yZS5jYWxsc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgdXNlciBjb25uZWN0ZWQgb3ZlciBXUyB0byB0aGUgYmFja2VuZC5cbiAgICovXG4gIGdldCBjb25uZWN0ZWRVc2VyKCk6IE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlciQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgY2FsbHMoKTogQ2FsbFtdIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jYWxscyQpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBTRFAgZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5cbnR5cGUgTWVkaWEgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIG1lZGlhV2l0aFBvcnRzOiBzdHJpbmc7XG4gIGNvZGVjT3JkZXI6IHN0cmluZztcbn07XG5cbnR5cGUgUnRwTWFwID0ge1xuICBvcmlnaW5hbDogc3RyaW5nO1xuICBwYXlsb2FkOiBzdHJpbmc7XG4gIGNvZGVjOiBzdHJpbmc7XG59O1xuXG50eXBlIEZtdHAgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIHBheWxvYWQ6IHN0cmluZztcbiAgY29uZmlnOiBzdHJpbmc7XG59O1xuXG5jb25zdCBnZXRSdHBNYXAgPSAobGluZTogc3RyaW5nKTogUnRwTWFwIHwgdW5kZWZpbmVkID0+IHtcbiAgLy8gRXhhbXBsZTogYT1ydHBtYXA6MTEwIG9wdXMvNDgwMDAvMlxuICBjb25zdCBydHBSZWdleCA9IC9eYT1ydHBtYXA6KFxcZCopIChbXFx3XFwtLl0qKSg/OlxccypcXC8oXFxkKikoPzpcXHMqXFwvKFxcUyopKT8pPy87XG4gIC8vIFRoZSBmaXJzdCBjYXB0dXJlZCBncm91cCBpcyB0aGUgcGF5bG9hZCB0eXBlIG51bWJlciwgdGhlIHNlY29uZCBjYXB0dXJlZCBncm91cCBpcyB0aGUgZW5jb2RpbmcgbmFtZSwgdGhlIHRoaXJkIGNhcHR1cmVkIGdyb3VwIGlzIHRoZSBjbG9jayByYXRlLCBhbmQgdGhlIGZvdXJ0aCBjYXB0dXJlZCBncm91cCBpcyBhbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXJzLlxuICBjb25zdCBydHBNYXRjaCA9IHJ0cFJlZ2V4LmV4ZWMobGluZSk7XG4gIGlmIChydHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogcnRwTWF0Y2hbMF0sXG4gICAgICBwYXlsb2FkOiBydHBNYXRjaFsxXSxcbiAgICAgIGNvZGVjOiBydHBNYXRjaFsyXSxcbiAgICB9O1xuICB9XG59O1xuXG5jb25zdCBnZXRGbXRwID0gKGxpbmU6IHN0cmluZyk6IEZtdHAgfCB1bmRlZmluZWQgPT4ge1xuICAvLyBFeGFtcGxlOiBhPWZtdHA6MTExIG1pbnB0aW1lPTEwOyB1c2VpbmJhbmRmZWM9MVxuICBjb25zdCBmbXRwUmVnZXggPSAvXmE9Zm10cDooXFxkKikgKC4qKS87XG4gIGNvbnN0IGZtdHBNYXRjaCA9IGZtdHBSZWdleC5leGVjKGxpbmUpO1xuICAvLyBUaGUgZmlyc3QgY2FwdHVyZWQgZ3JvdXAgaXMgdGhlIHBheWxvYWQgdHlwZSBudW1iZXIsIHRoZSBzZWNvbmQgY2FwdHVyZWQgZ3JvdXAgaXMgYW55IGFkZGl0aW9uYWwgcGFyYW1ldGVycy5cbiAgaWYgKGZtdHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogZm10cE1hdGNoWzBdLFxuICAgICAgcGF5bG9hZDogZm10cE1hdGNoWzFdLFxuICAgICAgY29uZmlnOiBmbXRwTWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXRzIHRoZSBtZWRpYSBzZWN0aW9uIGZvciB0aGUgc3BlY2lmaWVkIG1lZGlhIHR5cGUuXG4gKiBUaGUgbWVkaWEgc2VjdGlvbiBjb250YWlucyB0aGUgbWVkaWEgdHlwZSwgcG9ydCwgY29kZWMsIGFuZCBwYXlsb2FkIHR5cGUuXG4gKiBFeGFtcGxlOiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTAwIDEwMSA5NiA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICovXG5jb25zdCBnZXRNZWRpYSA9IChsaW5lOiBzdHJpbmcsIG1lZGlhVHlwZTogc3RyaW5nKTogTWVkaWEgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYChtPSR7bWVkaWFUeXBlfSBcXFxcZCsgW1xcXFx3L10rKSAoW1xcXFxkXFxcXHNdKylgKTtcbiAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKGxpbmUpO1xuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWw6IG1hdGNoWzBdLFxuICAgICAgbWVkaWFXaXRoUG9ydHM6IG1hdGNoWzFdLFxuICAgICAgY29kZWNPcmRlcjogbWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgZ2V0TWVkaWFTZWN0aW9uID0gKHNkcDogc3RyaW5nLCBtZWRpYVR5cGU6ICd2aWRlbycgfCAnYXVkaW8nKSA9PiB7XG4gIGxldCBtZWRpYTogTWVkaWEgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHJ0cE1hcDogUnRwTWFwW10gPSBbXTtcbiAgY29uc3QgZm10cDogRm10cFtdID0gW107XG4gIGxldCBpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uID0gZmFsc2U7XG4gIHNkcC5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICBjb25zdCBpc1ZhbGlkTGluZSA9IC9eKFthLXpdKT0oLiopLy50ZXN0KGxpbmUpO1xuICAgIGlmICghaXNWYWxpZExpbmUpIHJldHVybjtcbiAgICAvKlxuICAgICAgTk9URTogYWNjb3JkaW5nIHRvIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM4ODY2LnBkZlxuICAgICAgRWFjaCBtZWRpYSBkZXNjcmlwdGlvbiBzdGFydHMgd2l0aCBhbiBcIm09XCIgbGluZSBhbmQgY29udGludWVzIHRvIHRoZSBuZXh0IG1lZGlhIGRlc2NyaXB0aW9uIG9yIHRoZSBlbmQgb2YgdGhlIHdob2xlIHNlc3Npb24gZGVzY3JpcHRpb24sIHdoaWNoZXZlciBjb21lcyBmaXJzdFxuICAgICovXG4gICAgY29uc3QgdHlwZSA9IGxpbmVbMF07XG4gICAgaWYgKHR5cGUgPT09ICdtJykge1xuICAgICAgY29uc3QgX21lZGlhID0gZ2V0TWVkaWEobGluZSwgbWVkaWFUeXBlKTtcbiAgICAgIGlzVGhlUmVxdWlyZWRNZWRpYVNlY3Rpb24gPSAhIV9tZWRpYTtcbiAgICAgIGlmIChfbWVkaWEpIHtcbiAgICAgICAgbWVkaWEgPSBfbWVkaWE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uICYmIHR5cGUgPT09ICdhJykge1xuICAgICAgY29uc3QgcnRwTWFwTGluZSA9IGdldFJ0cE1hcChsaW5lKTtcbiAgICAgIGNvbnN0IGZtdHBMaW5lID0gZ2V0Rm10cChsaW5lKTtcbiAgICAgIGlmIChydHBNYXBMaW5lKSB7XG4gICAgICAgIHJ0cE1hcC5wdXNoKHJ0cE1hcExpbmUpO1xuICAgICAgfSBlbHNlIGlmIChmbXRwTGluZSkge1xuICAgICAgICBmbXRwLnB1c2goZm10cExpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChtZWRpYSkge1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYSxcbiAgICAgIHJ0cE1hcCxcbiAgICAgIGZtdHAsXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIG9mIGNvZGVjIElEcyB3aXRoIHRoZSBwcmVmZXJyZWQgY29kZWMgSUQgaW4gZnJvbnQgb2YgdGhlIG90aGVyIGNvZGVjIElEcy5cbiAqIEl0IGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgYSBwcmVmZXJyZWQgY29kZWMgaXMgdXNlZCB3aGVuIGRlY29kaW5nIGEgbWVkaWEgc3RyZWFtLlxuICogRXhhbXBsZTogU3VwcG9zZSB3ZSB3YW50IHRvIHByZWZlciBWUDggd2hpY2ggaGFzIGlkIDk2XG4gKiAxLiBJZiBjb2RlYyBvcmRlciBpcyAxMDAgMTAxIDk2IDk3IDM1IDM2IDEwMiAxMjUgMTI3XG4gKiAyLiBUaGUgZnVuY3Rpb24gcmV0dXJucyA5NiAxMDAgMTAxIDk3IDM1IDM2IDEwMiAxMjUgMTI3XG4gKi9cbmNvbnN0IG1vdmVDb2RlY1RvRnJvbnQgPSAoY29kZWNPcmRlcjogc3RyaW5nLCBwcmVmZXJyZWRDb2RlY0lkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgY29kZWNJZHMgPSBjb2RlY09yZGVyLnNwbGl0KCcgJyk7XG4gIGNvbnN0IGluZGV4ID0gY29kZWNJZHMuaW5kZXhPZihwcmVmZXJyZWRDb2RlY0lkKTtcbiAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICBjb2RlY0lkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGNvZGVjSWRzLnVuc2hpZnQocHJlZmVycmVkQ29kZWNJZCk7XG4gIH1cbiAgcmV0dXJuIGNvZGVjSWRzLmpvaW4oJyAnKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyBvZiBjb2RlYyBJRHMgd2l0aCB0aGUgZ2l2ZW4gY29kZWMgSUQgcmVtb3ZlZFxuICogSXQgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhIGNvZGVjIGlzIGRpc2FibGVkIHdoZW4gcHJvY2Vzc2luZyBhIG1lZGlhIHN0cmVhbS5cbiAqIEV4YW1wbGU6IFN1cHBvc2Ugd2Ugd2FudCB0byBwcmVmZXIgUkVEIHdoaWNoIGhhcyBpZCA2M1xuICogMS4gSWYgY29kZWMgb3JkZXIgaXMgMTExIDYzIDEwMyAxMDQgOSAxMDIgMCA4IDEwNiAxMDUgMTMgMTEwIDExMiAxMTMgMTI2XG4gKiAyLiBUaGUgZnVuY3Rpb24gcmV0dXJucyAxMTEgMTAzIDEwNCA5IDEwMiAwIDggMTA2IDEwNSAxMyAxMTAgMTEyIDExMyAxMjZcbiAqL1xuY29uc3QgcmVtb3ZlQ29kZWNGcm9tT3JkZXIgPSAoY29kZWNPcmRlcjogc3RyaW5nLCBjb2RlY0lkVG9SZW1vdmU6IHN0cmluZykgPT4ge1xuICBjb25zdCBjb2RlY0lkcyA9IGNvZGVjT3JkZXIuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIGNvZGVjSWRzLmZpbHRlcigoY29kZWNJRCkgPT4gY29kZWNJRCAhPT0gY29kZWNJZFRvUmVtb3ZlKS5qb2luKCcgJyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gU0RQIHdpdGggdGhlIHByZWZlcnJlZCBjb2RlYyBpbiBmcm9udCBvZiB0aGUgb3RoZXIgY29kZWNzLlxuICogRXhhbXBsZTogU3VwcG9zZSB3ZSB3YW50IHRvIHByZWZlciBWUDhcbiAqIDEuIGZpbmQgdmlkZW8gbWVkaWEgc3BlY2lmaWNhdGlvbiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTAwIDEwMSA5NiA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICogMi4gbG9vayBmb3Igc3BlY2lmaWVkIGNvZGVjIChWUDgpICBhPXJ0cG1hcDo5NiBWUDgvOTAwMDBcbiAqIDMuIGV4dHJhY3QgOTYgYXMgYW4gaWRlbnRpZmllciBvZiBWUDhcbiAqIDQuIG1vdmUgOTYgdG8gdGhlIGZyb250XG4gKiA1LiBub3cgbWVkaWEgbG9va3MgbGlrZSB0aGlzOiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgOTYgMTAwIDEwMSA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICovXG5leHBvcnQgY29uc3Qgc2V0UHJlZmVycmVkQ29kZWMgPSAoXG4gIHNkcDogc3RyaW5nLFxuICBtZWRpYVR5cGU6ICd2aWRlbycgfCAnYXVkaW8nLFxuICBwcmVmZXJyZWRDb2RlYzogc3RyaW5nLFxuKSA9PiB7XG4gIGNvbnN0IHNlY3Rpb24gPSBnZXRNZWRpYVNlY3Rpb24oc2RwLCBtZWRpYVR5cGUpO1xuICBpZiAoIXNlY3Rpb24pIHJldHVybiBzZHA7XG4gIGNvbnN0IHJ0cE1hcCA9IHNlY3Rpb24ucnRwTWFwLmZpbmQoXG4gICAgKHIpID0+IHIuY29kZWMudG9Mb3dlckNhc2UoKSA9PT0gcHJlZmVycmVkQ29kZWMudG9Mb3dlckNhc2UoKSxcbiAgKTtcbiAgY29uc3QgY29kZWNJZCA9IHJ0cE1hcD8ucGF5bG9hZDtcbiAgaWYgKCFjb2RlY0lkKSByZXR1cm4gc2RwO1xuICBjb25zdCBuZXdDb2RlY09yZGVyID0gbW92ZUNvZGVjVG9Gcm9udChzZWN0aW9uLm1lZGlhLmNvZGVjT3JkZXIsIGNvZGVjSWQpO1xuICByZXR1cm4gc2RwLnJlcGxhY2UoXG4gICAgc2VjdGlvbi5tZWRpYS5vcmlnaW5hbCxcbiAgICBgJHtzZWN0aW9uLm1lZGlhLm1lZGlhV2l0aFBvcnRzfSAke25ld0NvZGVjT3JkZXJ9YCxcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBTRFAgd2l0aCB0aGUgc3BlY2lmaWVkIGNvZGVjIHJlbW92ZWQuXG4gKiBFeGFtcGxlOiBTdXBwb3NlIHdlIHdhbnQgdG8gcmVtb3ZlIFJFRFxuICogIDEuIGZpbmQgYXVkaW8gbWVkaWEgc3BlY2lmaWNhdGlvbiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTAwIDEwMSA5NiA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICogIDIuIGxvb2sgZm9yIHNwZWNpZmllZCBjb2RlYyAoUkVEKSAgYT1ydHBtYXA6MTI3IHJlZC85MDAwMFxuICogIDMuIGV4dHJhY3QgMTI3IGFzIGFuIGlkZW50aWZpZXIgb2YgUkVEXG4gKiAgNC4gcmVtb3ZlIDEyNyBmcm9tIHRoZSBjb2RlYyBvcmRlclxuICogIDUuIHJlbW92ZSBhPXJ0cG1hcDoxMjcgcmVkLzkwMDAwXG4gKiAgNi4gcmVtb3ZlIGE9Zm10cDoxMjcgLi4uXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVDb2RlYyA9IChcbiAgc2RwOiBzdHJpbmcsXG4gIG1lZGlhVHlwZTogJ3ZpZGVvJyB8ICdhdWRpbycsXG4gIGNvZGVjVG9SZW1vdmU6IHN0cmluZyxcbik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHNlY3Rpb24gPSBnZXRNZWRpYVNlY3Rpb24oc2RwLCBtZWRpYVR5cGUpO1xuICBjb25zdCBtZWRpYVNlY3Rpb24gPSBzZWN0aW9uPy5tZWRpYTtcbiAgaWYgKCFtZWRpYVNlY3Rpb24pIHtcbiAgICByZXR1cm4gc2RwO1xuICB9XG4gIGNvbnN0IHJ0cE1hcCA9IHNlY3Rpb24/LnJ0cE1hcC5maW5kKFxuICAgIChyKSA9PiByLmNvZGVjLnRvTG93ZXJDYXNlKCkgPT09IGNvZGVjVG9SZW1vdmUudG9Mb3dlckNhc2UoKSxcbiAgKTtcbiAgY29uc3QgY29kZWNJZCA9IHJ0cE1hcD8ucGF5bG9hZDtcbiAgaWYgKCFjb2RlY0lkKSB7XG4gICAgcmV0dXJuIHNkcDtcbiAgfVxuICBjb25zdCBuZXdDb2RlY09yZGVyID0gcmVtb3ZlQ29kZWNGcm9tT3JkZXIobWVkaWFTZWN0aW9uLmNvZGVjT3JkZXIsIGNvZGVjSWQpO1xuICBjb25zdCBmbXRwID0gc2VjdGlvbj8uZm10cC5maW5kKChmKSA9PiBmLnBheWxvYWQgPT09IGNvZGVjSWQpO1xuICByZXR1cm4gc2RwXG4gICAgLnJlcGxhY2UoXG4gICAgICBtZWRpYVNlY3Rpb24ub3JpZ2luYWwsXG4gICAgICBgJHttZWRpYVNlY3Rpb24ubWVkaWFXaXRoUG9ydHN9ICR7bmV3Q29kZWNPcmRlcn1gLFxuICAgIClcbiAgICAucmVwbGFjZShuZXcgUmVnRXhwKGAke3J0cE1hcC5vcmlnaW5hbH1bXFxyXFxuXStgKSwgJycpIC8vIHJlbW92ZSB0aGUgY29ycmVzcG9uZGluZyBydHBtYXAgbGluZVxuICAgIC5yZXBsYWNlKGZtdHA/Lm9yaWdpbmFsID8gbmV3IFJlZ0V4cChgJHtmbXRwPy5vcmlnaW5hbH1bXFxyXFxuXStgKSA6ICcnLCAnJyk7IC8vIHJlbW92ZSB0aGUgY29ycmVzcG9uZGluZyBmbXRwIGxpbmVcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgZm10cCBsaW5lIGNvcnJlc3BvbmRpbmcgdG8gb3B1c1xuICovXG5jb25zdCBnZXRPcHVzRm10cCA9IChzZHA6IHN0cmluZyk6IEZtdHAgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBzZWN0aW9uID0gZ2V0TWVkaWFTZWN0aW9uKHNkcCwgJ2F1ZGlvJyk7XG4gIGNvbnN0IHJ0cE1hcCA9IHNlY3Rpb24/LnJ0cE1hcC5maW5kKChyKSA9PiByLmNvZGVjLnRvTG93ZXJDYXNlKCkgPT09ICdvcHVzJyk7XG4gIGNvbnN0IGNvZGVjSWQgPSBydHBNYXA/LnBheWxvYWQ7XG4gIGlmIChjb2RlY0lkKSB7XG4gICAgcmV0dXJuIHNlY3Rpb24/LmZtdHAuZmluZCgoZikgPT4gZi5wYXlsb2FkID09PSBjb2RlY0lkKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIFNEUCB3aXRoIERUWCBlbmFibGVkIG9yIGRpc2FibGVkLlxuICovXG5leHBvcnQgY29uc3QgdG9nZ2xlRHR4ID0gKHNkcDogc3RyaW5nLCBlbmFibGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBvcHVzRm10cCA9IGdldE9wdXNGbXRwKHNkcCk7XG4gIGlmIChvcHVzRm10cCkge1xuICAgIGNvbnN0IG1hdGNoRHR4ID0gL3VzZWR0eD0oXFxkKS8uZXhlYyhvcHVzRm10cC5jb25maWcpO1xuICAgIGNvbnN0IHJlcXVpcmVkRHR4Q29uZmlnID0gYHVzZWR0eD0ke2VuYWJsZSA/ICcxJyA6ICcwJ31gO1xuICAgIGlmIChtYXRjaER0eCkge1xuICAgICAgY29uc3QgbmV3Rm10cCA9IG9wdXNGbXRwLm9yaWdpbmFsLnJlcGxhY2UoXG4gICAgICAgIC91c2VkdHg9KFxcZCkvLFxuICAgICAgICByZXF1aXJlZER0eENvbmZpZyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gc2RwLnJlcGxhY2Uob3B1c0ZtdHAub3JpZ2luYWwsIG5ld0ZtdHApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdGbXRwID0gYCR7b3B1c0ZtdHAub3JpZ2luYWx9OyR7cmVxdWlyZWREdHhDb25maWd9YDtcbiAgICAgIHJldHVybiBzZHAucmVwbGFjZShvcHVzRm10cC5vcmlnaW5hbCwgbmV3Rm10cCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZHA7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgaGlnaC1xdWFsaXR5IGF1ZGlvIHRocm91Z2ggU0RQIG11bmdpbmcgZm9yIHRoZSBnaXZlbiB0cmFja01pZC5cbiAqXG4gKiBAcGFyYW0gc2RwIHRoZSBTRFAgdG8gbXVuZ2UuXG4gKiBAcGFyYW0gdHJhY2tNaWQgdGhlIHRyYWNrTWlkLlxuICogQHBhcmFtIG1heEJpdHJhdGUgdGhlIG1heCBiaXRyYXRlIHRvIHNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZUhpZ2hRdWFsaXR5QXVkaW8gPSAoXG4gIHNkcDogc3RyaW5nLFxuICB0cmFja01pZDogc3RyaW5nLFxuICBtYXhCaXRyYXRlOiBudW1iZXIgPSA1MTAwMDAsXG4pOiBzdHJpbmcgPT4ge1xuICBtYXhCaXRyYXRlID0gTWF0aC5tYXgoTWF0aC5taW4obWF4Qml0cmF0ZSwgNTEwMDAwKSwgOTYwMDApO1xuXG4gIGNvbnN0IHBhcnNlZFNkcCA9IFNEUC5wYXJzZShzZHApO1xuICBjb25zdCBhdWRpb01lZGlhID0gcGFyc2VkU2RwLm1lZGlhLmZpbmQoXG4gICAgKG0pID0+IG0udHlwZSA9PT0gJ2F1ZGlvJyAmJiBTdHJpbmcobS5taWQpID09PSB0cmFja01pZCxcbiAgKTtcblxuICBpZiAoIWF1ZGlvTWVkaWEpIHJldHVybiBzZHA7XG5cbiAgY29uc3Qgb3B1c1J0cCA9IGF1ZGlvTWVkaWEucnRwLmZpbmQoKHIpID0+IHIuY29kZWMgPT09ICdvcHVzJyk7XG4gIGlmICghb3B1c1J0cCkgcmV0dXJuIHNkcDtcblxuICBjb25zdCBvcHVzRm10cCA9IGF1ZGlvTWVkaWEuZm10cC5maW5kKChmKSA9PiBmLnBheWxvYWQgPT09IG9wdXNSdHAucGF5bG9hZCk7XG4gIGlmICghb3B1c0ZtdHApIHJldHVybiBzZHA7XG5cbiAgLy8gZW5hYmxlIHN0ZXJlbywgaWYgbm90IGFscmVhZHkgZW5hYmxlZFxuICBpZiAob3B1c0ZtdHAuY29uZmlnLm1hdGNoKC9zdGVyZW89KFxcZCkvKSkge1xuICAgIG9wdXNGbXRwLmNvbmZpZyA9IG9wdXNGbXRwLmNvbmZpZy5yZXBsYWNlKC9zdGVyZW89KFxcZCkvLCAnc3RlcmVvPTEnKTtcbiAgfSBlbHNlIHtcbiAgICBvcHVzRm10cC5jb25maWcgPSBgJHtvcHVzRm10cC5jb25maWd9O3N0ZXJlbz0xYDtcbiAgfVxuXG4gIC8vIHNldCBtYXhhdmVyYWdlYml0cmF0ZSwgdG8gdGhlIGdpdmVuIHZhbHVlXG4gIGlmIChvcHVzRm10cC5jb25maWcubWF0Y2goL21heGF2ZXJhZ2ViaXRyYXRlPShcXGQqKS8pKSB7XG4gICAgb3B1c0ZtdHAuY29uZmlnID0gb3B1c0ZtdHAuY29uZmlnLnJlcGxhY2UoXG4gICAgICAvbWF4YXZlcmFnZWJpdHJhdGU9KFxcZCopLyxcbiAgICAgIGBtYXhhdmVyYWdlYml0cmF0ZT0ke21heEJpdHJhdGV9YCxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIG9wdXNGbXRwLmNvbmZpZyA9IGAke29wdXNGbXRwLmNvbmZpZ307bWF4YXZlcmFnZWJpdHJhdGU9JHttYXhCaXRyYXRlfWA7XG4gIH1cblxuICByZXR1cm4gU0RQLndyaXRlKHBhcnNlZFNkcCk7XG59O1xuIiwiaW1wb3J0ICogYXMgU0RQIGZyb20gJ3NkcC10cmFuc2Zvcm0nO1xuaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7XG4gIFBlZXJUeXBlLFxuICBUcmFja0luZm8sXG4gIFRyYWNrVHlwZSxcbiAgVmlkZW9MYXllcixcbiAgVmlkZW9RdWFsaXR5LFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZ2V0SWNlQ2FuZGlkYXRlIH0gZnJvbSAnLi9oZWxwZXJzL2ljZUNhbmRpZGF0ZSc7XG5pbXBvcnQge1xuICBmaW5kT3B0aW1hbFNjcmVlblNoYXJpbmdMYXllcnMsXG4gIGZpbmRPcHRpbWFsVmlkZW9MYXllcnMsXG4gIE9wdGltYWxWaWRlb0xheWVyLFxufSBmcm9tICcuL3ZpZGVvTGF5ZXJzJztcbmltcG9ydCB7IGdldFByZWZlcnJlZENvZGVjcyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSwgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgZW5hYmxlSGlnaFF1YWxpdHlBdWRpbywgdG9nZ2xlRHR4IH0gZnJvbSAnLi4vaGVscGVycy9zZHAtbXVuZ2luZyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcbmltcG9ydCB7IGdldE9TSW5mbyB9IGZyb20gJy4uL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IFZpZGVvTGF5ZXJTZXR0aW5nIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL3NoaW1zJztcblxuY29uc3QgbG9nZ2VyOiBMb2dnZXIgPSBnZXRMb2dnZXIoWydQdWJsaXNoZXInXSk7XG5cbmV4cG9ydCB0eXBlIFB1Ymxpc2hlckNvbnN0cnVjdG9yT3B0cyA9IHtcbiAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gIGNvbm5lY3Rpb25Db25maWc/OiBSVENDb25maWd1cmF0aW9uO1xuICBpc0R0eEVuYWJsZWQ6IGJvb2xlYW47XG4gIGlzUmVkRW5hYmxlZDogYm9vbGVhbjtcbiAgaWNlUmVzdGFydERlbGF5PzogbnVtYmVyO1xuICBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIFRoZSBgUHVibGlzaGVyYCBpcyByZXNwb25zaWJsZSBmb3IgcHVibGlzaGluZy91bnB1Ymxpc2hpbmcgbWVkaWEgc3RyZWFtcyB0by9mcm9tIHRoZSBTRlVcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUHVibGlzaGVyIHtcbiAgcHJpdmF0ZSBwYzogUlRDUGVlckNvbm5lY3Rpb247XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhdGU6IENhbGxTdGF0ZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVyUmVnaXN0cnk6IHtcbiAgICBba2V5IGluIFRyYWNrVHlwZV06IFJUQ1J0cFRyYW5zY2VpdmVyIHwgdW5kZWZpbmVkO1xuICB9ID0ge1xuICAgIFtUcmFja1R5cGUuQVVESU9dOiB1bmRlZmluZWQsXG4gICAgW1RyYWNrVHlwZS5WSURFT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV06IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlVOU1BFQ0lGSUVEXTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHVibGlzaE9wdGlvbnNQZXJUcmFja1R5cGUgPSBuZXcgTWFwPFxuICAgIFRyYWNrVHlwZSxcbiAgICBQdWJsaXNoT3B0aW9uc1xuICA+KCk7XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG1haW50YWluaW5nIHRoZSBvcmRlciBob3cgdHJhbnNjZWl2ZXJzIHdlcmUgYWRkZWQgdG8gdGhlIHBlZXIgY29ubmVjdGlvbi5cbiAgICogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lIGJyb3dzZXJzIChGaXJlZm94KSBkb24ndCByZWxpYWJseSByZXBvcnRcbiAgICogdHJhY2tJZCBhbmQgYG1pZGAgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgdHJhbnNjZWl2ZXJJbml0T3JkZXI6IFRyYWNrVHlwZVtdID0gW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja0tpbmRNYXBwaW5nOiB7XG4gICAgW2tleSBpbiBUcmFja1R5cGVdOiAndmlkZW8nIHwgJ2F1ZGlvJyB8IHVuZGVmaW5lZDtcbiAgfSA9IHtcbiAgICBbVHJhY2tUeXBlLkFVRElPXTogJ2F1ZGlvJyxcbiAgICBbVHJhY2tUeXBlLlZJREVPXTogJ3ZpZGVvJyxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV06ICd2aWRlbycsXG4gICAgW1RyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU9dOiAnYXVkaW8nLFxuICAgIFtUcmFja1R5cGUuVU5TUEVDSUZJRURdOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja0xheWVyc0NhY2hlOiB7XG4gICAgW2tleSBpbiBUcmFja1R5cGVdOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkO1xuICB9ID0ge1xuICAgIFtUcmFja1R5cGUuQVVESU9dOiB1bmRlZmluZWQsXG4gICAgW1RyYWNrVHlwZS5WSURFT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV06IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlVOU1BFQ0lGSUVEXTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNEdHhFbmFibGVkOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGlzUmVkRW5hYmxlZDogYm9vbGVhbjtcblxuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uVW5yZWNvdmVyYWJsZUVycm9yPzogKCkgPT4gdm9pZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGljZVJlc3RhcnREZWxheTogbnVtYmVyO1xuICBwcml2YXRlIGlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICBwcml2YXRlIGljZVJlc3RhcnRUaW1lb3V0PzogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgLy8gd29ya2Fyb3VuZCBmb3IgdGhlIGxhY2sgb2YgUlRDUGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpIG1ldGhvZCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gIHByaXZhdGUgX2Nvbm5lY3Rpb25Db25maWd1cmF0aW9uOiBSVENDb25maWd1cmF0aW9uIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgY29ubmVjdGlvbkNvbmZpZ3VyYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucGMuZ2V0Q29uZmlndXJhdGlvbikgcmV0dXJuIHRoaXMucGMuZ2V0Q29uZmlndXJhdGlvbigpO1xuICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uQ29uZmlndXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgU0ZVIGNsaWVudCBpbnN0YW5jZSB0byB1c2UgZm9yIHB1Ymxpc2hpbmcgYW5kIHNpZ25hbGluZy5cbiAgICovXG4gIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBQdWJsaXNoZXJgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIHRvIHVzZS5cbiAgICogQHBhcmFtIHNmdUNsaWVudCB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byB1c2UuXG4gICAqIEBwYXJhbSBkaXNwYXRjaGVyIHRoZSBkaXNwYXRjaGVyIHRvIHVzZS5cbiAgICogQHBhcmFtIGlzRHR4RW5hYmxlZCB3aGV0aGVyIERUWCBpcyBlbmFibGVkLlxuICAgKiBAcGFyYW0gaXNSZWRFbmFibGVkIHdoZXRoZXIgUkVEIGlzIGVuYWJsZWQuXG4gICAqIEBwYXJhbSBpY2VSZXN0YXJ0RGVsYXkgdGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXN0YXJ0aW5nIElDRSBvbmNlIGNvbm5lY3Rpb24gZ29lcyB0byBgZGlzY29ubmVjdGVkYCBzdGF0ZS5cbiAgICogQHBhcmFtIG9uVW5yZWNvdmVyYWJsZUVycm9yIGEgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIGFuIHVucmVjb3ZlcmFibGUgZXJyb3Igb2NjdXJzLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgc2Z1Q2xpZW50LFxuICAgIGRpc3BhdGNoZXIsXG4gICAgc3RhdGUsXG4gICAgaXNEdHhFbmFibGVkLFxuICAgIGlzUmVkRW5hYmxlZCxcbiAgICBpY2VSZXN0YXJ0RGVsYXkgPSAyNTAwLFxuICAgIG9uVW5yZWNvdmVyYWJsZUVycm9yLFxuICB9OiBQdWJsaXNoZXJDb25zdHJ1Y3Rvck9wdHMpIHtcbiAgICB0aGlzLnBjID0gdGhpcy5jcmVhdGVQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5pc0R0eEVuYWJsZWQgPSBpc0R0eEVuYWJsZWQ7XG4gICAgdGhpcy5pc1JlZEVuYWJsZWQgPSBpc1JlZEVuYWJsZWQ7XG4gICAgdGhpcy5pY2VSZXN0YXJ0RGVsYXkgPSBpY2VSZXN0YXJ0RGVsYXk7XG4gICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvciA9IG9uVW5yZWNvdmVyYWJsZUVycm9yO1xuXG4gICAgdGhpcy51bnN1YnNjcmliZU9uSWNlUmVzdGFydCA9IGRpc3BhdGNoZXIub24oJ2ljZVJlc3RhcnQnLCAoaWNlUmVzdGFydCkgPT4ge1xuICAgICAgaWYgKGljZVJlc3RhcnQucGVlclR5cGUgIT09IFBlZXJUeXBlLlBVQkxJU0hFUl9VTlNQRUNJRklFRCkgcmV0dXJuO1xuICAgICAgdGhpcy5yZXN0YXJ0SWNlKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCBgSUNFUmVzdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yPy4oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQZWVyQ29ubmVjdGlvbiA9IChjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IHBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25Db25maWd1cmF0aW9uID0gY29ubmVjdGlvbkNvbmZpZztcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG5cbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uU2lnbmFsaW5nU3RhdGVDaGFuZ2UpO1xuICAgIHJldHVybiBwYztcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBwdWJsaXNoZXIgUGVlckNvbm5lY3Rpb24gYW5kIGNsZWFucyB1cCB0aGUgcmVzb3VyY2VzLlxuICAgKi9cbiAgY2xvc2UgPSAoeyBzdG9wVHJhY2tzID0gdHJ1ZSB9ID0ge30pID0+IHtcbiAgICBpZiAoc3RvcFRyYWNrcykge1xuICAgICAgdGhpcy5zdG9wUHVibGlzaGluZygpO1xuICAgICAgT2JqZWN0LmtleXModGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5KS5mb3JFYWNoKCh0cmFja1R5cGUpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlbdHJhY2tUeXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmtleXModGhpcy50cmFja0xheWVyc0NhY2hlKS5mb3JFYWNoKCh0cmFja1R5cGUpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnRyYWNrTGF5ZXJzQ2FjaGVbdHJhY2tUeXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dCh0aGlzLmljZVJlc3RhcnRUaW1lb3V0KTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0KCk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG4gICAgdGhpcy5wYy5jbG9zZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdHJhY2sgb2YgdGhlIGdpdmVuIG1lZGlhIHN0cmVhbS5cbiAgICpcbiAgICogQ29uc2VjdXRpdmUgY2FsbHMgdG8gdGhpcyBtZXRob2Qgd2lsbCByZXBsYWNlIHRoZSBzdHJlYW0uXG4gICAqIFRoZSBwcmV2aW91cyBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkLlxuICAgKlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2sgdGhlIHRyYWNrIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gcHVibGlzaC5cbiAgICogQHBhcmFtIG9wdHMgdGhlIG9wdGlvbmFsIHB1Ymxpc2ggb3B0aW9ucyB0byB1c2UuXG4gICAqL1xuICBwdWJsaXNoU3RyZWFtID0gYXN5bmMgKFxuICAgIG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgICBvcHRzOiBQdWJsaXNoT3B0aW9ucyA9IHt9LFxuICApID0+IHtcbiAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBwdWJsaXNoIGEgdHJhY2sgdGhhdCBoYXMgZW5kZWQgYWxyZWFkeS5gKTtcbiAgICB9XG5cbiAgICBsZXQgdHJhbnNjZWl2ZXIgPSB0aGlzLnBjXG4gICAgICAuZ2V0VHJhbnNjZWl2ZXJzKClcbiAgICAgIC5maW5kKFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0ID09PSB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlbdHJhY2tUeXBlXSAmJlxuICAgICAgICAgIHQuc2VuZGVyLnRyYWNrICYmXG4gICAgICAgICAgdC5zZW5kZXIudHJhY2s/LmtpbmQgPT09IHRoaXMudHJhY2tLaW5kTWFwcGluZ1t0cmFja1R5cGVdLFxuICAgICAgKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGV2ZW50IGhhbmRsZXIgd2hpY2ggbGlzdGVucyBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHRyYWNrLlxuICAgICAqIE9uY2UgdGhlIHRyYWNrIGhhcyBlbmRlZCwgaXQgd2lsbCBub3RpZnkgdGhlIFNGVSBhbmQgdXBkYXRlIHRoZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBjb25zdCBoYW5kbGVUcmFja0VuZGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBUcmFjayAke1RyYWNrVHlwZVt0cmFja1R5cGVdfSBoYXMgZW5kZWQsIG5vdGlmeWluZyB0aGUgU0ZVYCxcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZChtZWRpYVN0cmVhbSwgdHJhY2tUeXBlLCB0cnVlKTtcbiAgICAgIC8vIGNsZWFuLXVwLCB0aGlzIGV2ZW50IGxpc3RlbmVyIG5lZWRzIHRvIHJ1biBvbmx5IG9uY2UuXG4gICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgIH07XG5cbiAgICBpZiAoIXRyYW5zY2VpdmVyKSB7XG4gICAgICBjb25zdCB7IHNldHRpbmdzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgY29uc3QgdGFyZ2V0UmVzb2x1dGlvbiA9IHNldHRpbmdzPy52aWRlb1xuICAgICAgICAudGFyZ2V0X3Jlc29sdXRpb24gYXMgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlO1xuICAgICAgY29uc3Qgc2NyZWVuU2hhcmVCaXRyYXRlID1cbiAgICAgICAgc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb24/LmJpdHJhdGU7XG5cbiAgICAgIGNvbnN0IHZpZGVvRW5jb2RpbmdzID1cbiAgICAgICAgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU9cbiAgICAgICAgICA/IGZpbmRPcHRpbWFsVmlkZW9MYXllcnModHJhY2ssIHRhcmdldFJlc29sdXRpb24pXG4gICAgICAgICAgOiB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVcbiAgICAgICAgICAgID8gZmluZE9wdGltYWxTY3JlZW5TaGFyaW5nTGF5ZXJzKFxuICAgICAgICAgICAgICAgIHRyYWNrLFxuICAgICAgICAgICAgICAgIG9wdHMuc2NyZWVuU2hhcmVTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBzY3JlZW5TaGFyZUJpdHJhdGUsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBsZXQgcHJlZmVycmVkQ29kZWMgPSBvcHRzLnByZWZlcnJlZENvZGVjO1xuICAgICAgaWYgKCFwcmVmZXJyZWRDb2RlYyAmJiB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgICAgY29uc3Qgb3NOYW1lID0gZ2V0T1NJbmZvKCk/Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAob3NOYW1lID09PSAnaXBhZG9zJykge1xuICAgICAgICAgICAgLy8gaW4gaXBhZHMgaXQgd2FzIG5vdGljZWQgdGhhdCBpZiB2cDggY29kZWMgaXMgdXNlZFxuICAgICAgICAgICAgLy8gdGhlbiB0aGUgYnl0ZXMgc2VudCBpcyAwIGluIHRoZSBvdXRib3VuZC1ydHBcbiAgICAgICAgICAgIC8vIHNvIHdlIGFyZSBmb3JjaW5nIGgyNjQgY29kZWMgZm9yIGlwYWRzXG4gICAgICAgICAgICBwcmVmZXJyZWRDb2RlYyA9ICdIMjY0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKG9zTmFtZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICBwcmVmZXJyZWRDb2RlYyA9ICdWUDgnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29kZWNQcmVmZXJlbmNlcyA9IHRoaXMuZ2V0Q29kZWNQcmVmZXJlbmNlcyhcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgICBwcmVmZXJyZWRDb2RlYyxcbiAgICAgICk7XG5cbiAgICAgIC8vIGxpc3RlbiBmb3IgJ2VuZGVkJyBldmVudCBvbiB0aGUgdHJhY2sgYXMgaXQgbWlnaHQgYmUgZW5kZWQgYWJydXB0bHlcbiAgICAgIC8vIGJ5IGFuIGV4dGVybmFsIGZhY3RvciBhcyBwZXJtaXNzaW9uIHJldm9rZXMsIGRldmljZSBkaXNjb25uZWN0ZWQsIGV0Yy5cbiAgICAgIC8vIGtlZXAgaW4gbWluZCB0aGF0IGB0cmFjay5zdG9wKClgIGRvZXNuJ3QgdHJpZ2dlciB0aGlzIGV2ZW50LlxuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgIGlmICghdHJhY2suZW5hYmxlZCkge1xuICAgICAgICB0cmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdHJhbnNjZWl2ZXIgPSB0aGlzLnBjLmFkZFRyYW5zY2VpdmVyKHRyYWNrLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3NlbmRvbmx5JyxcbiAgICAgICAgc3RyZWFtczpcbiAgICAgICAgICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTyB8fCB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVcbiAgICAgICAgICAgID8gW21lZGlhU3RyZWFtXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHNlbmRFbmNvZGluZ3M6IHZpZGVvRW5jb2RpbmdzLFxuICAgICAgfSk7XG5cbiAgICAgIGxvZ2dlcignZGVidWcnLCBgQWRkZWQgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gdHJhbnNjZWl2ZXJgKTtcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJJbml0T3JkZXIucHVzaCh0cmFja1R5cGUpO1xuICAgICAgdGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5W3RyYWNrVHlwZV0gPSB0cmFuc2NlaXZlcjtcbiAgICAgIHRoaXMucHVibGlzaE9wdGlvbnNQZXJUcmFja1R5cGUuc2V0KHRyYWNrVHlwZSwgb3B0cyk7XG5cbiAgICAgIGlmICgnc2V0Q29kZWNQcmVmZXJlbmNlcycgaW4gdHJhbnNjZWl2ZXIgJiYgY29kZWNQcmVmZXJlbmNlcykge1xuICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgIGBTZXR0aW5nICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IGNvZGVjIHByZWZlcmVuY2VzYCxcbiAgICAgICAgICBjb2RlY1ByZWZlcmVuY2VzLFxuICAgICAgICApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRyYW5zY2VpdmVyLnNldENvZGVjUHJlZmVyZW5jZXMoY29kZWNQcmVmZXJlbmNlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsIGBDb3VsZG4ndCBzZXQgY29kZWMgcHJlZmVyZW5jZXNgLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzVHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s7XG4gICAgICAvLyBkb24ndCBzdG9wIHRoZSB0cmFjayBpZiB3ZSBhcmUgcmUtcHVibGlzaGluZyB0aGUgc2FtZSB0cmFja1xuICAgICAgaWYgKHByZXZpb3VzVHJhY2sgJiYgcHJldmlvdXNUcmFjayAhPT0gdHJhY2spIHtcbiAgICAgICAgcHJldmlvdXNUcmFjay5zdG9wKCk7XG4gICAgICAgIHByZXZpb3VzVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhY2suZW5hYmxlZCkge1xuICAgICAgICB0cmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRyYW5zY2VpdmVyLnNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubm90aWZ5VHJhY2tNdXRlU3RhdGVDaGFuZ2VkKG1lZGlhU3RyZWFtLCB0cmFja1R5cGUsIGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdHJhY2sgdHlwZSB0byB0aGUgU0ZVLCBpZiBpdCBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKiBVbmRlcmx5aW5nIHRyYWNrIHdpbGwgYmUgc3RvcHBlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBwdWJsaXNoZXIuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gdW5wdWJsaXNoLlxuICAgKiBAcGFyYW0gc3RvcFRyYWNrIHNwZWNpZmllcyB3aGV0aGVyIHRyYWNrIHNob3VsZCBiZSBzdG9wcGVkIG9yIGp1c3QgZGlzYWJsZWRcbiAgICovXG4gIHVucHVibGlzaFN0cmVhbSA9IGFzeW5jICh0cmFja1R5cGU6IFRyYWNrVHlwZSwgc3RvcFRyYWNrOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnBjXG4gICAgICAuZ2V0VHJhbnNjZWl2ZXJzKClcbiAgICAgIC5maW5kKCh0KSA9PiB0ID09PSB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlbdHJhY2tUeXBlXSAmJiB0LnNlbmRlci50cmFjayk7XG4gICAgaWYgKFxuICAgICAgdHJhbnNjZWl2ZXIgJiZcbiAgICAgIHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayAmJlxuICAgICAgKHN0b3BUcmFja1xuICAgICAgICA/IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZSdcbiAgICAgICAgOiB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2suZW5hYmxlZClcbiAgICApIHtcbiAgICAgIHN0b3BUcmFja1xuICAgICAgICA/IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5zdG9wKClcbiAgICAgICAgOiAodHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrLmVuYWJsZWQgPSBmYWxzZSk7XG4gICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIG5vdGlmeSBTRlUgaWYgdW5wdWJsaXNoaW5nIGluIHJlc3BvbnNlIHRvIHJlbW90ZSBzb2Z0IG11dGVcbiAgICAgIGlmICh0aGlzLnN0YXRlLmxvY2FsUGFydGljaXBhbnQ/LnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyh0cmFja1R5cGUpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubm90aWZ5VHJhY2tNdXRlU3RhdGVDaGFuZ2VkKHVuZGVmaW5lZCwgdHJhY2tUeXBlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdHJhY2sgdHlwZSBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkIHRvIHRoZSBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gY2hlY2suXG4gICAqL1xuICBpc1B1Ymxpc2hpbmcgPSAodHJhY2tUeXBlOiBUcmFja1R5cGUpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0cmFuc2NlaXZlckZvclRyYWNrVHlwZSA9IHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVt0cmFja1R5cGVdO1xuICAgIGlmICh0cmFuc2NlaXZlckZvclRyYWNrVHlwZSAmJiB0cmFuc2NlaXZlckZvclRyYWNrVHlwZS5zZW5kZXIpIHtcbiAgICAgIGNvbnN0IHNlbmRlciA9IHRyYW5zY2VpdmVyRm9yVHJhY2tUeXBlLnNlbmRlcjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICEhc2VuZGVyLnRyYWNrICYmXG4gICAgICAgIHNlbmRlci50cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZScgJiZcbiAgICAgICAgc2VuZGVyLnRyYWNrLmVuYWJsZWRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB0cmFjayB0eXBlIGlzIGN1cnJlbnRseSBsaXZlXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gY2hlY2suXG4gICAqL1xuICBpc0xpdmUgPSAodHJhY2tUeXBlOiBUcmFja1R5cGUpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0cmFuc2NlaXZlckZvclRyYWNrVHlwZSA9IHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVt0cmFja1R5cGVdO1xuICAgIGlmICh0cmFuc2NlaXZlckZvclRyYWNrVHlwZSAmJiB0cmFuc2NlaXZlckZvclRyYWNrVHlwZS5zZW5kZXIpIHtcbiAgICAgIGNvbnN0IHNlbmRlciA9IHRyYW5zY2VpdmVyRm9yVHJhY2tUeXBlLnNlbmRlcjtcbiAgICAgIHJldHVybiAhIXNlbmRlci50cmFjayAmJiBzZW5kZXIudHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgcHJpdmF0ZSBub3RpZnlUcmFja011dGVTdGF0ZUNoYW5nZWQgPSBhc3luYyAoXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICAgIGlzTXV0ZWQ6IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnVwZGF0ZU11dGVTdGF0ZSh0cmFja1R5cGUsIGlzTXV0ZWQpO1xuXG4gICAgY29uc3QgYXVkaW9PclZpZGVvT3JTY3JlZW5TaGFyZVN0cmVhbSA9XG4gICAgICB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5KHRyYWNrVHlwZSk7XG4gICAgaWYgKGlzTXV0ZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQodGhpcy5zZnVDbGllbnQuc2Vzc2lvbklkLCAocCkgPT4gKHtcbiAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBwLnB1Ymxpc2hlZFRyYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IHRyYWNrVHlwZSksXG4gICAgICAgIFthdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtXTogdW5kZWZpbmVkLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHRoaXMuc2Z1Q2xpZW50LnNlc3Npb25JZCwgKHApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKHRyYWNrVHlwZSlcbiAgICAgICAgICAgID8gcC5wdWJsaXNoZWRUcmFja3NcbiAgICAgICAgICAgIDogWy4uLnAucHVibGlzaGVkVHJhY2tzLCB0cmFja1R5cGVdLFxuICAgICAgICAgIFthdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtXTogbWVkaWFTdHJlYW0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgYWxsIHRyYWNrcyBhbmQgc3RvcCBhbGwgdHJhY2tzLlxuICAgKi9cbiAgc3RvcFB1Ymxpc2hpbmcgPSAoKSA9PiB7XG4gICAgbG9nZ2VyKCdkZWJ1ZycsICdTdG9wcGluZyBwdWJsaXNoaW5nIGFsbCB0cmFja3MnKTtcbiAgICB0aGlzLnBjLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBzLnRyYWNrPy5zdG9wKCk7XG4gICAgICBpZiAodGhpcy5wYy5zaWduYWxpbmdTdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgdGhpcy5wYy5yZW1vdmVUcmFjayhzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB1cGRhdGVWaWRlb1B1Ymxpc2hRdWFsaXR5ID0gYXN5bmMgKGVuYWJsZWRMYXllcnM6IFZpZGVvTGF5ZXJTZXR0aW5nW10pID0+IHtcbiAgICBsb2dnZXIoXG4gICAgICAnaW5mbycsXG4gICAgICAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgcmVxdWVzdGVkIGxheWVycyBieSBTRlU6JyxcbiAgICAgIGVuYWJsZWRMYXllcnMsXG4gICAgKTtcblxuICAgIGNvbnN0IHZpZGVvU2VuZGVyID0gdGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5W1RyYWNrVHlwZS5WSURFT10/LnNlbmRlcjtcbiAgICBpZiAoIXZpZGVvU2VuZGVyKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgbm8gdmlkZW8gc2VuZGVyIGZvdW5kLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHZpZGVvU2VuZGVyLmdldFBhcmFtZXRlcnMoKTtcbiAgICBpZiAocGFyYW1zLmVuY29kaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgTm8gc3VpdGFibGUgdmlkZW8gZW5jb2RpbmcgcXVhbGl0eSBmb3VuZCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgbGV0IGVuYWJsZWRSaWRzID0gZW5hYmxlZExheWVyc1xuICAgICAgLmZpbHRlcigobHkpID0+IGx5LmFjdGl2ZSlcbiAgICAgIC5tYXAoKGx5KSA9PiBseS5uYW1lKTtcbiAgICBwYXJhbXMuZW5jb2RpbmdzLmZvckVhY2goKGVuYykgPT4ge1xuICAgICAgLy8gZmxpcCAnYWN0aXZlJyBmbGFnIG9ubHkgd2hlbiBuZWNlc3NhcnlcbiAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IGVuYWJsZWRSaWRzLmluY2x1ZGVzKGVuYy5yaWQhKTtcbiAgICAgIGlmIChzaG91bGRFbmFibGUgIT09IGVuYy5hY3RpdmUpIHtcbiAgICAgICAgZW5jLmFjdGl2ZSA9IHNob3VsZEVuYWJsZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkRW5hYmxlKSB7XG4gICAgICAgIGxldCBsYXllciA9IGVuYWJsZWRMYXllcnMuZmluZCgodmxzKSA9PiB2bHMubmFtZSA9PT0gZW5jLnJpZCk7XG4gICAgICAgIGlmIChsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGF5ZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5ID49IDEgJiZcbiAgICAgICAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSAhPT0gZW5jLnNjYWxlUmVzb2x1dGlvbkRvd25CeVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbG9nZ2VyKFxuICAgICAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICAgICAnW2R5bmFzY2FsZV06IHNldHRpbmcgc2NhbGVSZXNvbHV0aW9uRG93bkJ5IGZyb20gc2VydmVyJyxcbiAgICAgICAgICAgICAgJ2xheWVyJyxcbiAgICAgICAgICAgICAgbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgJ3NjYWxlLXJlc29sdXRpb24tZG93bi1ieScsXG4gICAgICAgICAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbmMuc2NhbGVSZXNvbHV0aW9uRG93bkJ5ID0gbGF5ZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5O1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGxheWVyLm1heEJpdHJhdGUgPiAwICYmIGxheWVyLm1heEJpdHJhdGUgIT09IGVuYy5tYXhCaXRyYXRlKSB7XG4gICAgICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgICdbZHluYXNjYWxlXSBzZXR0aW5nIG1heC1iaXRyYXRlIGZyb20gdGhlIHNlcnZlcicsXG4gICAgICAgICAgICAgICdsYXllcicsXG4gICAgICAgICAgICAgIGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICdtYXgtYml0cmF0ZScsXG4gICAgICAgICAgICAgIGxheWVyLm1heEJpdHJhdGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZW5jLm1heEJpdHJhdGUgPSBsYXllci5tYXhCaXRyYXRlO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGF5ZXIubWF4RnJhbWVyYXRlID4gMCAmJlxuICAgICAgICAgICAgbGF5ZXIubWF4RnJhbWVyYXRlICE9PSBlbmMubWF4RnJhbWVyYXRlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgICdbZHluYXNjYWxlXTogc2V0dGluZyBtYXhGcmFtZXJhdGUgZnJvbSBzZXJ2ZXInLFxuICAgICAgICAgICAgICAnbGF5ZXInLFxuICAgICAgICAgICAgICBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAnbWF4LWZyYW1lcmF0ZScsXG4gICAgICAgICAgICAgIGxheWVyLm1heEZyYW1lcmF0ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbmMubWF4RnJhbWVyYXRlID0gbGF5ZXIubWF4RnJhbWVyYXRlO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY3RpdmVMYXllcnMgPSBwYXJhbXMuZW5jb2RpbmdzLmZpbHRlcigoZSkgPT4gZS5hY3RpdmUpO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICBhd2FpdCB2aWRlb1NlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgICBsb2dnZXIoJ2luZm8nLCBgVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgZW5hYmxlZCByaWRzOiBgLCBhY3RpdmVMYXllcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIoJ2luZm8nLCBgVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgbm8gY2hhbmdlOiBgLCBhY3RpdmVMYXllcnMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBgUlRDUGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKWAgbWV0aG9kXG4gICAqIEBwYXJhbSBzZWxlY3RvclxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgZ2V0U3RhdHMgPSAoc2VsZWN0b3I/OiBNZWRpYVN0cmVhbVRyYWNrIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnBjLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgfTtcblxuICBwcml2YXRlIGdldENvZGVjUHJlZmVyZW5jZXMgPSAoXG4gICAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4gICAgcHJlZmVycmVkQ29kZWM/OiBzdHJpbmcgfCBudWxsLFxuICApID0+IHtcbiAgICBpZiAodHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pIHtcbiAgICAgIHJldHVybiBnZXRQcmVmZXJyZWRDb2RlY3MoJ3ZpZGVvJywgcHJlZmVycmVkQ29kZWMgfHwgJ3ZwOCcpO1xuICAgIH1cbiAgICBpZiAodHJhY2tUeXBlID09PSBUcmFja1R5cGUuQVVESU8pIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRBdWRpb0NvZGVjID0gdGhpcy5pc1JlZEVuYWJsZWQgPyAncmVkJyA6ICdvcHVzJztcbiAgICAgIGNvbnN0IGNvZGVjVG9SZW1vdmUgPSAhdGhpcy5pc1JlZEVuYWJsZWQgPyAncmVkJyA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBnZXRQcmVmZXJyZWRDb2RlY3MoXG4gICAgICAgICdhdWRpbycsXG4gICAgICAgIHByZWZlcnJlZENvZGVjID8/IGRlZmF1bHRBdWRpb0NvZGVjLFxuICAgICAgICBjb2RlY1RvUmVtb3ZlLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBjYW5kaWRhdGUgfSA9IGU7XG4gICAgaWYgKCFjYW5kaWRhdGUpIHtcbiAgICAgIGxvZ2dlcignZGVidWcnLCAnbnVsbCBpY2UgY2FuZGlkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAuaWNlVHJpY2tsZSh7XG4gICAgICAgIGljZUNhbmRpZGF0ZTogZ2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSksXG4gICAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5QVUJMSVNIRVJfVU5TUEVDSUZJRUQsXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgYElDRVRyaWNrbGUgZmFpbGVkYCwgZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICpcbiAgICogQHBhcmFtIHNmdUNsaWVudCB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqL1xuICBzZXRTZnVDbGllbnQgPSAoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQpID0+IHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgfTtcblxuICAvKipcbiAgICogUGVyZm9ybXMgYSBtaWdyYXRpb24gb2YgdGhpcyBwdWJsaXNoZXIgaW5zdGFuY2UgdG8gYSBuZXcgU0ZVLlxuICAgKlxuICAgKiBJbml0aWF0ZXMgYSBuZXcgYGljZVJlc3RhcnRgIG9mZmVyL2Fuc3dlciBleGNoYW5nZSB3aXRoIHRoZSBuZXcgU0ZVLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBuZXcgU0ZVIGNsaWVudCB0byBtaWdyYXRlIHRvLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgbmV3IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiB0byB1c2UuXG4gICAqL1xuICBtaWdyYXRlVG8gPSBhc3luYyAoXG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24sXG4gICkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICAgIHRoaXMucGMuc2V0Q29uZmlndXJhdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICB0aGlzLl9jb25uZWN0aW9uQ29uZmlndXJhdGlvbiA9IGNvbm5lY3Rpb25Db25maWc7XG5cbiAgICBjb25zdCBzaG91bGRSZXN0YXJ0SWNlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnO1xuICAgIGlmIChzaG91bGRSZXN0YXJ0SWNlKSB7XG4gICAgICAvLyBuZWdvdGlhdGUgb25seSBpZiB0aGVyZSBhcmUgdHJhY2tzIHRvIHB1Ymxpc2hcbiAgICAgIGF3YWl0IHRoaXMubmVnb3RpYXRlKHsgaWNlUmVzdGFydDogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc3RhcnRzIHRoZSBJQ0UgY29ubmVjdGlvbiBhbmQgcmVuZWdvdGlhdGVzIHdpdGggdGhlIFNGVS5cbiAgICovXG4gIHJlc3RhcnRJY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgbG9nZ2VyKCdkZWJ1ZycsICdSZXN0YXJ0aW5nIElDRSBjb25uZWN0aW9uJyk7XG4gICAgY29uc3Qgc2lnbmFsaW5nU3RhdGUgPSB0aGlzLnBjLnNpZ25hbGluZ1N0YXRlO1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZyB8fCBzaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSB7XG4gICAgICBsb2dnZXIoJ2RlYnVnJywgJ0lDRSByZXN0YXJ0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5uZWdvdGlhdGUoeyBpY2VSZXN0YXJ0OiB0cnVlIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgb25OZWdvdGlhdGlvbk5lZWRlZCA9ICgpID0+IHtcbiAgICB0aGlzLm5lZ290aWF0ZSgpLmNhdGNoKChlcnIpID0+IGxvZ2dlcignd2FybicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBvZmZlci9hbnN3ZXIgZXhjaGFuZ2Ugd2l0aCB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25hbCBvZmZlciBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKG9wdGlvbnM/OiBSVENPZmZlck9wdGlvbnMpID0+IHtcbiAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IG9wdGlvbnM/LmljZVJlc3RhcnQgPz8gZmFsc2U7XG5cbiAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMuY3JlYXRlT2ZmZXIob3B0aW9ucyk7XG4gICAgbGV0IHNkcCA9IHRoaXMubXVuZ2VDb2RlY3Mob2ZmZXIuc2RwKTtcbiAgICBpZiAoc2RwICYmIHRoaXMuaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICBjb25zdCB0cmFuc2NlaXZlciA9XG4gICAgICAgIHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVtUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPXTtcbiAgICAgIGlmICh0cmFuc2NlaXZlciAmJiB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2spIHtcbiAgICAgICAgY29uc3QgbWlkID1cbiAgICAgICAgICB0cmFuc2NlaXZlci5taWQgPz9cbiAgICAgICAgICB0aGlzLmV4dHJhY3RNaWQoXG4gICAgICAgICAgICBzZHAsXG4gICAgICAgICAgICB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2ssXG4gICAgICAgICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICAgICAgICk7XG4gICAgICAgIHNkcCA9IGVuYWJsZUhpZ2hRdWFsaXR5QXVkaW8oc2RwLCBtaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldCB0aGUgbXVuZ2VkIFNEUCBiYWNrIHRvIHRoZSBvZmZlclxuICAgIG9mZmVyLnNkcCA9IHNkcDtcblxuICAgIGNvbnN0IHRyYWNrSW5mb3MgPSB0aGlzLmdldEN1cnJlbnRUcmFja0luZm9zKG9mZmVyLnNkcCk7XG4gICAgaWYgKHRyYWNrSW5mb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW4ndCBpbml0aWF0ZSBuZWdvdGlhdGlvbiB3aXRob3V0IGFubm91bmNpbmcgYW55IHRyYWNrc2AsXG4gICAgICApO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG5cbiAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZXRQdWJsaXNoZXIoe1xuICAgICAgc2RwOiBvZmZlci5zZHAgfHwgJycsXG4gICAgICB0cmFja3M6IHRyYWNrSW5mb3MsXG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7XG4gICAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgICBzZHA6IHJlc3BvbnNlLnNkcCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlcignZXJyb3InLCBgc2V0UmVtb3RlRGVzY3JpcHRpb24gZXJyb3JgLCB7XG4gICAgICAgIHNkcDogcmVzcG9uc2Uuc2RwLFxuICAgICAgICBlcnJvcjogZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLnNmdUNsaWVudC5pY2VUcmlja2xlQnVmZmVyLnB1Ymxpc2hlckNhbmRpZGF0ZXMuc3Vic2NyaWJlKFxuICAgICAgYXN5bmMgKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGljZUNhbmRpZGF0ZSA9IEpTT04ucGFyc2UoY2FuZGlkYXRlLmljZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUoaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsIGBJQ0UgY2FuZGlkYXRlIGVycm9yYCwgW2UsIGNhbmRpZGF0ZV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBtdW5nZUNvZGVjcyA9IChzZHA/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoc2RwKSB7XG4gICAgICBzZHAgPSB0b2dnbGVEdHgoc2RwLCB0aGlzLmlzRHR4RW5hYmxlZCk7XG4gICAgfVxuICAgIHJldHVybiBzZHA7XG4gIH07XG5cbiAgcHJpdmF0ZSBleHRyYWN0TWlkID0gKFxuICAgIHNkcDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICApOiBzdHJpbmcgPT4ge1xuICAgIGlmICghc2RwKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnTm8gU0RQIGZvdW5kLiBSZXR1cm5pbmcgZW1wdHkgbWlkJyk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgbG9nZ2VyKFxuICAgICAgJ2RlYnVnJyxcbiAgICAgIGBObyAnbWlkJyBmb3VuZCBmb3IgdHJhY2suIFRyeWluZyB0byBmaW5kIGl0IGZyb20gdGhlIE9mZmVyIFNEUGAsXG4gICAgKTtcblxuICAgIGNvbnN0IHBhcnNlZFNkcCA9IFNEUC5wYXJzZShzZHApO1xuICAgIGNvbnN0IG1lZGlhID0gcGFyc2VkU2RwLm1lZGlhLmZpbmQoKG0pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG0udHlwZSA9PT0gdHJhY2sua2luZCAmJlxuICAgICAgICAvLyBpZiBgbXNpZGAgaXMgbm90IHByZXNlbnQsIHdlIGFzc3VtZSB0aGF0IHRoZSB0cmFjayBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgIChtLm1zaWQ/LmluY2x1ZGVzKHRyYWNrLmlkKSA/PyB0cnVlKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIG1lZGlhPy5taWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdkZWJ1ZycsXG4gICAgICAgIGBObyBtaWQgZm91bmQgaW4gU0RQIGZvciB0cmFjayB0eXBlICR7dHJhY2sua2luZH0gYW5kIGlkICR7dHJhY2suaWR9LiBBdHRlbXB0aW5nIHRvIGZpbmQgYSBoZXVyaXN0aWMgbWlkYCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGhldXJpc3RpY01pZCA9IHRoaXMudHJhbnNjZWl2ZXJJbml0T3JkZXIuaW5kZXhPZih0cmFja1R5cGUpO1xuICAgICAgaWYgKGhldXJpc3RpY01pZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhoZXVyaXN0aWNNaWQpO1xuICAgICAgfVxuXG4gICAgICBsb2dnZXIoJ2RlYnVnJywgJ05vIGhldXJpc3RpYyBtaWQgZm91bmQuIFJldHVybmluZyBlbXB0eSBtaWQnKTtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyhtZWRpYS5taWQpO1xuICB9O1xuXG4gIGdldEN1cnJlbnRUcmFja0luZm9zID0gKHNkcD86IHN0cmluZykgPT4ge1xuICAgIHNkcCA9IHNkcCB8fCB0aGlzLnBjLmxvY2FsRGVzY3JpcHRpb24/LnNkcDtcblxuICAgIGNvbnN0IHsgc2V0dGluZ3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgdGFyZ2V0UmVzb2x1dGlvbiA9IHNldHRpbmdzPy52aWRlb1xuICAgICAgLnRhcmdldF9yZXNvbHV0aW9uIGFzIFRhcmdldFJlc29sdXRpb25SZXNwb25zZTtcbiAgICByZXR1cm4gdGhpcy5wY1xuICAgICAgLmdldFRyYW5zY2VpdmVycygpXG4gICAgICAuZmlsdGVyKCh0KSA9PiB0LmRpcmVjdGlvbiA9PT0gJ3NlbmRvbmx5JyAmJiB0LnNlbmRlci50cmFjaylcbiAgICAgIC5tYXA8VHJhY2tJbmZvPigodHJhbnNjZWl2ZXIpID0+IHtcbiAgICAgICAgY29uc3QgdHJhY2tUeXBlOiBUcmFja1R5cGUgPSBOdW1iZXIoXG4gICAgICAgICAgT2JqZWN0LmtleXModGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5KS5maW5kKFxuICAgICAgICAgICAgKGtleSkgPT5cbiAgICAgICAgICAgICAgdGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5W2tleSBhcyBhbnkgYXMgVHJhY2tUeXBlXSA9PT0gdHJhbnNjZWl2ZXIsXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2shO1xuICAgICAgICBsZXQgb3B0aW1hbExheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXTtcbiAgICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykge1xuICAgICAgICAgIGNvbnN0IHB1Ymxpc2hPcHRzID0gdGhpcy5wdWJsaXNoT3B0aW9uc1BlclRyYWNrVHlwZS5nZXQodHJhY2tUeXBlKTtcbiAgICAgICAgICBvcHRpbWFsTGF5ZXJzID1cbiAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPXG4gICAgICAgICAgICAgID8gZmluZE9wdGltYWxWaWRlb0xheWVycyh0cmFjaywgdGFyZ2V0UmVzb2x1dGlvbilcbiAgICAgICAgICAgICAgOiB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVcbiAgICAgICAgICAgICAgICA/IGZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyhcbiAgICAgICAgICAgICAgICAgICAgdHJhY2ssXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hPcHRzPy5zY3JlZW5TaGFyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgdGhpcy50cmFja0xheWVyc0NhY2hlW3RyYWNrVHlwZV0gPSBvcHRpbWFsTGF5ZXJzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIHJlcG9ydCB0aGUgbGFzdCBrbm93biBvcHRpbWFsIGxheWVycyBmb3IgZW5kZWQgdHJhY2tzXG4gICAgICAgICAgb3B0aW1hbExheWVycyA9IHRoaXMudHJhY2tMYXllcnNDYWNoZVt0cmFja1R5cGVdIHx8IFtdO1xuICAgICAgICAgIGxvZ2dlcihcbiAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICBgVHJhY2sgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gaXMgZW5kZWQuIEFubm91bmNpbmcgbGFzdCBrbm93biBvcHRpbWFsIGxheWVyc2AsXG4gICAgICAgICAgICBvcHRpbWFsTGF5ZXJzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXllcnMgPSBvcHRpbWFsTGF5ZXJzLm1hcDxWaWRlb0xheWVyPigob3B0aW1hbExheWVyKSA9PiAoe1xuICAgICAgICAgIHJpZDogb3B0aW1hbExheWVyLnJpZCB8fCAnJyxcbiAgICAgICAgICBiaXRyYXRlOiBvcHRpbWFsTGF5ZXIubWF4Qml0cmF0ZSB8fCAwLFxuICAgICAgICAgIGZwczogb3B0aW1hbExheWVyLm1heEZyYW1lcmF0ZSB8fCAwLFxuICAgICAgICAgIHF1YWxpdHk6IHRoaXMucmlkVG9WaWRlb1F1YWxpdHkob3B0aW1hbExheWVyLnJpZCB8fCAnJyksXG4gICAgICAgICAgdmlkZW9EaW1lbnNpb246IHtcbiAgICAgICAgICAgIHdpZHRoOiBvcHRpbWFsTGF5ZXIud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGltYWxMYXllci5oZWlnaHQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IGlzQXVkaW9UcmFjayA9IFtcbiAgICAgICAgICBUcmFja1R5cGUuQVVESU8sXG4gICAgICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICAgICAgXS5pbmNsdWRlcyh0cmFja1R5cGUpO1xuXG4gICAgICAgIGNvbnN0IHRyYWNrU2V0dGluZ3MgPSB0cmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zdCBpc1N0ZXJlbyA9IGlzQXVkaW9UcmFjayAmJiB0cmFja1NldHRpbmdzLmNoYW5uZWxDb3VudCA9PT0gMjtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRyYWNrSWQ6IHRyYWNrLmlkLFxuICAgICAgICAgIGxheWVyczogbGF5ZXJzLFxuICAgICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgICBtaWQ6IHRyYW5zY2VpdmVyLm1pZCA/PyB0aGlzLmV4dHJhY3RNaWQoc2RwLCB0cmFjaywgdHJhY2tUeXBlKSxcblxuICAgICAgICAgIHN0ZXJlbzogaXNTdGVyZW8sXG4gICAgICAgICAgZHR4OiBpc0F1ZGlvVHJhY2sgJiYgdGhpcy5pc0R0eEVuYWJsZWQsXG4gICAgICAgICAgcmVkOiBpc0F1ZGlvVHJhY2sgJiYgdGhpcy5pc1JlZEVuYWJsZWQsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlRXJyb3IgPSAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgZSBpbnN0YW5jZW9mIFJUQ1BlZXJDb25uZWN0aW9uSWNlRXJyb3JFdmVudCAmJlxuICAgICAgYCR7ZS5lcnJvckNvZGV9OiAke2UuZXJyb3JUZXh0fWA7XG4gICAgY29uc3QgaWNlU3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICBjb25zdCBsb2dMZXZlbCA9XG4gICAgICBpY2VTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgfHwgaWNlU3RhdGUgPT09ICdjaGVja2luZycgPyAnZGVidWcnIDogJ3dhcm4nO1xuICAgIGxvZ2dlcihsb2dMZXZlbCwgYElDRSBDYW5kaWRhdGUgZXJyb3JgLCBlcnJvck1lc3NhZ2UpO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICBsb2dnZXIoJ2RlYnVnJywgYElDRSBDb25uZWN0aW9uIHN0YXRlIGNoYW5nZWQgdG9gLCBzdGF0ZSk7XG5cbiAgICBjb25zdCBoYXNOZXR3b3JrQ29ubmVjdGlvbiA9XG4gICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLk9GRkxJTkU7XG5cbiAgICBpZiAoc3RhdGUgPT09ICdmYWlsZWQnKSB7XG4gICAgICBsb2dnZXIoJ2RlYnVnJywgYEF0dGVtcHRpbmcgdG8gcmVzdGFydCBJQ0VgKTtcbiAgICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCBgSUNFIHJlc3RhcnQgZXJyb3JgLCBlKTtcbiAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZGlzY29ubmVjdGVkJyAmJiBoYXNOZXR3b3JrQ29ubmVjdGlvbikge1xuICAgICAgLy8gd2hlbiBpbiBgZGlzY29ubmVjdGVkYCBzdGF0ZSwgdGhlIGJyb3dzZXIgbWF5IHJlY292ZXIgYXV0b21hdGljYWxseSxcbiAgICAgIC8vIGhlbmNlLCB3ZSBkZWxheSB0aGUgSUNFIHJlc3RhcnRcbiAgICAgIGxvZ2dlcignZGVidWcnLCBgU2NoZWR1bGluZyBJQ0UgcmVzdGFydCBpbiAke3RoaXMuaWNlUmVzdGFydERlbGF5fSBtcy5gKTtcbiAgICAgIHRoaXMuaWNlUmVzdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHN0YXRlIGlzIHN0aWxsIGBkaXNjb25uZWN0ZWRgIG9yIGBmYWlsZWRgXG4gICAgICAgIC8vIGFzIHRoZSBjb25uZWN0aW9uIG1heSBoYXZlIHJlY292ZXJlZCAob3IgZmFpbGVkKSBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSAnZGlzY29ubmVjdGVkJyB8fFxuICAgICAgICAgIHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSAnZmFpbGVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsIGBJQ0UgcmVzdGFydCBlcnJvcmAsIGUpO1xuICAgICAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyKFxuICAgICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICAgIGBTY2hlZHVsZWQgSUNFIHJlc3RhcnQ6IGNvbm5lY3Rpb24gcmVjb3ZlcmVkLCBjYW5jZWxlZC5gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuaWNlUmVzdGFydERlbGF5KTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGxvZ2dlcignZGVidWcnLCBgSUNFIEdhdGhlcmluZyBTdGF0ZWAsIHRoaXMucGMuaWNlR2F0aGVyaW5nU3RhdGUpO1xuICB9O1xuXG4gIHByaXZhdGUgb25TaWduYWxpbmdTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICBsb2dnZXIoJ2RlYnVnJywgYFNpZ25hbGluZyBzdGF0ZSBjaGFuZ2VkYCwgdGhpcy5wYy5zaWduYWxpbmdTdGF0ZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSByaWRUb1ZpZGVvUXVhbGl0eSA9IChyaWQ6IHN0cmluZyk6IFZpZGVvUXVhbGl0eSA9PiB7XG4gICAgcmV0dXJuIHJpZCA9PT0gJ3EnXG4gICAgICA/IFZpZGVvUXVhbGl0eS5MT1dfVU5TUEVDSUZJRURcbiAgICAgIDogcmlkID09PSAnaCdcbiAgICAgICAgPyBWaWRlb1F1YWxpdHkuTUlEXG4gICAgICAgIDogVmlkZW9RdWFsaXR5LkhJR0g7IC8vIGRlZmF1bHQgdG8gSElHSFxuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7IGdldEljZUNhbmRpZGF0ZSB9IGZyb20gJy4vaGVscGVycy9pY2VDYW5kaWRhdGUnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlck9mZmVyIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4vRGlzcGF0Y2hlcic7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlLCBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmliZXJPcHRzID0ge1xuICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb247XG4gIGljZVJlc3RhcnREZWxheT86IG51bWJlcjtcbiAgb25VbnJlY292ZXJhYmxlRXJyb3I/OiAoKSA9PiB2b2lkO1xufTtcblxuY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU3Vic2NyaWJlciddKTtcblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIHRoYXQgaGFuZGxlcyB0aGUgaW5jb21pbmdcbiAqIG1lZGlhIHN0cmVhbXMgZnJvbSB0aGUgU0ZVLlxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlciB7XG4gIHByaXZhdGUgcGM6IFJUQ1BlZXJDb25uZWN0aW9uO1xuICBwcml2YXRlIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHN0YXRlOiBDYWxsU3RhdGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB1bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXI6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5yZWdpc3Rlck9uSWNlUmVzdGFydDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBpY2VSZXN0YXJ0RGVsYXk6IG51bWJlcjtcbiAgcHJpdmF0ZSBpc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBpY2VSZXN0YXJ0VGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuXG4gIC8vIHdvcmthcm91bmQgZm9yIHRoZSBsYWNrIG9mIFJUQ1BlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKSBtZXRob2QgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0Y1xuICBwcml2YXRlIF9jb25uZWN0aW9uQ29uZmlndXJhdGlvbjogUlRDQ29uZmlndXJhdGlvbiB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0IGNvbm5lY3Rpb25Db25maWd1cmF0aW9uKCkge1xuICAgIGlmICh0aGlzLnBjLmdldENvbmZpZ3VyYXRpb24pIHJldHVybiB0aGlzLnBjLmdldENvbmZpZ3VyYXRpb24oKTtcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkNvbmZpZ3VyYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgU3Vic2NyaWJlcmAgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBzZnVDbGllbnQgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKiBAcGFyYW0gZGlzcGF0Y2hlciB0aGUgZGlzcGF0Y2hlciB0byB1c2UuXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGNhbGwuXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uQ29uZmlnIHRoZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gdG8gdXNlLlxuICAgKiBAcGFyYW0gaWNlUmVzdGFydERlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgcmVzdGFydGluZyBJQ0Ugd2hlbiBjb25uZWN0aW9uIGdvZXMgdG8gYGRpc2Nvbm5lY3RlZGAgc3RhdGUuXG4gICAqIEBwYXJhbSBvblVucmVjb3ZlcmFibGVFcnJvciBhIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiBhbiB1bnJlY292ZXJhYmxlIGVycm9yIG9jY3Vycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBzZnVDbGllbnQsXG4gICAgZGlzcGF0Y2hlcixcbiAgICBzdGF0ZSxcbiAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgIGljZVJlc3RhcnREZWxheSA9IDI1MDAsXG4gICAgb25VbnJlY292ZXJhYmxlRXJyb3IsXG4gIH06IFN1YnNjcmliZXJPcHRzKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuaWNlUmVzdGFydERlbGF5ID0gaWNlUmVzdGFydERlbGF5O1xuICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3IgPSBvblVucmVjb3ZlcmFibGVFcnJvcjtcblxuICAgIHRoaXMucGMgPSB0aGlzLmNyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuXG4gICAgdGhpcy51bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXIgPSBkaXNwYXRjaGVyLm9uKFxuICAgICAgJ3N1YnNjcmliZXJPZmZlcicsXG4gICAgICAoc3Vic2NyaWJlck9mZmVyKSA9PiB7XG4gICAgICAgIHRoaXMubmVnb3RpYXRlKHN1YnNjcmliZXJPZmZlcikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICB0aGlzLnVucmVnaXN0ZXJPbkljZVJlc3RhcnQgPSBkaXNwYXRjaGVyLm9uKCdpY2VSZXN0YXJ0JywgKGljZVJlc3RhcnQpID0+IHtcbiAgICAgIGlmIChpY2VSZXN0YXJ0LnBlZXJUeXBlICE9PSBQZWVyVHlwZS5TVUJTQ1JJQkVSKSByZXR1cm47XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGxvZ2dlcignd2FybicsIGBJQ0VSZXN0YXJ0IGZhaWxlZGAsIGVycik7XG4gICAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgUlRDUGVlckNvbm5lY3Rpb25gIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uQ29uZmlnIHRoZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gdG8gdXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVQZWVyQ29ubmVjdGlvbiA9IChjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IHBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25Db25maWd1cmF0aW9uID0gY29ubmVjdGlvbkNvbmZpZztcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG5cbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG5cbiAgICByZXR1cm4gcGM7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCBhbmQgdW5zdWJzY3JpYmVzIGZyb20gdGhlIGRpc3BhdGNoZXIuXG4gICAqL1xuICBjbG9zZSA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5pY2VSZXN0YXJ0VGltZW91dCk7XG4gICAgdGhpcy51bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXIoKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJPbkljZVJlc3RhcnQoKTtcbiAgICB0aGlzLnBjLmNsb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uLmdldFN0YXRzKClgIG1ldGhvZFxuICAgKiBAcGFyYW0gc2VsZWN0b3JcbiAgICogQHJldHVybnNcbiAgICovXG4gIGdldFN0YXRzID0gKHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYy5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICovXG4gIHNldFNmdUNsaWVudCA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBNaWdyYXRlcyB0aGUgc3Vic2NyaWJlciB0byBhIG5ldyBTRlUgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBuZXcgU0ZVIGNsaWVudCB0byBtaWdyYXRlIHRvLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgbmV3IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiB0byB1c2UuXG4gICAqL1xuICBtaWdyYXRlVG8gPSAoXG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24sXG4gICkgPT4ge1xuICAgIHRoaXMuc2V0U2Z1Q2xpZW50KHNmdUNsaWVudCk7XG5cbiAgICAvLyB3aGVuIG1pZ3JhdGluZywgd2Ugd2FudCB0byBrZWVwIHRoZSBwcmV2aW91cyBzdWJzY3JpYmVyIG9wZW5cbiAgICAvLyB1bnRpbCB0aGUgbmV3IG9uZSBpcyBjb25uZWN0ZWRcbiAgICBjb25zdCBwcmV2aW91c1BDID0gdGhpcy5wYztcblxuICAgIC8vIHdlIGtlZXAgYSByZWNvcmQgb2YgcHJldmlvdXNseSBhdmFpbGFibGUgdmlkZW8gdHJhY2tzXG4gICAgLy8gc28gdGhhdCB3ZSBjYW4gbW9uaXRvciB3aGVuIHRoZXkgYmVjb21lIGF2YWlsYWJsZSBvbiB0aGUgbmV3XG4gICAgLy8gc3Vic2NyaWJlciBhbmQgY2xvc2UgdGhlIHByZXZpb3VzIG9uZS5cbiAgICBjb25zdCB0cmFja0lkc1RvTWlncmF0ZSA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIHByZXZpb3VzUEMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaCgocikgPT4ge1xuICAgICAgaWYgKHIudHJhY2sua2luZCA9PT0gJ3ZpZGVvJykge1xuICAgICAgICB0cmFja0lkc1RvTWlncmF0ZS5hZGQoci50cmFjay5pZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYSBuZXcgc3Vic2NyaWJlciBwZWVyIGNvbm5lY3Rpb24sIGNvbmZpZ3VyZWQgdG8gY29ubmVjdFxuICAgIC8vIHRvIHRoZSBuZXcgU0ZVIG5vZGVcbiAgICBjb25zdCBwYyA9IHRoaXMuY3JlYXRlUGVlckNvbm5lY3Rpb24oY29ubmVjdGlvbkNvbmZpZyk7XG5cbiAgICBsZXQgbWlncmF0aW9uVGltZW91dElkOiBOb2RlSlMuVGltZW91dDtcbiAgICBjb25zdCBjbGVhbnVwTWlncmF0aW9uID0gKCkgPT4ge1xuICAgICAgcHJldmlvdXNQQy5jbG9zZSgpO1xuICAgICAgY2xlYXJUaW1lb3V0KG1pZ3JhdGlvblRpbWVvdXRJZCk7XG4gICAgfTtcblxuICAgIC8vIFdoZW4gbWlncmF0aW5nLCB3ZSB3YW50IHRvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIHRyYWNrc1xuICAgIC8vIHRoYXQgYXJlIG1pZ3JhdGluZyB0byB0aGUgbmV3IHN1YnNjcmliZXIuXG4gICAgLy8gT25jZSBhbGwgb2YgdGhlbSBhcmUgYXZhaWxhYmxlLCB3ZSBjYW4gY2xvc2UgdGhlIHByZXZpb3VzIHN1YnNjcmliZXIuXG4gICAgY29uc3QgaGFuZGxlVHJhY2tNaWdyYXRpb24gPSAoZTogUlRDVHJhY2tFdmVudCkgPT4ge1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICBgW01pZ3JhdGlvbl06IE1pZ3JhdGVkIHRyYWNrOiAke2UudHJhY2suaWR9LCAke2UudHJhY2sua2luZH1gLFxuICAgICAgKTtcbiAgICAgIHRyYWNrSWRzVG9NaWdyYXRlLmRlbGV0ZShlLnRyYWNrLmlkKTtcbiAgICAgIGlmICh0cmFja0lkc1RvTWlncmF0ZS5zaXplID09PSAwKSB7XG4gICAgICAgIGxvZ2dlcignZGVidWcnLCBgW01pZ3JhdGlvbl06IE1pZ3JhdGlvbiBjb21wbGV0ZWApO1xuICAgICAgICBwYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIGhhbmRsZVRyYWNrTWlncmF0aW9uKTtcbiAgICAgICAgY2xlYW51cE1pZ3JhdGlvbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBXaGVuIG1pZ3JhdGluZywgd2Ugd2FudCB0byBrZWVwIHRyYWNrIG9mIHRoZSBjb25uZWN0aW9uIHN0YXRlXG4gICAgLy8gb2YgdGhlIG5ldyBzdWJzY3JpYmVyLlxuICAgIC8vIE9uY2UgaXQgaXMgY29ubmVjdGVkLCB3ZSBnaXZlIGl0IGEgMi1zZWNvbmQgZ3JhY2UgcGVyaW9kIHRvIHJlY2VpdmVcbiAgICAvLyBhbGwgdGhlIHZpZGVvIHRyYWNrcyB0aGF0IGFyZSBtaWdyYXRpbmcgZnJvbSB0aGUgcHJldmlvdXMgc3Vic2NyaWJlci5cbiAgICAvLyBBZnRlciB0aGlzIHRocmVzaG9sZCwgd2UgYWJydXB0bHkgY2xvc2UgdGhlIHByZXZpb3VzIHN1YnNjcmliZXIuXG4gICAgY29uc3QgaGFuZGxlQ29ubmVjdGlvblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKHBjLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgbWlncmF0aW9uVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhY2snLCBoYW5kbGVUcmFja01pZ3JhdGlvbik7XG4gICAgICAgICAgY2xlYW51cE1pZ3JhdGlvbigpO1xuICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICBwYy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgICAgIGhhbmRsZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCBoYW5kbGVUcmFja01pZ3JhdGlvbik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgaGFuZGxlQ29ubmVjdGlvblN0YXRlQ2hhbmdlKTtcblxuICAgIC8vIHJlcGxhY2UgdGhlIFBlZXJDb25uZWN0aW9uIGluc3RhbmNlXG4gICAgdGhpcy5wYyA9IHBjO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0YXJ0cyB0aGUgSUNFIGNvbm5lY3Rpb24gYW5kIHJlbmVnb3RpYXRlcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICByZXN0YXJ0SWNlID0gYXN5bmMgKCkgPT4ge1xuICAgIGxvZ2dlcignZGVidWcnLCAnUmVzdGFydGluZyBJQ0UgY29ubmVjdGlvbicpO1xuICAgIGlmICh0aGlzLnBjLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1yZW1vdGUtb2ZmZXInKSB7XG4gICAgICBsb2dnZXIoJ2RlYnVnJywgJ0lDRSByZXN0YXJ0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucGMuY29ubmVjdGlvblN0YXRlID09PSAnbmV3Jykge1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICBgSUNFIGNvbm5lY3Rpb24gaXMgbm90IHlldCBlc3RhYmxpc2hlZCwgc2tpcHBpbmcgcmVzdGFydC5gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNJc0ljZVJlc3RhcnRpbmcgPSB0aGlzLmlzSWNlUmVzdGFydGluZztcbiAgICB0cnkge1xuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuaWNlUmVzdGFydCh7XG4gICAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5TVUJTQ1JJQkVSLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgc3RhdGUsIGFzIG91ciBpbnRlbnQgZm9yIHJlc3RhcnRpbmcgSUNFIGZhaWxlZFxuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBwcmV2aW91c0lzSWNlUmVzdGFydGluZztcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgaGFuZGxlT25UcmFjayA9IChlOiBSVENUcmFja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgW3ByaW1hcnlTdHJlYW1dID0gZS5zdHJlYW1zO1xuICAgIC8vIGV4YW1wbGU6IGBlM2Y2YWFmOC1iMDNkLTQ5MTEtYmUzNi04M2Y0N2QzN2E3NmE6VFJBQ0tfVFlQRV9WSURFT2BcbiAgICBjb25zdCBbdHJhY2tJZCwgdHJhY2tUeXBlXSA9IHByaW1hcnlTdHJlYW0uaWQuc3BsaXQoJzonKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFRvVXBkYXRlID0gdGhpcy5zdGF0ZS5wYXJ0aWNpcGFudHMuZmluZChcbiAgICAgIChwKSA9PiBwLnRyYWNrTG9va3VwUHJlZml4ID09PSB0cmFja0lkLFxuICAgICk7XG4gICAgbG9nZ2VyKFxuICAgICAgJ2RlYnVnJyxcbiAgICAgIGBbb25UcmFja106IEdvdCByZW1vdGUgJHt0cmFja1R5cGV9IHRyYWNrIGZvciB1c2VySWQ6ICR7cGFydGljaXBhbnRUb1VwZGF0ZT8udXNlcklkfWAsXG4gICAgICBlLnRyYWNrLmlkLFxuICAgICAgZS50cmFjayxcbiAgICApO1xuICAgIGlmICghcGFydGljaXBhbnRUb1VwZGF0ZSkge1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgIGBbb25UcmFja106IFJlY2VpdmVkIHRyYWNrIGZvciB1bmtub3duIHBhcnRpY2lwYW50OiAke3RyYWNrSWR9YCxcbiAgICAgICAgZSxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdHJhY2tEZWJ1Z0luZm8gPSBgJHtwYXJ0aWNpcGFudFRvVXBkYXRlLnVzZXJJZH0gJHt0cmFja1R5cGV9OiR7dHJhY2tJZH1gO1xuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbXV0ZScsICgpID0+IHtcbiAgICAgIGxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIG11dGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCAoKSA9PiB7XG4gICAgICBsb2dnZXIoJ2luZm8nLCBgW29uVHJhY2tdOiBUcmFjayB1bm11dGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHtcbiAgICAgIGxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIGVuZGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RyZWFtS2luZFByb3AgPSAoXG4gICAgICB7XG4gICAgICAgIFRSQUNLX1RZUEVfQVVESU86ICdhdWRpb1N0cmVhbScsXG4gICAgICAgIFRSQUNLX1RZUEVfVklERU86ICd2aWRlb1N0cmVhbScsXG4gICAgICAgIFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFOiAnc2NyZWVuU2hhcmVTdHJlYW0nLFxuICAgICAgICBUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTzogJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nLFxuICAgICAgfSBhcyBjb25zdFxuICAgIClbdHJhY2tUeXBlXTtcblxuICAgIGlmICghc3RyZWFtS2luZFByb3ApIHtcbiAgICAgIGxvZ2dlcignZXJyb3InLCBgVW5rbm93biB0cmFjayB0eXBlOiAke3RyYWNrVHlwZX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNTdHJlYW0gPSBwYXJ0aWNpcGFudFRvVXBkYXRlW3N0cmVhbUtpbmRQcm9wXTtcbiAgICBpZiAocHJldmlvdXNTdHJlYW0pIHtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgW29uVHJhY2tdOiBDbGVhbmluZyB1cCBwcmV2aW91cyByZW1vdGUgJHtlLnRyYWNrLmtpbmR9IHRyYWNrcyBmb3IgdXNlcklkOiAke3BhcnRpY2lwYW50VG9VcGRhdGUudXNlcklkfWAsXG4gICAgICApO1xuICAgICAgcHJldmlvdXNTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICB0LnN0b3AoKTtcbiAgICAgICAgcHJldmlvdXNTdHJlYW0ucmVtb3ZlVHJhY2sodCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFRvVXBkYXRlLnNlc3Npb25JZCwge1xuICAgICAgW3N0cmVhbUtpbmRQcm9wXTogcHJpbWFyeVN0cmVhbSxcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhbmRpZGF0ZSB9ID0gZTtcbiAgICBpZiAoIWNhbmRpZGF0ZSkge1xuICAgICAgbG9nZ2VyKCdkZWJ1ZycsICdudWxsIGljZSBjYW5kaWRhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNmdUNsaWVudFxuICAgICAgLmljZVRyaWNrbGUoe1xuICAgICAgICBpY2VDYW5kaWRhdGU6IGdldEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpLFxuICAgICAgICBwZWVyVHlwZTogUGVlclR5cGUuU1VCU0NSSUJFUixcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSBmYWlsZWRgLCBlcnIpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBuZWdvdGlhdGUgPSBhc3luYyAoc3Vic2NyaWJlck9mZmVyOiBTdWJzY3JpYmVyT2ZmZXIpID0+IHtcbiAgICBsb2dnZXIoJ2luZm8nLCBgUmVjZWl2ZWQgc3Vic2NyaWJlck9mZmVyYCwgc3Vic2NyaWJlck9mZmVyKTtcblxuICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogJ29mZmVyJyxcbiAgICAgIHNkcDogc3Vic2NyaWJlck9mZmVyLnNkcCxcbiAgICB9KTtcblxuICAgIHRoaXMuc2Z1Q2xpZW50LmljZVRyaWNrbGVCdWZmZXIuc3Vic2NyaWJlckNhbmRpZGF0ZXMuc3Vic2NyaWJlKFxuICAgICAgYXN5bmMgKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGljZUNhbmRpZGF0ZSA9IEpTT04ucGFyc2UoY2FuZGlkYXRlLmljZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUoaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsIGBJQ0UgY2FuZGlkYXRlIGVycm9yYCwgW2UsIGNhbmRpZGF0ZV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuc2VuZEFuc3dlcih7XG4gICAgICBwZWVyVHlwZTogUGVlclR5cGUuU1VCU0NSSUJFUixcbiAgICAgIHNkcDogYW5zd2VyLnNkcCB8fCAnJyxcbiAgICB9KTtcblxuICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIGxvZ2dlcignZGVidWcnLCBgSUNFIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlZGAsIHN0YXRlKTtcblxuICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBJQ0UgaXMgcmVzdGFydGluZ1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFzTmV0d29ya0Nvbm5lY3Rpb24gPVxuICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5PRkZMSU5FO1xuXG4gICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJykge1xuICAgICAgbG9nZ2VyKCdkZWJ1ZycsIGBBdHRlbXB0aW5nIHRvIHJlc3RhcnQgSUNFYCk7XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgYElDRSByZXN0YXJ0IGZhaWxlZGAsIGUpO1xuICAgICAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yPy4oKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnICYmIGhhc05ldHdvcmtDb25uZWN0aW9uKSB7XG4gICAgICAvLyB3aGVuIGluIGBkaXNjb25uZWN0ZWRgIHN0YXRlLCB0aGUgYnJvd3NlciBtYXkgcmVjb3ZlciBhdXRvbWF0aWNhbGx5LFxuICAgICAgLy8gaGVuY2UsIHdlIGRlbGF5IHRoZSBJQ0UgcmVzdGFydFxuICAgICAgbG9nZ2VyKCdkZWJ1ZycsIGBTY2hlZHVsaW5nIElDRSByZXN0YXJ0IGluICR7dGhpcy5pY2VSZXN0YXJ0RGVsYXl9IG1zLmApO1xuICAgICAgdGhpcy5pY2VSZXN0YXJ0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgc3RhdGUgaXMgc3RpbGwgYGRpc2Nvbm5lY3RlZGAgb3IgYGZhaWxlZGBcbiAgICAgICAgLy8gYXMgdGhlIGNvbm5lY3Rpb24gbWF5IGhhdmUgcmVjb3ZlcmVkIChvciBmYWlsZWQpIGluIHRoZSBtZWFudGltZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnIHx8XG4gICAgICAgICAgdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdmYWlsZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgYElDRSByZXN0YXJ0IGZhaWxlZGAsIGUpO1xuICAgICAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyKFxuICAgICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICAgIGBTY2hlZHVsZWQgSUNFIHJlc3RhcnQ6IGNvbm5lY3Rpb24gcmVjb3ZlcmVkLCBjYW5jZWxlZC5gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuaWNlUmVzdGFydERlbGF5KTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGxvZ2dlcignZGVidWcnLCBgSUNFIGdhdGhlcmluZyBzdGF0ZSBjaGFuZ2VkYCwgdGhpcy5wYy5pY2VHYXRoZXJpbmdTdGF0ZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZUVycm9yID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgIGUgaW5zdGFuY2VvZiBSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnQgJiZcbiAgICAgIGAke2UuZXJyb3JDb2RlfTogJHtlLmVycm9yVGV4dH1gO1xuICAgIGNvbnN0IGljZVN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgY29uc3QgbG9nTGV2ZWwgPVxuICAgICAgaWNlU3RhdGUgPT09ICdjb25uZWN0ZWQnIHx8IGljZVN0YXRlID09PSAnY2hlY2tpbmcnID8gJ2RlYnVnJyA6ICd3YXJuJztcbiAgICBsb2dnZXIobG9nTGV2ZWwsIGBJQ0UgQ2FuZGlkYXRlIGVycm9yYCwgZXJyb3JNZXNzYWdlKTtcbiAgfTtcbn1cbiIsImltcG9ydCBXZWJTb2NrZXQgZnJvbSAnaXNvbW9ycGhpYy13cyc7XG5pbXBvcnQgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBEaXNwYXRjaGFibGVNZXNzYWdlLCBTZnVFdmVudEtpbmRzIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwgPSAob3B0czoge1xuICBlbmRwb2ludDogc3RyaW5nO1xuICBvbk1lc3NhZ2U6IDxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4obWVzc2FnZTogRGlzcGF0Y2hhYmxlTWVzc2FnZTxLPikgPT4gdm9pZDtcbn0pID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCddKTtcbiAgY29uc3QgeyBlbmRwb2ludCwgb25NZXNzYWdlIH0gPSBvcHRzO1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJzsgLy8gZG8gd2UgbmVlZCB0aGlzP1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGVycm9yJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2luZm8nLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgaXMgY2xvc2VkJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBvcGVuJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJcbiAgICAgICAgICA/IFNmdUV2ZW50LmZyb21CaW5hcnkobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSlcbiAgICAgICAgICA6IFNmdUV2ZW50LmZyb21Kc29uU3RyaW5nKGUuZGF0YS50b1N0cmluZygpKTtcblxuICAgICAgb25NZXNzYWdlKG1lc3NhZ2UgYXMgRGlzcGF0Y2hhYmxlTWVzc2FnZTxTZnVFdmVudEtpbmRzPik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdGYWlsZWQgdG8gZGVjb2RlIGEgbWVzc2FnZS4gQ2hlY2sgd2hldGhlciB0aGUgUHJvdG8gbW9kZWxzIG1hdGNoLicsXG4gICAgICAgIHsgZXZlbnQ6IGUsIGVycm9yOiBlcnIgfSxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdzO1xufTtcbiIsImltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiA9PlxuICBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCBtKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uPFQ+KHZhbHVlOiBGdW5jdGlvbiB8IFQpOiB2YWx1ZSBpcyBGdW5jdGlvbiB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgJiZcbiAgICAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgICAgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKVxuICApO1xufVxuXG4vKipcbiAqIEEgbWFwIG9mIGtub3duIGVycm9yIGNvZGVzLlxuICovXG5leHBvcnQgY29uc3QgS25vd25Db2RlcyA9IHtcbiAgVE9LRU5fRVhQSVJFRDogNDAsXG4gIFdTX0NMT1NFRF9TVUNDRVNTOiAxMDAwLFxuICBXU19DTE9TRURfQUJSVVBUTFk6IDEwMDYsXG4gIFdTX1BPTElDWV9WSU9MQVRJT046IDEwMDgsXG59O1xuXG4vKipcbiAqIHJldHJ5SW50ZXJ2YWwgLSBBIHJldHJ5IGludGVydmFsIHdoaWNoIGluY3JlYXNlcyBhY2MgdG8gbnVtYmVyIG9mIGZhaWx1cmVzXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBEdXJhdGlvbiB0byB3YWl0IGluIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnlJbnRlcnZhbChudW1iZXJPZkZhaWx1cmVzOiBudW1iZXIpIHtcbiAgLy8gdHJ5IHRvIHJlY29ubmVjdCBpbiAwLjI1LTUgc2Vjb25kcyAocmFuZG9tIHRvIHNwcmVhZCBvdXQgdGhlIGxvYWQgZnJvbSBmYWlsdXJlcylcbiAgY29uc3QgbWF4ID0gTWF0aC5taW4oNTAwICsgbnVtYmVyT2ZGYWlsdXJlcyAqIDIwMDAsIDUwMDApO1xuICBjb25zdCBtaW4gPSBNYXRoLm1pbihNYXRoLm1heCgyNTAsIChudW1iZXJPZkZhaWx1cmVzIC0gMSkgKiAyMDAwKSwgNTAwMCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRHY0KCk7XG59XG5cbmZ1bmN0aW9uIGhleChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBzID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzICs9IGJ5dGVzW2ldLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG4vLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDEyMlxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRHY0KCkge1xuICBjb25zdCBieXRlcyA9IGdldFJhbmRvbUJ5dGVzKDE2KTtcbiAgYnl0ZXNbNl0gPSAoYnl0ZXNbNl0gJiAweDBmKSB8IDB4NDA7IC8vIHZlcnNpb25cbiAgYnl0ZXNbOF0gPSAoYnl0ZXNbOF0gJiAweGJmKSB8IDB4ODA7IC8vIHZhcmlhbnRcblxuICByZXR1cm4gKFxuICAgIGhleChieXRlcy5zdWJhcnJheSgwLCA0KSkgK1xuICAgICctJyArXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDQsIDYpKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoNiwgOCkpICtcbiAgICAnLScgK1xuICAgIGhleChieXRlcy5zdWJhcnJheSg4LCAxMCkpICtcbiAgICAnLScgK1xuICAgIGhleChieXRlcy5zdWJhcnJheSgxMCwgMTYpKVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbShieXRlczogVWludDhBcnJheSk6IHZvaWQge1xuICBjb25zdCBtYXggPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVzLmJ5dGVMZW5ndGgpIC8gYnl0ZXMubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGJ5dGVzW2ldID0gTWF0aC5yYW5kb20oKSAqIG1heDtcbiAgfVxufVxuZGVjbGFyZSBjb25zdCBtc0NyeXB0bzogQ3J5cHRvO1xuXG5jb25zdCBnZXRSYW5kb21WYWx1ZXMgPSAoKCkgPT4ge1xuICBpZiAoXG4gICAgdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgY3J5cHRvPy5nZXRSYW5kb21WYWx1ZXMgIT09ICd1bmRlZmluZWQnXG4gICkge1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb207XG4gIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUJ5dGVzKGxlbmd0aDogbnVtYmVyKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEVycm9yVG9Kc29uKGVycjogRXJyb3IpIHtcbiAgY29uc3QganNvbk9iaiA9IHt9IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG4gIGlmICghZXJyKSByZXR1cm4ganNvbk9iajtcblxuICB0cnkge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGVycikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBqc29uT2JqW2tleV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVyciwga2V5KTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogJ2ZhaWxlZCB0byBzZXJpYWxpemUgdGhlIGVycm9yJyxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGpzb25PYmo7XG59XG5cbi8qKlxuICogaXNPbmxpbmUgc2FmZWx5IHJldHVybiB0aGUgbmF2aWdhdG9yLm9ubGluZSB2YWx1ZSBmb3IgYnJvd3NlciBlbnZcbiAqIGlmIG5hdmlnYXRvciBpcyBub3QgaW4gZ2xvYmFsIG9iamVjdCwgaXQgYWx3YXlzIHJldHVybiB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09ubGluZShsb2dnZXI6IExvZ2dlcikge1xuICBjb25zdCBuYXYgPVxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnXG4gICAgICA/IG5hdmlnYXRvclxuICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yXG4gICAgICAgID8gd2luZG93Lm5hdmlnYXRvclxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICBpZiAoIW5hdikge1xuICAgIGxvZ2dlcihcbiAgICAgICd3YXJuJyxcbiAgICAgICdpc09ubGluZSBmYWlsZWQgdG8gYWNjZXNzIHdpbmRvdy5uYXZpZ2F0b3IgYW5kIGFzc3VtZSBicm93c2VyIGlzIG9ubGluZScsXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFJOIG5hdmlnYXRvciBoYXMgdW5kZWZpbmVkIGZvciBvbkxpbmVcbiAgaWYgKHR5cGVvZiBuYXYub25MaW5lICE9PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBuYXYub25MaW5lO1xufVxuXG4vKipcbiAqIGxpc3RlbkZvckNvbm5lY3Rpb25DaGFuZ2VzIC0gQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmaXJlZCBvbiBicm93c2VyIGdvaW5nIG9ubGluZSBvciBvZmZsaW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoY2I6IChlOiBFdmVudCkgPT4gdm9pZCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoY2I6IChlOiBFdmVudCkgPT4gdm9pZCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFdlYlNvY2tldCB9IGZyb20gJ3dzJztcbmltcG9ydCB0eXBlIHtcbiAgRmluaXNoZWRVbmFyeUNhbGwsXG4gIE1ldGhvZEluZm8sXG4gIE5leHRVbmFyeUZuLFxuICBScGNJbnRlcmNlcHRvcixcbiAgUnBjT3B0aW9ucyxcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVTaWduYWxDbGllbnQsIHdpdGhIZWFkZXJzIH0gZnJvbSAnLi9ycGMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCxcbiAgRGlzcGF0Y2hlcixcbiAgSWNlVHJpY2tsZUJ1ZmZlcixcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHsgSm9pblJlcXVlc3QsIFNmdVJlcXVlc3QgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIElDRVJlc3RhcnRSZXF1ZXN0LFxuICBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgU2VuZFN0YXRzUmVxdWVzdCxcbiAgU2V0UHVibGlzaGVyUmVxdWVzdCxcbiAgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB7XG4gIEVycm9yIGFzIFNmdUVycm9yLFxuICBJQ0VUcmlja2xlLFxuICBUcmFja1R5cGUsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7XG4gIGdlbmVyYXRlVVVJRHY0LFxuICByZXRyeUludGVydmFsLFxuICBzbGVlcCxcbn0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7IFNGVVJlc3BvbnNlIH0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVNmdUNsaWVudENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcblxuICAvKipcbiAgICogVGhlIFNGVSBzZXJ2ZXIgdG8gY29ubmVjdCB0by5cbiAgICovXG4gIHNmdVNlcnZlcjogU0ZVUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBKV1QgdG9rZW4gdG8gdXNlIGZvciBhdXRoZW50aWNhdGlvbi5cbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGBzZXNzaW9uSWRgIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqIElmIG5vdCBwcm92aWRlZCwgYSByYW5kb20gVVVJRHY0IHdpbGwgYmUgZ2VuZXJhdGVkLlxuICAgKi9cbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgY2xpZW50IHVzZWQgZm9yIGV4Y2hhbmdpbmcgaW5mb3JtYXRpb24gd2l0aCB0aGUgU0ZVLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtU2Z1Q2xpZW50IHtcbiAgLyoqXG4gICAqIEEgYnVmZmVyIGZvciBJQ0UgQ2FuZGlkYXRlcyB0aGF0IGFyZSByZWNlaXZlZCBiZWZvcmVcbiAgICogdGhlIFBlZXJDb25uZWN0aW9ucyBhcmUgcmVhZHkgdG8gaGFuZGxlIHRoZW0uXG4gICAqL1xuICByZWFkb25seSBpY2VUcmlja2xlQnVmZmVyID0gbmV3IEljZVRyaWNrbGVCdWZmZXIoKTtcbiAgLyoqXG4gICAqIFRoZSBgc2Vzc2lvbklkYCBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHJlYWRvbmx5IHNlc3Npb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYGVkZ2VOYW1lYCByZXByZXNlbnRpbmcgdGhlIGVkZ2UgdGhlIGNsaWVudCBpcyBjb25uZWN0ZWQgdG8uXG4gICAqL1xuICByZWFkb25seSBlZGdlTmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCB0b2tlbiB1c2VkIGZvciBhdXRoZW50aWNhdGluZyBhZ2FpbnN0IHRoZSBTRlUuXG4gICAqL1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgU0ZVIHNlcnZlciBkZXRhaWxzIHRoZSBjdXJyZW50IGNsaWVudCBpcyBjb25uZWN0ZWQgdG8uXG4gICAqL1xuICByZWFkb25seSBzZnVTZXJ2ZXI6IFNGVVJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgY3VycmVudCBXZWJTb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgU0ZVLlxuICAgKi9cbiAgc2lnbmFsV3M6IFdlYlNvY2tldDtcblxuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIHJlYWR5IChvcGVuKS5cbiAgICovXG4gIHNpZ25hbFJlYWR5OiBQcm9taXNlPFdlYlNvY2tldD47XG5cbiAgLyoqXG4gICAqIEEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNsaWVudCBpcyBjdXJyZW50bHkgbWlncmF0aW5nIGF3YXlcbiAgICogZnJvbSB0aGlzIFNGVS5cbiAgICovXG4gIGlzTWlncmF0aW5nQXdheSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB0aGF0IHRoZSBjbGllbnQgY29ubmVjdGlvbiBpcyBicm9rZW4gZm9yIHRoZSBjdXJyZW50XG4gICAqIGNsaWVudCBhbmQgdGhhdCBhIGZhc3QtcmVjb25uZWN0IHdpdGggYSBuZXcgY2xpZW50IHNob3VsZCBiZSBhdHRlbXB0ZWQuXG4gICAqL1xuICBpc0Zhc3RSZWNvbm5lY3RpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJwYzogU2lnbmFsU2VydmVyQ2xpZW50O1xuICBwcml2YXRlIGtlZXBBbGl2ZUludGVydmFsPzogTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgY29ubmVjdGlvbkNoZWNrVGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIHBpbmdJbnRlcnZhbEluTXMgPSAxMCAqIDEwMDA7XG4gIHByaXZhdGUgdW5oZWFsdGh5VGltZW91dEluTXMgPSB0aGlzLnBpbmdJbnRlcnZhbEluTXMgKyA1ICogMTAwMDtcbiAgcHJpdmF0ZSBsYXN0TWVzc2FnZVRpbWVzdGFtcD86IERhdGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5zdWJzY3JpYmVJY2VUcmlja2xlOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuXG4gIC8qKlxuICAgKiBUaGUgbm9ybWFsIGNsb3N1cmUgY29kZS4gVXNlZCBmb3IgY29udHJvbGxlZCBzaHV0ZG93bnMuXG4gICAqL1xuICBzdGF0aWMgTk9STUFMX0NMT1NVUkUgPSAxMDAwO1xuICAvKipcbiAgICogVGhlIGVycm9yIGNvZGUgdXNlZCB3aGVuIHRoZSBTRlUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHkuXG4gICAqIFVzdWFsbHksIHRoaXMgbWVhbnMgdGhhdCBubyBtZXNzYWdlIGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBmb3JcbiAgICogYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChgY29ubmVjdGlvbkNoZWNrVGltZW91dGApLlxuICAgKi9cbiAgc3RhdGljIEVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZID0gNDAwMTtcblxuICAvKipcbiAgICogVGhlIGVycm9yIGNvZGUgdXNlZCB3aGVuIHRoZSBTRlUgY29ubmVjdGlvbiBpcyBicm9rZW4uXG4gICAqIFVzdWFsbHksIHRoaXMgbWVhbnMgdGhhdCB0aGUgV1MgY29ubmVjdGlvbiBoYXMgYmVlbiBjbG9zZWQgdW5leHBlY3RlZGx5LlxuICAgKiBUaGlzIGVycm9yIGNvZGUgaXMgdXNlZCB0byBhbm5vdW5jZSBhIGZhc3QtcmVjb25uZWN0LlxuICAgKi9cbiAgc3RhdGljIEVSUk9SX0NPTk5FQ1RJT05fQlJPS0VOID0gNDAwMjsgLy8gdXNlZCBpbiBmYXN0LXJlY29ubmVjdHNcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBTRlUgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZGlzcGF0Y2hlciB0aGUgZXZlbnQgZGlzcGF0Y2hlciB0byB1c2UuXG4gICAqIEBwYXJhbSBzZnVTZXJ2ZXIgdGhlIFNGVSBzZXJ2ZXIgdG8gY29ubmVjdCB0by5cbiAgICogQHBhcmFtIHRva2VuIHRoZSBKV1QgdG9rZW4gdG8gdXNlIGZvciBhdXRoZW50aWNhdGlvbi5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgYHNlc3Npb25JZGAgb2YgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgcGFydGljaXBhbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGF0Y2hlcixcbiAgICBzZnVTZXJ2ZXIsXG4gICAgdG9rZW4sXG4gICAgc2Vzc2lvbklkLFxuICB9OiBTdHJlYW1TZnVDbGllbnRDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkIHx8IGdlbmVyYXRlVVVJRHY0KCk7XG4gICAgdGhpcy5zZnVTZXJ2ZXIgPSBzZnVTZXJ2ZXI7XG4gICAgdGhpcy5lZGdlTmFtZSA9IHNmdVNlcnZlci5lZGdlX25hbWU7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCddKTtcbiAgICBjb25zdCBsb2dJbnRlcmNlcHRvcjogUnBjSW50ZXJjZXB0b3IgPSB7XG4gICAgICBpbnRlcmNlcHRVbmFyeTogKFxuICAgICAgICBuZXh0OiBOZXh0VW5hcnlGbixcbiAgICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgICBvcHRpb25zOiBScGNPcHRpb25zLFxuICAgICAgKTogVW5hcnlDYWxsID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYENhbGxpbmcgU0ZVIFJQQyBtZXRob2QgJHttZXRob2QubmFtZX1gLCB7XG4gICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMucnBjID0gY3JlYXRlU2lnbmFsQ2xpZW50KHtcbiAgICAgIGJhc2VVcmw6IHNmdVNlcnZlci51cmwsXG4gICAgICBpbnRlcmNlcHRvcnM6IFtcbiAgICAgICAgd2l0aEhlYWRlcnMoe1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9KSxcbiAgICAgICAgbG9nSW50ZXJjZXB0b3IsXG4gICAgICBdLFxuICAgIH0pO1xuXG4gICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdGhlIElDRVRyaWNrbGUga2luZCBvZiBldmVudHMuXG4gICAgLy8gVGhlc2UgZXZlbnRzIG1pZ2h0IGJlIHRyaWdnZXJlZCBieSB0aGUgU0ZVIGJlZm9yZSB0aGUgaW5pdGlhbCBSVENcbiAgICAvLyBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkLiBJbiB0aGF0IGNhc2UsIHRob3NlIGV2ZW50cyAoSUNFIGNhbmRpZGF0ZXMpXG4gICAgLy8gbmVlZCB0byBiZSBidWZmZXJlZCBhbmQgbGF0ZXIgYWRkZWQgdG8gdGhlIGFwcHJvcHJpYXRlIFBlZXJDb25uZWN0aW9uXG4gICAgLy8gb25jZSB0aGUgcmVtb3RlRGVzY3JpcHRpb24gaXMga25vd24gYW5kIHNldC5cbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZSA9IGRpc3BhdGNoZXIub24oJ2ljZVRyaWNrbGUnLCAoaWNlVHJpY2tsZSkgPT4ge1xuICAgICAgdGhpcy5pY2VUcmlja2xlQnVmZmVyLnB1c2goaWNlVHJpY2tsZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNpZ25hbFdzID0gY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCh7XG4gICAgICBlbmRwb2ludDogc2Z1U2VydmVyLndzX2VuZHBvaW50LFxuICAgICAgb25NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICAgICAgICBkaXNwYXRjaGVyLmRpc3BhdGNoKG1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2lnbmFsUmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNpZ25hbFdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICB0aGlzLmtlZXBBbGl2ZSgpO1xuICAgICAgICByZXNvbHZlKHRoaXMuc2lnbmFsV3MpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3Blbik7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSA9IChjb2RlOiBudW1iZXIsIHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYENsb3NpbmcgU0ZVIFdTIGNvbm5lY3Rpb246ICR7Y29kZX0gLSAke3JlYXNvbn1gKTtcbiAgICBpZiAodGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlICE9PSB0aGlzLnNpZ25hbFdzLkNMT1NFRCkge1xuICAgICAgdGhpcy5zaWduYWxXcy5jbG9zZShjb2RlLCBganMtY2xpZW50OiAke3JlYXNvbn1gKTtcbiAgICB9XG5cbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZSgpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gIH07XG5cbiAgdXBkYXRlU3Vic2NyaXB0aW9ucyA9IGFzeW5jIChzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXSkgPT4ge1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy51cGRhdGVTdWJzY3JpcHRpb25zKHtcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIHRyYWNrczogc3Vic2NyaXB0aW9ucyxcbiAgICAgICAgfSksXG4gICAgICB0aGlzLmxvZ2dlcixcbiAgICAgICdkZWJ1ZycsXG4gICAgKTtcbiAgfTtcblxuICBzZXRQdWJsaXNoZXIgPSBhc3luYyAoZGF0YTogT21pdDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT5cbiAgICAgICAgdGhpcy5ycGMuc2V0UHVibGlzaGVyKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgIH0pLFxuICAgICAgdGhpcy5sb2dnZXIsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kQW5zd2VyID0gYXN5bmMgKGRhdGE6IE9taXQ8U2VuZEFuc3dlclJlcXVlc3QsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy5zZW5kQW5zd2VyKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgIH0pLFxuICAgICAgdGhpcy5sb2dnZXIsXG4gICAgKTtcbiAgfTtcblxuICBpY2VUcmlja2xlID0gYXN5bmMgKGRhdGE6IE9taXQ8SUNFVHJpY2tsZSwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+XG4gICAgICAgIHRoaXMucnBjLmljZVRyaWNrbGUoe1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgfSksXG4gICAgICB0aGlzLmxvZ2dlcixcbiAgICApO1xuICB9O1xuXG4gIGljZVJlc3RhcnQgPSBhc3luYyAoZGF0YTogT21pdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+XG4gICAgICAgIHRoaXMucnBjLmljZVJlc3RhcnQoe1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgfSksXG4gICAgICB0aGlzLmxvZ2dlcixcbiAgICApO1xuICB9O1xuXG4gIHVwZGF0ZU11dGVTdGF0ZSA9IGFzeW5jICh0cmFja1R5cGU6IFRyYWNrVHlwZSwgbXV0ZWQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVNdXRlU3RhdGVzKHtcbiAgICAgIG11dGVTdGF0ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgICBtdXRlZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlTXV0ZVN0YXRlcyA9IGFzeW5jIChcbiAgICBkYXRhOiBPbWl0PFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCAnc2Vzc2lvbklkJz4sXG4gICkgPT4ge1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy51cGRhdGVNdXRlU3RhdGVzKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgIH0pLFxuICAgICAgdGhpcy5sb2dnZXIsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kU3RhdHMgPSBhc3luYyAoc3RhdHM6IE9taXQ8U2VuZFN0YXRzUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+XG4gICAgICAgIHRoaXMucnBjLnNlbmRTdGF0cyh7XG4gICAgICAgICAgLi4uc3RhdHMsXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgfSksXG4gICAgICB0aGlzLmxvZ2dlcixcbiAgICAgICdkZWJ1ZycsXG4gICAgKTtcbiAgfTtcblxuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy5zdGFydE5vaXNlQ2FuY2VsbGF0aW9uKHtcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICB9KSxcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICk7XG4gIH07XG5cbiAgc3RvcE5vaXNlQ2FuY2VsbGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy5zdG9wTm9pc2VDYW5jZWxsYXRpb24oe1xuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgIH0pLFxuICAgICAgdGhpcy5sb2dnZXIsXG4gICAgKTtcbiAgfTtcblxuICBqb2luID0gYXN5bmMgKGRhdGE6IE9taXQ8Sm9pblJlcXVlc3QsICdzZXNzaW9uSWQnIHwgJ3Rva2VuJz4pID0+IHtcbiAgICBjb25zdCBqb2luUmVxdWVzdCA9IEpvaW5SZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAuLi5kYXRhLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgIHRva2VuOiB0aGlzLnRva2VuLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlcXVlc3QnLFxuICAgICAgICAgIGpvaW5SZXF1ZXN0LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBzZW5kID0gYXN5bmMgKG1lc3NhZ2U6IFNmdVJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zaWduYWxSZWFkeS50aGVuKChzaWduYWwpID0+IHtcbiAgICAgIGlmIChzaWduYWwucmVhZHlTdGF0ZSAhPT0gc2lnbmFsLk9QRU4pIHJldHVybjtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICBgU2VuZGluZyBtZXNzYWdlIHRvOiAke3RoaXMuZWRnZU5hbWV9YCxcbiAgICAgICAgU2Z1UmVxdWVzdC50b0pzb24obWVzc2FnZSksXG4gICAgICApO1xuICAgICAgc2lnbmFsLnNlbmQoU2Z1UmVxdWVzdC50b0JpbmFyeShtZXNzYWdlKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBrZWVwQWxpdmUgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgJ1NlbmRpbmcgaGVhbHRoQ2hlY2tSZXF1ZXN0IHRvIFNGVScpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1JlcXVlc3QnLFxuICAgICAgICAgIGhlYWx0aENoZWNrUmVxdWVzdDoge30sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VuZChtZXNzYWdlKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRXJyb3Igc2VuZGluZyBoZWFsdGhDaGVja1JlcXVlc3QgdG8gU0ZVJywgZSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbEluTXMpO1xuICB9O1xuXG4gIHByaXZhdGUgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TWVzc2FnZSA9XG4gICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAodGltZVNpbmNlTGFzdE1lc3NhZ2UgPiB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSxcbiAgICAgICAgICAgIGBTRlUgY29ubmVjdGlvbiB1bmhlYWx0aHkuIERpZG4ndCByZWNlaXZlIGFueSBtZXNzYWdlIGZvciAke3RoaXMudW5oZWFsdGh5VGltZW91dEluTXN9bXNgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBbiBpbnRlcm5hbCBpbnRlcmZhY2Ugd2hpY2ggYXNzZXJ0cyB0aGF0IFwicmV0cnlhYmxlXCIgU0ZVIHJlc3BvbnNlc1xuICogY29udGFpbiBhIGZpZWxkIGNhbGxlZCBcImVycm9yXCIuXG4gKiBJZGVhbGx5LCB0aGlzIHNob3VsZCBiZSBjb21pbmcgZnJvbSB0aGUgUHJvdG9idWYgZGVmaW5pdGlvbnMuXG4gKi9cbmludGVyZmFjZSBTZnVSZXNwb25zZVdpdGhFcnJvciB7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBlcnJvciBmaWVsZCB3aGljaCBzaG91bGQgYmUgcHJlc2VudCBpbiBhbGwgU0ZVIHJlc3BvbnNlcy5cbiAgICovXG4gIGVycm9yPzogU2Z1RXJyb3I7XG59XG5cbmNvbnN0IE1BWF9SRVRSSUVTID0gNTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvc3VyZSB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gUlBDIGNhbGwgYW5kIHJldHJpZXMgaW52b2tpbmdcbiAqIHRoZSBSUEMgdW50aWwgaXQgc3VjY2VlZHMgb3IgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgaXMgcmVhY2hlZC5cbiAqXG4gKiBCZXR3ZWVuIGVhY2ggcmV0cnksIHRoZXJlIHdvdWxkIGJlIGEgcmFuZG9tIGRlbGF5IGluIG9yZGVyIHRvIGF2b2lkXG4gKiByZXF1ZXN0IGJ1cnN0cyB0b3dhcmRzIHRoZSBTRlUuXG4gKlxuICogQHBhcmFtIHJwYyB0aGUgY2xvc3VyZSBhcm91bmQgdGhlIFJQQyBjYWxsIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0gbG9nZ2VyIGEgbG9nZ2VyIGluc3RhbmNlIHRvIHVzZS5cbiAqIEBwYXJhbSA8ST4gdGhlIHR5cGUgb2YgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICogQHBhcmFtIDxPPiB0aGUgdHlwZSBvZiB0aGUgcmVzcG9uc2Ugb2JqZWN0LlxuICovXG5jb25zdCByZXRyeWFibGUgPSBhc3luYyA8SSBleHRlbmRzIG9iamVjdCwgTyBleHRlbmRzIFNmdVJlc3BvbnNlV2l0aEVycm9yPihcbiAgcnBjOiAoKSA9PiBVbmFyeUNhbGw8SSwgTz4sXG4gIGxvZ2dlcjogTG9nZ2VyLFxuICBsZXZlbDogTG9nTGV2ZWwgPSAnZXJyb3InLFxuKSA9PiB7XG4gIGxldCByZXRyeUF0dGVtcHQgPSAwO1xuICBsZXQgcnBjQ2FsbFJlc3VsdDogRmluaXNoZWRVbmFyeUNhbGw8SSwgTz47XG4gIGRvIHtcbiAgICAvLyBkb24ndCBkZWxheSB0aGUgZmlyc3QgaW52b2NhdGlvblxuICAgIGlmIChyZXRyeUF0dGVtcHQgPiAwKSB7XG4gICAgICBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKHJldHJ5QXR0ZW1wdCkpO1xuICAgIH1cblxuICAgIHJwY0NhbGxSZXN1bHQgPSBhd2FpdCBycGMoKTtcblxuICAgIC8vIGlmIHRoZSBSUEMgY2FsbCBmYWlsZWQsIGxvZyB0aGUgZXJyb3IgYW5kIHJldHJ5XG4gICAgaWYgKHJwY0NhbGxSZXN1bHQucmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIGBTRlUgUlBDIEVycm9yICgke3JwY0NhbGxSZXN1bHQubWV0aG9kLm5hbWV9KTpgLFxuICAgICAgICBycGNDYWxsUmVzdWx0LnJlc3BvbnNlLmVycm9yLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0cnlBdHRlbXB0Kys7XG4gIH0gd2hpbGUgKFxuICAgIHJwY0NhbGxSZXN1bHQucmVzcG9uc2UuZXJyb3I/LnNob3VsZFJldHJ5ICYmXG4gICAgcmV0cnlBdHRlbXB0IDwgTUFYX1JFVFJJRVNcbiAgKTtcblxuICBpZiAocnBjQ2FsbFJlc3VsdC5yZXNwb25zZS5lcnJvcikge1xuICAgIHRocm93IHJwY0NhbGxSZXN1bHQucmVzcG9uc2UuZXJyb3I7XG4gIH1cblxuICByZXR1cm4gcnBjQ2FsbFJlc3VsdDtcbn07XG4iLCJpbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgdHlwZSB7IENhbGxBY2NlcHRlZEV2ZW50LCBDYWxsUmVqZWN0ZWRFdmVudCB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZWQgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmFjY2VwdGVkYC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBqb2luZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxBY2NlcHRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxBY2NlcHRlZChldmVudDogQ2FsbEFjY2VwdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbGw7XG4gICAgaWYgKFxuICAgICAgZXZlbnQuY2FsbC5jcmVhdGVkX2J5LmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQgJiZcbiAgICAgIHN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkdcbiAgICApIHtcbiAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZGVsaXZlcnkgb2YgYGNhbGwucmVqZWN0ZWRgIFdlYnNvY2tldCBldmVudC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBsZWZ0LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsUmVqZWN0ZWQgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gb25DYWxsUmVqZWN0ZWQoZXZlbnQ6IENhbGxSZWplY3RlZEV2ZW50KSB7XG4gICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIHRoZSBldmVudCBpZiBpdCdzIGZyb20gdGhlIGN1cnJlbnQgdXNlclxuICAgIGlmIChldmVudC51c2VyLmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQpIHJldHVybjtcbiAgICBjb25zdCB7IGNhbGw6IGV2ZW50Q2FsbCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBzZXNzaW9uOiBjYWxsU2Vzc2lvbiB9ID0gZXZlbnRDYWxsO1xuXG4gICAgaWYgKCFjYWxsU2Vzc2lvbikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ05vIGNhbGwgc2Vzc2lvbiBwcm92aWRlZC4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVqZWN0ZWRCeSA9IGNhbGxTZXNzaW9uLnJlamVjdGVkX2J5O1xuICAgIGNvbnN0IHsgbWVtYmVycywgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnQ2FsbCBpcyBub3QgaW4gcmluZ2luZyBtb2RlIChpdCBpcyBlaXRoZXIgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgYWxyZWFkeSkuIElnbm9yaW5nIGNhbGwucmVqZWN0ZWQgZXZlbnQuJyxcbiAgICAgICAgZXZlbnQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FsbC5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICBjb25zdCBldmVyeW9uZUVsc2VSZWplY3RlZCA9IG1lbWJlcnNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gbS51c2VyX2lkICE9PSBjYWxsLmN1cnJlbnRVc2VySWQpXG4gICAgICAgIC5ldmVyeSgobSkgPT4gcmVqZWN0ZWRCeVttLnVzZXJfaWRdKTtcbiAgICAgIGlmIChldmVyeW9uZUVsc2VSZWplY3RlZCkge1xuICAgICAgICBjYWxsLmxvZ2dlcignaW5mbycsICdldmVyeW9uZSByZWplY3RlZCwgbGVhdmluZyB0aGUgY2FsbCcpO1xuICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiAncmluZzogZXZlcnlvbmUgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVqZWN0ZWRCeVtldmVudENhbGwuY3JlYXRlZF9ieS5pZF0pIHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2luZm8nLCAnY2FsbCBjcmVhdG9yIHJlamVjdGVkLCBsZWF2aW5nIGNhbGwnKTtcbiAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IHJlYXNvbjogJ3Jpbmc6IGNyZWF0b3IgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmVuZGVkYCBXZWJzb2NrZXQgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxFbmRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxFbmRlZCgpIHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSB9ID0gY2FsbC5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HIHx8XG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQgfHxcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5JTkdcbiAgICApIHtcbiAgICAgIGF3YWl0IGNhbGwubGVhdmUoeyByZWFzb246ICdjYWxsLmVuZGVkIGV2ZW50IHJlY2VpdmVkJyB9KTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBDYWxsR3JhbnRzVXBkYXRlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgdGhhdCB3YXRjaGVzIGZvciBgY2FsbEdyYW50c1VwZGF0ZWRgIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgdGhlIGNhbGwgc3RhdGUgdG8gdXBkYXRlLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvbkNhbGxHcmFudHNVcGRhdGVkKGV2ZW50OiBDYWxsR3JhbnRzVXBkYXRlZCkge1xuICAgIGNvbnN0IHsgY3VycmVudEdyYW50cyB9ID0gZXZlbnQ7XG4gICAgaWYgKGN1cnJlbnRHcmFudHMpIHtcbiAgICAgIGNvbnN0IHsgY2FuUHVibGlzaEF1ZGlvLCBjYW5QdWJsaXNoVmlkZW8sIGNhblNjcmVlbnNoYXJlIH0gPVxuICAgICAgICBjdXJyZW50R3JhbnRzO1xuXG4gICAgICBjb25zdCB1cGRhdGU6IFBhcnRpYWw8UmVjb3JkPE93bkNhcGFiaWxpdHksIGJvb2xlYW4+PiA9IHtcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9BVURJT106IGNhblB1Ymxpc2hBdWRpbyxcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9WSURFT106IGNhblB1Ymxpc2hWaWRlbyxcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdOiBjYW5TY3JlZW5zaGFyZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG5leHRDYXBhYmlsaXRpZXMgPSBzdGF0ZS5vd25DYXBhYmlsaXRpZXMuZmlsdGVyKFxuICAgICAgICAoY2FwYWJpbGl0eSkgPT4gdXBkYXRlW2NhcGFiaWxpdHldICE9PSBmYWxzZSxcbiAgICAgICk7XG4gICAgICBPYmplY3QuZW50cmllcyh1cGRhdGUpLmZvckVhY2goKFtjYXBhYmlsaXR5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlICYmICFuZXh0Q2FwYWJpbGl0aWVzLmluY2x1ZGVzKGNhcGFiaWxpdHkgYXMgT3duQ2FwYWJpbGl0eSkpIHtcbiAgICAgICAgICBuZXh0Q2FwYWJpbGl0aWVzLnB1c2goY2FwYWJpbGl0eSBhcyBPd25DYXBhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhuZXh0Q2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IFBpbnNDaGFuZ2VkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgRXJyb3JDb2RlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydldmVudHMnXSk7XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBjaGFuZ2VQdWJsaXNoUXVhbGl0eWAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENoYW5nZVB1Ymxpc2hRdWFsaXR5ID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBjYWxsOiBDYWxsLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdjaGFuZ2VQdWJsaXNoUXVhbGl0eScsIChlKSA9PiB7XG4gICAgY29uc3QgeyB2aWRlb1NlbmRlcnMgfSA9IGU7XG4gICAgdmlkZW9TZW5kZXJzLmZvckVhY2goKHZpZGVvU2VuZGVyKSA9PiB7XG4gICAgICBjb25zdCB7IGxheWVycyB9ID0gdmlkZW9TZW5kZXI7XG4gICAgICBjYWxsLnVwZGF0ZVB1Ymxpc2hRdWFsaXR5KGxheWVycy5maWx0ZXIoKGwpID0+IGwuYWN0aXZlKSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzIH0gPSBlO1xuICAgIGlmICghY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzKSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChwYXRjaGVzLCB1cGRhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNlc3Npb25JZCwgY29ubmVjdGlvblF1YWxpdHkgfSA9IHVwZGF0ZTtcbiAgICAgICAgICBwYXRjaGVzW3Nlc3Npb25JZF0gPSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGFwcHJveGltYXRlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwgYnkgcGVla2luZyBhdCB0aGVcbiAqIGhlYWx0aCBjaGVjayBldmVudHMgdGhhdCBvdXIgU0ZVIHNlbmRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignaGVhbHRoQ2hlY2tSZXNwb25zZScsIChlKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50IH0gPSBlO1xuICAgIGlmIChwYXJ0aWNpcGFudENvdW50KSB7XG4gICAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQudG90YWwpO1xuICAgICAgc3RhdGUuc2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50LmFub255bW91cyk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB3YXRjaExpdmVFbmRlZCA9IChkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgaWYgKGUuZXJyb3IgJiYgZS5lcnJvci5jb2RlICE9PSBFcnJvckNvZGUuTElWRV9FTkRFRCkgcmV0dXJuO1xuXG4gICAgaWYgKCFjYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuSk9JTl9CQUNLU1RBR0UpKSB7XG4gICAgICBjYWxsLmxlYXZlKHsgcmVhc29uOiAnbGl2ZSBlbmRlZCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGxpdmUgZW5kZWQnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBhbmQgbG9ncyB0aGUgZXJyb3JzIHJlcG9ydGVkIGJ5IHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIFNGVS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1RXJyb3JSZXBvcnRzID0gKGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBpZiAoIWUuZXJyb3IpIHJldHVybjtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBlO1xuICAgIGxvZ2dlcignZXJyb3InLCAnU0ZVIHJlcG9ydGVkIGVycm9yJywge1xuICAgICAgY29kZTogRXJyb3JDb2RlW2Vycm9yLmNvZGVdLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHNob3VsZFJldHJ5OiBlcnJvci5zaG91bGRSZXRyeSxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBwaW5zVXBkYXRlZGAgZXZlbnRzIGFuZCB1cGRhdGVzIHRoZSBwaW5uZWQgc3RhdGUgb2YgcGFydGljaXBhbnRzXG4gKiBpbiB0aGUgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGluc1VwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QaW5zVXBkYXRlZChlOiBQaW5zQ2hhbmdlZCkge1xuICAgIGNvbnN0IHsgcGlucyB9ID0gZTtcbiAgICBzdGF0ZS5zZXRTZXJ2ZXJTaWRlUGlucyhwaW5zKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQge1xuICBUcmFja1R5cGUsXG4gIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIEFuIGV2ZW50IGhhbmRsZXIgdGhhdCBoYW5kbGVzIHNvZnQgbXV0ZXMuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVSZW1vdGVTb2Z0TXV0ZSA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBjYWxsLm9uKCd0cmFja1VucHVibGlzaGVkJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBjYXVzZSwgdHlwZSwgc2Vzc2lvbklkIH0gPSBldmVudDtcbiAgICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQgfSA9IGNhbGwuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgY2F1c2UgPT09IFRyYWNrVW5wdWJsaXNoUmVhc29uLk1PREVSQVRJT04gJiZcbiAgICAgIHNlc3Npb25JZCA9PT0gbG9jYWxQYXJ0aWNpcGFudD8uc2Vzc2lvbklkXG4gICAgKSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBjYWxsLmxvZ2dlcjtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgTG9jYWwgcGFydGljaXBhbnQncyAke1RyYWNrVHlwZVt0eXBlXX0gdHJhY2sgaXMgbXV0ZWQgcmVtb3RlbHlgLFxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlID09PSBUcmFja1R5cGUuVklERU8pIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLmNhbWVyYS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnVW5zdXBwb3J0ZWQgdHJhY2sgdHlwZSB0byBzb2Z0IG11dGUnLFxuICAgICAgICAgICAgVHJhY2tUeXBlW3R5cGVdLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGwucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcodHlwZSkpIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLnN0b3BQdWJsaXNoKHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBzdG9wIHB1Ymxpc2hpbmcnLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50Sm9pbmVkLFxuICBQYXJ0aWNpcGFudExlZnQsXG4gIFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgVHJhY2tQdWJsaXNoZWQsXG4gIFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIFZpc2liaWxpdHlTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50Sm9pbmVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRKb2luZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudEpvaW5lZChlOiBQYXJ0aWNpcGFudEpvaW5lZCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuICAgIC8vIGBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50YCBhY3RzIGFzIGEgc2FmZWd1YXJkIGFnYWluc3RcbiAgICAvLyBwb3RlbnRpYWwgZHVwbGljYXRlIGV2ZW50cyBmcm9tIHRoZSBTRlUuXG4gICAgLy9cbiAgICAvLyBBbHRob3VnaCB0aGUgU0ZVIHNob3VsZCBub3Qgc2VuZCBkdXBsaWNhdGUgZXZlbnRzLCB3ZSBoYXZlIHNlZW5cbiAgICAvLyBzb21lIHJhY2UgY29uZGl0aW9ucyBpbiB0aGUgcGFzdCBkdXJpbmcgdGhlIGBqb2luLWZsb3dgIHdoZXJlXG4gICAgLy8gdGhlIFNGVSB3b3VsZCBzZW5kIHBhcnRpY2lwYW50IGluZm8gYXMgcGFydCBvZiB0aGUgYGpvaW5gXG4gICAgLy8gcmVzcG9uc2UgYW5kIHRoZW4gZm9sbG93IHVwIHdpdGggYSBgcGFydGljaXBhbnRKb2luZWRgIGV2ZW50IGZvclxuICAgIC8vIGFscmVhZHkgYW5ub3VuY2VkIHBhcnRpY2lwYW50cy5cbiAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KFxuICAgICAgcGFydGljaXBhbnQuc2Vzc2lvbklkLFxuICAgICAgT2JqZWN0LmFzc2lnbjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50LCBQYXJ0aWFsPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+PihcbiAgICAgICAgcGFydGljaXBhbnQsXG4gICAgICAgIHtcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgICAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50TGVmdGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50TGVmdCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBhcnRpY2lwYW50TGVmdChlOiBQYXJ0aWNpcGFudExlZnQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIHN0YXRlLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLmZpbHRlcigocCkgPT4gcC5zZXNzaW9uSWQgIT09IHBhcnRpY2lwYW50LnNlc3Npb25JZCksXG4gICAgKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudFVwZGF0ZWRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudFVwZGF0ZWQoZTogUGFydGljaXBhbnRVcGRhdGVkKSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQocGFydGljaXBhbnQuc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgdHJhY2tQdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgcHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrUHVibGlzaGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uVHJhY2tQdWJsaXNoZWQoZTogVHJhY2tQdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCwgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgLy8gQW4gb3B0aW1pemF0aW9uIGZvciBsYXJnZSBjYWxscy5cbiAgICAvLyBBZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkLCB0aGUgU0ZVIHdvdWxkIHN0b3AgZW1pdHRpbmcgYHBhcnRpY2lwYW50Sm9pbmVkYFxuICAgIC8vIGV2ZW50cywgYW5kIGluc3RlYWQsIGl0IHdvdWxkIG9ubHkgcHJvdmlkZSB0aGUgcGFydGljaXBhbnQncyBpbmZvcm1hdGlvblxuICAgIC8vIG9uY2UgdGhleSBzdGFydCBwdWJsaXNoaW5nIGEgdHJhY2suXG4gICAgaWYgKHBhcnRpY2lwYW50KSB7XG4gICAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KHNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IFsuLi5wLnB1Ymxpc2hlZFRyYWNrcywgdHlwZV0uZmlsdGVyKHVuaXF1ZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHRyYWNrVW5wdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgdW5wdWJsaXNoZXMgYSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblRyYWNrVW5wdWJsaXNoZWQoZTogVHJhY2tVbnB1Ymxpc2hlZCkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLiBTZWUgYHdhdGNoVHJhY2tQdWJsaXNoZWRgLlxuICAgIGlmIChwYXJ0aWNpcGFudCkge1xuICAgICAgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHBhcnRpY2lwYW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocCkgPT4gKHtcbiAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBwLnB1Ymxpc2hlZFRyYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IHR5cGUpLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmNvbnN0IHVuaXF1ZSA9IDxUPih2OiBULCBpOiBudW1iZXIsIGFycjogVFtdKSA9PiBhcnIuaW5kZXhPZih2KSA9PT0gaTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYGRvbWluYW50U3BlYWtlckNoYW5nZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZG9taW5hbnRTcGVha2VyQ2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IGU7XG4gICAgaWYgKHNlc3Npb25JZCA9PT0gc3RhdGUuZG9taW5hbnRTcGVha2VyPy5zZXNzaW9uSWQpIHJldHVybjtcbiAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIC8vIG1hcmsgdGhlIG5ldyBkb21pbmFudCBzcGVha2VyXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIGlzRG9taW5hbnRTcGVha2VyOiB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5tYXJrIHRoZSBvbGQgZG9taW5hbnQgc3BlYWtlclxuICAgICAgICBpZiAocGFydGljaXBhbnQuaXNEb21pbmFudFNwZWFrZXIpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnQ7IC8vIG5vIGNoYW5nZVxuICAgICAgfSksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBhdWRpb0xldmVsQ2hhbmdlZGAgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignYXVkaW9MZXZlbENoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgYXVkaW9MZXZlbHMgfSA9IGU7XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgYXVkaW9MZXZlbHMucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPigocGF0Y2hlcywgY3VycmVudCkgPT4ge1xuICAgICAgICBwYXRjaGVzW2N1cnJlbnQuc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICBhdWRpb0xldmVsOiBjdXJyZW50LmxldmVsLFxuICAgICAgICAgIGlzU3BlYWtpbmc6IGN1cnJlbnQuaXNTcGVha2luZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgICB9LCB7fSksXG4gICAgKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQge1xuICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZSxcbiAgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCxcbiAgd2F0Y2hDYWxsQWNjZXB0ZWQsXG4gIHdhdGNoQ2FsbEVuZGVkLFxuICB3YXRjaENhbGxHcmFudHNVcGRhdGVkLFxuICB3YXRjaENhbGxSZWplY3RlZCxcbiAgd2F0Y2hDaGFuZ2VQdWJsaXNoUXVhbGl0eSxcbiAgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCxcbiAgd2F0Y2hMaXZlRW5kZWQsXG4gIHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQsXG4gIHdhdGNoUGFydGljaXBhbnRKb2luZWQsXG4gIHdhdGNoUGFydGljaXBhbnRMZWZ0LFxuICB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgd2F0Y2hQaW5zVXBkYXRlZCxcbiAgd2F0Y2hTZnVFcnJvclJlcG9ydHMsXG4gIHdhdGNoVHJhY2tQdWJsaXNoZWQsXG4gIHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCxcbn0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7XG4gIEFsbENhbGxFdmVudHMsXG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gIENhbGxFdmVudExpc3RlbmVyLFxufSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcblxudHlwZSBSaW5nQ2FsbEV2ZW50cyA9IEV4dHJhY3Q8XG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gICdjYWxsLmFjY2VwdGVkJyB8ICdjYWxsLnJlamVjdGVkJyB8ICdjYWxsLm1pc3NlZCdcbj47XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgZHVyaW5nIGl0cyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlLlxuICogQHBhcmFtIGRpc3BhdGNoZXIgdGhlIGRpc3BhdGNoZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlckV2ZW50SGFuZGxlcnMgPSAoXG4gIGNhbGw6IENhbGwsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4pID0+IHtcbiAgY29uc3QgZXZlbnRIYW5kbGVycyA9IFtcbiAgICBjYWxsLm9uKCdjYWxsLmVuZGVkJywgd2F0Y2hDYWxsRW5kZWQoY2FsbCkpLFxuXG4gICAgd2F0Y2hMaXZlRW5kZWQoZGlzcGF0Y2hlciwgY2FsbCksXG4gICAgd2F0Y2hTZnVFcnJvclJlcG9ydHMoZGlzcGF0Y2hlciksXG4gICAgd2F0Y2hDaGFuZ2VQdWJsaXNoUXVhbGl0eShkaXNwYXRjaGVyLCBjYWxsKSxcbiAgICB3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG4gICAgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG5cbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudEpvaW5lZCcsIHdhdGNoUGFydGljaXBhbnRKb2luZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudExlZnQnLCB3YXRjaFBhcnRpY2lwYW50TGVmdChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BhcnRpY2lwYW50VXBkYXRlZCcsIHdhdGNoUGFydGljaXBhbnRVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBjYWxsLm9uKCd0cmFja1B1Ymxpc2hlZCcsIHdhdGNoVHJhY2tQdWJsaXNoZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCd0cmFja1VucHVibGlzaGVkJywgd2F0Y2hUcmFja1VucHVibGlzaGVkKHN0YXRlKSksXG5cbiAgICB3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcbiAgICB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuXG4gICAgY2FsbC5vbignY2FsbEdyYW50c1VwZGF0ZWQnLCB3YXRjaENhbGxHcmFudHNVcGRhdGVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigncGluc1VwZGF0ZWQnLCB3YXRjaFBpbnNVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZShjYWxsKSxcbiAgXTtcblxuICBpZiAoY2FsbC5yaW5naW5nKSB7XG4gICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBvbmx5IHJlbGV2YW50IHdoZW4gdGhlIGNhbGwgaXMgcmluZ2luZ1xuICAgIGV2ZW50SGFuZGxlcnMucHVzaChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyhjYWxsKSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgZXZlbnQgaGFuZGxlcnMgZm9yIGEgY2FsbCB0aGF0IGlzIG9mIHJpbmdpbmcgdHlwZS5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZWdpc3RlciBldmVudCBoYW5kbGVycyBmb3IuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIGNvbnN0IGNvb3JkaW5hdG9yUmluZ0V2ZW50czoge1xuICAgIFtrZXkgaW4gUmluZ0NhbGxFdmVudHNdOiAoXG4gICAgICBjYWxsOiBDYWxsLFxuICAgICkgPT4gQ2FsbEV2ZW50TGlzdGVuZXI8QWxsQ2FsbEV2ZW50c1trZXldPjtcbiAgfSA9IHtcbiAgICAnY2FsbC5hY2NlcHRlZCc6IHdhdGNoQ2FsbEFjY2VwdGVkKGNhbGwpLFxuICAgICdjYWxsLnJlamVjdGVkJzogd2F0Y2hDYWxsUmVqZWN0ZWQoY2FsbCksXG4gIH07XG5cbiAgY29uc3QgZXZlbnRIYW5kbGVycyA9IE9iamVjdC5rZXlzKGNvb3JkaW5hdG9yUmluZ0V2ZW50cykubWFwKChldmVudCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2ZW50IGFzIFJpbmdDYWxsRXZlbnRzO1xuICAgIHJldHVybiBjYWxsLm9uKGV2ZW50TmFtZSwgY29vcmRpbmF0b3JSaW5nRXZlbnRzW2V2ZW50TmFtZV0pO1xuICB9KTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcbiIsImltcG9ydCB7XG4gIElDRVNlcnZlcixcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBKb2luQ2FsbFJlc3BvbnNlLFxufSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgSm9pbkNhbGxEYXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi4vLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuXG4vKipcbiAqIENvbGxlY3RzIGFsbCBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gam9pbiBhIGNhbGwsIHRhbGtzIHRvIHRoZSBjb29yZGluYXRvclxuICogYW5kIHJldHVybnMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBqb2luIHRoZSBjYWxsLlxuICpcbiAqIEBwYXJhbSBodHRwQ2xpZW50IHRoZSBodHRwIGNsaWVudCB0byB1c2UuXG4gKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgY2FsbC5cbiAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwuXG4gKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSBmb3IgdGhlIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBqb2luID0gYXN5bmMgKFxuICBodHRwQ2xpZW50OiBTdHJlYW1DbGllbnQsXG4gIHR5cGU6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgZGF0YT86IEpvaW5DYWxsRGF0YSxcbikgPT4ge1xuICBjb25zdCB7IGNhbGwsIGNyZWRlbnRpYWxzLCBtZW1iZXJzLCBvd25fY2FwYWJpbGl0aWVzLCBzdGF0c19vcHRpb25zIH0gPVxuICAgIGF3YWl0IGRvSm9pbihodHRwQ2xpZW50LCB0eXBlLCBpZCwgZGF0YSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0aW9uQ29uZmlnOiB0b1J0Y0NvbmZpZ3VyYXRpb24oY3JlZGVudGlhbHMuaWNlX3NlcnZlcnMpLFxuICAgIHNmdVNlcnZlcjogY3JlZGVudGlhbHMuc2VydmVyLFxuICAgIHRva2VuOiBjcmVkZW50aWFscy50b2tlbixcbiAgICBtZXRhZGF0YTogY2FsbCxcbiAgICBtZW1iZXJzLFxuICAgIG93bkNhcGFiaWxpdGllczogb3duX2NhcGFiaWxpdGllcyxcbiAgICBzdGF0c09wdGlvbnM6IHN0YXRzX29wdGlvbnMsXG4gIH07XG59O1xuXG5jb25zdCBkb0pvaW4gPSBhc3luYyAoXG4gIGh0dHBDbGllbnQ6IFN0cmVhbUNsaWVudCxcbiAgdHlwZTogc3RyaW5nLFxuICBpZDogc3RyaW5nLFxuICBkYXRhPzogSm9pbkNhbGxEYXRhLFxuKSA9PiB7XG4gIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgaHR0cENsaWVudC5nZXRMb2NhdGlvbkhpbnQoKTtcbiAgY29uc3QgcmVxdWVzdDogSm9pbkNhbGxSZXF1ZXN0ID0ge1xuICAgIC4uLmRhdGEsXG4gICAgbG9jYXRpb24sXG4gIH07XG4gIHJldHVybiBodHRwQ2xpZW50LnBvc3Q8Sm9pbkNhbGxSZXNwb25zZSwgSm9pbkNhbGxSZXF1ZXN0PihcbiAgICBgL2NhbGwvJHt0eXBlfS8ke2lkfS9qb2luYCxcbiAgICByZXF1ZXN0LFxuICApO1xufTtcblxuY29uc3QgdG9SdGNDb25maWd1cmF0aW9uID0gKGNvbmZpZz86IElDRVNlcnZlcltdKSA9PiB7XG4gIGlmICghY29uZmlnIHx8IGNvbmZpZy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IHJ0Y0NvbmZpZzogUlRDQ29uZmlndXJhdGlvbiA9IHtcbiAgICBpY2VTZXJ2ZXJzOiBjb25maWcubWFwKChpY2UpID0+ICh7XG4gICAgICB1cmxzOiBpY2UudXJscyxcbiAgICAgIHVzZXJuYW1lOiBpY2UudXNlcm5hbWUsXG4gICAgICBjcmVkZW50aWFsOiBpY2UucGFzc3dvcmQsXG4gICAgfSkpLFxuICB9O1xuICByZXR1cm4gcnRjQ29uZmlnO1xufTtcbiIsImltcG9ydCB7IExvY2FsQ2xpZW50RGV0YWlsc1R5cGUgfSBmcm9tICcuLi9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBTZGssIFNka1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIEZsYXR0ZW4gdGhlIHN0YXRzIHJlcG9ydCBpbnRvIGFuIGFycmF5IG9mIHN0YXRzIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIGZsYXR0ZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBmbGF0dGVuID0gKHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpID0+IHtcbiAgY29uc3Qgc3RhdHM6IFJUQ1N0YXRzW10gPSBbXTtcbiAgcmVwb3J0LmZvckVhY2goKHMpID0+IHtcbiAgICBzdGF0cy5wdXNoKHMpO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka1NpZ25hdHVyZSA9IChjbGllbnREZXRhaWxzOiBMb2NhbENsaWVudERldGFpbHNUeXBlKSA9PiB7XG4gIGNvbnN0IHsgc2RrLCAuLi5wbGF0Zm9ybSB9ID0gY2xpZW50RGV0YWlscztcbiAgY29uc3Qgc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgY29uc3Qgc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICByZXR1cm4ge1xuICAgIHNka05hbWUsXG4gICAgc2RrVmVyc2lvbixcbiAgICAuLi5wbGF0Zm9ybSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtOYW1lID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RcbiAgICA/ICdzdHJlYW0tcmVhY3QnXG4gICAgOiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RfTkFUSVZFXG4gICAgICA/ICdzdHJlYW0tcmVhY3QtbmF0aXZlJ1xuICAgICAgOiAnc3RyZWFtLWpzJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtWZXJzaW9uID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgPyBgJHtzZGsubWFqb3J9LiR7c2RrLm1pbm9yfS4ke3Nkay5wYXRjaH1gIDogJzAuMC4wLWRldmVsb3BtZW50Jztcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCxcbiAgQmFzZVN0YXRzLFxuICBQYXJ0aWNpcGFudHNTdGF0c1JlcG9ydCxcbiAgU3RhdHNSZXBvcnQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaGVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXJPcHRzID0ge1xuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG4gIGRhdGFjZW50ZXI6IHN0cmluZztcbiAgcG9sbGluZ0ludGVydmFsSW5Ncz86IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXIgPSB7XG4gIC8qKlxuICAgKiBXaWxsIHR1cm4gb24gc3RhdHMgcmVwb3J0aW5nIGZvciBhIGdpdmVuIHNlc3Npb25JZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3I6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogV2lsbCB0dXJuIG9mZiBzdGF0cyByZXBvcnRpbmcgZm9yIGEgZ2l2ZW4gc2Vzc2lvbklkLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgc3RhdHMgZm9yIGEgZ2l2ZW4gcGVlciBjb25uZWN0aW9uIGtpbmRcbiAgICogYW5kIG1lZGlhIHN0cmVhbSBmbG93aW5nIHRocm91Z2ggaXQuXG4gICAqXG4gICAqIEBwYXJhbSBraW5kIHRoZSBwZWVyIGNvbm5lY3Rpb24ga2luZCAoc3Vic2NyaWJlciBvciBwdWJsaXNoZXIpLlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbS5cbiAgICovXG4gIGdldFN0YXRzRm9yU3RyZWFtOiAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLFxuICApID0+IFByb21pc2U8U3RhdHNSZXBvcnRbXT47XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgcmF3IHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIHNlbGVjdG9yIHRoZSB0cmFjayBzZWxlY3Rvci4gSWYgbm90IHByb3ZpZGVkLCBzdGF0cyBmb3IgYWxsIHRyYWNrcyB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0UmF3U3RhdHNGb3JUcmFjazogKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiBQcm9taXNlPFJUQ1N0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIHN0YXRzIHJlcG9ydGVyIGFuZCByZWxlYXNlcyBhbGwgcmVzb3VyY2VzLlxuICAgKi9cbiAgc3RvcDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdGF0c1JlcG9ydGVyIGluc3RhbmNlIHRoYXQgY29sbGVjdHMgbWV0cmljcyBhYm91dCB0aGUgb25nb2luZyBjYWxsIGFuZCByZXBvcnRzIHRoZW0gdG8gdGhlIHN0YXRlIHN0b3JlXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0c1JlcG9ydGVyID0gKHtcbiAgc3Vic2NyaWJlcixcbiAgcHVibGlzaGVyLFxuICBzdGF0ZSxcbiAgZGF0YWNlbnRlcixcbiAgcG9sbGluZ0ludGVydmFsSW5NcyA9IDIwMDAsXG59OiBTdGF0c1JlcG9ydGVyT3B0cyk6IFN0YXRzUmVwb3J0ZXIgPT4ge1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzdGF0cyddKTtcbiAgY29uc3QgZ2V0UmF3U3RhdHNGb3JUcmFjayA9IGFzeW5jIChcbiAgICBraW5kOiAnc3Vic2NyaWJlcicgfCAncHVibGlzaGVyJyxcbiAgICBzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2ssXG4gICkgPT4ge1xuICAgIGlmIChraW5kID09PSAnc3Vic2NyaWJlcicgJiYgc3Vic2NyaWJlcikge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZXIuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3B1Ymxpc2hlcicgJiYgcHVibGlzaGVyKSB7XG4gICAgICByZXR1cm4gcHVibGlzaGVyLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RhdHNGb3JTdHJlYW0gPSBhc3luYyAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLFxuICApID0+IHtcbiAgICBjb25zdCBwYyA9IGtpbmQgPT09ICdzdWJzY3JpYmVyJyA/IHN1YnNjcmliZXIgOiBwdWJsaXNoZXI7XG4gICAgaWYgKCFwYykgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHN0YXRzRm9yU3RyZWFtOiBTdGF0c1JlcG9ydFtdID0gW107XG4gICAgZm9yIChsZXQgdHJhY2sgb2YgbWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHBjLmdldFN0YXRzKHRyYWNrKTtcbiAgICAgIGNvbnN0IHN0YXRzID0gdHJhbnNmb3JtKHJlcG9ydCwge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRyYWNrS2luZDogdHJhY2sua2luZCxcbiAgICAgICAga2luZCxcbiAgICAgIH0pO1xuICAgICAgc3RhdHNGb3JTdHJlYW0ucHVzaChzdGF0cyk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0c0ZvclN0cmVhbTtcbiAgfTtcblxuICBjb25zdCBzdGFydFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2Vzc2lvbklkc1RvVHJhY2suYWRkKHNlc3Npb25JZCk7XG4gICAgdm9pZCBydW4oKTtcbiAgfTtcblxuICBjb25zdCBzdG9wUmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXNzaW9uSWRzVG9UcmFjay5kZWxldGUoc2Vzc2lvbklkKTtcbiAgICB2b2lkIHJ1bigpO1xuICB9O1xuXG4gIGNvbnN0IHNlc3Npb25JZHNUb1RyYWNrID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIHN0YXRzIHJlcG9ydGluZyBsb29wLlxuICAgKi9cbiAgY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50U3RhdHM6IFBhcnRpY2lwYW50c1N0YXRzUmVwb3J0ID0ge307XG4gICAgY29uc3Qgc2Vzc2lvbklkcyA9IG5ldyBTZXQoc2Vzc2lvbklkc1RvVHJhY2spO1xuICAgIGlmIChzZXNzaW9uSWRzLnNpemUgPiAwKSB7XG4gICAgICBmb3IgKGxldCBwYXJ0aWNpcGFudCBvZiBzdGF0ZS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uSWRzLmhhcyhwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qga2luZCA9IHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgID8gJ3B1Ymxpc2hlcidcbiAgICAgICAgICA6ICdzdWJzY3JpYmVyJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXJnZWRTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oW1xuICAgICAgICAgICAgLi4uKHBhcnRpY2lwYW50LnZpZGVvU3RyZWFtPy5nZXRWaWRlb1RyYWNrcygpIHx8IFtdKSxcbiAgICAgICAgICAgIC4uLihwYXJ0aWNpcGFudC5hdWRpb1N0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKSB8fCBbXSksXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgcGFydGljaXBhbnRTdGF0c1twYXJ0aWNpcGFudC5zZXNzaW9uSWRdID0gYXdhaXQgZ2V0U3RhdHNGb3JTdHJlYW0oXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgbWVyZ2VkU3RyZWFtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbWVyZ2VkU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICAgIG1lcmdlZFN0cmVhbS5yZW1vdmVUcmFjayh0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcihcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICBgRmFpbGVkIHRvIGNvbGxlY3Qgc3RhdHMgZm9yICR7a2luZH0gb2YgJHtwYXJ0aWNpcGFudC51c2VySWR9YCxcbiAgICAgICAgICAgIGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyU3RhdHMsIHB1Ymxpc2hlclN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHN1YnNjcmliZXJcbiAgICAgICAgLmdldFN0YXRzKClcbiAgICAgICAgLnRoZW4oKHJlcG9ydCkgPT5cbiAgICAgICAgICB0cmFuc2Zvcm0ocmVwb3J0LCB7XG4gICAgICAgICAgICBraW5kOiAnc3Vic2NyaWJlcicsXG4gICAgICAgICAgICB0cmFja0tpbmQ6ICd2aWRlbycsXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oYWdncmVnYXRlKSxcbiAgICAgIHB1Ymxpc2hlclxuICAgICAgICA/IHB1Ymxpc2hlclxuICAgICAgICAgICAgLmdldFN0YXRzKClcbiAgICAgICAgICAgIC50aGVuKChyZXBvcnQpID0+XG4gICAgICAgICAgICAgIHRyYW5zZm9ybShyZXBvcnQsIHtcbiAgICAgICAgICAgICAgICBraW5kOiAncHVibGlzaGVyJyxcbiAgICAgICAgICAgICAgICB0cmFja0tpbmQ6ICd2aWRlbycsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oYWdncmVnYXRlKVxuICAgICAgICA6IGdldEVtcHR5U3RhdHMoKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyUmF3U3RhdHMsIHB1Ymxpc2hlclJhd1N0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldFJhd1N0YXRzRm9yVHJhY2soJ3N1YnNjcmliZXInKSxcbiAgICAgIHB1Ymxpc2hlciA/IGdldFJhd1N0YXRzRm9yVHJhY2soJ3B1Ymxpc2hlcicpIDogdW5kZWZpbmVkLFxuICAgIF0pO1xuXG4gICAgc3RhdGUuc2V0Q2FsbFN0YXRzUmVwb3J0KHtcbiAgICAgIGRhdGFjZW50ZXIsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJSYXdTdGF0cyxcbiAgICAgIHB1Ymxpc2hlclJhd1N0YXRzLFxuICAgICAgcGFydGljaXBhbnRzOiBwYXJ0aWNpcGFudFN0YXRzLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0pO1xuICB9O1xuXG4gIGxldCB0aW1lb3V0SWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBpZiAocG9sbGluZ0ludGVydmFsSW5NcyA+IDApIHtcbiAgICBjb25zdCBsb29wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcnVuKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgbG9nZ2VyKCdkZWJ1ZycsICdGYWlsZWQgdG8gY29sbGVjdCBzdGF0cycsIGUpO1xuICAgICAgfSk7XG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGxvb3AsIHBvbGxpbmdJbnRlcnZhbEluTXMpO1xuICAgIH07XG4gICAgdm9pZCBsb29wKCk7XG4gIH1cblxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFJhd1N0YXRzRm9yVHJhY2ssXG4gICAgZ2V0U3RhdHNGb3JTdHJlYW0sXG4gICAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcixcbiAgICBzdG9wUmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzVHJhbnNmb3JtT3B0cyA9IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHRyYWNrIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAgdHJhY2tLaW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJztcblxuICAvKipcbiAgICogVGhlIGtpbmQgb2YgcGVlciBjb25uZWN0aW9uIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcic7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgcmF3IFJUQyBzdGF0cyBpbnRvIGEgc2xpbW1lciBhbmQgdW5pZm9ybSBhY3Jvc3MgYnJvd3NlcnMgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gb3B0cyB0aGUgdHJhbnNmb3JtIG9wdGlvbnMuXG4gKi9cbmNvbnN0IHRyYW5zZm9ybSA9IChcbiAgcmVwb3J0OiBSVENTdGF0c1JlcG9ydCxcbiAgb3B0czogU3RhdHNUcmFuc2Zvcm1PcHRzLFxuKTogU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCB7IHRyYWNrS2luZCwga2luZCB9ID0gb3B0cztcbiAgY29uc3QgZGlyZWN0aW9uID0ga2luZCA9PT0gJ3N1YnNjcmliZXInID8gJ2luYm91bmQtcnRwJyA6ICdvdXRib3VuZC1ydHAnO1xuICBjb25zdCBzdGF0cyA9IGZsYXR0ZW4ocmVwb3J0KTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzXG4gICAgLmZpbHRlcihcbiAgICAgIChzdGF0KSA9PlxuICAgICAgICBzdGF0LnR5cGUgPT09IGRpcmVjdGlvbiAmJlxuICAgICAgICAoc3RhdCBhcyBSVENSdHBTdHJlYW1TdGF0cykua2luZCA9PT0gdHJhY2tLaW5kLFxuICAgIClcbiAgICAubWFwKChzdGF0KTogQmFzZVN0YXRzID0+IHtcbiAgICAgIGNvbnN0IHJ0Y1N0cmVhbVN0YXRzID0gc3RhdCBhcyBSVENJbmJvdW5kUnRwU3RyZWFtU3RhdHMgJlxuICAgICAgICBSVENPdXRib3VuZFJ0cFN0cmVhbVN0YXRzO1xuXG4gICAgICBjb25zdCBjb2RlYyA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICdjb2RlYycgJiYgcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMuY29kZWNJZCxcbiAgICAgICkgYXMgeyBtaW1lVHlwZTogc3RyaW5nIH0gfCB1bmRlZmluZWQ7IC8vIEZJWE1FIE9MOiBpbmNvcnJlY3QgdHlwZSFcblxuICAgICAgY29uc3QgdHJhbnNwb3J0ID0gc3RhdHMuZmluZChcbiAgICAgICAgKHMpID0+IHMudHlwZSA9PT0gJ3RyYW5zcG9ydCcgJiYgcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMudHJhbnNwb3J0SWQsXG4gICAgICApIGFzIFJUQ1RyYW5zcG9ydFN0YXRzIHwgdW5kZWZpbmVkO1xuXG4gICAgICBsZXQgcm91bmRUcmlwVGltZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKHRyYW5zcG9ydCAmJiB0cmFuc3BvcnQuZHRsc1N0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVQYWlyID0gc3RhdHMuZmluZChcbiAgICAgICAgICAocykgPT5cbiAgICAgICAgICAgIHMudHlwZSA9PT0gJ2NhbmRpZGF0ZS1wYWlyJyAmJlxuICAgICAgICAgICAgcy5pZCA9PT0gdHJhbnNwb3J0LnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkLFxuICAgICAgICApIGFzIFJUQ0ljZUNhbmRpZGF0ZVBhaXJTdGF0cyB8IHVuZGVmaW5lZDtcbiAgICAgICAgcm91bmRUcmlwVGltZSA9IGNhbmRpZGF0ZVBhaXI/LmN1cnJlbnRSb3VuZFRyaXBUaW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBieXRlc1NlbnQ6IHJ0Y1N0cmVhbVN0YXRzLmJ5dGVzU2VudCxcbiAgICAgICAgYnl0ZXNSZWNlaXZlZDogcnRjU3RyZWFtU3RhdHMuYnl0ZXNSZWNlaXZlZCxcbiAgICAgICAgY29kZWM6IGNvZGVjPy5taW1lVHlwZSxcbiAgICAgICAgY3VycmVudFJvdW5kVHJpcFRpbWU6IHJvdW5kVHJpcFRpbWUsXG4gICAgICAgIGZyYW1lSGVpZ2h0OiBydGNTdHJlYW1TdGF0cy5mcmFtZUhlaWdodCxcbiAgICAgICAgZnJhbWVXaWR0aDogcnRjU3RyZWFtU3RhdHMuZnJhbWVXaWR0aCxcbiAgICAgICAgZnJhbWVzUGVyU2Vjb25kOiBydGNTdHJlYW1TdGF0cy5mcmFtZXNQZXJTZWNvbmQsXG4gICAgICAgIGppdHRlcjogcnRjU3RyZWFtU3RhdHMuaml0dGVyLFxuICAgICAgICBraW5kOiBydGNTdHJlYW1TdGF0cy5raW5kLFxuICAgICAgICAvLyBAdHMtaWdub3JlOiBhdmFpbGFibGUgaW4gQ2hyb21lIG9ubHksIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoaXNcbiAgICAgICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb246IHJ0Y1N0cmVhbVN0YXRzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLFxuICAgICAgICByaWQ6IHJ0Y1N0cmVhbVN0YXRzLnJpZCxcbiAgICAgICAgc3NyYzogcnRjU3RyZWFtU3RhdHMuc3NyYyxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICByYXdTdGF0czogcmVwb3J0LFxuICAgIHN0cmVhbXMsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuY29uc3QgZ2V0RW1wdHlTdGF0cyA9IChzdGF0cz86IFN0YXRzUmVwb3J0KTogQWdncmVnYXRlZFN0YXRzUmVwb3J0ID0+IHtcbiAgcmV0dXJuIHtcbiAgICByYXdSZXBvcnQ6IHN0YXRzID8/IHsgc3RyZWFtczogW10sIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgIHRvdGFsQnl0ZXNTZW50OiAwLFxuICAgIHRvdGFsQnl0ZXNSZWNlaXZlZDogMCxcbiAgICBhdmVyYWdlSml0dGVySW5NczogMCxcbiAgICBhdmVyYWdlUm91bmRUcmlwVGltZUluTXM6IDAsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zOiAnbm9uZScsXG4gICAgaGlnaGVzdEZyYW1lV2lkdGg6IDAsXG4gICAgaGlnaGVzdEZyYW1lSGVpZ2h0OiAwLFxuICAgIGhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQ6IDAsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuLyoqXG4gKiBBZ2dyZWdhdGVzIGdlbmVyaWMgc3RhdHMuXG4gKlxuICogQHBhcmFtIHN0YXRzIHRoZSBzdGF0cyB0byBhZ2dyZWdhdGUuXG4gKi9cbmNvbnN0IGFnZ3JlZ2F0ZSA9IChzdGF0czogU3RhdHNSZXBvcnQpOiBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCBhZ2dyZWdhdGVkU3RhdHMgPSBnZXRFbXB0eVN0YXRzKHN0YXRzKTtcblxuICBsZXQgbWF4QXJlYSA9IC0xO1xuICBjb25zdCBhcmVhID0gKHc6IG51bWJlciwgaDogbnVtYmVyKSA9PiB3ICogaDtcblxuICBjb25zdCBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzLnN0cmVhbXM7XG4gIGNvbnN0IHJlcG9ydCA9IHN0cmVhbXMucmVkdWNlKChhY2MsIHN0cmVhbSkgPT4ge1xuICAgIGFjYy50b3RhbEJ5dGVzU2VudCArPSBzdHJlYW0uYnl0ZXNTZW50IHx8IDA7XG4gICAgYWNjLnRvdGFsQnl0ZXNSZWNlaXZlZCArPSBzdHJlYW0uYnl0ZXNSZWNlaXZlZCB8fCAwO1xuICAgIGFjYy5hdmVyYWdlSml0dGVySW5NcyArPSBzdHJlYW0uaml0dGVyIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyArPSBzdHJlYW0uY3VycmVudFJvdW5kVHJpcFRpbWUgfHwgMDtcblxuICAgIC8vIG5haXZlIGNhbGN1bGF0aW9uIG9mIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICBjb25zdCBzdHJlYW1BcmVhID0gYXJlYShzdHJlYW0uZnJhbWVXaWR0aCB8fCAwLCBzdHJlYW0uZnJhbWVIZWlnaHQgfHwgMCk7XG4gICAgaWYgKHN0cmVhbUFyZWEgPiBtYXhBcmVhKSB7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lV2lkdGggPSBzdHJlYW0uZnJhbWVXaWR0aCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZUhlaWdodCA9IHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQgPSBzdHJlYW0uZnJhbWVzUGVyU2Vjb25kIHx8IDA7XG4gICAgICBtYXhBcmVhID0gc3RyZWFtQXJlYTtcbiAgICB9XG5cbiAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMuYWRkKHN0cmVhbS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbiB8fCAnJyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgYWdncmVnYXRlZFN0YXRzKTtcblxuICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgcmVwb3J0LmF2ZXJhZ2VKaXR0ZXJJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZUppdHRlckluTXMgLyBzdHJlYW1zLmxlbmd0aCkgKiAxMDAwLFxuICAgICk7XG4gICAgcmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyA9IE1hdGgucm91bmQoXG4gICAgICAocmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uID0gW1xuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2NwdScpICYmICdjcHUnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2JhbmR3aWR0aCcpICYmICdiYW5kd2lkdGgnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ290aGVyJykgJiYgJ290aGVyJyxcbiAgXVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAuam9pbignLCAnKTtcbiAgaWYgKHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uKSB7XG4gICAgcmVwb3J0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uO1xuICB9XG5cbiAgcmV0dXJuIHJlcG9ydDtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgU3RhdHNPcHRpb25zIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgZmxhdHRlbiwgZ2V0U2RrTmFtZSwgZ2V0U2RrVmVyc2lvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0V2ViUlRDSW5mbywgTG9jYWxDbGllbnREZXRhaWxzVHlwZSB9IGZyb20gJy4uL2NsaWVudC1kZXRhaWxzJztcblxuZXhwb3J0IHR5cGUgU2Z1U3RhdHNSZXBvcnRlck9wdGlvbnMgPSB7XG4gIG9wdGlvbnM6IFN0YXRzT3B0aW9ucztcbiAgY2xpZW50RGV0YWlsczogTG9jYWxDbGllbnREZXRhaWxzVHlwZTtcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xufTtcblxuZXhwb3J0IGNsYXNzIFNmdVN0YXRzUmVwb3J0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdVN0YXRzUmVwb3J0ZXInXSk7XG5cbiAgcmVhZG9ubHkgb3B0aW9uczogU3RhdHNPcHRpb25zO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG5cbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBzZGtOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2RrVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHdlYlJUQ1ZlcnNpb246IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCxcbiAgICB7IG9wdGlvbnMsIGNsaWVudERldGFpbHMsIHN1YnNjcmliZXIsIHB1Ymxpc2hlciB9OiBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgIGNvbnN0IHdlYlJUQ0luZm8gPSBnZXRXZWJSVENJbmZvKCk7XG5cbiAgICBjb25zdCB7IHNkaywgYnJvd3NlciB9ID0gY2xpZW50RGV0YWlscztcblxuICAgIHRoaXMuc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgICB0aGlzLnNka1ZlcnNpb24gPSBnZXRTZGtWZXJzaW9uKHNkayk7XG5cbiAgICAvLyBUaGUgV2ViUlRDIHZlcnNpb24gaWYgcGFzc2VkIGZyb20gdGhlIFNESywgaXQgaXMgdGFrZW4gZWxzZSB0aGUgYnJvd3NlciBpbmZvIGlzIHNlbnQuXG4gICAgdGhpcy53ZWJSVENWZXJzaW9uID1cbiAgICAgIHdlYlJUQ0luZm8/LnZlcnNpb24gfHxcbiAgICAgIGAke2Jyb3dzZXI/Lm5hbWUgfHwgJyd9LSR7YnJvd3Nlcj8udmVyc2lvbiB8fCAnJ31gIHx8XG4gICAgICAnTi9BJztcbiAgfVxuXG4gIHByaXZhdGUgcnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IFtzdWJzY3JpYmVyU3RhdHMsIHB1Ymxpc2hlclN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5nZXRTdGF0cygpLnRoZW4oZmxhdHRlbikudGhlbihKU09OLnN0cmluZ2lmeSksXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZ2V0U3RhdHMoKS50aGVuKGZsYXR0ZW4pLnRoZW4oSlNPTi5zdHJpbmdpZnkpID8/ICdbXScsXG4gICAgXSk7XG5cbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kU3RhdHMoe1xuICAgICAgc2RrOiB0aGlzLnNka05hbWUsXG4gICAgICBzZGtWZXJzaW9uOiB0aGlzLnNka1ZlcnNpb24sXG4gICAgICB3ZWJydGNWZXJzaW9uOiB0aGlzLndlYlJUQ1ZlcnNpb24sXG4gICAgICBzdWJzY3JpYmVyU3RhdHMsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICB9KTtcbiAgfTtcblxuICBzdGFydCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcG9ydGluZ19pbnRlcnZhbF9tcyA8PSAwKSByZXR1cm47XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5ydW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byByZXBvcnQgc3RhdHMnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSwgdGhpcy5vcHRpb25zLnJlcG9ydGluZ19pbnRlcnZhbF9tcyk7XG4gIH07XG5cbiAgc3RvcCA9ICgpID0+IHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICB9O1xufVxuIiwiY29uc3QgREVGQVVMVF9USFJFU0hPTEQgPSAwLjM1O1xuXG5leHBvcnQgdHlwZSBFbnRyeUhhbmRsZXIgPSAoZW50cnk6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFVub2JzZXJ2ZSA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIE9ic2VydmUgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBlbnRyeUhhbmRsZXI6IEVudHJ5SGFuZGxlcixcbikgPT4gVW5vYnNlcnZlO1xuXG5leHBvcnQgY2xhc3MgVmlld3BvcnRUcmFja2VyIHtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGVsZW1lbnRIYW5kbGVyTWFwOiBNYXA8XG4gICAgSFRNTEVsZW1lbnQsXG4gICAgKGVudHJ5OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB2b2lkXG4gID4gPSBuZXcgTWFwKCk7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBvYnNlcnZlcjogSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcbiAgLy8gaW4gUmVhY3QgY2hpbGRyZW4gcmVuZGVyIGJlZm9yZSB2aWV3cG9ydCBpcyBzZXQsIGFkZFxuICAvLyB0aGVtIHRvIHRoZSBxdWV1ZSBhbmQgb2JzZXJ2ZSB0aGVtIG9uY2UgdGhlIG9ic2VydmVyIGlzIHJlYWR5XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBxdWV1ZVNldDogU2V0PHJlYWRvbmx5IFtIVE1MRWxlbWVudCwgRW50cnlIYW5kbGVyXT4gPSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBzZXQgc2Nyb2xsYWJsZSB2aWV3cG9ydCBhcyByb290IGZvciB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIHJldHVybnNcbiAgICogY2xlYW51cCBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHVwb24gZGlzcG9zaW5nIG9mIHRoZSBET00gZWxlbWVudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgKlxuICAgKiBAcGFyYW0gdmlld3BvcnRFbGVtZW50XG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zIFVub2JzZXJ2ZVxuICAgKi9cbiAgcHVibGljIHNldFZpZXdwb3J0ID0gKFxuICAgIHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgb3B0aW9ucz86IFBpY2s8SW50ZXJzZWN0aW9uT2JzZXJ2ZXJJbml0LCAndGhyZXNob2xkJyB8ICdyb290TWFyZ2luJz4sXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5lbGVtZW50SGFuZGxlck1hcC5nZXQoXG4gICAgICAgICAgICBlbnRyeS50YXJnZXQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBoYW5kbGVyPy4oZW50cnkpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvb3Q6IHZpZXdwb3J0RWxlbWVudCxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGhyZXNob2xkOiBvcHRpb25zPy50aHJlc2hvbGQgPz8gREVGQVVMVF9USFJFU0hPTEQsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5xdWV1ZVNldC5zaXplKSB7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmZvckVhY2goKFtxdWV1ZUVsZW1lbnQsIHF1ZXVlSGFuZGxlcl0pID0+IHtcbiAgICAgICAgLy8gY2hlY2sgaWYgZWxlbWVudCB3aGljaCByZXF1ZXN0ZWQgb2JzZXJ2YXRpb24gaXNcbiAgICAgICAgLy8gYSBjaGlsZCBvZiBhIHZpZXdwb3J0IGVsZW1lbnQsIHNraXAgaWYgaXNuJ3RcbiAgICAgICAgaWYgKCF2aWV3cG9ydEVsZW1lbnQuY29udGFpbnMocXVldWVFbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIhLm9ic2VydmUocXVldWVFbGVtZW50KTtcbiAgICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5zZXQocXVldWVFbGVtZW50LCBxdWV1ZUhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFudXA7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBzZXQgZWxlbWVudCB0byBvYnNlcnZlIGFuZCBoYW5kbGVyIHRvIGJlIHRyaWdnZXJlZCB3aGVuZXZlciBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgKiBkZXRlY3RzIGEgcG9zc2libGUgY2hhbmdlIGluIGVsZW1lbnQncyB2aXNpYmlsaXR5IHdpdGhpbiBzcGVjaWZpZWQgdmlld3BvcnQsIHJldHVybnNcbiAgICogY2xlYW51cCBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHVwb24gZGlzcG9zaW5nIG9mIHRoZSBET00gZWxlbWVudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudFxuICAgKiBAcGFyYW0gaGFuZGxlclxuICAgKiBAcmV0dXJucyBVbm9ic2VydmVcbiAgICovXG4gIHB1YmxpYyBvYnNlcnZlOiBPYnNlcnZlID0gKGVsZW1lbnQsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBxdWV1ZUl0ZW0gPSBbZWxlbWVudCwgaGFuZGxlcl0gYXMgY29uc3Q7XG5cbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgICB0aGlzLm9ic2VydmVyPy51bm9ic2VydmUoZWxlbWVudCk7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmRlbGV0ZShxdWV1ZUl0ZW0pO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5lbGVtZW50SGFuZGxlck1hcC5oYXMoZWxlbWVudCkpIHJldHVybiBjbGVhbnVwO1xuXG4gICAgaWYgKCF0aGlzLm9ic2VydmVyKSB7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmFkZChxdWV1ZUl0ZW0pO1xuICAgICAgcmV0dXJuIGNsZWFudXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIucm9vdCEuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuc2V0KGVsZW1lbnQsIGhhbmRsZXIpO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBjbGVhbnVwO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIFNhZmFyaS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgRmlyZWZveC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmlyZWZveCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnRmlyZWZveCcpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIEdvb2dsZSBDaHJvbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Nocm9tZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnQ2hyb21lJyk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHtcbiAgQXVkaW9UcmFja1R5cGUsXG4gIERlYm91bmNlVHlwZSxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgVmlkZW9UcmFja1R5cGUsXG4gIFZpc2liaWxpdHlTdGF0ZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVmlkZW9EaW1lbnNpb24gfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgY29tYmluZUxhdGVzdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLFxuICBtYXAsXG4gIHNoYXJlUmVwbGF5LFxuICB0YWtlV2hpbGUsXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVmlld3BvcnRUcmFja2VyIH0gZnJvbSAnLi9WaWV3cG9ydFRyYWNrZXInO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGlzRmlyZWZveCwgaXNTYWZhcmkgfSBmcm9tICcuL2Jyb3dzZXJzJztcbmltcG9ydCB7IGhhc1NjcmVlblNoYXJlLCBoYXNWaWRlbyB9IGZyb20gJy4vcGFydGljaXBhbnRVdGlscyc7XG5cbmNvbnN0IERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTogUmVjb3JkPFxuICBWaWRlb1RyYWNrVHlwZSxcbiAgVmlzaWJpbGl0eVN0YXRlXG4+ID0ge1xuICB2aWRlb1RyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgc2NyZWVuU2hhcmVUcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEEgbWFuYWdlciBjbGFzcyB0aGF0IGhhbmRsZXMgZHluYXNjYWxlIHJlbGF0ZWQgdGFza3MgbGlrZTpcbiAqXG4gKiAtIGJpbmRpbmcgdmlkZW8gZWxlbWVudHMgdG8gc2Vzc2lvbiBpZHNcbiAqIC0gYmluZGluZyBhdWRpbyBlbGVtZW50cyB0byBzZXNzaW9uIGlkc1xuICogLSB0cmFja2luZyBlbGVtZW50IHZpc2liaWxpdHlcbiAqIC0gdXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBiYXNlZCBvbiB2aWV3cG9ydCB2aXNpYmlsaXR5XG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gcHVibGlzaGVkIHRyYWNrc1xuICovXG5leHBvcnQgY2xhc3MgRHluYXNjYWxlTWFuYWdlciB7XG4gIC8qKlxuICAgKiBUaGUgdmlld3BvcnQgdHJhY2tlciBpbnN0YW5jZS5cbiAgICovXG4gIHJlYWRvbmx5IHZpZXdwb3J0VHJhY2tlciA9IG5ldyBWaWV3cG9ydFRyYWNrZXIoKTtcblxuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ0R5bmFzY2FsZU1hbmFnZXInXSk7XG4gIHByaXZhdGUgY2FsbDogQ2FsbDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBEeW5hc2NhbGVNYW5hZ2VyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byBtYW5hZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYWxsOiBDYWxsKSB7XG4gICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGJlZ2luIHRyYWNraW5nIHRoZSBnaXZlbiBlbGVtZW50IGZvciB2aXNpYmlsaXR5IGNoYW5nZXMgd2l0aGluIHRoZVxuICAgKiBjb25maWd1cmVkIHZpZXdwb3J0IGVsZW1lbnQgKGBjYWxsLnNldFZpZXdwb3J0YCkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHRyYWNrLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKiBAcmV0dXJucyBVbnRyYWNrLlxuICAgKi9cbiAgdHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICAgIGVsZW1lbnQ6IFQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cCA9IHRoaXMudmlld3BvcnRUcmFja2VyLm9ic2VydmUoZWxlbWVudCwgKGVudHJ5KSA9PiB7XG4gICAgICB0aGlzLmNhbGwuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgIHBhcnRpY2lwYW50LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/XG4gICAgICAgICAgREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFO1xuXG4gICAgICAgIC8vIG9ic2VydmVyIHRyaWdnZXJzIHdoZW4gdGhlIGVsZW1lbnQgaXMgXCJtb3ZlZFwiIHRvIGJlIGEgZnVsbHNjcmVlbiBlbGVtZW50XG4gICAgICAgIC8vIGtlZXAgaXQgVklTSUJMRSBpZiB0aGF0IGhhcHBlbnMgdG8gcHJldmVudCBmdWxsc2NyZWVuIHdpdGggcGxhY2Vob2xkZXJcbiAgICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudFxuICAgICAgICAgICAgPyBWaXNpYmlsaXR5U3RhdGUuVklTSUJMRVxuICAgICAgICAgICAgOiBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgICAuLi5wcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgIFt0cmFja1R5cGVdOiBpc1Zpc2libGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIC8vIHJlc2V0IHZpc2liaWxpdHkgc3RhdGUgdG8gVU5LTk9XTiB1cG9uIGNsZWFudXBcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGxheW91dHMgdGhhdCBhcmUgbm90IGFjdGl2ZWx5IG9ic2VydmVkXG4gICAgICAvLyBjYW4gc3RpbGwgZnVuY3Rpb24gbm9ybWFsbHkgKHJ1bnRpbWUgbGF5b3V0IHN3aXRjaGluZylcbiAgICAgIHRoaXMuY2FsbC5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgcGFydGljaXBhbnQudmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz9cbiAgICAgICAgICBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IHtcbiAgICAgICAgICAgIC4uLnByZXZpb3VzVmlzaWJpbGl0eVN0YXRlLFxuICAgICAgICAgICAgW3RyYWNrVHlwZV06IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIHRyYWNrIGJvdW5kIHZpZGVvIGVsZW1lbnRzIGZvciB2aXNpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICovXG4gIHNldFZpZXdwb3J0ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oZWxlbWVudDogVCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VHJhY2tlci5zZXRWaWV3cG9ydChlbGVtZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPHZpZGVvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgcGxheVxuICAgKiB0aGUgY29ycmVjdCB2aWRlbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBVbmRlciB0aGUgaG9vZCwgaXQgd291bGQgYWxzbyBrZWVwIHRyYWNrIG9mIHRoZSB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnNcbiAgICogYW5kIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIGFjY29yZGluZ2x5IGluIG9yZGVyIHRvIG9wdGltaXplIHRoZSBiYW5kd2lkdGguXG4gICAqXG4gICAqIElmIGEgXCJ2aWV3cG9ydFwiIGlzIGNvbmZpZ3VyZWQsIHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgKiB0cmFja2VkIGZvciB2aXNpYmlsaXR5IGFuZCB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHZpZGVvRWxlbWVudCB0aGUgdmlkZW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKi9cbiAgYmluZFZpZGVvRWxlbWVudCA9IChcbiAgICB2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgYm91bmRQYXJ0aWNpcGFudCA9XG4gICAgICB0aGlzLmNhbGwuc3RhdGUuZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIWJvdW5kUGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zID0gKFxuICAgICAgZGVib3VuY2VUeXBlOiBEZWJvdW5jZVR5cGUsXG4gICAgICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkLFxuICAgICkgPT4ge1xuICAgICAgaWYgKGRpbWVuc2lvbiAmJiAoZGltZW5zaW9uLndpZHRoID09PSAwIHx8IGRpbWVuc2lvbi5oZWlnaHQgPT09IDApKSB7XG4gICAgICAgIC8vIGlnbm9yZSAweDAgZGltZW5zaW9ucy4gdGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIHZpZGVvIGVsZW1lbnRcbiAgICAgICAgLy8gaXMgbm90IHZpc2libGUgKGUuZy4sIGhhcyBkaXNwbGF5OiBub25lKS5cbiAgICAgICAgLy8gd2UgdHJlYXQgdGhpcyBhcyBcInVuc3Vic2NyaXB0aW9uXCIgYXMgd2UgZG9uJ3Qgd2FudCB0byBrZWVwXG4gICAgICAgIC8vIGNvbnN1bWluZyBiYW5kd2lkdGggZm9yIGEgdmlkZW8gdGhhdCBpcyBub3QgdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgSWdub3JpbmcgMHgwIGRpbWVuc2lvbmAsIGJvdW5kUGFydGljaXBhbnQpO1xuICAgICAgICBkaW1lbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGwudXBkYXRlU3Vic2NyaXB0aW9uc1BhcnRpYWwoXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgeyBbc2Vzc2lvbklkXTogeyBkaW1lbnNpb24gfSB9LFxuICAgICAgICBkZWJvdW5jZVR5cGUsXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCQgPSB0aGlzLmNhbGwuc3RhdGUucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKFxuICAgICAgICAocGFydGljaXBhbnRzKSA9PlxuICAgICAgICAgIHBhcnRpY2lwYW50cy5maW5kKFxuICAgICAgICAgICAgKHBhcnRpY2lwYW50KSA9PiBwYXJ0aWNpcGFudC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCxcbiAgICAgICAgICApIGFzIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gICAgICApLFxuICAgICAgdGFrZVdoaWxlKChwYXJ0aWNpcGFudCkgPT4gISFwYXJ0aWNpcGFudCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogU2luY2UgdGhlIHZpZGVvIGVsZW1lbnRzIGFyZSBub3cgYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00gKFJlYWN0IFNESykgdXBvblxuICAgICAqIHZpc2liaWxpdHkgY2hhbmdlLCB0aGlzIHN1YnNjcmlwdGlvbiBpcyBub3QgaW4gdXNlIGFuIHN0YXlzIGhlcmUgb25seSBmb3IgdGhlXG4gICAgICogcGxhaW4gSlMgaW50ZWdyYXRpb25zIHdoZXJlIGludGVncmF0b3JzIG1pZ2h0IGNob29zZSBub3QgdG8gcmVtb3ZlIHRoZSB2aWRlb1xuICAgICAqIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICAvLyBrZWVwIGNvcHkgZm9yIHJlc2l6ZSBvYnNlcnZlciBoYW5kbGVyXG4gICAgbGV0IHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiBWaXNpYmlsaXR5U3RhdGUgfCB1bmRlZmluZWQ7XG4gICAgY29uc3Qgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGVTdWJzY3JpcHRpb24gPVxuICAgICAgYm91bmRQYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogcGFydGljaXBhbnQkXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgbWFwKChwKSA9PiBwLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy5bdHJhY2tUeXBlXSksXG4gICAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgLy8gc2tpcCBpbml0aWFsIHRyaWdnZXJcbiAgICAgICAgICAgICAgaWYgKCF2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICAgICAgICAgIG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgICAgICAgIG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTjtcblxuICAgICAgICAgICAgICBpZiAobmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKFxuICAgICAgICAgICAgICAgICAgRGVib3VuY2VUeXBlLk1FRElVTSxcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLk1FRElVTSwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgbGV0IGxhc3REaW1lbnNpb25zOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgPyBudWxsXG4gICAgICA6IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSBgJHt2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGh9LCR7dmlkZW9FbGVtZW50LmNsaWVudEhlaWdodH1gO1xuXG4gICAgICAgICAgLy8gc2tpcCBpbml0aWFsIHRyaWdnZXJcbiAgICAgICAgICBpZiAoIWxhc3REaW1lbnNpb25zKSB7XG4gICAgICAgICAgICBsYXN0RGltZW5zaW9ucyA9IGN1cnJlbnREaW1lbnNpb25zO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGxhc3REaW1lbnNpb25zID09PSBjdXJyZW50RGltZW5zaW9ucyB8fFxuICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuU0xPVywge1xuICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsYXN0RGltZW5zaW9ucyA9IGN1cnJlbnREaW1lbnNpb25zO1xuICAgICAgICB9KTtcbiAgICByZXNpemVPYnNlcnZlcj8ub2JzZXJ2ZSh2aWRlb0VsZW1lbnQpO1xuXG4gICAgLy8gZWxlbWVudCByZW5kZXJzIGFuZCBnZXRzIGJvdW5kIC0gdHJhY2sgc3Vic2NyaXB0aW9uIGdldHNcbiAgICAvLyB0cmlnZ2VyZWQgZmlyc3Qgb3RoZXIgb25lcyBnZXQgc2tpcHBlZCBvbiBpbml0aWFsIHN1YnNjcmlwdGlvbnNcbiAgICBjb25zdCBwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24gPSBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgPyBudWxsXG4gICAgICA6IHBhcnRpY2lwYW50JFxuICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ3B1Ymxpc2hlZFRyYWNrcycpLFxuICAgICAgICAgICAgbWFwKChwKSA9PlxuICAgICAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/IGhhc1ZpZGVvKHApIDogaGFzU2NyZWVuU2hhcmUocCksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgICAgICApXG4gICAgICAgICAgLnN1YnNjcmliZSgoaXNQdWJsaXNoaW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNQdWJsaXNoaW5nKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBqdXN0IHN0YXJ0ZWQgdG8gcHVibGlzaCBhIHRyYWNrXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5GQVNULCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGp1c3Qgc3RvcHBlZCBwdWJsaXNoaW5nIGEgdHJhY2tcbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLkZBU1QsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICB2aWRlb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgIHZpZGVvRWxlbWVudC5wbGF5c0lubGluZSA9IHRydWU7XG5cbiAgICAvLyBleHBsaWNpdGx5IG1hcmtpbmcgdGhlIGVsZW1lbnQgYXMgbXV0ZWQgd2lsbCBhbGxvdyBhdXRvcGxheSB0byB3b3JrXG4gICAgLy8gd2l0aG91dCBwcmlvciB1c2VyIGludGVyYWN0aW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL01lZGlhL0F1dG9wbGF5X2d1aWRlXG4gICAgdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHN0cmVhbVN1YnNjcmlwdGlvbiA9IHBhcnRpY2lwYW50JFxuICAgICAgLnBpcGUoXG4gICAgICAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKFxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gJ3ZpZGVvU3RyZWFtJyA6ICdzY3JlZW5TaGFyZVN0cmVhbScsXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9XG4gICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaycgPyBwLnZpZGVvU3RyZWFtIDogcC5zY3JlZW5TaGFyZVN0cmVhbTtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPT09IHNvdXJjZSkgcmV0dXJuO1xuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgIGlmIChpc1NhZmFyaSgpIHx8IGlzRmlyZWZveCgpKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBwbGF5IHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBhZGQgZXh0cmEgZGVsYXkgdW50aWwgd2UgYXR0ZW1wdCB0byBmb3JjZS1wbGF5XG4gICAgICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQncyBtZWRpYSBzdHJlYW0gaW4gRmlyZWZveCBhbmQgU2FmYXJpLFxuICAgICAgICAgICAgLy8gYXMgdGhleSBzZWVtIHRvIGhhdmUgc29tZSB0aW1pbmcgaXNzdWVzXG4gICAgICAgICAgfSwgMjUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuRkFTVCwgdW5kZWZpbmVkKTtcbiAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgcHVibGlzaGVkVHJhY2tzU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgc3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDxhdWRpbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgYXVkaW8gZWxlbWVudCB3aWxsXG4gICAqIHBsYXkgdGhlIGNvcnJlY3QgYXVkaW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIGF1ZGlvRWxlbWVudCB0aGUgYXVkaW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIGF1ZGlvLlxuICAgKiBAcmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb24gdGhhdCB3aWxsIHVuYmluZCB0aGUgYXVkaW8gZWxlbWVudC5cbiAgICovXG4gIGJpbmRBdWRpb0VsZW1lbnQgPSAoXG4gICAgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogQXVkaW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5jYWxsLnN0YXRlLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCB8fCBwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50JCA9IHRoaXMuY2FsbC5zdGF0ZS5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoXG4gICAgICAgIChwYXJ0aWNpcGFudHMpID0+XG4gICAgICAgICAgcGFydGljaXBhbnRzLmZpbmQoXG4gICAgICAgICAgICAocCkgPT4gcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCxcbiAgICAgICAgICApIGFzIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gICAgICApLFxuICAgICAgdGFrZVdoaWxlKChwKSA9PiAhIXApLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIGNvbnN0IHVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uID0gcGFydGljaXBhbnQkXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoXG4gICAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVBdWRpb1RyYWNrJ1xuICAgICAgICAgICAgPyAnc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSdcbiAgICAgICAgICAgIDogJ2F1ZGlvU3RyZWFtJyxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKHApID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlID1cbiAgICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snXG4gICAgICAgICAgICA/IHAuc2NyZWVuU2hhcmVBdWRpb1N0cmVhbVxuICAgICAgICAgICAgOiBwLmF1ZGlvU3RyZWFtO1xuICAgICAgICBpZiAoYXVkaW9FbGVtZW50LnNyY09iamVjdCA9PT0gc291cmNlKSByZXR1cm47XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYXVkaW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICAgIGlmIChhdWRpb0VsZW1lbnQuc3JjT2JqZWN0KSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBwbGF5IHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGF1ZGlvIG91dHB1dCBkZXZpY2Ugc2hhbGwgYmUgc2V0IGFmdGVyIHRoZSBhdWRpbyBlbGVtZW50IGlzIHBsYXllZFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgYnJvd3NlciB3aWxsIG5vdCBwaWNrIGl0IHVwLCBhbmQgd2lsbCBhbHdheXNcbiAgICAgICAgICAgIC8vIHBsYXkgYXVkaW8gdGhyb3VnaCB0aGUgc3lzdGVtJ3MgZGVmYXVsdCBkZXZpY2VcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0ZWREZXZpY2UgfSA9IHRoaXMuY2FsbC5zcGVha2VyLnN0YXRlO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRGV2aWNlICYmICdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudCkge1xuICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuc2V0U2lua0lkKHNlbGVjdGVkRGV2aWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBzaW5rSWRTdWJzY3JpcHRpb24gPSAhKCdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudClcbiAgICAgID8gbnVsbFxuICAgICAgOiB0aGlzLmNhbGwuc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQuc3Vic2NyaWJlKChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgIGlmIChkZXZpY2VJZCkge1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnNldFNpbmtJZChkZXZpY2VJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHZvbHVtZVN1YnNjcmlwdGlvbiA9IGNvbWJpbmVMYXRlc3QoW1xuICAgICAgdGhpcy5jYWxsLnNwZWFrZXIuc3RhdGUudm9sdW1lJCxcbiAgICAgIHBhcnRpY2lwYW50JC5waXBlKGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKCdhdWRpb1ZvbHVtZScpKSxcbiAgICBdKS5zdWJzY3JpYmUoKFt2b2x1bWUsIHBdKSA9PiB7XG4gICAgICBhdWRpb0VsZW1lbnQudm9sdW1lID0gcC5hdWRpb1ZvbHVtZSA/PyB2b2x1bWU7XG4gICAgfSk7XG5cbiAgICBhdWRpb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNpbmtJZFN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHZvbHVtZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgdXBkYXRlTWVkaWFTdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9O1xufVxuIiwiaW1wb3J0IHsgQ2FsbFNldHRpbmdzUmVzcG9uc2UsIE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG4vKipcbiAqIFN0b3JlcyB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXIgYW5kIGV4cG9zZXNcbiAqIGEgZmV3IGhlbHBlciBtZXRob2RzIHdoaWNoIG1ha2UgaXQgZWFzaWVyIHRvIHdvcmsgd2l0aCBwZXJtaXNzaW9ucy5cbiAqXG4gKiBUaGlzIGlzIGFuIGludGVybmFsIGNsYXNzIG1lYW50IHRvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICogYSB7QGxpbmsgQ2FsbH0gaW5zdGFuY2UuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uc0NvbnRleHQge1xuICBwcml2YXRlIHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10gPSBbXTtcbiAgcHJpdmF0ZSBzZXR0aW5ncz86IENhbGxTZXR0aW5nc1Jlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBzZXQuXG4gICAqL1xuICBzZXRQZXJtaXNzaW9ucyA9IChwZXJtaXNzaW9uczogT3duQ2FwYWJpbGl0eVtdKSA9PiB7XG4gICAgdGhpcy5wZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zIHx8IFtdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZXR0aW5ncyBmb3IgdGhlIGJvdW5kIGNhbGwuXG4gICAqIEBwYXJhbSBzZXR0aW5nc1xuICAgKi9cbiAgc2V0Q2FsbFNldHRpbmdzID0gKHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIGEgc3BlY2lmaWMgcGVybWlzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIHBlcm1pc3Npb24gdG8gY2hlY2sgZm9yLlxuICAgKi9cbiAgaGFzUGVybWlzc2lvbiA9IChwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnMuaW5jbHVkZXMocGVybWlzc2lvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgcGVybWlzc2lvblxuICAgKiB3aXRoaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBwZXJtaXNzaW9uIHRvIGNoZWNrIGZvci5cbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBjYWxsIHNldHRpbmdzIHRvIGNoZWNrIGFnYWluc3QgKG9wdGlvbmFsKS5cbiAgICovXG4gIGNhblJlcXVlc3QgPSAoXG4gICAgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eSxcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UgfCB1bmRlZmluZWQgPSB0aGlzLnNldHRpbmdzLFxuICApID0+IHtcbiAgICBpZiAoIXNldHRpbmdzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB7IGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmluZyB9ID0gc2V0dGluZ3M7XG4gICAgc3dpdGNoIChwZXJtaXNzaW9uKSB7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTzpcbiAgICAgICAgcmV0dXJuIGF1ZGlvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9WSURFTzpcbiAgICAgICAgcmV0dXJuIHZpZGVvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkU6XG4gICAgICAgIHJldHVybiBzY3JlZW5zaGFyaW5nLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ29tcGFyYXRvcixcbiAgZGVmYXVsdFNvcnRQcmVzZXQsXG4gIGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG59IGZyb20gJy4vc29ydGluZyc7XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgZm9yIGEge0BsaW5rIENhbGxUeXBlfS5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbFR5cGVPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIHtAbGluayBDb21wYXJhdG9yfSB0byB1c2UgdG8gc29ydGluZyB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pjtcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGwgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGxUeXBlIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIGZvciB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgb3B0aW9uczogQ2FsbFR5cGVPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbGxUeXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDYWxsVHlwZU9wdGlvbnMgPSB7XG4gICAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxufVxuXG4vKipcbiAqIEEgcmVnaXN0cnkgb2Yge0BsaW5rIENhbGxUeXBlfXMuXG4gKiBZb3UgY2FuIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIGNhbGwgdHlwZXMuXG4gKi9cbmNsYXNzIENhbGxUeXBlc1JlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIFRoZSBjYWxsIHR5cGVzIHJlZ2lzdGVyZWQgaW4gdGhpcyByZWdpc3RyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgY2FsbFR5cGVzOiB7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FsbFR5cGVzUmVnaXN0cnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsVHlwZXMgdGhlIGluaXRpYWwgY2FsbCB0eXBlcyB0byByZWdpc3Rlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxUeXBlczogQ2FsbFR5cGVbXSkge1xuICAgIHRoaXMuY2FsbFR5cGVzID0gY2FsbFR5cGVzLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH0+KFxuICAgICAgKGFjYywgY2FsbFR5cGUpID0+IHtcbiAgICAgICAgYWNjW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFR5cGUgdGhlIGNhbGwgdHlwZSB0byByZWdpc3Rlci5cbiAgICovXG4gIHJlZ2lzdGVyID0gKGNhbGxUeXBlOiBDYWxsVHlwZSkgPT4ge1xuICAgIHRoaXMuY2FsbFR5cGVzW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIGEgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIHVucmVnaXN0ZXIuXG4gICAqL1xuICB1bnJlZ2lzdGVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLmNhbGxUeXBlc1tuYW1lXTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhIGNhbGwgdHlwZSBieSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIGdldC5cbiAgICovXG4gIGdldCA9IChuYW1lOiBzdHJpbmcpOiBDYWxsVHlwZSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxUeXBlc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcihuZXcgQ2FsbFR5cGUobmFtZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWxsVHlwZXNbbmFtZV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY2FsbCB0eXBlcyByZWdpc3RyeS5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgaW5zdGFuY2UgdG8gZHluYW1pY2FsbHkgcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgY2FsbCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUeXBlcyA9IG5ldyBDYWxsVHlwZXNSZWdpc3RyeShbXG4gIG5ldyBDYWxsVHlwZSgnZGVmYXVsdCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdkZXZlbG9wbWVudCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdsaXZlc3RyZWFtJywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnYXVkaW9fcm9vbScsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG4gIH0pLFxuXSk7XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuLCBtYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZGlzcG9zZU9mTWVkaWFTdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmludGVyZmFjZSBCcm93c2VyUGVybWlzc2lvbkNvbmZpZyB7XG4gIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zO1xuICBxdWVyeU5hbWU6IFBlcm1pc3Npb25OYW1lO1xufVxuXG5leHBvcnQgY2xhc3MgQnJvd3NlclBlcm1pc3Npb24ge1xuICBwcml2YXRlIHJlYWR5OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGRpc3Bvc2VDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBwcml2YXRlIHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgd2FzUHJvbXB0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnMgPSBuZXcgU2V0PChzdGF0ZTogUGVybWlzc2lvblN0YXRlKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ3Blcm1pc3Npb25zJ10pO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGVybWlzc2lvbjogQnJvd3NlclBlcm1pc3Npb25Db25maWcpIHtcbiAgICBjb25zdCBzaWduYWwgPSB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLnNpZ25hbDtcblxuICAgIHRoaXMucmVhZHkgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXNzdW1lR3JhbnRlZCA9IChlcnJvcj86IHVua25vd24pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZ3JhbnRlZCcpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFjYW5RdWVyeVBlcm1pc3Npb25zKCkpIHtcbiAgICAgICAgcmV0dXJuIGFzc3VtZUdyYW50ZWQoKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtcbiAgICAgICAgICBuYW1lOiBwZXJtaXNzaW9uLnF1ZXJ5TmFtZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdHVzLnN0YXRlKTtcbiAgICAgICAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5zZXRTdGF0ZShzdGF0dXMuc3RhdGUpLCB7XG4gICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBhc3N1bWVHcmFudGVkKGVycik7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLmFib3J0KCk7XG4gIH1cblxuICBhc3luYyBnZXRTdGF0ZSgpIHtcbiAgICBhd2FpdCB0aGlzLnJlYWR5O1xuICAgIGlmICghdGhpcy5zdGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyUGVybWlzc2lvbiBpbnN0YW5jZSBwb3NzaWJseSBkaXNwb3NlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIGFzeW5jIHByb21wdCh7XG4gICAgZm9yY2VQcm9tcHQgPSBmYWxzZSxcbiAgICB0aHJvd09uTm90QWxsb3dlZCA9IGZhbHNlLFxuICB9OiB7IGZvcmNlUHJvbXB0PzogYm9vbGVhbjsgdGhyb3dPbk5vdEFsbG93ZWQ/OiBib29sZWFuIH0gPSB7fSkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIGBwZXJtaXNzaW9uLXByb21wdC0ke3RoaXMucGVybWlzc2lvbi5xdWVyeU5hbWV9YCxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChhd2FpdCB0aGlzLmdldFN0YXRlKCkpICE9PSAncHJvbXB0JyB8fFxuICAgICAgICAgICh0aGlzLndhc1Byb21wdGVkICYmICFmb3JjZVByb21wdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXNHcmFudGVkID0gdGhpcy5zdGF0ZSA9PT0gJ2dyYW50ZWQnO1xuXG4gICAgICAgICAgaWYgKCFpc0dyYW50ZWQgJiYgdGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICAgICAgICdQZXJtaXNzaW9uIHdhcyBub3QgZ3JhbnRlZCBwcmV2aW91c2x5LCBhbmQgcHJvbXB0aW5nIGFnYWluIGlzIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgICAgICAgJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpc0dyYW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMud2FzUHJvbXB0ZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKFxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uLmNvbnN0cmFpbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlzcG9zZU9mTWVkaWFTdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGUubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ0Jyb3dzZXIgcGVybWlzc2lvbiB3YXMgbm90IGdyYW50ZWQnLCB7XG4gICAgICAgICAgICAgIHBlcm1pc3Npb246IHRoaXMucGVybWlzc2lvbixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gZ2V0VXNlck1lZGlhYCwge1xuICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgbGlzdGVuKGNiOiAoc3RhdGU6IFBlcm1pc3Npb25TdGF0ZSkgPT4gdm9pZCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChjYik7XG4gICAgaWYgKHRoaXMuc3RhdGUpIGNiKHRoaXMuc3RhdGUpO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLmxpc3RlbmVycy5kZWxldGUoY2IpO1xuICB9XG5cbiAgYXNPYnNlcnZhYmxlKCkge1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFBlcm1pc3Npb25TdGF0ZT4oXG4gICAgICAoaGFuZGxlcikgPT4gdGhpcy5saXN0ZW4oaGFuZGxlciksXG4gICAgICAoaGFuZGxlciwgdW5saXN0ZW4pID0+IHVubGlzdGVuKCksXG4gICAgKS5waXBlKFxuICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdGhlICdjaGFuZ2UnIGV2ZW50IGRvZXNuJ3QgcmVsaWFibHkgZW1pdCBhbmQgaGVuY2UsXG4gICAgICAvLyBwZXJtaXNzaW9uU3RhdGUgc3RheXMgaW4gJ3Byb21wdCcgc3RhdGUgZm9yZXZlci5cbiAgICAgIC8vIFR5cGljYWxseSwgdGhpcyBoYXBwZW5zIHdoZW4gYSB1c2VyIGdyYW50cyBvbmUtdGltZSBwZXJtaXNzaW9uLlxuICAgICAgLy8gSW5zdGVhZCBvZiBjaGVja2luZyBpZiBhIHBlcm1pc3Npb24gaXMgZ3JhbnRlZCwgd2UgY2hlY2sgaWYgaXQgaXNuJ3QgZGVuaWVkXG4gICAgICBtYXAoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gJ2RlbmllZCcpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5RdWVyeVBlcm1pc3Npb25zKCkge1xuICByZXR1cm4gKFxuICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhbmF2aWdhdG9yLnBlcm1pc3Npb25zPy5xdWVyeVxuICApO1xufVxuIiwiY29uc3QgdW5pbml0aWFsaXplZCA9IFN5bWJvbCgndW5pbml0aWFsaXplZCcpO1xuXG4vKipcbiAqIExhemlseSBjcmVhdGVzIGEgdmFsdWUgdXNpbmcgYSBwcm92aWRlZCBmYWN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXp5PFQ+KGZhY3Rvcnk6ICgpID0+IFQpOiAoKSA9PiBUIHtcbiAgbGV0IHZhbHVlOiBUIHwgdHlwZW9mIHVuaW5pdGlhbGl6ZWQgPSB1bmluaXRpYWxpemVkO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5pbml0aWFsaXplZCkge1xuICAgICAgdmFsdWUgPSBmYWN0b3J5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgY29uY2F0TWFwLFxuICBkZWJvdW5jZVRpbWUsXG4gIGZyb20sXG4gIGZyb21FdmVudCxcbiAgbWFwLFxuICBtZXJnZSxcbiAgc2hhcmVSZXBsYXksXG4gIHN0YXJ0V2l0aCxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcbmltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBkZXZpY2VzXG4gKiB0aGF0IG1lZXQgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICpcbiAqIEBwYXJhbSBjb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB0aGUgZGV2aWNlcy5cbiAqIEBwYXJhbSBraW5kIHRoZSBraW5kIG9mIGRldmljZXMgdG8gZW51bWVyYXRlLlxuICovXG5jb25zdCBnZXREZXZpY2VzID0gKHBlcm1pc3Npb246IEJyb3dzZXJQZXJtaXNzaW9uLCBraW5kOiBNZWRpYURldmljZUtpbmQpID0+IHtcbiAgcmV0dXJuIGZyb20oXG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAvLyBmb3IgcHJpdmFjeSByZWFzb25zLCBtb3N0IGJyb3dzZXJzIGRvbid0IGdpdmUgeW91IGRldmljZSBsYWJlbHNcbiAgICAgIC8vIHVubGVzcyB5b3UgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgY2FtZXJhIG9yIG1pY3JvcGhvbmUgcGVybWlzc2lvblxuICAgICAgY29uc3Qgc2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24gPSBkZXZpY2VzLnNvbWUoXG4gICAgICAgIChkZXZpY2UpID0+IGRldmljZS5raW5kID09PSBraW5kICYmIGRldmljZS5sYWJlbCA9PT0gJycsXG4gICAgICApO1xuICAgICAgaWYgKHNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uKSB7XG4gICAgICAgIGF3YWl0IHBlcm1pc3Npb24ucHJvbXB0KHsgdGhyb3dPbk5vdEFsbG93ZWQ6IHRydWUgfSk7XG4gICAgICAgIGRldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXZpY2VzLmZpbHRlcigoZCkgPT4gZC5raW5kID09PSBraW5kKTtcbiAgICB9KSgpLFxuICApO1xufTtcblxuLyoqXG4gKiBUZWxscyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBhdWRpbyBvdXRwdXQgY2hhbmdlIG9uICdhdWRpbycgZWxlbWVudHMsXG4gKiBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvc2V0U2lua0lkLlxuICovXG5leHBvcnQgY29uc3QgY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgcmV0dXJuICdzZXRTaW5rSWQnIGluIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIHVzZWQgdG8gcmVxdWVzdCBhdWRpbyBkZXZpY2VzLlxuICovXG5jb25zdCBhdWRpb0RldmljZUNvbnN0cmFpbnRzID0ge1xuICBhdWRpbzoge1xuICAgIGF1dG9HYWluQ29udHJvbDogdHJ1ZSxcbiAgICBub2lzZVN1cHByZXNzaW9uOiB0cnVlLFxuICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXG4gIH0sXG59IHNhdGlzZmllcyBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIHVzZWQgdG8gcmVxdWVzdCB2aWRlbyBkZXZpY2VzLlxuICovXG5jb25zdCB2aWRlb0RldmljZUNvbnN0cmFpbnRzID0ge1xuICB2aWRlbzoge1xuICAgIHdpZHRoOiAxMjgwLFxuICAgIGhlaWdodDogNzIwLFxuICB9LFxufSBzYXRpc2ZpZXMgTWVkaWFTdHJlYW1Db25zdHJhaW50cztcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgYnJvd3NlciBwZXJtaXNzaW9uIHRvIHVzZSBtaWNyb3Bob25lLiBUaGlzIHBlcm1pc3Npb24gYWxzb1xuICogYWZmZWN0cyBhbiBhYmlsaXR5IHRvIGVudW1lcmF0ZSBhdWRpbyBkZXZpY2VzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbiA9IGxhenkoXG4gICgpID0+XG4gICAgbmV3IEJyb3dzZXJQZXJtaXNzaW9uKHtcbiAgICAgIGNvbnN0cmFpbnRzOiBhdWRpb0RldmljZUNvbnN0cmFpbnRzLFxuICAgICAgcXVlcnlOYW1lOiAnbWljcm9waG9uZScgYXMgUGVybWlzc2lvbk5hbWUsXG4gICAgfSksXG4pO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBicm93c2VyIHBlcm1pc3Npb24gdG8gdXNlIGNhbWVyYS4gVGhpcyBwZXJtaXNzaW9uIGFsc29cbiAqIGFmZmVjdHMgYW4gYWJpbGl0eSB0byBlbnVtZXJhdGUgdmlkZW8gZGV2aWNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24gPSBsYXp5KFxuICAoKSA9PlxuICAgIG5ldyBCcm93c2VyUGVybWlzc2lvbih7XG4gICAgICBjb25zdHJhaW50czogdmlkZW9EZXZpY2VDb25zdHJhaW50cyxcbiAgICAgIHF1ZXJ5TmFtZTogJ2NhbWVyYScgYXMgUGVybWlzc2lvbk5hbWUsXG4gICAgfSksXG4pO1xuXG5jb25zdCBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlciA9IGxhenkoKCkgPT4ge1xuICAvLyAnYWRkRXZlbnRMaXN0ZW5lcicgaXMgbm90IGF2YWlsYWJsZSBpbiBSZWFjdCBOYXRpdmUsIHJldHVybmluZ1xuICAvLyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBuZXZlciBmaXJlXG4gIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyKSByZXR1cm4gZnJvbShbXSk7XG4gIHJldHVybiBmcm9tRXZlbnQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcywgJ2RldmljZWNoYW5nZScpLnBpcGUoXG4gICAgbWFwKCgpID0+IHVuZGVmaW5lZCksXG4gICAgZGVib3VuY2VUaW1lKDUwMCksXG4gICk7XG59KTtcblxuLyoqXG4gKiBQcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGF1ZGlvIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWRcbiAqIGFuZCB3YXMgbm90IHByb21wdGVkIGJlZm9yZSkgYW5kIGxpc3RzIHRoZSBhdmFpbGFibGUgJ2F1ZGlvaW5wdXQnIGRldmljZXMsXG4gKiBpZiBkZXZpY2VzIGFyZSBhZGRlZC9yZW1vdmVkIHRoZSBsaXN0IGlzIHVwZGF0ZWQsIGFuZCBpZiB0aGUgcGVybWlzc2lvbiBpcyByZXZva2VkLFxuICogdGhlIG9ic2VydmFibGUgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXVkaW9EZXZpY2VzID0gbGF6eSgoKSA9PiB7XG4gIHJldHVybiBtZXJnZShcbiAgICBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcigpLFxuICAgIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5hc09ic2VydmFibGUoKSxcbiAgKS5waXBlKFxuICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgIGNvbmNhdE1hcCgoKSA9PiBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvaW5wdXQnKSksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG59KTtcblxuLyoqXG4gKiBQcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIHZpZGVvIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWRcbiAqIGFuZCB3YXMgbm90IHByb21wdGVkIGJlZm9yZSkgYW5kIGxpc3RzIHRoZSBhdmFpbGFibGUgJ3ZpZGVvaW5wdXQnIGRldmljZXMsXG4gKiBpZiBkZXZpY2VzIGFyZSBhZGRlZC9yZW1vdmVkIHRoZSBsaXN0IGlzIHVwZGF0ZWQsIGFuZCBpZiB0aGUgcGVybWlzc2lvbiBpcyByZXZva2VkLFxuICogdGhlIG9ic2VydmFibGUgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9EZXZpY2VzID0gKCkgPT4ge1xuICByZXR1cm4gbWVyZ2UoXG4gICAgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKSxcbiAgICBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkuYXNPYnNlcnZhYmxlKCksXG4gICkucGlwZShcbiAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICBjb25jYXRNYXAoKCkgPT4gZ2V0RGV2aWNlcyhnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCksICd2aWRlb2lucHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufTtcblxuLyoqXG4gKiBQcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIHZpZGVvIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWRcbiAqIGFuZCB3YXMgbm90IHByb21wdGVkIGJlZm9yZSkgYW5kIGxpc3RzIHRoZSBhdmFpbGFibGUgJ2F1ZGlvb3V0cHV0JyBkZXZpY2VzLFxuICogaWYgZGV2aWNlcyBhcmUgYWRkZWQvcmVtb3ZlZCB0aGUgbGlzdCBpcyB1cGRhdGVkLCBhbmQgaWYgdGhlIHBlcm1pc3Npb24gaXMgcmV2b2tlZCxcbiAqIHRoZSBvYnNlcnZhYmxlIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvT3V0cHV0RGV2aWNlcyA9ICgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLCAnYXVkaW9vdXRwdXQnKSksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG59O1xuXG5jb25zdCBnZXRTdHJlYW0gPSBhc3luYyAoY29uc3RyYWludHM6IE1lZGlhU3RyZWFtQ29uc3RyYWludHMpID0+IHtcbiAgcmV0dXJuIGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhdWRpbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQGFuZ3VsYXIgSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIFtgRGV2aWNlTWFuYWdlclNlcnZpY2VgXSguL0RldmljZU1hbmFnZXJTZXJ2aWNlLm1kKSBmb3IgYSBoaWdoZXIgbGV2ZWwgQVBJLCB1c2UgdGhpcyBsb3ctbGV2ZWwgbWV0aG9kIG9ubHkgaWYgdGhlIGBEZXZpY2VNYW5hZ2VyU2VydmljZWAgZG9lc24ndCBzdWl0IHlvdXIgcmVxdWlyZW1lbnRzLlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEByZXR1cm5zIHRoZSBuZXcgYE1lZGlhU3RyZWFtYCBmdWxmaWxsaW5nIHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvU3RyZWFtID0gYXN5bmMgKFxuICB0cmFja0NvbnN0cmFpbnRzPzogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuKSA9PiB7XG4gIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0ge1xuICAgIGF1ZGlvOiB7XG4gICAgICAuLi5hdWRpb0RldmljZUNvbnN0cmFpbnRzLmF1ZGlvLFxuICAgICAgLi4udHJhY2tDb25zdHJhaW50cyxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLnByb21wdCh7XG4gICAgICB0aHJvd09uTm90QWxsb3dlZDogdHJ1ZSxcbiAgICAgIGZvcmNlUHJvbXB0OiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBnZXRTdHJlYW0oY29uc3RyYWludHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCBhdWRpbyBzdHJlYW0nLCB7XG4gICAgICBlcnJvcjogZSxcbiAgICAgIGNvbnN0cmFpbnRzOiBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSB2aWRlbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQGFuZ3VsYXIgSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIFtgRGV2aWNlTWFuYWdlclNlcnZpY2VgXSguL0RldmljZU1hbmFnZXJTZXJ2aWNlLm1kKSBmb3IgYSBoaWdoZXIgbGV2ZWwgQVBJLCB1c2UgdGhpcyBsb3ctbGV2ZWwgbWV0aG9kIG9ubHkgaWYgdGhlIGBEZXZpY2VNYW5hZ2VyU2VydmljZWAgZG9lc24ndCBzdWl0IHlvdXIgcmVxdWlyZW1lbnRzLlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEByZXR1cm5zIGEgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbikgPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICB2aWRlbzoge1xuICAgICAgLi4udmlkZW9EZXZpY2VDb25zdHJhaW50cy52aWRlbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkucHJvbXB0KHtcbiAgICAgIHRocm93T25Ob3RBbGxvd2VkOiB0cnVlLFxuICAgICAgZm9yY2VQcm9tcHQ6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIGdldFN0cmVhbShjb25zdHJhaW50cyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IHZpZGVvIHN0cmVhbScsIHtcbiAgICAgIGVycm9yOiBlLFxuICAgICAgY29uc3RyYWludHM6IGNvbnN0cmFpbnRzLFxuICAgIH0pO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHNoYXJlIGEgc2NyZWVuLlxuICogSWYgdGhlIHVzZXIgZ3JhbnRzIHRoZSBwZXJtaXNzaW9uLCBhIHNjcmVlbiBzaGFyaW5nIHN0cmVhbSBpcyByZXR1cm5lZC4gVGhyb3dzIG90aGVyd2lzZS5cbiAqXG4gKiBUaGUgY2FsbGVycyBvZiB0aGlzIEFQSSBhcmUgcmVzcG9uc2libGUgdG8gaGFuZGxlIHRoZSBwb3NzaWJsZSBlcnJvcnMuXG4gKlxuICogQGFuZ3VsYXIgSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIFtgRGV2aWNlTWFuYWdlclNlcnZpY2VgXSguL0RldmljZU1hbmFnZXJTZXJ2aWNlLm1kKSBmb3IgYSBoaWdoZXIgbGV2ZWwgQVBJLCB1c2UgdGhpcyBsb3ctbGV2ZWwgbWV0aG9kIG9ubHkgaWYgdGhlIGBEZXZpY2VNYW5hZ2VyU2VydmljZWAgZG9lc24ndCBzdWl0IHlvdXIgcmVxdWlyZW1lbnRzLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIGFueSBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgW2BnZXREaXNwbGF5TWVkaWFgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFEZXZpY2VzL2dldERpc3BsYXlNZWRpYSkgQVBJLlxuICovXG5leHBvcnQgY29uc3QgZ2V0U2NyZWVuU2hhcmVTdHJlYW0gPSBhc3luYyAoXG4gIG9wdGlvbnM/OiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zLFxuKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKHtcbiAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgYXVkaW86IHtcbiAgICAgICAgY2hhbm5lbENvdW50OiB7XG4gICAgICAgICAgaWRlYWw6IDIsXG4gICAgICAgIH0sXG4gICAgICAgIGVjaG9DYW5jZWxsYXRpb246IGZhbHNlLFxuICAgICAgICBhdXRvR2FpbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBub2lzZVN1cHByZXNzaW9uOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gbm90IHByZXNlbnQgaW4gdHlwZXMgeWV0XG4gICAgICBzeXN0ZW1BdWRpbzogJ2luY2x1ZGUnLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgc2NyZWVuIHNoYXJlIHN0cmVhbScsIGUpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZXZpY2VJZHMkID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcigpLnBpcGUoXG4gICAgICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgICAgICBjb25jYXRNYXAoKCkgPT4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkpLFxuICAgICAgICBzaGFyZVJlcGxheSgxKSxcbiAgICAgIClcbiAgICA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBEZWFjdGl2YXRlcyBNZWRpYVN0cmVhbSAoc3RvcHMgYW5kIHJlbW92ZXMgdHJhY2tzKSB0byBiZSBsYXRlciBnYXJiYWdlIGNvbGxlY3RlZFxuICpcbiAqIEBwYXJhbSBzdHJlYW0gTWVkaWFTdHJlYW1cbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3Bvc2VPZk1lZGlhU3RyZWFtID0gKHN0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgaWYgKCFzdHJlYW0uYWN0aXZlKSByZXR1cm47XG4gIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgIHRyYWNrLnN0b3AoKTtcbiAgICBzdHJlYW0ucmVtb3ZlVHJhY2sodHJhY2spO1xuICB9KTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjIGFuZCBtdXN0IGJlIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW1cbiAgaWYgKHR5cGVvZiBzdHJlYW0ucmVsZWFzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBzdHJlYW0ucmVsZWFzZSgpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgcGFpcndpc2UgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGRldmljZUlkcyQgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHtcbiAgc2V0dGxlZCxcbiAgd2l0aENhbmNlbGxhdGlvbixcbiAgd2l0aG91dENvbmN1cnJlbmN5LFxufSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7XG4gIE1lZGlhU3RyZWFtRmlsdGVyLFxuICBNZWRpYVN0cmVhbUZpbHRlckVudHJ5LFxuICBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdCxcbn0gZnJvbSAnLi9maWx0ZXJzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBUIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZTxDPixcbiAgQyA9IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbj4ge1xuICAvKipcbiAgICogaWYgdHJ1ZSwgc3RvcHMgdGhlIG1lZGlhIHN0cmVhbSB3aGVuIGNhbGwgaXMgbGVmdFxuICAgKi9cbiAgc3RvcE9uTGVhdmUgPSB0cnVlO1xuICBsb2dnZXI6IExvZ2dlcjtcblxuICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uczogRnVuY3Rpb25bXSA9IFtdO1xuICBwcml2YXRlIGlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICBwcml2YXRlIGZpbHRlcnM6IE1lZGlhU3RyZWFtRmlsdGVyRW50cnlbXSA9IFtdO1xuICBwcml2YXRlIHN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZycpO1xuICBwcml2YXRlIGZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKFxuICAgICdmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjYWxsOiBDYWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0ZTogVCxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4gICkge1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFtgJHtUcmFja1R5cGVbdHJhY2tUeXBlXS50b0xvd2VyQ2FzZSgpfSBtYW5hZ2VyYF0pO1xuICAgIGlmIChcbiAgICAgIGRldmljZUlkcyQgJiZcbiAgICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICAgICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPIHx8IHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pXG4gICAgKSB7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBhdmFpbGFibGUgYXVkaW8vdmlkZW8gZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBzdHJlYW0uXG4gICAqL1xuICBhc3luYyBlbmFibGUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKCdlbmFibGVkJyk7XG5cbiAgICBhd2FpdCB3aXRoQ2FuY2VsbGF0aW9uKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcsIGFzeW5jIChzaWduYWwpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0U3RhdHVzKCdlbmFibGVkJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKHRoaXMuc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIG9yIHBhdXNlcyB0aGUgc3RyZWFtIGJhc2VkIG9uIHN0YXRlLmRpc2FibGVNb2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlU3RvcD1mYWxzZV0gd2hlbiB0cnVlLCBzdG9wcyB0aGUgdHJhY2tzIHJlZ2FyZGxlc3Mgb2YgdGhlIHN0YXRlLmRpc2FibGVNb2RlXG4gICAqL1xuICBhc3luYyBkaXNhYmxlKGZvcmNlU3RvcDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5zdGF0ZS5wcmV2U3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXM7XG4gICAgaWYgKCFmb3JjZVN0b3AgJiYgdGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKCdkaXNhYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9wVHJhY2tzID1cbiAgICAgICAgICBmb3JjZVN0b3AgfHwgdGhpcy5zdGF0ZS5kaXNhYmxlTW9kZSA9PT0gJ3N0b3AtdHJhY2tzJztcbiAgICAgICAgYXdhaXQgdGhpcy5tdXRlU3RyZWFtKHN0b3BUcmFja3MpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZGlzYWJsZWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwZVxuICAgKi9cbiAgYXN5bmMgc3RhdHVzQ2hhbmdlU2V0dGxlZCgpIHtcbiAgICBhd2FpdCBzZXR0bGVkKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHN0YXR1cyB3YXMgcHJldmlvdXNseSBlbmFibGVkLCBpdCB3aWxsIHJlLWVuYWJsZSB0aGUgZGV2aWNlLlxuICAgKi9cbiAgYXN5bmMgcmVzdW1lKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9PT0gJ2VuYWJsZWQnICYmXG4gICAgICB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2Rpc2FibGVkJ1xuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIGN1cnJlbnQgZGV2aWNlIHN0YXR1cyBpcyBkaXNhYmxlZCwgaXQgd2lsbCBlbmFibGUgdGhlIGRldmljZSxcbiAgICogZWxzZSBpdCB3aWxsIGRpc2FibGUgaXQuXG4gICAqL1xuICBhc3luYyB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBmaWx0ZXIgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHN0cmVhbS5cbiAgICpcbiAgICogVGhlIHJlZ2lzdGVyZWQgZmlsdGVyIHdpbGwgZ2V0IHRoZSBleGlzdGluZyBzdHJlYW0sIGFuZCBpdCBzaG91bGQgcmV0dXJuXG4gICAqIGEgbmV3IHN0cmVhbSB3aXRoIHRoZSBhcHBsaWVkIGZpbHRlci5cbiAgICpcbiAgICogQHBhcmFtIGZpbHRlciB0aGUgZmlsdGVyIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJucyBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdFxuICAgKi9cbiAgcmVnaXN0ZXJGaWx0ZXIoXG4gICAgZmlsdGVyOiBNZWRpYVN0cmVhbUZpbHRlcixcbiAgKTogTWVkaWFTdHJlYW1GaWx0ZXJSZWdpc3RyYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IGVudHJ5OiBNZWRpYVN0cmVhbUZpbHRlckVudHJ5ID0ge1xuICAgICAgc3RhcnQ6IGZpbHRlcixcbiAgICAgIHN0b3A6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVnaXN0ZXJlZCA9IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIHRoaXMuZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcsXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmlsdGVycy5wdXNoKGVudHJ5KTtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdpc3RlcmVkLFxuICAgICAgdW5yZWdpc3RlcjogKCkgPT5cbiAgICAgICAgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBlbnRyeS5zdG9wPy4oKTtcbiAgICAgICAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMuZmlsdGVyKChmKSA9PiBmICE9PSBlbnRyeSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHNldCB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byBzZXQuXG4gICAqL1xuICBzZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHM6IEMpIHtcbiAgICB0aGlzLnN0YXRlLnNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICogQHBhcmFtIGRldmljZUlkIHRoZSBkZXZpY2UgaWQgdG8gc2VsZWN0LlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgcmVmZXJlbmNlLicsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGV2aWNlSWQgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UoZGV2aWNlSWQpO1xuICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgYXN5bmMgYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oKTtcbiAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFN0cmVhbShjb25zdHJhaW50czogQyk6IFByb21pc2U8TWVkaWFTdHJlYW0+O1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBzdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPjtcblxuICBwcm90ZWN0ZWQgZ2V0VHJhY2tzKCk6IE1lZGlhU3RyZWFtVHJhY2tbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0/LmdldFRyYWNrcygpID8/IFtdO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIG11dGVTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVkaWFTdHJlYW0pIHJldHVybjtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgJHtzdG9wVHJhY2tzID8gJ1N0b3BwaW5nJyA6ICdEaXNhYmxpbmcnfSBzdHJlYW1gKTtcbiAgICBpZiAodGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzKTtcbiAgICB9XG4gICAgdGhpcy5tdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrcyk7XG4gICAgY29uc3QgYWxsRW5kZWQgPSB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdlbmRlZCcpO1xuICAgIGlmIChhbGxFbmRlZCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0Y1xuICAgICAgICB0eXBlb2YgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYWxsZWQgdG8gZGlzcG9zZSB0aGUgc3RyZWFtIGluIFJOXG4gICAgICAgIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0ucmVsZWFzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZS5zZXRNZWRpYVN0cmVhbSh1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmZpbHRlcnMuZm9yRWFjaCgoZW50cnkpID0+IGVudHJ5LnN0b3A/LigpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG11dGVUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLmVuYWJsZWQpIHRyYWNrLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdW5tdXRlVHJhY2tzKCkge1xuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgIGlmICghdHJhY2suZW5hYmxlZCkgdHJhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykgdHJhY2suc3RvcCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RvcFRyYWNrcykge1xuICAgICAgdGhpcy5zdG9wVHJhY2tzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubXV0ZVRyYWNrcygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyB1bm11dGVTdHJlYW0oKSB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIHN0cmVhbScpO1xuICAgIGxldCBzdHJlYW06IE1lZGlhU3RyZWFtO1xuICAgIGxldCByb290U3RyZWFtOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB8IHVuZGVmaW5lZDtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICYmXG4gICAgICB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdsaXZlJylcbiAgICApIHtcbiAgICAgIHN0cmVhbSA9IHRoaXMuc3RhdGUubWVkaWFTdHJlYW07XG4gICAgICB0aGlzLnVubXV0ZVRyYWNrcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0Q29uc3RyYWludHMgPSB0aGlzLnN0YXRlLmRlZmF1bHRDb25zdHJhaW50cztcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRDb25zdHJhaW50cyxcbiAgICAgICAgZGV2aWNlSWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENoYWlucyB0d28gbWVkaWEgc3RyZWFtcyB0b2dldGhlci5cbiAgICAgICAqXG4gICAgICAgKiBJbiBvdXIgY2FzZSwgZmlsdGVycyBNZWRpYVN0cmVhbXMgYXJlIGRlcml2ZWQgZnJvbSB0aGVpciBwYXJlbnQgTWVkaWFTdHJlYW0uXG4gICAgICAgKiBIb3dldmVyLCBvbmNlIGEgY2hpbGQgZmlsdGVyJ3MgdHJhY2sgaXMgc3RvcHBlZCxcbiAgICAgICAqIHRoZSB0cmFja3Mgb2YgdGhlIHBhcmVudCBNZWRpYVN0cmVhbSBhcmVuJ3QgYXV0b21hdGljYWxseSBzdG9wcGVkLlxuICAgICAgICogVGhpcyBsZWFkcyB0byBhIHNpdHVhdGlvbiB3aGVyZSB0aGUgY2FtZXJhIGluZGljYXRvciBsaWdodCBpcyBzdGlsbCBvblxuICAgICAgICogZXZlbiB0aG91Z2ggdGhlIHVzZXIgc3RvcHBlZCBwdWJsaXNoaW5nIHZpZGVvLlxuICAgICAgICpcbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gd29ya3MgYXJvdW5kIHRoaXMgaXNzdWUgYnkgc3RvcHBpbmcgdGhlIHBhcmVudCBNZWRpYVN0cmVhbSdzIHRyYWNrc1xuICAgICAgICogYXMgd2VsbCBvbmNlIHRoZSBjaGlsZCBmaWx0ZXIncyB0cmFja3MgYXJlIHN0b3BwZWQuXG4gICAgICAgKlxuICAgICAgICogSXQgd29ya3MgYnkgcGF0Y2hpbmcgdGhlIHN0b3AoKSBtZXRob2Qgb2YgdGhlIGNoaWxkIGZpbHRlcidzIHRyYWNrcyB0byBhbHNvIHN0b3BcbiAgICAgICAqIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0ncyB0cmFja3Mgb2YgdGhlIHNhbWUgdHlwZS4gSGVyZSB3ZSBhc3N1bWUgdGhhdFxuICAgICAgICogdGhlIHBhcmVudCBNZWRpYVN0cmVhbSBoYXMgb25seSBvbmUgdHJhY2sgb2YgZWFjaCB0eXBlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBwYXJlbnRTdHJlYW0gdGhlIHBhcmVudCBNZWRpYVN0cmVhbS4gT21pdCBmb3IgdGhlIHJvb3Qgc3RyZWFtLlxuICAgICAgICovXG4gICAgICBjb25zdCBjaGFpbldpdGggPVxuICAgICAgICAocGFyZW50U3RyZWFtPzogUHJvbWlzZTxNZWRpYVN0cmVhbT4pID0+XG4gICAgICAgIGFzeW5jIChmaWx0ZXJTdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICAgICAgICAgIGlmICghcGFyZW50U3RyZWFtKSByZXR1cm4gZmlsdGVyU3RyZWFtO1xuICAgICAgICAgIC8vIFRPRE8gT0w6IHRha2UgY2FyZSBvZiB0cmFjay5lbmFibGVkIHByb3BlcnR5IGFzIHdlbGxcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBwYXJlbnRTdHJlYW07XG4gICAgICAgICAgZmlsdGVyU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSB0cmFjay5zdG9wO1xuICAgICAgICAgICAgdHJhY2suc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKHRyYWNrKTtcbiAgICAgICAgICAgICAgcGFyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHBhcmVudFRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYWNrLmtpbmQgPT09IHRyYWNrLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudFRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHBhcmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKChwYXJlbnRUcmFjaykgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgcGFyZW50IHN0cmVhbSBhYnJ1cHRseSBlbmRzLCB3ZSBwcm9wYWdhdGUgdGhlIGV2ZW50XG4gICAgICAgICAgICAvLyB0byB0aGUgZmlsdGVyIHN0cmVhbS5cbiAgICAgICAgICAgIC8vIFRoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gdGhlIGNhbWVyYS9taWNyb3Bob25lIHBlcm1pc3Npb25zXG4gICAgICAgICAgICAvLyBhcmUgcmV2b2tlZCBvciB3aGVuIHRoZSBkZXZpY2UgaXMgZGlzY29ubmVjdGVkLlxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZmlsdGVyU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYWNrLmtpbmQgIT09IHRyYWNrLmtpbmQpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgdHJhY2suZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2VuZGVkJykpOyAvLyBwcm9wYWdhdGUgdGhlIGV2ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhcmVudFRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCk7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgIHBhcmVudFRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBmaWx0ZXJTdHJlYW07XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHRoZSByb290U3RyZWFtIHJlcHJlc2VudHMgdGhlIHN0cmVhbSBjb21pbmcgZnJvbSB0aGUgYWN0dWFsIGRldmljZVxuICAgICAgLy8gZS5nLiBjYW1lcmEgb3IgbWljcm9waG9uZSBzdHJlYW1cbiAgICAgIHJvb3RTdHJlYW0gPSB0aGlzLmdldFN0cmVhbShjb25zdHJhaW50cyBhcyBDKTtcbiAgICAgIC8vIHdlIHB1Ymxpc2ggdGhlIGxhc3QgTWVkaWFTdHJlYW0gb2YgdGhlIGNoYWluXG4gICAgICBzdHJlYW0gPSBhd2FpdCB0aGlzLmZpbHRlcnMucmVkdWNlKFxuICAgICAgICAocGFyZW50LCBlbnRyeSkgPT5cbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgICAgIC50aGVuKChpbnB1dFN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IHN0b3AsIG91dHB1dCB9ID0gZW50cnkuc3RhcnQoaW5wdXRTdHJlYW0pO1xuICAgICAgICAgICAgICBlbnRyeS5zdG9wID0gc3RvcDtcbiAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjaGFpbldpdGgocGFyZW50KSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgICAnRml0bGVyIGZhaWxlZCB0byBzdGFydCBhbmQgd2lsbCBiZSBpZ25vcmVkJyxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICByb290U3RyZWFtLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHtcbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaFN0cmVhbShzdHJlYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSAhPT0gc3RyZWFtKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldE1lZGlhU3RyZWFtKHN0cmVhbSwgYXdhaXQgcm9vdFN0cmVhbSk7XG4gICAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0IG1lZGlhRGV2aWNlS2luZCgpIHtcbiAgICBpZiAodGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTykge1xuICAgICAgcmV0dXJuICdhdWRpb2lucHV0JztcbiAgICB9XG4gICAgaWYgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pIHtcbiAgICAgIHJldHVybiAndmlkZW9pbnB1dCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlzY29ubmVjdGVkT3JSZXBsYWNlZERldmljZXMoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgIGRldmljZUlkcyQhLnBpcGUocGFpcndpc2UoKSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgIF0pLFxuICAgICAgICBhc3luYyAoW1twcmV2RGV2aWNlcywgY3VycmVudERldmljZXNdLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICAgICAgICAgIGxldCBpc0RldmljZURpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlzRGV2aWNlUmVwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREZXZpY2UgPSB0aGlzLmZpbmREZXZpY2VJbkxpc3QoXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2VzLFxuICAgICAgICAgICAgICBkZXZpY2VJZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RGV2aWNlID0gdGhpcy5maW5kRGV2aWNlSW5MaXN0KHByZXZEZXZpY2VzLCBkZXZpY2VJZCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnREZXZpY2UgJiYgcHJldkRldmljZSkge1xuICAgICAgICAgICAgICBpc0RldmljZURpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlICYmXG4gICAgICAgICAgICAgIHByZXZEZXZpY2UgJiZcbiAgICAgICAgICAgICAgY3VycmVudERldmljZS5kZXZpY2VJZCA9PT0gcHJldkRldmljZS5kZXZpY2VJZCAmJlxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlLmdyb3VwSWQgIT09IHByZXZEZXZpY2UuZ3JvdXBJZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlzRGV2aWNlUmVwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZXZpY2VEaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VsZWN0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEZXZpY2VSZXBsYWNlZCkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2Rpc2FibGVkJ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgaGFuZGxpbmcgZGlzY29ubmVjdGVkIG9yIHJlcGxhY2VkIGRldmljZScsXG4gICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kRGV2aWNlSW5MaXN0KGRldmljZXM6IE1lZGlhRGV2aWNlSW5mb1tdLCBkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGRldmljZXMuZmluZChcbiAgICAgIChkKSA9PiBkLmRldmljZUlkID09PSBkZXZpY2VJZCAmJiBkLmtpbmQgPT09IHRoaXMubWVkaWFEZXZpY2VLaW5kLFxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIE9ic2VydmFibGUsXG4gIG9mLFxuICBzaGFyZVJlcGxheSxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcblxuZXhwb3J0IHR5cGUgSW5wdXREZXZpY2VTdGF0dXMgPSAnZW5hYmxlZCcgfCAnZGlzYWJsZWQnIHwgdW5kZWZpbmVkO1xuZXhwb3J0IHR5cGUgVHJhY2tEaXNhYmxlTW9kZSA9ICdzdG9wLXRyYWNrcycgfCAnZGlzYWJsZS10cmFja3MnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZTxDID0gTWVkaWFUcmFja0NvbnN0cmFpbnRzPiB7XG4gIHByb3RlY3RlZCBzdGF0dXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxJbnB1dERldmljZVN0YXR1cz4odW5kZWZpbmVkKTtcbiAgcHJvdGVjdGVkIG9wdGltaXN0aWNTdGF0dXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxJbnB1dERldmljZVN0YXR1cz4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgbWVkaWFTdHJlYW1TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgc2VsZWN0ZWREZXZpY2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIGRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEMgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcmV2U3RhdHVzOiBJbnB1dERldmljZVN0YXR1cztcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50IG1lZGlhIHN0cmVhbSwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGRldmljZSBpcyBjdXJyZW50bHkgZGlzYWJsZWQuXG4gICAqXG4gICAqL1xuICBtZWRpYVN0cmVhbSQgPSB0aGlzLm1lZGlhU3RyZWFtU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqL1xuICBzZWxlY3RlZERldmljZSQgPSB0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGRldmljZSBzdGF0dXNcbiAgICovXG4gIHN0YXR1cyQgPSB0aGlzLnN0YXR1c1N1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGUgcmVmbGVjdHMgdGhlIHJlcXVlc3RlZCBkZXZpY2Ugc3RhdHVzLiBVc2VmdWwgZm9yIG9wdGltaXN0aWMgVUlzXG4gICAqL1xuICBvcHRpbWlzdGljU3RhdHVzJCA9IHRoaXMub3B0aW1pc3RpY1N0YXR1c1N1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqL1xuICBkZWZhdWx0Q29uc3RyYWludHMkID0gdGhpcy5kZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBlbWl0IGB0cnVlYCBpZiBicm93c2VyL3N5c3RlbSBwZXJtaXNzaW9uXG4gICAqIGlzIGdyYW50ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgaGFzQnJvd3NlclBlcm1pc3Npb24kOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gZGlzYWJsZU1vZGUgdGhlIGRpc2FibGUgbW9kZSB0byB1c2UuXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBCcm93c2VyUGVybWlzc2lvbiB0byB1c2UgZm9yIHF1ZXJ5aW5nLlxuICAgKiBgdW5kZWZpbmVkYCBtZWFucyBubyBwZXJtaXNzaW9uIGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGRpc2FibGVNb2RlOiBUcmFja0Rpc2FibGVNb2RlID0gJ3N0b3AtdHJhY2tzJyxcbiAgICBwZXJtaXNzaW9uPzogQnJvd3NlclBlcm1pc3Npb24sXG4gICkge1xuICAgIHRoaXMuaGFzQnJvd3NlclBlcm1pc3Npb24kID0gcGVybWlzc2lvblxuICAgICAgPyBwZXJtaXNzaW9uLmFzT2JzZXJ2YWJsZSgpLnBpcGUoc2hhcmVSZXBsYXkoMSkpXG4gICAgICA6IG9mKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBkZXZpY2Ugc3RhdHVzXG4gICAqL1xuICBnZXQgc3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXR1cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZXF1ZXN0ZWQgZGV2aWNlIHN0YXR1cy4gVXNlZnVsIGZvciBvcHRpbWlzdGljIFVJc1xuICAgKi9cbiAgZ2V0IG9wdGltaXN0aWNTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMub3B0aW1pc3RpY1N0YXR1cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqL1xuICBnZXQgc2VsZWN0ZWREZXZpY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBtZWRpYSBzdHJlYW0sIG9yIGB1bmRlZmluZWRgIGlmIHRoZSBkZXZpY2UgaXMgY3VycmVudGx5IGRpc2FibGVkLlxuICAgKi9cbiAgZ2V0IG1lZGlhU3RyZWFtKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm1lZGlhU3RyZWFtJCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gICAqIG5vdCBlbWl0dGVkIGEgdmFsdWUgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICAgKi9cbiAgZ2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5nZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdHVzXG4gICAqL1xuICBzZXRTdGF0dXMoc3RhdHVzOiBJbnB1dERldmljZVN0YXR1cykge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhdHVzU3ViamVjdCwgc3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHBlbmRpbmdTdGF0dXNcbiAgICovXG4gIHNldFBlbmRpbmdTdGF0dXMocGVuZGluZ1N0YXR1czogSW5wdXREZXZpY2VTdGF0dXMpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0LCBwZW5kaW5nU3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBgbWVkaWFTdHJlYW1gIHN0YXRlIHZhcmlhYmxlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0cmVhbSB0aGUgc3RyZWFtIHRvIHNldC5cbiAgICogQHBhcmFtIHJvb3RTdHJlYW0gdGhlIHJvb3Qgc3RyZWFtLCBhcHBsaWNhYmxlIHdoZW4gZmlsdGVycyBhcmUgdXNlZFxuICAgKiBhcyB0aGlzIGlzIHRoZSBzdHJlYW0gdGhhdCBob2xkcyB0aGUgYWN0dWFsIGRldmljZUlkIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgc2V0TWVkaWFTdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgICByb290U3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZWRpYVN0cmVhbVN1YmplY3QsIHN0cmVhbSk7XG4gICAgaWYgKHJvb3RTdHJlYW0pIHtcbiAgICAgIHRoaXMuc2V0RGV2aWNlKHRoaXMuZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHJvb3RTdHJlYW0pKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBkZXZpY2VJZCB0aGUgZGV2aWNlIGlkIHRvIHNldC5cbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKi9cbiAgZ2V0IGRlZmF1bHRDb25zdHJhaW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5kZWZhdWx0Q29uc3RyYWludHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byBzZXQuXG4gICAqL1xuICBzZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHM6IEMgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QsIGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gICAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAqL1xuICBwcm90ZWN0ZWQgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldERldmljZUlkRnJvbVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtLFxuICApOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IHR5cGUgQ2FtZXJhRGlyZWN0aW9uID0gJ2Zyb250JyB8ICdiYWNrJyB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXJTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUge1xuICBwcml2YXRlIGRpcmVjdGlvblN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbWVyYURpcmVjdGlvbj4odW5kZWZpbmVkKTtcblxuICAvKipcbiAgICogT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBwcmVmZXJyZWQgY2FtZXJhIGRpcmVjdGlvblxuICAgKiBmcm9udCAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSB1c2VyXG4gICAqIGJhY2sgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgZW52aXJvbm1lbnRcbiAgICovXG4gIGRpcmVjdGlvbiQ6IE9ic2VydmFibGU8Q2FtZXJhRGlyZWN0aW9uPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RvcC10cmFja3MnLCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkpO1xuICAgIHRoaXMuZGlyZWN0aW9uJCA9IHRoaXMuZGlyZWN0aW9uU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGNhbWVyYSBkaXJlY3Rpb25cbiAgICogZnJvbnQgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgdXNlclxuICAgKiBiYWNrIC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIGVudmlyb25tZW50XG4gICAqL1xuICBnZXQgZGlyZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmRpcmVjdGlvbiQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0RGlyZWN0aW9uKGRpcmVjdGlvbjogQ2FtZXJhRGlyZWN0aW9uKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5kaXJlY3Rpb25TdWJqZWN0LCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0TWVkaWFTdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgICByb290U3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIuc2V0TWVkaWFTdHJlYW0oc3RyZWFtLCByb290U3RyZWFtKTtcbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAvLyBSTiBnZXRTZXR0aW5ncygpIGRvZXNuJ3QgcmV0dXJuIGZhY2luZ01vZGUsIHNvIHdlIGRvbid0IHZlcmlmeSBjYW1lcmEgZGlyZWN0aW9uXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBpc1JlYWN0TmF0aXZlKClcbiAgICAgICAgPyB0aGlzLmRpcmVjdGlvblxuICAgICAgICA6IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdPy5nZXRTZXR0aW5ncygpLmZhY2luZ01vZGUgPT09ICdlbnZpcm9ubWVudCdcbiAgICAgICAgICA/ICdiYWNrJ1xuICAgICAgICAgIDogJ2Zyb250JztcbiAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgcmV0dXJuIHRyYWNrPy5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBDYW1lcmFEaXJlY3Rpb24sIENhbWVyYU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vQ2FtZXJhTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBnZXRWaWRlb0RldmljZXMsIGdldFZpZGVvU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbnR5cGUgUHJlZmVycmVkQ29kZWMgPSAndnA4JyB8ICdoMjY0JyB8IHN0cmluZztcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxDYW1lcmFNYW5hZ2VyU3RhdGU+IHtcbiAgcHJpdmF0ZSB0YXJnZXRSZXNvbHV0aW9uID0ge1xuICAgIHdpZHRoOiAxMjgwLFxuICAgIGhlaWdodDogNzIwLFxuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGNvZGVjIGZvciBlbmNvZGluZyB0aGUgdmlkZW8uXG4gICAqXG4gICAqIEBpbnRlcm5hbCBpbnRlcm5hbCB1c2Ugb25seSwgbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkuXG4gICAqL1xuICBwcmVmZXJyZWRDb2RlYzogUHJlZmVycmVkQ29kZWMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBDYW1lcmFNYW5hZ2VyU3RhdGUoKSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgdGhlIGNhbWVyYSBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgY2FtZXJhIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdERpcmVjdGlvbihkaXJlY3Rpb246IEV4Y2x1ZGU8Q2FtZXJhRGlyZWN0aW9uLCB1bmRlZmluZWQ+KSB7XG4gICAgdGhpcy5zdGF0ZS5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAvLyBQcm92aWRpbmcgYm90aCBkZXZpY2UgaWQgYW5kIGRpcmVjdGlvbiBkb2Vzbid0IHdvcmssIHNvIHdlIGRlc2VsZWN0IHRoZSBkZXZpY2VcbiAgICB0aGlzLnN0YXRlLnNldERldmljZSh1bmRlZmluZWQpO1xuICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgdGhlIGNhbWVyYSBkaXJlY3Rpb246IGlmIGl0J3MgZnJvbnQgaXQgd2lsbCBjaGFuZ2UgdG8gYmFjaywgaWYgaXQncyBiYWNrLCBpdCB3aWxsIGNoYW5nZSB0byBmcm9udC5cbiAgICpcbiAgICogTm90ZTogaWYgdGhlcmUgaXMgbm8gYXZhaWxhYmxlIGNhbWVyYSB3aXRoIHRoZSBkZXNpcmVkIGRpcmVjdGlvbiwgdGhpcyBtZXRob2Qgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgZmxpcCgpIHtcbiAgICBjb25zdCBuZXdEaXJlY3Rpb24gPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICdiYWNrJyA6ICdmcm9udCc7XG4gICAgYXdhaXQgdGhpcy5zZWxlY3REaXJlY3Rpb24obmV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIHNlbGVjdFRhcmdldFJlc29sdXRpb24ocmVzb2x1dGlvbjogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9KSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCA9IHJlc29sdXRpb24ud2lkdGg7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGNvdWxkbid0IGVuYWJsZSBkZXZpY2UsIHRhcmdldCByZXNvbHV0aW9uIHdpbGwgYmUgYXBwbGllZCB0aGUgbmV4dCB0aW1lIHVzZXIgYXR0ZW1wdHMgdG8gc3RhcnQgdGhlIGRldmljZVxuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdjb3VsZCBub3QgYXBwbHkgdGFyZ2V0IHJlc29sdXRpb24nLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgLm1lZGlhU3RyZWFtIS5nZXRWaWRlb1RyYWNrcygpWzBdXG4gICAgICAgID8uZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd2lkdGggIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCB8fFxuICAgICAgICBoZWlnaHQgIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHRcbiAgICAgICkge1xuICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgIGAke3dpZHRofXgke2hlaWdodH0gdGFyZ2V0IHJlc29sdXRpb24gYXBwbGllZCB0byBtZWRpYSBzdHJlYW1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwcmVmZXJyZWQgY29kZWMgZm9yIGVuY29kaW5nIHRoZSB2aWRlby5cbiAgICpcbiAgICogQGludGVybmFsIGludGVybmFsIHVzZSBvbmx5LCBub3QgcGFydCBvZiB0aGUgcHVibGljIEFQSS5cbiAgICogQHBhcmFtIGNvZGVjIHRoZSBjb2RlYyB0byB1c2UgZm9yIGVuY29kaW5nIHRoZSB2aWRlby5cbiAgICovXG4gIHNldFByZWZlcnJlZENvZGVjKGNvZGVjOiAndnA4JyB8ICdoMjY0JyB8IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucHJlZmVycmVkQ29kZWMgPSBjb2RlYztcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gZ2V0VmlkZW9EZXZpY2VzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4gICk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcbiAgICBjb25zdHJhaW50cy53aWR0aCA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aDtcbiAgICBjb25zdHJhaW50cy5oZWlnaHQgPSB0aGlzLnRhcmdldFJlc29sdXRpb24uaGVpZ2h0O1xuICAgIC8vIFdlIGNhbid0IHNldCBib3RoIGRldmljZSBpZCBhbmQgZmFjaW5nIG1vZGVcbiAgICAvLyBEZXZpY2UgaWQgaGFzIGhpZ2hlciBwcmlvcml0eVxuICAgIGlmICghY29uc3RyYWludHMuZGV2aWNlSWQgJiYgdGhpcy5zdGF0ZS5kaXJlY3Rpb24pIHtcbiAgICAgIGNvbnN0cmFpbnRzLmZhY2luZ01vZGUgPVxuICAgICAgICB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICd1c2VyJyA6ICdlbnZpcm9ubWVudCc7XG4gICAgfVxuICAgIHJldHVybiBnZXRWaWRlb1N0cmVhbShjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHVibGlzaFN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5wdWJsaXNoVmlkZW9TdHJlYW0oc3RyZWFtLCB7XG4gICAgICBwcmVmZXJyZWRDb2RlYzogdGhpcy5wcmVmZXJyZWRDb2RlYyxcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuVklERU8sIHN0b3BUcmFja3MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlLFxuICBUcmFja0Rpc2FibGVNb2RlLFxufSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYHRydWVgIGlmIHRoZSB1c2VyJ3MgbWljcm9waG9uZSBpcyBtdXRlZCBidXQgdGhleSdhcmUgc3BlYWtpbmcuXG4gICAqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBSZWFjdCBOYXRpdmUgU0RLLlxuICAgKi9cbiAgc3BlYWtpbmdXaGlsZU11dGVkJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICBjb25zdHJ1Y3RvcihkaXNhYmxlTW9kZTogVHJhY2tEaXNhYmxlTW9kZSkge1xuICAgIHN1cGVyKGRpc2FibGVNb2RlLCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkpO1xuXG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWQkID0gdGhpcy5zcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIGB0cnVlYCBpZiB0aGUgdXNlcidzIG1pY3JvcGhvbmUgaXMgbXV0ZWQgYnV0IHRoZXknYXJlIHNwZWFraW5nLlxuICAgKlxuICAgKiBUaGlzIGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgUmVhY3QgTmF0aXZlIFNESy5cbiAgICovXG4gIGdldCBzcGVha2luZ1doaWxlTXV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRTcGVha2luZ1doaWxlTXV0ZWQoaXNTcGVha2luZzogYm9vbGVhbikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCwgaXNTcGVha2luZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsImV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge1xuICAvKipcbiAgICogRGVmaW5lcyBob3cgb2Z0ZW4gdGhlIGRldGVjdG9yIHNob3VsZCBjaGVjayB3aGV0aGVyIGEgc291bmQgaXMgcHJlc2VudC5cbiAgICogRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAqL1xuICBkZXRlY3Rpb25GcmVxdWVuY3lJbk1zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBhdWRpbyBsZXZlbCB0aHJlc2hvbGQgYmVmb3JlIGEgXCJjaGFuZ2VcIiBpcyBlbWl0dGVkLlxuICAgKiBEZWZhdWx0cyB0byAxNTAuIFRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiAwLTI1NS5cbiAgICovXG4gIGF1ZGlvTGV2ZWxUaHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL3dlYi9hcGkvYW5hbHlzZXJub2RlL2ZmdHNpemVcbiAgICpcbiAgICogRGVmYXVsdHMgdG8gMTI4LlxuICAgKi9cbiAgZmZ0U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBhdWRpbyBzdHJlYW0gc2hvdWxkIGJlIHN0b3BwZWQgKGRlc3Ryb3llZClcbiAgICogd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKi9cbiAgZGVzdHJveVN0cmVhbU9uU3RvcD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZERldGVjdG9yU3RhdGUgPSB7XG4gIGlzU291bmREZXRlY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlcHJlc2VudGVkIGFzIHBlcmNlbnRhZ2UgKDAtMTAwKSB3aGVyZSAxMDAlIGlzIGRlZmluZWQgYnkgYGF1ZGlvTGV2ZWxUaHJlc2hvbGRgIHByb3BlcnR5LlxuICAgKiBEZWNyZWFzZSB0aW1lIGJldHdlZW4gc2FtcGxlcyAodG8gNTAtMTAwbXMpIHdpdGggYGRldGVjdGlvbkZyZXF1ZW5jeUluTXNgIHByb3BlcnR5LlxuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgPSAoc3RhdGU6IFNvdW5kRGV0ZWN0b3JTdGF0ZSkgPT4gdm9pZDtcblxuY29uc3QgREVURUNUSU9OX0ZSRVFVRU5DWV9JTl9NUyA9IDUwMDtcbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDE1MDtcbmNvbnN0IEZGVF9TSVpFID0gMTI4O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc291bmQgZGV0ZWN0b3IuXG4gKlxuICogQHBhcmFtIGF1ZGlvU3RyZWFtIHRoZSBhdWRpbyBzdHJlYW0gdG8gb2JzZXJ2ZS4gRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uLCB0aGlzIHN0cmVhbSBtaWdodCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAqIEBwYXJhbSBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQgYSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUgc291bmQgc3RhdGUgY2hhbmdlcy5cbiAqIEBwYXJhbSBvcHRpb25zIGN1c3RvbSBvcHRpb25zIGZvciB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKiBAcmV0dXJucyBhIGNsZWFuLXVwIGZ1bmN0aW9uIHdoaWNoIG9uY2UgaW52b2tlZCBzdG9wcyB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTb3VuZERldGVjdG9yID0gKFxuICBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZDogU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIsXG4gIG9wdGlvbnM6IFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3Qge1xuICAgIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMgPSBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TLFxuICAgIGF1ZGlvTGV2ZWxUaHJlc2hvbGQgPSBBVURJT19MRVZFTF9USFJFU0hPTEQsXG4gICAgZmZ0U2l6ZSA9IEZGVF9TSVpFLFxuICAgIGRlc3Ryb3lTdHJlYW1PblN0b3AgPSB0cnVlLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gIGFuYWx5c2VyLmZmdFNpemUgPSBmZnRTaXplO1xuXG4gIGNvbnN0IG1pY3JvcGhvbmUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYXVkaW9TdHJlYW0pO1xuICBtaWNyb3Bob25lLmNvbm5lY3QoYW5hbHlzZXIpO1xuXG4gIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcblxuICAgIGNvbnN0IGlzU291bmREZXRlY3RlZCA9IGRhdGEuc29tZSgodmFsdWUpID0+IHZhbHVlID49IGF1ZGlvTGV2ZWxUaHJlc2hvbGQpO1xuXG4gICAgY29uc3QgYXZlcmFnZWREYXRhVmFsdWUgPSBkYXRhLnJlZHVjZSgocHYsIGN2KSA9PiBwdiArIGN2LCAwKSAvIGRhdGEubGVuZ3RoO1xuXG4gICAgY29uc3QgcGVyY2VudGFnZSA9XG4gICAgICBhdmVyYWdlZERhdGFWYWx1ZSA+IGF1ZGlvTGV2ZWxUaHJlc2hvbGRcbiAgICAgICAgPyAxMDBcbiAgICAgICAgOiBNYXRoLnJvdW5kKChhdmVyYWdlZERhdGFWYWx1ZSAvIGF1ZGlvTGV2ZWxUaHJlc2hvbGQpICogMTAwKTtcblxuICAgIC8vIFdoZW4gdGhlIHRyYWNrIGlzIGRpc2FibGVkLCBpdCB0YWtlcyB0aW1lIGZvciB0aGUgYnVmZmVyIHRvIGVtcHR5XG4gICAgLy8gVGhpcyBjaGVjayB3aWxsIGVuc3VyZSB0aGF0IHdlIGRvbid0IHNlbmQgYW55dGhpbmcgaWYgdGhlIHRyYWNrIGlzIGRpc2FibGVkXG4gICAgaWYgKGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0/LmVuYWJsZWQpIHtcbiAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7IGlzU291bmREZXRlY3RlZCwgYXVkaW9MZXZlbDogcGVyY2VudGFnZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkOiBmYWxzZSwgYXVkaW9MZXZlbDogMCB9KTtcbiAgICB9XG4gIH0sIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMpO1xuXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgICAvLyBjbGVhbi11cCB0aGUgQXVkaW9Db250ZXh0IGVsZW1lbnRzXG4gICAgbWljcm9waG9uZS5kaXNjb25uZWN0KCk7XG4gICAgYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmIChhdWRpb0NvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBhd2FpdCBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHRoZSBzdHJlYW1cbiAgICBpZiAoZGVzdHJveVN0cmVhbU9uU3RvcCkge1xuICAgICAgYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICBhdWRpb1N0cmVhbS5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQmFzZVN0YXRzIH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHsgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgfSBmcm9tICcuL3NvdW5kLWRldGVjdG9yJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi9zdGF0cy91dGlscyc7XG5cbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDAuMjtcblxuZXhwb3J0IGNsYXNzIFJOU3BlZWNoRGV0ZWN0b3Ige1xuICBwcml2YXRlIHBjMSA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih7fSk7XG4gIHByaXZhdGUgcGMyID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHt9KTtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBzcGVlY2ggZGV0ZWN0aW9uLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHN0YXJ0KCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdWRpb1N0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wYzEuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYzIuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgICAgIGUuY2FuZGlkYXRlIGFzIFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGMyLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGMxLmFkZEljZUNhbmRpZGF0ZShcbiAgICAgICAgICBlLmNhbmRpZGF0ZSBhcyBSVENJY2VDYW5kaWRhdGVJbml0IHwgdW5kZWZpbmVkLFxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGF1ZGlvU3RyZWFtXG4gICAgICAgIC5nZXRUcmFja3MoKVxuICAgICAgICAuZm9yRWFjaCgodHJhY2spID0+IHRoaXMucGMxLmFkZFRyYWNrKHRyYWNrLCBhdWRpb1N0cmVhbSkpO1xuICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLnBjMS5jcmVhdGVPZmZlcih7fSk7XG4gICAgICBhd2FpdCB0aGlzLnBjMi5zZXRSZW1vdGVEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICBhd2FpdCB0aGlzLnBjMS5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXMucGMyLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgYXdhaXQgdGhpcy5wYzEuc2V0UmVtb3RlRGVzY3JpcHRpb24oYW5zd2VyKTtcbiAgICAgIGF3YWl0IHRoaXMucGMyLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKTtcbiAgICAgIGNvbnN0IGF1ZGlvVHJhY2tzID0gYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICAgIC8vIFdlIG5lZWQgdG8gbXV0ZSB0aGUgYXVkaW8gdHJhY2sgZm9yIHRoaXMgdGVtcG9yYXJ5IHN0cmVhbSwgb3IgZWxzZSB5b3Ugd2lsbCBoZWFyIHlvdXJzZWxmIHR3aWNlIHdoaWxlIGluIHRoZSBjYWxsLlxuICAgICAgYXVkaW9UcmFja3MuZm9yRWFjaCgodHJhY2spID0+ICh0cmFjay5lbmFibGVkID0gZmFsc2UpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0Vycm9yIGNvbm5lY3RpbmcgYW5kIG5lZ290aWF0aW5nIGJldHdlZW4gUGVlckNvbm5lY3Rpb25zOicsXG4gICAgICAgIGVycm9yLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGhlIHNwZWVjaCBkZXRlY3Rpb24gYW5kIHJlbGVhc2VzIGFsbCBhbGxvY2F0ZWQgcmVzb3VyY2VzLlxuICAgKi9cbiAgcHVibGljIHN0b3AoKSB7XG4gICAgdGhpcy5wYzEuY2xvc2UoKTtcbiAgICB0aGlzLnBjMi5jbG9zZSgpO1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1ldGhvZCB0aGF0IGRldGVjdHMgdGhlIGF1ZGlvIGxldmVscyBhbmQgcmV0dXJucyB0aGUgc3RhdHVzLlxuICAgKi9cbiAgcHVibGljIG9uU3BlYWtpbmdEZXRlY3RlZFN0YXRlQ2hhbmdlKFxuICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZDogU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIsXG4gICkge1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gKGF3YWl0IHRoaXMucGMxLmdldFN0YXRzKCkpIGFzIFJUQ1N0YXRzUmVwb3J0O1xuICAgICAgY29uc3QgcmVwb3J0ID0gZmxhdHRlbihzdGF0cyk7XG4gICAgICAvLyBBdWRpbyBsZXZlbHMgYXJlIHByZXNlbnQgaW5zaWRlIHN0YXRzIG9mIHR5cGUgYG1lZGlhLXNvdXJjZWAgYW5kIG9mIGtpbmQgYGF1ZGlvYFxuICAgICAgY29uc3QgYXVkaW9NZWRpYVNvdXJjZVN0YXRzID0gcmVwb3J0LmZpbmQoXG4gICAgICAgIChzdGF0KSA9PlxuICAgICAgICAgIHN0YXQudHlwZSA9PT0gJ21lZGlhLXNvdXJjZScgJiZcbiAgICAgICAgICAoc3RhdCBhcyBSVENSdHBTdHJlYW1TdGF0cykua2luZCA9PT0gJ2F1ZGlvJyxcbiAgICAgICkgYXMgQmFzZVN0YXRzO1xuICAgICAgaWYgKGF1ZGlvTWVkaWFTb3VyY2VTdGF0cykge1xuICAgICAgICBjb25zdCB7IGF1ZGlvTGV2ZWwgfSA9IGF1ZGlvTWVkaWFTb3VyY2VTdGF0cztcbiAgICAgICAgaWYgKGF1ZGlvTGV2ZWwpIHtcbiAgICAgICAgICBpZiAoYXVkaW9MZXZlbCA+PSBBVURJT19MRVZFTF9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7XG4gICAgICAgICAgICAgIGlzU291bmREZXRlY3RlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgYXVkaW9MZXZlbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICBpc1NvdW5kRGV0ZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICBhdWRpb0xldmVsOiAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIH07XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgSU5vaXNlQ2FuY2VsbGF0aW9uIH0gZnJvbSAnQHN0cmVhbS1pby9hdWRpby1maWx0ZXJzLXdlYic7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlciB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXInO1xuaW1wb3J0IHsgTWljcm9waG9uZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vTWljcm9waG9uZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBUcmFja0Rpc2FibGVNb2RlIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IGdldEF1ZGlvRGV2aWNlcywgZ2V0QXVkaW9TdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGNyZWF0ZVNvdW5kRGV0ZWN0b3IgfSBmcm9tICcuLi9oZWxwZXJzL3NvdW5kLWRldGVjdG9yJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQge1xuICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0sXG4gIE93bkNhcGFiaWxpdHksXG59IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7IFJOU3BlZWNoRGV0ZWN0b3IgfSBmcm9tICcuLi9oZWxwZXJzL1JOU3BlZWNoRGV0ZWN0b3InO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmV4cG9ydCBjbGFzcyBNaWNyb3Bob25lTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGU+IHtcbiAgcHJpdmF0ZSBzcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgcHJpdmF0ZSBzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3NvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZycpO1xuICBwcml2YXRlIHNvdW5kRGV0ZWN0b3JDbGVhbnVwPzogRnVuY3Rpb247XG4gIHByaXZhdGUgcm5TcGVlY2hEZXRlY3RvcjogUk5TcGVlY2hEZXRlY3RvciB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBub2lzZUNhbmNlbGxhdGlvbjogSU5vaXNlQ2FuY2VsbGF0aW9uIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmU6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbj86IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgdXJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhbGw6IENhbGwsXG4gICAgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSBpc1JlYWN0TmF0aXZlKClcbiAgICAgID8gJ2Rpc2FibGUtdHJhY2tzJ1xuICAgICAgOiAnc3RvcC10cmFja3MnLFxuICApIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgTWljcm9waG9uZU1hbmFnZXJTdGF0ZShkaXNhYmxlTW9kZSksIFRyYWNrVHlwZS5BVURJTyk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSQsXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLm93bkNhcGFiaWxpdGllcyQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtjYWxsaW5nU3RhdGUsIG93bkNhcGFiaWxpdGllcywgZGV2aWNlSWQsIHN0YXR1c10pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAob3duQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTykpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oZGV2aWNlSWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NvdWxkIG5vdCBlbmFibGUgc3BlYWtpbmcgd2hpbGUgbXV0ZWQnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBub2lzZSBmaWx0ZXJpbmcgaXNuJ3QgdHVybmVkIG9uXG4gICAgICAgIGlmICghdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiB8fCAhdGhpcy5ub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYXV0b09uID1cbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbj8ubW9kZSA9PT1cbiAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uQVVUT19PTjtcblxuICAgICAgICBpZiAoYXV0b09uICYmIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmVuYWJsZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGVuYWJsZSBub2lzZSBjYW5jZWxsYXRpb25gLCBlcnIpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG5vaXNlIGNhbmNlbGxhdGlvbiBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqXG4gICAqIE5vdGU6IG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLlxuICAgKiBAcGFyYW0gbm9pc2VDYW5jZWxsYXRpb24gLSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBhc3luYyBlbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbjogSU5vaXNlQ2FuY2VsbGF0aW9uKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcywgc2V0dGluZ3MgfSA9IHRoaXMuY2FsbC5zdGF0ZTtcbiAgICBjb25zdCBoYXNOb2lzZUNhbmNlbGxhdGlvbkNhcGFiaWxpdHkgPSBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoXG4gICAgICBPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04sXG4gICAgKTtcbiAgICBpZiAoIWhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyA9IHNldHRpbmdzPy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb247XG4gICAgaWYgKFxuICAgICAgIW5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MgfHxcbiAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MubW9kZSA9PT1cbiAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjYWxsIHR5cGUuJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uID0gbm9pc2VDYW5jZWxsYXRpb247XG5cbiAgICAgIC8vIGxpc3RlbiBmb3IgY2hhbmdlIGV2ZW50cyBhbmQgbm90aWZ5IHRoZSBTRlVcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZSA9IHRoaXMubm9pc2VDYW5jZWxsYXRpb24ub24oXG4gICAgICAgICdjaGFuZ2UnLFxuICAgICAgICAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZygpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gdGhpcy5yZWdpc3RlckZpbHRlcihcbiAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24udG9GaWx0ZXIoKSxcbiAgICAgICk7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnJlZ2lzdGVyZWQ7XG4gICAgICB0aGlzLnVyZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnVucmVnaXN0ZXI7XG4gICAgICBhd2FpdCB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uO1xuXG4gICAgICAvLyBoYW5kbGVzIGFuIGVkZ2UgY2FzZSB3aGVyZSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBlbmFibGVkIGFmdGVyXG4gICAgICAvLyB0aGUgcGFydGljaXBhbnQgYXMgam9pbmVkIHRoZSBjYWxsIC0+IHdlIGltbWVkaWF0ZWx5IGVuYWJsZSBOQ1xuICAgICAgaWYgKFxuICAgICAgICBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzLm1vZGUgPT09XG4gICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkFVVE9fT04gJiZcbiAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRFxuICAgICAgKSB7XG4gICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBlbmFibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZSk7XG4gICAgICBhd2FpdCB0aGlzLmRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIGRpc2FibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBub2lzZSBjYW5jZWxsYXRpb24gZm9yIHRoZSBtaWNyb3Bob25lLlxuICAgKlxuICAgKiBOb3RlOiBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZScpO1xuICAgIH1cbiAgICBhd2FpdCAodGhpcy51cmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbj8uKCkgPz8gUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uPy5kaXNhYmxlKCkpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmU/LigpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIHVucmVnaXN0ZXIgbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgc3BlYWtpbmcgd2hpbGUgbXV0ZWQgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgYXN5bmMgZW5hYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uKCkge1xuICAgIHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBzcGVha2luZyB3aGlsZSBtdXRlZCBub3RpZmljYXRpb24uXG4gICAqL1xuICBhc3luYyBkaXNhYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uKCkge1xuICAgIHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBnZXRBdWRpb0RldmljZXMoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdHJlYW0oXG4gICAgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIHJldHVybiBnZXRBdWRpb1N0cmVhbShjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHVibGlzaFN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5wdWJsaXNoQXVkaW9TdHJlYW0oc3RyZWFtKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuQVVESU8sIHN0b3BUcmFja3MpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbihkZXZpY2VJZD86IHN0cmluZykge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IG5ldyBSTlNwZWVjaERldGVjdG9yKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucm5TcGVlY2hEZXRlY3Rvci5zdGFydCgpO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9XG4gICAgICAgICAgdGhpcy5yblNwZWVjaERldGVjdG9yPy5vblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc291bmREZXRlY3RvckNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3I/LnN0b3AoKTtcbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOZWVkIHRvIHN0YXJ0IGEgbmV3IHN0cmVhbSB0aGF0J3Mgbm90IGNvbm5lY3RlZCB0byBwdWJsaXNoZXJcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5nZXRTdHJlYW0oe1xuICAgICAgICAgIGRldmljZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9IGNyZWF0ZVNvdW5kRGV0ZWN0b3Ioc3RyZWFtLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFNwZWFraW5nV2hpbGVNdXRlZChldmVudC5pc1NvdW5kRGV0ZWN0ZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpIHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5zb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc291bmREZXRlY3RvckNsZWFudXAgPSB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwO1xuICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGZhbHNlKTtcbiAgICAgIGF3YWl0IHNvdW5kRGV0ZWN0b3JDbGVhbnVwKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgU2NyZWVuU2hhcmVTZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnM+IHtcbiAgcHJpdmF0ZSBhdWRpb0VuYWJsZWRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBzZXR0aW5nc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGF1ZGlvRW5hYmxlZCQgPSB0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIHNldHRpbmdzJCA9IHRoaXMuc2V0dGluZ3NTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0gPSAoXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGdldCBhdWRpb0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYXVkaW9FbmFibGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBhdWRpbyBzdGF0dXMuXG4gICAqL1xuICBzZXRBdWRpb0VuYWJsZWQoaXNFbmFibGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWRTdWJqZWN0LCBpc0VuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5ncyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2NyZWVuIHNoYXJlIHNldHRpbmdzIHRvIHNldC5cbiAgICovXG4gIHNldFNldHRpbmdzKHNldHRpbmdzOiBTY3JlZW5TaGFyZVNldHRpbmdzIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5nc1N1YmplY3QsIHNldHRpbmdzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVN0YXRlIH0gZnJvbSAnLi9TY3JlZW5TaGFyZVN0YXRlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRTY3JlZW5TaGFyZVN0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBTY3JlZW5TaGFyZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxcbiAgU2NyZWVuU2hhcmVTdGF0ZSxcbiAgRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9uc1xuPiB7XG4gIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwpIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgU2NyZWVuU2hhcmVTdGF0ZSgpLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKGNhbGwuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbWF5YmVUYXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG1heWJlVGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiBtYXliZVRhcmdldFJlc29sdXRpb24ud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogbWF5YmVUYXJnZXRSZXNvbHV0aW9uLmhlaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBlbmFibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICpcbiAgICogTm90ZTogZm9yIG9uZ29pbmcgc2NyZWVuIHNoYXJlLCBhdWRpbyB3b24ndCBiZSBlbmFibGVkIHVudGlsIHlvdVxuICAgKiByZS1wdWJsaXNoIHRoZSBzY3JlZW4gc2hhcmUgc3RyZWFtLlxuICAgKi9cbiAgZW5hYmxlU2NyZWVuU2hhcmVBdWRpbygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldEF1ZGlvRW5hYmxlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGRpc2FibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKGZhbHNlKTtcbiAgICBpZiAodGhpcy5jYWxsLnB1Ymxpc2hlcj8uaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTywgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0U2V0dGluZ3MoKTogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gb2YoW10pOyAvLyB0aGVyZSBhcmUgbm8gZGV2aWNlcyB0byBiZSBsaXN0ZWQgZm9yIFNjcmVlbiBTaGFyZVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hdWRpb0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBnZXRTY3JlZW5TaGFyZVN0cmVhbShjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHVibGlzaFN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5wdWJsaXNoU2NyZWVuU2hhcmVTdHJlYW0oc3RyZWFtLCB7XG4gICAgICBzY3JlZW5TaGFyZVNldHRpbmdzOiB0aGlzLnN0YXRlLnNldHRpbmdzLFxuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSwgc3RvcFRyYWNrcyk7XG4gICAgYXdhaXQgdGhpcy5jYWxsLnN0b3BQdWJsaXNoKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sIHN0b3BUcmFja3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgc2VsZWN0YCBtZXRob2QgdG8gdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSBkZXZpY2VJZCBpZ25vcmVkLlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gZm9yIFNjcmVlbiBTaGFyZScpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IGNsYXNzIFNwZWFrZXJTdGF0ZSB7XG4gIHByb3RlY3RlZCBzZWxlY3RlZERldmljZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuICBwcm90ZWN0ZWQgdm9sdW1lU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPigxKTtcbiAgLyoqXG4gICAqIFtUZWxscyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBhdWRpbyBvdXRwdXQgY2hhbmdlIG9uICdhdWRpbycgZWxlbWVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L3NldFNpbmtJZCkuXG4gICAqL1xuICByZWFkb25seSBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCA9IGNoZWNrSWZBdWRpb091dHB1dENoYW5nZVN1cHBvcnRlZCgpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBzZWxlY3RlZERldmljZSQ6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdm9sdW1lXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgdm9sdW1lJDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgdGhpcy52b2x1bWUkID0gdGhpcy52b2x1bWVTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgdm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnZvbHVtZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICAgKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGRldmljZUlkXG4gICAqL1xuICBzZXREZXZpY2UoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0LCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB2b2x1bWVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lU3ViamVjdCwgdm9sdW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gICAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAqL1xuICBwcm90ZWN0ZWQgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBTcGVha2VyU3RhdGUgfSBmcm9tICcuL1NwZWFrZXJTdGF0ZSc7XG5pbXBvcnQgeyBkZXZpY2VJZHMkLCBnZXRBdWRpb091dHB1dERldmljZXMgfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlck1hbmFnZXIge1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdGUgPSBuZXcgU3BlYWtlclN0YXRlKCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsOiBDYWxsO1xuXG4gIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwpIHtcbiAgICB0aGlzLmNhbGwgPSBjYWxsO1xuICAgIGlmIChkZXZpY2VJZHMkICYmICFpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2VJZHMkISwgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSRdKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKFtkZXZpY2VzLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGV2aWNlID0gZGV2aWNlcy5maW5kKFxuICAgICAgICAgICAgICAoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSAnYXVkaW9vdXRwdXQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZGV2aWNlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpbyBvdXRwdXQgZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEF1ZGlvT3V0cHV0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICpcbiAgICogQHBhcmFtIGRldmljZUlkIGVtcHR5IHN0cmluZyBtZWFucyB0aGUgc3lzdGVtIGRlZmF1bHRcbiAgICovXG4gIHNlbGVjdChkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UoZGV2aWNlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdm9sdW1lIG9mIHRoZSBhdWRpbyBlbGVtZW50c1xuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh2b2x1bWUgJiYgKHZvbHVtZSA8IDAgfHwgdm9sdW1lID4gMSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVm9sdW1lIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgYSBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHBhcnRpY2lwYW50J3Mgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHZvbHVtZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRWb2x1bWUoc2Vzc2lvbklkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB0aGlzLmNhbGwuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7IGF1ZGlvVm9sdW1lOiB2b2x1bWUgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7XG4gIERpc3BhdGNoZXIsXG4gIGdldEdlbmVyaWNTZHAsXG4gIGlzU2Z1RXZlbnQsXG4gIFB1Ymxpc2hlcixcbiAgU3Vic2NyaWJlcixcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHsgbXV0ZVR5cGVUb1RyYWNrVHlwZSB9IGZyb20gJy4vcnRjL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7XG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNTY3JlZW5TaGFyZUF1ZGlvLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuaW1wb3J0IHsgR29Bd2F5UmVhc29uLCBUcmFja1R5cGUgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQge1xuICByZWdpc3RlckV2ZW50SGFuZGxlcnMsXG4gIHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzLFxufSBmcm9tICcuL2V2ZW50cy9jYWxsRXZlbnRIYW5kbGVycyc7XG5pbXBvcnQge1xuICBDYWxsaW5nU3RhdGUsXG4gIENhbGxTdGF0ZSxcbiAgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlLFxufSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiwgZ2V0Q3VycmVudFZhbHVlIH0gZnJvbSAnLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7XG4gIEFjY2VwdENhbGxSZXNwb25zZSxcbiAgQmxvY2tVc2VyUmVxdWVzdCxcbiAgQmxvY2tVc2VyUmVzcG9uc2UsXG4gIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0LFxuICBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UsXG4gIEVuZENhbGxSZXNwb25zZSxcbiAgR2V0Q2FsbFJlc3BvbnNlLFxuICBHZXRDYWxsU3RhdHNSZXNwb25zZSxcbiAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCxcbiAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gIEdvTGl2ZVJlcXVlc3QsXG4gIEdvTGl2ZVJlc3BvbnNlLFxuICBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlLFxuICBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgTXV0ZVVzZXJzUmVxdWVzdCxcbiAgTXV0ZVVzZXJzUmVzcG9uc2UsXG4gIE93bkNhcGFiaWxpdHksXG4gIFBpblJlcXVlc3QsXG4gIFBpblJlc3BvbnNlLFxuICBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICBSZWplY3RDYWxsUmVxdWVzdCxcbiAgUmVqZWN0Q2FsbFJlc3BvbnNlLFxuICBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3QsXG4gIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2UsXG4gIFNlbmRDYWxsRXZlbnRSZXF1ZXN0LFxuICBTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsXG4gIFNlbmRSZWFjdGlvblJlcXVlc3QsXG4gIFNlbmRSZWFjdGlvblJlc3BvbnNlLFxuICBTRlVSZXNwb25zZSxcbiAgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSxcbiAgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0LFxuICBTdGFydFJlY29yZGluZ1Jlc3BvbnNlLFxuICBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0LFxuICBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgU3RhdHNPcHRpb25zLFxuICBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2UsXG4gIFN0b3BMaXZlUmVzcG9uc2UsXG4gIFN0b3BSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgVW5ibG9ja1VzZXJSZXF1ZXN0LFxuICBVbmJsb2NrVXNlclJlc3BvbnNlLFxuICBVbnBpblJlcXVlc3QsXG4gIFVucGluUmVzcG9uc2UsXG4gIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgVXBkYXRlQ2FsbFJlcXVlc3QsXG4gIFVwZGF0ZUNhbGxSZXNwb25zZSxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG59IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICcuL3J0Yy9mbG93cy9qb2luJztcbmltcG9ydCB7XG4gIEF1ZGlvVHJhY2tUeXBlLFxuICBDYWxsQ29uc3RydWN0b3IsXG4gIENhbGxMZWF2ZU9wdGlvbnMsXG4gIERlYm91bmNlVHlwZSxcbiAgSm9pbkNhbGxEYXRhLFxuICBQdWJsaXNoT3B0aW9ucyxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMsXG4gIFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gIFRyYWNrTXV0ZVR5cGUsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQmVoYXZpb3JTdWJqZWN0LFxuICBkZWJvdW5jZSxcbiAgZmlsdGVyLFxuICBtYXAsXG4gIFN1YmplY3QsXG4gIHRha2VXaGlsZSxcbiAgdGltZXIsXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB7XG4gIEpvaW5SZXNwb25zZSxcbiAgTWlncmF0aW9uLFxuICBWaWRlb0xheWVyU2V0dGluZyxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBUaW1lc3RhbXAgfSBmcm9tICcuL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcbmltcG9ydCB7IGNyZWF0ZVN0YXRzUmVwb3J0ZXIsIFNmdVN0YXRzUmVwb3J0ZXIsIFN0YXRzUmVwb3J0ZXIgfSBmcm9tICcuL3N0YXRzJztcbmltcG9ydCB7IER5bmFzY2FsZU1hbmFnZXIgfSBmcm9tICcuL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlcic7XG5pbXBvcnQgeyBQZXJtaXNzaW9uc0NvbnRleHQgfSBmcm9tICcuL3Blcm1pc3Npb25zJztcbmltcG9ydCB7IENhbGxUeXBlcyB9IGZyb20gJy4vQ2FsbFR5cGUnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQge1xuICBLbm93bkNvZGVzLFxuICByZXRyeUludGVydmFsLFxuICBzbGVlcCxcbn0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7XG4gIEFsbENhbGxFdmVudHMsXG4gIENhbGxFdmVudExpc3RlbmVyLFxuICBMb2dnZXIsXG4gIFJlamVjdFJlYXNvbixcbiAgU3RyZWFtQ2FsbEV2ZW50LFxufSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RGV0YWlscyB9IGZyb20gJy4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgQ2FtZXJhRGlyZWN0aW9uLFxuICBDYW1lcmFNYW5hZ2VyLFxuICBNaWNyb3Bob25lTWFuYWdlcixcbiAgU2NyZWVuU2hhcmVNYW5hZ2VyLFxuICBTcGVha2VyTWFuYWdlcixcbn0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IGdldFNka1NpZ25hdHVyZSB9IGZyb20gJy4vc3RhdHMvdXRpbHMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcblxuLyoqXG4gKiBBbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBgQ2FsbGAuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGNhbGwuXG4gICAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBDSUQuXG4gICAqL1xuICByZWFkb25seSBjaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHN0YXRlID0gbmV3IENhbGxTdGF0ZSgpO1xuXG4gIC8qKlxuICAgKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGlzIGNhbGwgaXMgXCJ3YXRjaGVkXCIgYW5kIHJlY2VpdmVzXG4gICAqIHVwZGF0ZXMgZnJvbSB0aGUgYmFja2VuZC5cbiAgICovXG4gIHdhdGNoaW5nOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIGNhbWVyYVxuICAgKi9cbiAgcmVhZG9ubHkgY2FtZXJhOiBDYW1lcmFNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqL1xuICByZWFkb25seSBtaWNyb3Bob25lOiBNaWNyb3Bob25lTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBzcGVha2VyLlxuICAgKi9cbiAgcmVhZG9ubHkgc3BlYWtlcjogU3BlYWtlck1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgc2NyZWVuLlxuICAgKi9cbiAgcmVhZG9ubHkgc2NyZWVuU2hhcmU6IFNjcmVlblNoYXJlTWFuYWdlcjtcblxuICAvKipcbiAgICogVGhlIER5bmFzY2FsZU1hbmFnZXIgaW5zdGFuY2UuXG4gICAqL1xuICByZWFkb25seSBkeW5hc2NhbGVNYW5hZ2VyID0gbmV3IER5bmFzY2FsZU1hbmFnZXIodGhpcyk7XG5cbiAgc3Vic2NyaWJlcj86IFN1YnNjcmliZXI7XG4gIHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcblxuICAvKipcbiAgICogRmxhZyB0ZWxsaW5nIHdoZXRoZXIgdGhpcyBjYWxsIGlzIGEgXCJyaW5naW5nXCIgY2FsbC5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgcmluZ2luZ1N1YmplY3Q6IFN1YmplY3Q8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBjb250ZXh0IG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHBlcm1pc3Npb25zQ29udGV4dCA9IG5ldyBQZXJtaXNzaW9uc0NvbnRleHQoKTtcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGluc3RhbmNlIGRlZGljYXRlZCB0byB0aGlzIENhbGwgaW5zdGFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xuXG4gIHByaXZhdGUgdHJhY2tTdWJzY3JpcHRpb25zU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8e1xuICAgIHR5cGU6IERlYm91bmNlVHlwZTtcbiAgICBkYXRhOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXTtcbiAgfT4oeyB0eXBlOiBEZWJvdW5jZVR5cGUuTUVESVVNLCBkYXRhOiBbXSB9KTtcblxuICBwcml2YXRlIHN0YXRzUmVwb3J0ZXI/OiBTdGF0c1JlcG9ydGVyO1xuICBwcml2YXRlIHNmdVN0YXRzUmVwb3J0ZXI/OiBTZnVTdGF0c1JlcG9ydGVyO1xuICBwcml2YXRlIGRyb3BUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGNsaWVudFN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmU7XG4gIHB1YmxpYyByZWFkb25seSBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcbiAgcHJpdmF0ZSBzZnVDbGllbnQ/OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICBwcml2YXRlIG1heFJlY29ubmVjdEF0dGVtcHRzID0gMTA7XG4gIHByaXZhdGUgaXNMZWF2aW5nID0gZmFsc2U7XG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBqb2luTGVhdmVDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgnam9pbkxlYXZlQ29uY3VycmVuY3lUYWcnKTtcblxuICAvKipcbiAgICogQSBsaXN0IGhvb2tzL2Z1bmN0aW9ucyB0byBpbnZva2Ugd2hlbiB0aGUgY2FsbCBpcyBsZWZ0LlxuICAgKiBBIHR5cGljYWwgdXNlIGNhc2UgaXMgdG8gY2xlYW4gdXAgc29tZSBnbG9iYWwgZXZlbnQgaGFuZGxlcnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGxlYXZlQ2FsbEhvb2tzOiBTZXQ8RnVuY3Rpb24+ID0gbmV3IFNldCgpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc3RyZWFtQ2xpZW50QmFzZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBzdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzID0gbmV3IE1hcDxGdW5jdGlvbiwgKCkgPT4gdm9pZD4oKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgQ2FsbGAgaW5zdGFuY2UuXG4gICAqXG4gICAqIE5PVEU6IERvbid0IGNhbGwgdGhlIGNvbnN0cnVjdG9yIGRpcmVjdGx5LCBpbnN0ZWFkXG4gICAqIFVzZSB0aGUgW2BTdHJlYW1WaWRlb0NsaWVudC5jYWxsYF0oLi9TdHJlYW1WaWRlb0NsaWVudC5tZC8jY2FsbClcbiAgICogbWV0aG9kIHRvIGNvbnN0cnVjdCBhIGBDYWxsYCBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0eXBlLFxuICAgIGlkLFxuICAgIHN0cmVhbUNsaWVudCxcbiAgICBtZW1iZXJzLFxuICAgIG93bkNhcGFiaWxpdGllcyxcbiAgICBzb3J0UGFydGljaXBhbnRzQnksXG4gICAgY2xpZW50U3RvcmUsXG4gICAgcmluZ2luZyA9IGZhbHNlLFxuICAgIHdhdGNoaW5nID0gZmFsc2UsXG4gIH06IENhbGxDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuY2lkID0gYCR7dHlwZX06JHtpZH1gO1xuICAgIHRoaXMucmluZ2luZ1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHJpbmdpbmcpO1xuICAgIHRoaXMud2F0Y2hpbmcgPSB3YXRjaGluZztcbiAgICB0aGlzLnN0cmVhbUNsaWVudCA9IHN0cmVhbUNsaWVudDtcbiAgICB0aGlzLmNsaWVudFN0b3JlID0gY2xpZW50U3RvcmU7XG4gICAgdGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aCA9IGAvY2FsbC8ke3RoaXMudHlwZX0vJHt0aGlzLmlkfWA7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydDYWxsJ10pO1xuXG4gICAgY29uc3QgY2FsbFR5cGVDb25maWcgPSBDYWxsVHlwZXMuZ2V0KHR5cGUpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50U29ydGVyID1cbiAgICAgIHNvcnRQYXJ0aWNpcGFudHNCeSB8fCBjYWxsVHlwZUNvbmZpZy5vcHRpb25zLnNvcnRQYXJ0aWNpcGFudHNCeTtcbiAgICBpZiAocGFydGljaXBhbnRTb3J0ZXIpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0U29ydFBhcnRpY2lwYW50c0J5KHBhcnRpY2lwYW50U29ydGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMobWVtYmVycyB8fCBbXSk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMob3duQ2FwYWJpbGl0aWVzIHx8IFtdKTtcbiAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShcbiAgICAgIHJpbmdpbmcgPyBDYWxsaW5nU3RhdGUuUklOR0lORyA6IENhbGxpbmdTdGF0ZS5JRExFLFxuICAgICk7XG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmFNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMubWljcm9waG9uZSA9IG5ldyBNaWNyb3Bob25lTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnNwZWFrZXIgPSBuZXcgU3BlYWtlck1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5zY3JlZW5TaGFyZSA9IG5ldyBTY3JlZW5TaGFyZU1hbmFnZXIodGhpcyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNldHVwKCkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgICB0aGlzLm9uKCdhbGwnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAvLyB1cGRhdGUgc3RhdGUgd2l0aCB0aGUgbGF0ZXN0IGV2ZW50IGRhdGFcbiAgICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21FdmVudChldmVudCk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAgIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzLCB0aGlzLnN0YXRlLCB0aGlzLmRpc3BhdGNoZXIpLFxuICAgICAgKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJFZmZlY3RzKCk7XG5cbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgICBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICAgICAgdGhpcy50cmFja1N1YnNjcmlwdGlvbnNTdWJqZWN0LnBpcGUoXG4gICAgICAgICAgICBkZWJvdW5jZSgodikgPT4gdGltZXIodi50eXBlKSksXG4gICAgICAgICAgICBtYXAoKHYpID0+IHYuZGF0YSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoc3Vic2NyaXB0aW9ucykgPT5cbiAgICAgICAgICAgIHRoaXMuc2Z1Q2xpZW50Py51cGRhdGVTdWJzY3JpcHRpb25zKHN1YnNjcmlwdGlvbnMpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEZhaWxlZCB0byB1cGRhdGUgdHJhY2sgc3Vic2NyaXB0aW9uc2AsIGVycik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJFZmZlY3RzKCkge1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlcyB1cGRhdGluZyB0aGUgcGVybWlzc2lvbnMgY29udGV4dCB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2UuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBpZiAoIXNldHRpbmdzKSByZXR1cm47XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LnNldENhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBwZXJtaXNzaW9ucyBhcmUgbW9kaWZpZWQuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkLCAob3duQ2FwYWJpbGl0aWVzKSA9PiB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgcGVybWlzc2lvbiBjb250ZXh0LlxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5zZXRQZXJtaXNzaW9ucyhvd25DYXBhYmlsaXRpZXMpO1xuXG4gICAgICAgIGlmICghdGhpcy5wdWJsaXNoZXIpIHJldHVybjtcblxuICAgICAgICAvLyBjaGVjayBpZiB0aGUgdXNlciBzdGlsbCBoYXMgcHVibGlzaGluZyBwZXJtaXNzaW9ucyBhbmQgc3RvcCBwdWJsaXNoaW5nIGlmIG5vdC5cbiAgICAgICAgY29uc3QgcGVybWlzc2lvblRvVHJhY2tUeXBlID0ge1xuICAgICAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dOiBUcmFja1R5cGUuQVVESU8sXG4gICAgICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9WSURFT106IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgW3Blcm1pc3Npb24sIHRyYWNrVHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgcGVybWlzc2lvblRvVHJhY2tUeXBlLFxuICAgICAgICApKSB7XG4gICAgICAgICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHRoaXMucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oXG4gICAgICAgICAgICBwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaGFzUGVybWlzc2lvbiAmJlxuICAgICAgICAgICAgKHRoaXMucHVibGlzaGVyLmlzUHVibGlzaGluZyh0cmFja1R5cGUpIHx8XG4gICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLmlzTGl2ZSh0cmFja1R5cGUpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gU3RvcCB0cmFja3MsIHRoZW4gbm90aWZ5IGRldmljZSBtYW5hZ2VyXG4gICAgICAgICAgICB0aGlzLnN0b3BQdWJsaXNoKHRyYWNrVHlwZSlcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICBgRXJyb3Igc3RvcHBpbmcgcHVibGlzaCAke3RyYWNrVHlwZX1gLFxuICAgICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTyAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuc3RhdGUuc3RhdHVzID09PSAnZW5hYmxlZCdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlKClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEVycm9yIGRpc2FibGluZyBjYW1lcmEgYWZ0ZXIgcGVybWlzc2lvbiByZXZva2VkYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTyAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5taWNyb3Bob25lLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLm1pY3JvcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgLmRpc2FibGUoKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT5cbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBgRXJyb3IgZGlzYWJsaW5nIG1pY3JvcGhvbmUgYWZ0ZXIgcGVybWlzc2lvbiByZXZva2VkYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gdGhlIHVzZXIgaXMgYmxvY2tlZCBieSB0aGUgY2FsbCBvd25lci5cbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLmJsb2NrZWRVc2VySWRzJCwgYXN5bmMgKGJsb2NrZWRVc2VySWRzKSA9PiB7XG4gICAgICAgIGlmICghYmxvY2tlZFVzZXJJZHMgfHwgYmxvY2tlZFVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgICAgIGlmIChjdXJyZW50VXNlcklkICYmIGJsb2NrZWRVc2VySWRzLmluY2x1ZGVzKGN1cnJlbnRVc2VySWQpKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnTGVhdmluZyBjYWxsIGJlY2F1c2Ugb2YgYmVpbmcgYmxvY2tlZCcpO1xuICAgICAgICAgIGF3YWl0IHRoaXMubGVhdmUoeyByZWFzb246ICd1c2VyIGJsb2NrZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBsZWF2aW5nIGNhbGwgYWZ0ZXIgYmVpbmcgYmxvY2tlZCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIHdhdGNoIGZvciBhdXRvIGRyb3AgY2FuY2VsbGF0aW9uXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5yaW5naW5nKSByZXR1cm47XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQgfHxcbiAgICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lOSU5HIHx8XG4gICAgICAgICAgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICAgICApIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wVGltZW91dCk7XG4gICAgICAgICAgdGhpcy5kcm9wVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gXCJyaW5naW5nXCIgbW9kZSBlZmZlY3RzIGFuZCBldmVudCBoYW5kbGVyc1xuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMucmluZ2luZ1N1YmplY3QsIChpc1JpbmdpbmcpID0+IHtcbiAgICAgICAgaWYgKCFpc1JpbmdpbmcpIHJldHVybjtcbiAgICAgICAgY29uc3QgY2FsbFNlc3Npb24gPSB0aGlzLnN0YXRlLnNlc3Npb247XG4gICAgICAgIGNvbnN0IHJlY2VpdmVyX2lkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgY29uc3QgZW5kZWRfYXQgPSBjYWxsU2Vzc2lvbj8uZW5kZWRfYXQ7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRfYnlfaWQgPSB0aGlzLnN0YXRlLmNyZWF0ZWRCeT8uaWQ7XG4gICAgICAgIGNvbnN0IHJlamVjdGVkX2J5ID0gY2FsbFNlc3Npb24/LnJlamVjdGVkX2J5O1xuICAgICAgICBjb25zdCBhY2NlcHRlZF9ieSA9IGNhbGxTZXNzaW9uPy5hY2NlcHRlZF9ieTtcbiAgICAgICAgbGV0IGxlYXZlQ2FsbElkbGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVuZGVkX2F0KSB7XG4gICAgICAgICAgLy8gY2FsbCB3YXMgZW5kZWQgYmVmb3JlIGl0IHdhcyBhY2NlcHRlZCBvciByZWplY3RlZCBzbyB3ZSBzaG91bGQgbGVhdmUgaXQgdG8gaWRsZVxuICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNyZWF0ZWRfYnlfaWQgJiYgcmVqZWN0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAocmVqZWN0ZWRfYnlbY3JlYXRlZF9ieV9pZF0pIHtcbiAgICAgICAgICAgIC8vIGNhbGwgd2FzIGNhbmNlbGxlZCBieSB0aGUgY2FsbGVyXG4gICAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXJfaWQgJiYgcmVqZWN0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAocmVqZWN0ZWRfYnlbcmVjZWl2ZXJfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyByZWplY3RlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNlaXZlcl9pZCAmJiBhY2NlcHRlZF9ieSkge1xuICAgICAgICAgIGlmIChhY2NlcHRlZF9ieVtyZWNlaXZlcl9pZF0pIHtcbiAgICAgICAgICAgIC8vIGNhbGwgd2FzIGFjY2VwdGVkIGJ5IHRoZSByZWNlaXZlciBpbiBzb21lIG90aGVyIGRldmljZVxuICAgICAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsZWF2ZUNhbGxJZGxlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUklOR0lORyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2NoZWR1bGVBdXRvRHJvcCgpO1xuICAgICAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBXZWJTb2NrZXQgZXZlbnRzIHByb3ZpZGVkIGJ5IHRoZSBBUEkuIFRvIHJlbW92ZSBhIHN1YnNjcmlwdGlvbiwgY2FsbCB0aGUgYG9mZmAgbWV0aG9kLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHN1YnNjcmliaW5nIHRvIFdlYlNvY2tldCBldmVudHMgaXMgYW4gYWR2YW5jZWQgdXNlLWNhc2UuXG4gICAqIEZvciBtb3N0IHVzZS1jYXNlcywgaXQgc2hvdWxkIGJlIGVub3VnaCB0byB3YXRjaCBmb3Igc3RhdGUgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGZuIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmIChpc1NmdUV2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoZXIub24oZXZlbnROYW1lLCBmbik7XG4gICAgfVxuXG4gICAgY29uc3Qgb2ZmSGFuZGxlciA9IHRoaXMuc3RyZWFtQ2xpZW50Lm9uKGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gZSBhcyBTdHJlYW1DYWxsRXZlbnQ7XG4gICAgICBpZiAoZXZlbnQuY2FsbF9jaWQgJiYgZXZlbnQuY2FsbF9jaWQgPT09IHRoaXMuY2lkKSB7XG4gICAgICAgIGZuKGV2ZW50IGFzIEFsbENhbGxFdmVudHNbRV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8ga2VlcCB0aGUgJ29mZicgcmVmZXJlbmNlIHJldHVybmVkIGJ5IHRoZSBzdHJlYW0gY2xpZW50XG4gICAgdGhpcy5zdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzLnNldChmbiwgb2ZmSGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBzdWJzY3JpcHRpb24gZm9yIFdlYlNvY2tldCBldmVudHMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgdGhlIGBvbmAgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lLlxuICAgKiBAcGFyYW0gZm4gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqL1xuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmIChpc1NmdUV2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoZXIub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cblxuICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gdGhlIHN0cmVhbSBjbGllbnQgZXZlbnQgYnkgdXNpbmcgdGhlICdvZmYnIHJlZmVyZW5jZVxuICAgIGNvbnN0IHJlZ2lzdGVyZWRPZmZIYW5kbGVyID0gdGhpcy5zdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzLmdldChmbik7XG4gICAgaWYgKHJlZ2lzdGVyZWRPZmZIYW5kbGVyKSB7XG4gICAgICByZWdpc3RlcmVkT2ZmSGFuZGxlcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTGVhdmUgdGhlIGNhbGwgYW5kIHN0b3AgdGhlIG1lZGlhIHN0cmVhbXMgdGhhdCB3ZXJlIHB1Ymxpc2hlZCBieSB0aGUgY2FsbC5cbiAgICovXG4gIGxlYXZlID0gYXN5bmMgKHtcbiAgICByZWplY3QgPSBmYWxzZSxcbiAgICByZWFzb24gPSAndXNlciBpcyBsZWF2aW5nIHRoZSBjYWxsJyxcbiAgfTogQ2FsbExlYXZlT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuam9pbkxlYXZlQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbGVhdmUgY2FsbCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbGVmdC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5JTkcpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hc3NlcnRDYWxsSm9pbmVkKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNMZWF2aW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMucmluZ2luZykge1xuICAgICAgICAvLyBJJ20gdGhlIG9uZSB3aG8gc3RhcnRlZCB0aGUgY2FsbCwgc28gSSBzaG91bGQgY2FuY2VsIGl0LlxuICAgICAgICBjb25zdCBoYXNPdGhlclBhcnRpY2lwYW50cyA9IHRoaXMuc3RhdGUucmVtb3RlUGFydGljaXBhbnRzLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmlzQ3JlYXRlZEJ5TWUgJiZcbiAgICAgICAgICAhaGFzT3RoZXJQYXJ0aWNpcGFudHMgJiZcbiAgICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpZ25hbHMgb3RoZXIgdXNlcnMgdGhhdCBJIGhhdmUgY2FuY2VsbGVkIG15IGNhbGwgdG8gdGhlbVxuICAgICAgICAgIC8vIGJlZm9yZSB0aGV5IGFjY2VwdGVkIGl0LlxuICAgICAgICAgIGF3YWl0IHRoaXMucmVqZWN0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVqZWN0ICYmIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHtcbiAgICAgICAgICAvLyBTaWduYWxzIG90aGVyIHVzZXJzIHRoYXQgSSBoYXZlIHJlamVjdGVkIHRoZSBpbmNvbWluZyBjYWxsLlxuICAgICAgICAgIGF3YWl0IHRoaXMucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgICB0aGlzLnN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnN1YnNjcmliZXI/LmNsb3NlKCk7XG4gICAgICB0aGlzLnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMucHVibGlzaGVyPy5jbG9zZSgpO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc2Z1Q2xpZW50Py5jbG9zZShTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsIHJlYXNvbik7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkxFRlQpO1xuXG4gICAgICAvLyBDYWxsIGFsbCBsZWF2ZSBjYWxsIGhvb2tzLCBlLmcuIHRvIGNsZWFuIHVwIGdsb2JhbCBldmVudCBoYW5kbGVyc1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5mb3JFYWNoKChob29rKSA9PiBob29rKCkpO1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS51bnJlZ2lzdGVyQ2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5jYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5taWNyb3Bob25lLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuc2NyZWVuU2hhcmUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zcGVha2VyLmRpc3Bvc2UoKTtcblxuICAgICAgY29uc3Qgc3RvcE9uTGVhdmVQcm9taXNlczogUHJvbWlzZTx2b2lkPltdID0gW107XG4gICAgICBpZiAodGhpcy5jYW1lcmEuc3RvcE9uTGVhdmUpIHtcbiAgICAgICAgc3RvcE9uTGVhdmVQcm9taXNlcy5wdXNoKHRoaXMuY2FtZXJhLmRpc2FibGUodHJ1ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWljcm9waG9uZS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5taWNyb3Bob25lLmRpc2FibGUodHJ1ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NyZWVuU2hhcmUuc3RvcE9uTGVhdmUpIHtcbiAgICAgICAgc3RvcE9uTGVhdmVQcm9taXNlcy5wdXNoKHRoaXMuc2NyZWVuU2hhcmUuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChzdG9wT25MZWF2ZVByb21pc2VzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgY2FsbCBpcyBcInJpbmdpbmdcIiB0eXBlIG9mIGNhbGwuXG4gICAqL1xuICBnZXQgcmluZ2luZygpIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudFZhbHVlKHRoaXMucmluZ2luZ1N1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCB1c2VyIElELlxuICAgKi9cbiAgZ2V0IGN1cnJlbnRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gIH1cblxuICAvKipcbiAgICogQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgY2FsbCB3YXMgY3JlYXRlZCBieSB0aGUgY3VycmVudCB1c2VyLlxuICAgKi9cbiAgZ2V0IGlzQ3JlYXRlZEJ5TWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3JlYXRlZEJ5Py5pZCA9PT0gdGhpcy5jdXJyZW50VXNlcklkO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcy5yaW5nIGlmIHNldCB0byB0cnVlLCBhIGBjYWxsLnJpbmdgIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm5vdGlmeSBpZiBzZXQgdG8gdHJ1ZSwgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm1lbWJlcnNfbGltaXQgdGhlIHRvdGFsIG51bWJlciBvZiBtZW1iZXJzIHRvIHJldHVybiBhcyBwYXJ0IG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGdldCA9IGFzeW5jIChwYXJhbXM/OiB7XG4gICAgcmluZz86IGJvb2xlYW47XG4gICAgbm90aWZ5PzogYm9vbGVhbjtcbiAgICBtZW1iZXJzX2xpbWl0PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxSZXNwb25zZT4oXG4gICAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG5cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UocmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKHJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKHJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKHBhcmFtcz8ucmluZyB8fCB0aGlzLnJpbmdpbmcpIHtcbiAgICAgIC8vIHRoZSBjYWxsIHJlc3BvbnNlIGNhbiBpbmRpY2F0ZSB3aGVyZSB0aGUgY2FsbCBpcyBzdGlsbCByaW5naW5nIG9yIG5vdFxuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmVhbUNsaWVudC5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS5yZWdpc3RlckNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZygpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhbGwgYW5kIGNyZWF0ZXMgaXQgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgdG8gY3JlYXRlIHRoZSBjYWxsIHdpdGguXG4gICAqL1xuICBnZXRPckNyZWF0ZSA9IGFzeW5jIChkYXRhPzogR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZSxcbiAgICAgIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICA+KHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGgsIGRhdGEpO1xuXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKHJlc3BvbnNlLmNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhyZXNwb25zZS5tZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhyZXNwb25zZS5vd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIGlmIChkYXRhPy5yaW5nIHx8IHRoaXMucmluZ2luZykge1xuICAgICAgLy8gdGhlIGNhbGwgcmVzcG9uc2UgY2FuIGluZGljYXRlIHdoZXJlIHRoZSBjYWxsIGlzIHN0aWxsIHJpbmdpbmcgb3Igbm90XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKCk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYWxsXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgY2FsbCB3aXRoLlxuICAgKi9cbiAgY3JlYXRlID0gYXN5bmMgKGRhdGE/OiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3JDcmVhdGUoZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgZm9yIHtAbGluayBDYWxsLmdldH0gd2l0aCBgcmluZ2AgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAuXG4gICAqIFdpbGwgc2VuZCBhIGBjYWxsLnJpbmdgIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICByaW5nID0gYXN5bmMgKCk6IFByb21pc2U8R2V0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0KHsgcmluZzogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaG9ydGN1dCBmb3Ige0BsaW5rIENhbGwuZ2V0fSB3aXRoIGBub3RpZnlgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgLlxuICAgKiBXaWxsIHNlbmQgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICBub3RpZnkgPSBhc3luYyAoKTogUHJvbWlzZTxHZXRDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXQoeyBub3RpZnk6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIGFjY2VwdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5qb2lufSBpbnZva2VzIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkgZm9yIHlvdSB3aGVuIGpvaW5pbmcgYSBjYWxsLlxuICAgKiBVbmxlc3MgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gXCJyaW5naW5nXCIgZmxvdywgeW91IHNob3VsZCBub3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKi9cbiAgYWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEFjY2VwdENhbGxSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9hY2NlcHRgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIHJlamVjdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5sZWF2ZX0gaW52b2tlcyB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IGZvciB5b3Ugd2hlbiB5b3UgbGVhdmUgb3IgcmVqZWN0IHRoaXMgY2FsbC5cbiAgICogVW5sZXNzIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIFwicmluZ2luZ1wiIGZsb3csIHlvdSBzaG91bGQgbm90IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGwuXG4gICAqL1xuICByZWplY3QgPSBhc3luYyAocmVhc29uPzogUmVqZWN0UmVhc29uKTogUHJvbWlzZTxSZWplY3RDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxSZWplY3RDYWxsUmVzcG9uc2UsIFJlamVjdENhbGxSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlamVjdGAsXG4gICAgICB7IHJlYXNvbjogcmVhc29uIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBzdGFydCB0byB3YXRjaCBmb3IgY2FsbCByZWxhdGVkIFdlYlNvY2tldCBldmVudHMgYW5kIGluaXRpYXRlIGEgY2FsbCBzZXNzaW9uIHdpdGggdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIGNhbGwgam9pbi1mbG93IGhhcyBmaW5pc2hlZC5cbiAgICovXG4gIGpvaW4gPSBhc3luYyAoZGF0YT86IEpvaW5DYWxsRGF0YSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZTtcbiAgICBpZiAoW0NhbGxpbmdTdGF0ZS5KT0lORUQsIENhbGxpbmdTdGF0ZS5KT0lOSU5HXS5pbmNsdWRlcyhjYWxsaW5nU3RhdGUpKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnSm9pbiBtZXRob2QgY2FsbGVkIHR3aWNlLCB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIG9uY2UnLFxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBTdGF0ZTogQWxyZWFkeSBqb2luZWQuYCk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNNaWdyYXRpbmcgPSBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5NSUdSQVRJTkc7XG4gICAgY29uc3QgaXNSZWNvbm5lY3RpbmcgPSBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkc7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5JTkcpO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdTdGFydGluZyBqb2luIGZsb3cnKTtcblxuICAgIGlmIChkYXRhPy5yaW5nICYmICF0aGlzLnJpbmdpbmcpIHtcbiAgICAgIHRoaXMucmluZ2luZ1N1YmplY3QubmV4dCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yaW5naW5nICYmICF0aGlzLmlzQ3JlYXRlZEJ5TWUpIHtcbiAgICAgIC8vIHNpZ25hbHMgb3RoZXIgdXNlcnMgdGhhdCBJIGhhdmUgYWNjZXB0ZWQgdGhlIGluY29taW5nIGNhbGwuXG4gICAgICBhd2FpdCB0aGlzLmFjY2VwdCgpO1xuICAgIH1cblxuICAgIGxldCBzZnVTZXJ2ZXI6IFNGVVJlc3BvbnNlO1xuICAgIGxldCBzZnVUb2tlbjogc3RyaW5nO1xuICAgIGxldCBjb25uZWN0aW9uQ29uZmlnOiBSVENDb25maWd1cmF0aW9uIHwgdW5kZWZpbmVkO1xuICAgIGxldCBzdGF0c09wdGlvbnM6IFN0YXRzT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuc2Z1Q2xpZW50Py5pc0Zhc3RSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgLy8gdXNlIHByZXZpb3VzIFNGVSBjb25maWd1cmF0aW9uIGFuZCB2YWx1ZXNcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyA9IHRoaXMucHVibGlzaGVyPy5jb25uZWN0aW9uQ29uZmlndXJhdGlvbjtcbiAgICAgICAgc2Z1U2VydmVyID0gdGhpcy5zZnVDbGllbnQuc2Z1U2VydmVyO1xuICAgICAgICBzZnVUb2tlbiA9IHRoaXMuc2Z1Q2xpZW50LnRva2VuO1xuICAgICAgICBzdGF0c09wdGlvbnMgPSB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/Lm9wdGlvbnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmdWxsIGpvaW4gZmxvdyAtIGxldCB0aGUgQ29vcmRpbmF0b3IgcGljayBhIG5ldyBTRlUgZm9yIHVzXG4gICAgICAgIGNvbnN0IGNhbGwgPSBhd2FpdCBqb2luKHRoaXMuc3RyZWFtQ2xpZW50LCB0aGlzLnR5cGUsIHRoaXMuaWQsIGRhdGEpO1xuICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoY2FsbC5tZXRhZGF0YSk7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhjYWxsLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhjYWxsLm93bkNhcGFiaWxpdGllcyk7XG4gICAgICAgIGNvbm5lY3Rpb25Db25maWcgPSBjYWxsLmNvbm5lY3Rpb25Db25maWc7XG4gICAgICAgIHNmdVNlcnZlciA9IGNhbGwuc2Z1U2VydmVyO1xuICAgICAgICBzZnVUb2tlbiA9IGNhbGwudG9rZW47XG4gICAgICAgIHN0YXRzT3B0aW9ucyA9IGNhbGwuc3RhdHNPcHRpb25zO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgY2FsbCBzdGF0ZSBpZiB0aGUgam9pbi1mbG93IGZhaWxzXG4gICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShjYWxsaW5nU3RhdGUpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNTZnVDbGllbnQgPSB0aGlzLnNmdUNsaWVudDtcbiAgICBjb25zdCBzZnVDbGllbnQgPSAodGhpcy5zZnVDbGllbnQgPSBuZXcgU3RyZWFtU2Z1Q2xpZW50KHtcbiAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgIHNmdVNlcnZlcixcbiAgICAgIHRva2VuOiBzZnVUb2tlbixcbiAgICAgIHNlc3Npb25JZDogcHJldmlvdXNTZnVDbGllbnQ/LnNlc3Npb25JZCxcbiAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBBIGNsb3N1cmUgd2hpY2ggaGlkZXMgYXdheSB0aGUgcmUtY29ubmVjdGlvbiBsb2dpYy5cbiAgICAgKi9cbiAgICBjb25zdCByZWNvbm5lY3QgPSBhc3luYyAoXG4gICAgICBzdHJhdGVneTogJ2Z1bGwnIHwgJ2Zhc3QnIHwgJ21pZ3JhdGUnLFxuICAgICAgcmVhc29uOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFN0YXRlID09PSBDYWxsaW5nU3RhdGUuTUlHUkFUSU5HIHx8XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR1xuICAgICAgKSB7XG4gICAgICAgIC8vIHByZXZlbnQgcGFyYWxsZWwgcmVjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKFxuICAgICAgICBzdHJhdGVneSA9PT0gJ21pZ3JhdGUnXG4gICAgICAgICAgPyBDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXG4gICAgICAgICAgOiBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HLFxuICAgICAgKTtcblxuICAgICAgaWYgKHN0cmF0ZWd5ID09PSAnbWlncmF0ZScpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICBgW01pZ3JhdGlvbl06IG1pZ3JhdGluZyBjYWxsICR7dGhpcy5jaWR9IGF3YXkgZnJvbSAke3NmdVNlcnZlci5lZGdlX25hbWV9YCxcbiAgICAgICAgKTtcbiAgICAgICAgc2Z1Q2xpZW50LmlzTWlncmF0aW5nQXdheSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgIGBbUmVqb2luXTogJHtzdHJhdGVneX0gcmVqb2luIGNhbGwgJHt0aGlzLmNpZH0gKCR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30pLi4uYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gdGFrZSBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IFwibG9jYWwgcGFydGljaXBhbnRcIiBzdGF0ZVxuICAgICAgLy8gd2UnbGwgbmVlZCBpdCBmb3IgcmVzdG9yaW5nIHRoZSBwcmV2aW91cyBwdWJsaXNoaW5nIHN0YXRlIGxhdGVyXG4gICAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdGhpcy5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50O1xuXG4gICAgICBpZiAoc3RyYXRlZ3kgPT09ICdmYXN0Jykge1xuICAgICAgICBzZnVDbGllbnQuY2xvc2UoXG4gICAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkVSUk9SX0NPTk5FQ1RJT05fQlJPS0VOLFxuICAgICAgICAgIGBhdHRlbXB0aW5nIGZhc3QgcmVjb25uZWN0OiAke3JlYXNvbn1gLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gJ2Z1bGwnKSB7XG4gICAgICAgIC8vIGluIG1pZ3JhdGlvbiBvciByZWNvdmVyeSBzY2VuYXJpb3MsIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gd2FpdCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWNvbm5lY3QgdG8gYW4gU0ZVIHNlcnZlclxuICAgICAgICBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMpKTtcblxuICAgICAgICAvLyBpbiBmdWxsLXJlY29ubmVjdCwgd2UgbmVlZCB0byBkaXNwb3NlIGFsbCBQZWVyIENvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcj8uY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlcj8uY2xvc2UoeyBzdG9wVHJhY2tzOiBmYWxzZSB9KTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgICB0aGlzLnN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gY2xlYW4gdXAgY3VycmVudCBjb25uZWN0aW9uXG4gICAgICAgIHNmdUNsaWVudC5jbG9zZShcbiAgICAgICAgICBTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsXG4gICAgICAgICAgYGF0dGVtcHRpbmcgZnVsbCByZWNvbm5lY3Q6ICR7cmVhc29ufWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBhd2FpdCB0aGlzLmpvaW4oe1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICAuLi4oc3RyYXRlZ3kgPT09ICdtaWdyYXRlJyAmJiB7IG1pZ3JhdGluZ19mcm9tOiBzZnVTZXJ2ZXIuZWRnZV9uYW1lIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNsZWFuIHVwIHByZXZpb3VzIGNvbm5lY3Rpb25cbiAgICAgIGlmIChzdHJhdGVneSA9PT0gJ21pZ3JhdGUnKSB7XG4gICAgICAgIHNmdUNsaWVudC5jbG9zZShTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsICdhdHRlbXB0aW5nIG1pZ3JhdGlvbicpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgW1Jlam9pbl06IEF0dGVtcHQgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSBzdWNjZXNzZnVsIWAsXG4gICAgICApO1xuICAgICAgLy8gd2Ugc2hvdWxkbid0IGJlIHJlcHVibGlzaGluZyB0aGUgc3RyZWFtcyBpZiB3ZSdyZSBtaWdyYXRpbmdcbiAgICAgIC8vIGFzIHRoZSB1bmRlcmx5aW5nIHBlZXIgY29ubmVjdGlvbiB3aWxsIHRha2UgY2FyZSBvZiBpdCBhcyBwYXJ0XG4gICAgICAvLyBvZiB0aGUgaWNlLXJlc3RhcnQgcHJvY2Vzc1xuICAgICAgaWYgKGxvY2FsUGFydGljaXBhbnQgJiYgc3RyYXRlZ3kgPT09ICdmdWxsJykge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYXVkaW9TdHJlYW0sXG4gICAgICAgICAgdmlkZW9TdHJlYW0sXG4gICAgICAgICAgc2NyZWVuU2hhcmVTdHJlYW0sXG4gICAgICAgICAgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSxcbiAgICAgICAgfSA9IGxvY2FsUGFydGljaXBhbnQ7XG5cbiAgICAgICAgbGV0IHNjcmVlblNoYXJlOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNjcmVlblNoYXJlU3RyZWFtIHx8IHNjcmVlblNoYXJlQXVkaW9TdHJlYW0pIHtcbiAgICAgICAgICBzY3JlZW5TaGFyZSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgICAgICAgIHNjcmVlblNoYXJlU3RyZWFtPy5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICBzY3JlZW5TaGFyZT8uYWRkVHJhY2sodHJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0/LmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgIHNjcmVlblNoYXJlPy5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXN0b3JlIHByZXZpb3VzIHB1Ymxpc2hpbmcgc3RhdGVcbiAgICAgICAgaWYgKGF1ZGlvU3RyZWFtKSBhd2FpdCB0aGlzLnB1Ymxpc2hBdWRpb1N0cmVhbShhdWRpb1N0cmVhbSk7XG4gICAgICAgIGlmICh2aWRlb1N0cmVhbSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucHVibGlzaFZpZGVvU3RyZWFtKHZpZGVvU3RyZWFtLCB7XG4gICAgICAgICAgICBwcmVmZXJyZWRDb2RlYzogdGhpcy5jYW1lcmEucHJlZmVycmVkQ29kZWMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcmVlblNoYXJlKSBhd2FpdCB0aGlzLnB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbShzY3JlZW5TaGFyZSk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgIGBbUmVqb2luXTogU3RhdGUgcmVzdG9yZWQuIEF0dGVtcHQ6ICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c31gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyByZWNvbm5lY3QgaWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCB1bmV4cGVjdGVkbHkuIGV4YW1wbGU6XG4gICAgLy8gLSBTRlUgY3Jhc2ggb3IgcmVzdGFydFxuICAgIC8vIC0gbmV0d29yayBjaGFuZ2VcbiAgICBzZnVDbGllbnQuc2lnbmFsUmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAvLyByZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRoZSBcImdvQXdheVwiIGV2ZW50XG4gICAgICBjb25zdCB1bnJlZ2lzdGVyR29Bd2F5ID0gdGhpcy5kaXNwYXRjaGVyLm9uKCdnb0F3YXknLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyByZWFzb24gfSA9IGV2ZW50O1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgYFtNaWdyYXRpb25dOiBHb2luZyBhd2F5IGZyb20gU0ZVLi4uIFJlYXNvbjogJHtHb0F3YXlSZWFzb25bcmVhc29uXX1gLFxuICAgICAgICApO1xuICAgICAgICByZWNvbm5lY3QoJ21pZ3JhdGUnLCBHb0F3YXlSZWFzb25bcmVhc29uXSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgYFtNaWdyYXRpb25dOiBGYWlsZWQgdG8gbWlncmF0ZSB0byBhbm90aGVyIFNGVS5gLFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHNmdUNsaWVudC5zaWduYWxXcy5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIChlKSA9PiB7XG4gICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIFwiZ29Bd2F5XCIgaGFuZGxlciwgYXMgd2Ugd29uJ3QgbmVlZCBpdCBhbnltb3JlIGZvciB0aGlzIGNvbm5lY3Rpb24uXG4gICAgICAgIC8vIHRoZSB1cGNvbWluZyByZS1qb2luIHdpbGwgcmVnaXN0ZXIgYSBuZXcgaGFuZGxlciBhbnl3YXlcbiAgICAgICAgdW5yZWdpc3RlckdvQXdheSgpO1xuICAgICAgICAvLyB3aGVuIHRoZSB1c2VyIGhhcyBpbml0aWF0ZWQgXCJjYWxsLmxlYXZlKClcIiBvcGVyYXRpb24sIHdlIHNob3VsZG4ndFxuICAgICAgICAvLyBjYXJlIGZvciB0aGUgV1MgY2xvc2UgY29kZSBhbmQgd2Ugc2hvdWxkbid0IGV2ZXIgYXR0ZW1wdCB0byByZWNvbm5lY3RcbiAgICAgICAgaWYgKHRoaXMuaXNMZWF2aW5nKSByZXR1cm47XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgaWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBvbiBwdXJwb3NlXG4gICAgICAgIGlmIChlLmNvZGUgPT09IFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSkgcmV0dXJuO1xuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgYmVjYXVzZSBvZiBhIHBvbGljeSB2aW9sYXRpb25cbiAgICAgICAgLy8gZS5nLiwgdGhlIHVzZXIgaGFzIGJlZW4gYmxvY2tlZCBieSBhbiBhZG1pbiBvciBtb2RlcmF0b3JcbiAgICAgICAgaWYgKGUuY29kZSA9PT0gS25vd25Db2Rlcy5XU19QT0xJQ1lfVklPTEFUSU9OKSByZXR1cm47XG4gICAgICAgIC8vIFdoZW4gdGhlIFNGVSBpcyBiZWluZyBzaHV0IGRvd24sIGl0IHNlbmRzIGEgZ29Bd2F5IG1lc3NhZ2UuXG4gICAgICAgIC8vIFdoaWxlIHdlIG1pZ3JhdGUgdG8gYW5vdGhlciBTRlUsIHdlIG1pZ2h0IGhhdmUgdGhlIFdTIGNvbm5lY3Rpb25cbiAgICAgICAgLy8gdG8gdGhlIG9sZCBTRlUgY2xvc2VkIGFicnVwdGx5LiBJbiB0aGlzIGNhc2UsIHdlIGRvbid0IHdhbnRcbiAgICAgICAgLy8gdG8gcmVjb25uZWN0IHRvIHRoZSBvbGQgU0ZVLCBidXQgcmF0aGVyIHRvIHRoZSBuZXcgb25lLlxuICAgICAgICBjb25zdCBpc01pZ3JhdGluZ0F3YXkgPVxuICAgICAgICAgIGUuY29kZSA9PT0gS25vd25Db2Rlcy5XU19DTE9TRURfQUJSVVBUTFkgJiYgc2Z1Q2xpZW50LmlzTWlncmF0aW5nQXdheTtcbiAgICAgICAgY29uc3QgaXNGYXN0UmVjb25uZWN0aW5nID1cbiAgICAgICAgICBlLmNvZGUgPT09IEtub3duQ29kZXMuV1NfQ0xPU0VEX0FCUlVQVExZICYmXG4gICAgICAgICAgc2Z1Q2xpZW50LmlzRmFzdFJlY29ubmVjdGluZztcbiAgICAgICAgaWYgKGlzTWlncmF0aW5nQXdheSB8fCBpc0Zhc3RSZWNvbm5lY3RpbmcpIHJldHVybjtcblxuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgYmVjYXVzZSBvZiBhIGZhc3QgcmVjb25uZWN0XG4gICAgICAgIGlmIChlLmNvZGUgPT09IFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX0JST0tFTikgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICAgIHNmdUNsaWVudC5pc0Zhc3RSZWNvbm5lY3RpbmcgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID09PSAwO1xuICAgICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gc2Z1Q2xpZW50LmlzRmFzdFJlY29ubmVjdGluZyA/ICdmYXN0JyA6ICdmdWxsJztcbiAgICAgICAgICByZWNvbm5lY3Qoc3RyYXRlZ3ksIGBTRlUgY2xvc2VkIHRoZSBXUyB3aXRoIGNvZGU6ICR7ZS5jb2RlfWApLmNhdGNoKFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGBbUmVqb2luXTogJHtzdHJhdGVneX0gcmVqb2luIGZhaWxlZCBmb3IgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSB0aW1lcy4gR2l2aW5nIHVwLmAsXG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgJ1tSZWpvaW5dOiBSZWNvbm5lY3QgYXR0ZW1wdHMgZXhjZWVkZWQuIEdpdmluZyB1cC4uLicsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlcnMgZm9yIGNvbm5lY3Rpb24gb25saW5lL29mZmxpbmUgZXZlbnRzXG4gICAgY29uc3QgdW5zdWJzY3JpYmVPbmxpbmVFdmVudCA9IHRoaXMuc3RyZWFtQ2xpZW50Lm9uKFxuICAgICAgJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICBhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50eXBlICE9PSAnY29ubmVjdGlvbi5jaGFuZ2VkJykgcmV0dXJuO1xuICAgICAgICBpZiAoIWUub25saW5lKSByZXR1cm47XG4gICAgICAgIHVuc3Vic2NyaWJlT25saW5lRXZlbnQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudENhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuICAgICAgICBjb25zdCBzaG91bGRSZWNvbm5lY3QgPVxuICAgICAgICAgIGN1cnJlbnRDYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5PRkZMSU5FIHx8XG4gICAgICAgICAgY3VycmVudENhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQ7XG4gICAgICAgIGlmICghc2hvdWxkUmVjb25uZWN0KSByZXR1cm47XG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ1tSZWpvaW5dOiBHb2luZyBvbmxpbmUuLi4nKTtcbiAgICAgICAgbGV0IGlzRmlyc3RSZWNvbm5lY3RBdHRlbXB0ID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZnVDbGllbnQuaXNGYXN0UmVjb25uZWN0aW5nID0gaXNGaXJzdFJlY29ubmVjdEF0dGVtcHQ7XG4gICAgICAgICAgICBhd2FpdCByZWNvbm5lY3QoXG4gICAgICAgICAgICAgIGlzRmlyc3RSZWNvbm5lY3RBdHRlbXB0ID8gJ2Zhc3QnIDogJ2Z1bGwnLFxuICAgICAgICAgICAgICAnTmV0d29yazogb25saW5lJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47IC8vIGJyZWFrIHRoZSBsb29wIGlmIHJlam9pbiBpcyBzdWNjZXNzZnVsXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgYFtSZWpvaW5dW05ldHdvcmtdOiBSZWpvaW4gZmFpbGVkIGZvciBhdHRlbXB0ICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c31gLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3YWl0IGZvciBhIGJpdCBiZWZvcmUgdHJ5aW5nIHRvIHJlY29ubmVjdCBhZ2FpblxuICAgICAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RBdHRlbXB0cykpO1xuICAgICAgICAgIGlzRmlyc3RSZWNvbm5lY3RBdHRlbXB0ID0gZmFsc2U7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPCB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKTtcblxuICAgICAgICAvLyBpZiB3ZSdyZSBoZXJlLCBpdCBtZWFucyB0aGF0IHdlJ3ZlIGV4aGF1c3RlZCBhbGwgdGhlIHJlY29ubmVjdCBhdHRlbXB0c1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgW1Jlam9pbl1bTmV0d29ya106IFJlam9pbiBmYWlsZWQuIEdpdmluZyB1cC5gKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQpO1xuICAgICAgfSxcbiAgICApO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlT2ZmbGluZUV2ZW50ID0gdGhpcy5zdHJlYW1DbGllbnQub24oXG4gICAgICAnY29ubmVjdGlvbi5jaGFuZ2VkJyxcbiAgICAgIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnR5cGUgIT09ICdjb25uZWN0aW9uLmNoYW5nZWQnKSByZXR1cm47XG4gICAgICAgIGlmIChlLm9ubGluZSkgcmV0dXJuO1xuICAgICAgICB1bnN1YnNjcmliZU9mZmxpbmVFdmVudCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuT0ZGTElORSk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZU9ubGluZUV2ZW50KCk7XG4gICAgICB1bnN1YnNjcmliZU9mZmxpbmVFdmVudCgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBvblVucmVjb3ZlcmFibGVFcnJvcjogKCkgPT4ge1xuICAgICAgICAgIHJlY29ubmVjdCgnZnVsbCcsICd1bnJlY292ZXJhYmxlIHN1YnNjcmliZXIgZXJyb3InKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1Jlam9pbl06IFJlam9pbiBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYW5vbnltb3VzIHVzZXJzIGNhbid0IHB1Ymxpc2ggYW55dGhpbmcgaGVuY2UsIHRoZXJlIGlzIG5vIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgUHVibGlzaGVyIFBlZXIgQ29ubmVjdGlvbiBmb3IgdGhlbVxuICAgIGNvbnN0IGlzQW5vbnltb3VzID0gdGhpcy5zdHJlYW1DbGllbnQudXNlcj8udHlwZSA9PT0gJ2Fub255bW91cyc7XG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlciAmJiAhaXNBbm9ueW1vdXMpIHtcbiAgICAgIGNvbnN0IGF1ZGlvU2V0dGluZ3MgPSB0aGlzLnN0YXRlLnNldHRpbmdzPy5hdWRpbztcbiAgICAgIGNvbnN0IGlzRHR4RW5hYmxlZCA9ICEhYXVkaW9TZXR0aW5ncz8ub3B1c19kdHhfZW5hYmxlZDtcbiAgICAgIGNvbnN0IGlzUmVkRW5hYmxlZCA9ICEhYXVkaW9TZXR0aW5ncz8ucmVkdW5kYW50X2NvZGluZ19lbmFibGVkO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSBuZXcgUHVibGlzaGVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBpc0R0eEVuYWJsZWQsXG4gICAgICAgIGlzUmVkRW5hYmxlZCxcbiAgICAgICAgb25VbnJlY292ZXJhYmxlRXJyb3I6ICgpID0+IHtcbiAgICAgICAgICByZWNvbm5lY3QoJ2Z1bGwnLCAndW5yZWNvdmVyYWJsZSBwdWJsaXNoZXIgZXJyb3InKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1Jlam9pbl06IFJlam9pbiBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRzUmVwb3J0ZXIpIHtcbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlciA9IGNyZWF0ZVN0YXRzUmVwb3J0ZXIoe1xuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBkYXRhY2VudGVyOiB0aGlzLnNmdUNsaWVudC5lZGdlTmFtZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudERldGFpbHMgPSBnZXRDbGllbnREZXRhaWxzKCk7XG4gICAgaWYgKCF0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgJiYgc3RhdHNPcHRpb25zKSB7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSBuZXcgU2Z1U3RhdHNSZXBvcnRlcihzZnVDbGllbnQsIHtcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgb3B0aW9uczogc3RhdHNPcHRpb25zLFxuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlci5zdGFydCgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyAxLiB3YWl0IGZvciB0aGUgc2lnbmFsIHNlcnZlciB0byBiZSByZWFkeSBiZWZvcmUgc2VuZGluZyBcImpvaW5SZXF1ZXN0XCJcbiAgICAgIHNmdUNsaWVudC5zaWduYWxSZWFkeVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ1NpZ25hbCByZWFkeSBmYWlsZWQnLCBlcnIpKVxuICAgICAgICAvLyBwcmVwYXJlIGEgZ2VuZXJpYyBTRFAgYW5kIHNlbmQgaXQgdG8gdGhlIFNGVS5cbiAgICAgICAgLy8gdGhpcyBpcyBhIHRocm93LWF3YXkgU0RQIHRoYXQgdGhlIFNGVSB3aWxsIHVzZSB0byBkZXRlcm1pbmVcbiAgICAgICAgLy8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY2xpZW50IChjb2RlYyBzdXBwb3J0LCBldGMuKVxuICAgICAgICAudGhlbigoKSA9PiBnZXRHZW5lcmljU2RwKCdyZWN2b25seScpKVxuICAgICAgICAudGhlbigoc2RwKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IGdldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYWNrU3Vic2NyaXB0aW9uc1N1YmplY3QpO1xuICAgICAgICAgIGNvbnN0IG1pZ3JhdGlvbjogTWlncmF0aW9uIHwgdW5kZWZpbmVkID0gaXNNaWdyYXRpbmdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGZyb21TZnVJZDogZGF0YT8ubWlncmF0aW5nX2Zyb20gfHwgJycsXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uczogc3Vic2NyaXB0aW9ucy5kYXRhIHx8IFtdLFxuICAgICAgICAgICAgICAgIGFubm91bmNlZFRyYWNrczogdGhpcy5wdWJsaXNoZXI/LmdldEN1cnJlbnRUcmFja0luZm9zKCkgfHwgW10sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgcmV0dXJuIHNmdUNsaWVudC5qb2luKHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJTZHA6IHNkcCB8fCAnJyxcbiAgICAgICAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICAgICAgICBtaWdyYXRpb24sXG4gICAgICAgICAgICBmYXN0UmVjb25uZWN0OiBwcmV2aW91c1NmdUNsaWVudD8uaXNGYXN0UmVjb25uZWN0aW5nID8/IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gMi4gaW4gcGFyYWxsZWwsIHdhaXQgZm9yIHRoZSBTRlUgdG8gc2VuZCB1cyB0aGUgXCJqb2luUmVzcG9uc2VcIlxuICAgICAgLy8gdGhpcyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBTRlUgcmVqZWN0cyB0aGUgam9pbiByZXF1ZXN0IG9yXG4gICAgICAvLyBmYWlscyB0byByZXNwb25kIGluIHRpbWVcbiAgICAgIGNvbnN0IHsgY2FsbFN0YXRlLCByZWNvbm5lY3RlZCB9ID0gYXdhaXQgdGhpcy53YWl0Rm9ySm9pblJlc3BvbnNlKCk7XG4gICAgICBpZiAoaXNSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWpvaW5dIGZhc3QgcmVjb25uZWN0ZWQ6JywgcmVjb25uZWN0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzTWlncmF0aW5nKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3Vic2NyaWJlci5taWdyYXRlVG8oc2Z1Q2xpZW50LCBjb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoZXI/Lm1pZ3JhdGVUbyhzZnVDbGllbnQsIGNvbm5lY3Rpb25Db25maWcpO1xuICAgICAgfSBlbHNlIGlmIChpc1JlY29ubmVjdGluZykge1xuICAgICAgICBpZiAocmVjb25uZWN0ZWQpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIFNGVSBjbGllbnQgaW5zdGFuY2Ugb24gdGhlIHN1YnNjcmliZXIgYW5kIHB1Ymxpc2hlclxuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlci5zZXRTZnVDbGllbnQoc2Z1Q2xpZW50KTtcbiAgICAgICAgICAvLyBwdWJsaXNoZXIgbWlnaHQgbm90IGJlIHRoZXJlIChhbm9ueW1vdXMgdXNlcnMpXG4gICAgICAgICAgaWYgKHRoaXMucHVibGlzaGVyKSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5zZXRTZnVDbGllbnQoc2Z1Q2xpZW50KTtcbiAgICAgICAgICAgIC8vIGFuZCBwZXJmb3JtIGEgZnVsbCBJQ0UgcmVzdGFydCBvbiB0aGUgcHVibGlzaGVyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5yZXN0YXJ0SWNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzU2Z1Q2xpZW50Py5pc0Zhc3RSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAvLyByZWNvbm5lY3Rpb24gd2Fzbid0IHBvc3NpYmxlLCBzbyB3ZSBuZWVkIHRvIGRvIGEgZnVsbCByZWpvaW5cbiAgICAgICAgICByZXR1cm4gYXdhaXQgcmVjb25uZWN0KCdmdWxsJywgJ3JlLWF0dGVtcHRpbmcnKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgYFtSZWpvaW5dOiBSZWpvaW4gZmFpbGVkIGZvcmNlZCBmdWxsIHJlam9pbi5gLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50UGFydGljaXBhbnRzID0gY2FsbFN0YXRlPy5wYXJ0aWNpcGFudHMgfHwgW107XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudENvdW50ID0gY2FsbFN0YXRlPy5wYXJ0aWNpcGFudENvdW50O1xuICAgICAgY29uc3Qgc3RhcnRlZEF0ID0gY2FsbFN0YXRlPy5zdGFydGVkQXRcbiAgICAgICAgPyBUaW1lc3RhbXAudG9EYXRlKGNhbGxTdGF0ZS5zdGFydGVkQXQpXG4gICAgICAgIDogbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHBpbnMgPSBjYWxsU3RhdGU/LnBpbnMgPz8gW107XG4gICAgICB0aGlzLnN0YXRlLnNldFBhcnRpY2lwYW50cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50TG9va3VwID0gdGhpcy5zdGF0ZS5nZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkKCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50UGFydGljaXBhbnRzLm1hcDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PigocCkgPT4ge1xuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAgIC8vIChlLmcuIHZpZGVvRGltZW5zaW9uLCB2aXNpYmlsaXR5U3RhdGUsIHBpbm5lZEF0LCBldGMuKVxuICAgICAgICAgIC8vIGFzIGl0IGRvZXNuJ3QgZXhpc3Qgb24gdGhlIHNlcnZlci5cbiAgICAgICAgICBjb25zdCBleGlzdGluZ1BhcnRpY2lwYW50ID0gcGFydGljaXBhbnRMb29rdXBbcC5zZXNzaW9uSWRdO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHAsIGV4aXN0aW5nUGFydGljaXBhbnQsIHtcbiAgICAgICAgICAgIGlzTG9jYWxQYXJ0aWNpcGFudDogcC5zZXNzaW9uSWQgPT09IHNmdUNsaWVudC5zZXNzaW9uSWQsXG4gICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZTpcbiAgICAgICAgICAgICAgZXhpc3RpbmdQYXJ0aWNpcGFudD8udmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz8ge1xuICAgICAgICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgICAgIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgIH0gc2F0aXNmaWVzIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQ/LnRvdGFsIHx8IDApO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQ/LmFub255bW91cyB8fCAwKTtcbiAgICAgIHRoaXMuc3RhdGUuc2V0U3RhcnRlZEF0KHN0YXJ0ZWRBdCk7XG4gICAgICB0aGlzLnN0YXRlLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuXG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMDsgLy8gcmVzZXQgdGhlIHJlY29ubmVjdCBhdHRlbXB0cyBjb3VudGVyXG4gICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuSk9JTkVEKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0Q2FtZXJhKHsgc2V0U3RhdHVzOiB0cnVlIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRNaWMoeyBzZXRTdGF0dXM6IHRydWUgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgJ0NhbWVyYSBhbmQvb3IgbWljIGluaXQgZmFpbGVkIGR1cmluZyBqb2luIGNhbGwnLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyAzLiBvbmNlIHdlIGhhdmUgdGhlIFwiam9pblJlc3BvbnNlXCIsIGFuZCBwb3NzaWJseSByZWNvbmNpbGVkIHRoZSBsb2NhbCBzdGF0ZVxuICAgICAgLy8gd2Ugc2NoZWR1bGUgYSBmYXN0IHN1YnNjcmlwdGlvbiB1cGRhdGUgZm9yIGFsbCByZW1vdGUgcGFydGljaXBhbnRzXG4gICAgICAvLyB0aGF0IHdlcmUgdmlzaWJsZSBiZWZvcmUgd2UgcmVjb25uZWN0ZWQgb3IgbWlncmF0ZWQgdG8gYSBuZXcgU0ZVLlxuICAgICAgY29uc3QgeyByZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAocmVtb3RlUGFydGljaXBhbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpcHRpb25zKHJlbW90ZVBhcnRpY2lwYW50cywgRGVib3VuY2VUeXBlLkZBU1QpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBKb2luZWQgY2FsbCAke3RoaXMuY2lkfWApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gam9pbiBmYWlsZWQsIHRyeSB0byByZWpvaW5cbiAgICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgIGBbUmVqb2luXTogUmVqb2luICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30gZmFpbGVkLmAsXG4gICAgICAgICAgZXJyLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCByZWNvbm5lY3QoJ2Z1bGwnLCAncHJldmlvdXMgYXR0ZW1wdCBmYWlsZWQnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgIGBbUmVqb2luXTogUmVqb2luICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30gc3VjY2Vzc2Z1bCFgLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICBgW1Jlam9pbl06IFJlam9pbiBmYWlsZWQgZm9yICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30gdGltZXMuIEdpdmluZyB1cC5gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSm9pbiBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB3YWl0Rm9ySm9pblJlc3BvbnNlID0gKHRpbWVvdXQ6IG51bWJlciA9IDUwMDApID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8Sm9pblJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMub24oJ2pvaW5SZXNwb25zZScsIChldmVudCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgcmVzb2x2ZShldmVudCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1dhaXRpbmcgZm9yIFwiam9pblJlc3BvbnNlXCIgaGFzIHRpbWVkIG91dCcpKTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdmlkZW8gc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZCBpZiB0aGUgdXNlciBjaGFuZ2VzIGFuIGlucHV0IGRldmljZSwgb3IgaWYgdGhlIHVzZXIgbGVhdmVzIHRoZSBjYWxsLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIHByZXZpb3VzbHkgcHVibGlzaGVkIHN0cmVhbS5cbiAgICogVGhlIHByZXZpb3VzIHZpZGVvIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB2aWRlb1N0cmVhbSB0aGUgdmlkZW8gc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSBvcHRzIHRoZSBvcHRpb25zIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHN0cmVhbS5cbiAgICovXG4gIHB1Ymxpc2hWaWRlb1N0cmVhbSA9IGFzeW5jIChcbiAgICB2aWRlb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gICAgb3B0czogUHVibGlzaE9wdGlvbnMgPSB7fSxcbiAgKSA9PiB7XG4gICAgLy8gd2Ugc2hvdWxkIHdhaXQgdW50aWwgd2UgZ2V0IGEgSm9pblJlc3BvbnNlIGZyb20gdGhlIFNGVSxcbiAgICAvLyBvdGhlcndpc2Ugd2UgcmlzayBicmVha2luZyB0aGUgSUNFVHJpY2tsZSBmbG93LlxuICAgIGF3YWl0IHRoaXMuYXNzZXJ0Q2FsbEpvaW5lZCgpO1xuICAgIGlmICghdGhpcy5wdWJsaXNoZXIpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdUcnlpbmcgdG8gcHVibGlzaCB2aWRlbyBiZWZvcmUgam9pbiBpcyBjb21wbGV0ZWQnKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FsbCBub3Qgam9pbmVkIHlldC5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBbdmlkZW9UcmFja10gPSB2aWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgIGlmICghdmlkZW9UcmFjaykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYFRoZXJlIGlzIG5vIHZpZGVvIHRyYWNrIHRvIHB1Ymxpc2ggaW4gdGhlIHN0cmVhbS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgdmlkZW9TdHJlYW0sXG4gICAgICB2aWRlb1RyYWNrLFxuICAgICAgVHJhY2tUeXBlLlZJREVPLFxuICAgICAgb3B0cyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gYXVkaW8gc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZCBpZiB0aGUgdXNlciBjaGFuZ2VzIGFuIGlucHV0IGRldmljZSwgb3IgaWYgdGhlIHVzZXIgbGVhdmVzIHRoZSBjYWxsLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIGF1ZGlvIHN0cmVhbSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBwdWJsaXNoZWQuXG4gICAqIFRoZSBwcmV2aW91cyBhdWRpbyBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9TdHJlYW0gdGhlIGF1ZGlvIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKi9cbiAgcHVibGlzaEF1ZGlvU3RyZWFtID0gYXN5bmMgKGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIC8vIHdlIHNob3VsZCB3YWl0IHVudGlsIHdlIGdldCBhIEpvaW5SZXNwb25zZSBmcm9tIHRoZSBTRlUsXG4gICAgLy8gb3RoZXJ3aXNlIHdlIHJpc2sgYnJlYWtpbmcgdGhlIElDRVRyaWNrbGUgZmxvdy5cbiAgICBhd2FpdCB0aGlzLmFzc2VydENhbGxKb2luZWQoKTtcbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnVHJ5aW5nIHRvIHB1Ymxpc2ggYXVkaW8gYmVmb3JlIGpvaW4gaXMgY29tcGxldGVkJyk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbGwgbm90IGpvaW5lZCB5ZXQuYCk7XG4gICAgfVxuXG4gICAgY29uc3QgW2F1ZGlvVHJhY2tdID0gYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICBpZiAoIWF1ZGlvVHJhY2spIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBUaGVyZSBpcyBubyBhdWRpbyB0cmFjayBpbiB0aGUgc3RyZWFtIHRvIHB1Ymxpc2hgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgYXVkaW9TdHJlYW0sXG4gICAgICBhdWRpb1RyYWNrLFxuICAgICAgVHJhY2tUeXBlLkFVRElPLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiBzY3JlZW4tc2hhcmUgc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIHByZXZpb3VzIHNjcmVlbi1zaGFyZSBzdHJlYW0uXG4gICAqIFRoZSBwcmV2aW91cyBzY3JlZW4tc2hhcmUgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHNjcmVlblNoYXJlU3RyZWFtIHRoZSBzY3JlZW4tc2hhcmUgc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSBvcHRzIHRoZSBvcHRpb25zIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHN0cmVhbS5cbiAgICovXG4gIHB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbSA9IGFzeW5jIChcbiAgICBzY3JlZW5TaGFyZVN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICAgb3B0czogUHVibGlzaE9wdGlvbnMgPSB7fSxcbiAgKSA9PiB7XG4gICAgLy8gd2Ugc2hvdWxkIHdhaXQgdW50aWwgd2UgZ2V0IGEgSm9pblJlc3BvbnNlIGZyb20gdGhlIFNGVSxcbiAgICAvLyBvdGhlcndpc2Ugd2UgcmlzayBicmVha2luZyB0aGUgSUNFVHJpY2tsZSBmbG93LlxuICAgIGF3YWl0IHRoaXMuYXNzZXJ0Q2FsbEpvaW5lZCgpO1xuICAgIGlmICghdGhpcy5wdWJsaXNoZXIpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnZXJyb3InLFxuICAgICAgICAnVHJ5aW5nIHRvIHB1Ymxpc2ggc2NyZWVuIHNoYXJlIGJlZm9yZSBqb2luIGlzIGNvbXBsZXRlZCcsXG4gICAgICApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYWxsIG5vdCBqb2luZWQgeWV0LmApO1xuICAgIH1cblxuICAgIGNvbnN0IFtzY3JlZW5TaGFyZVRyYWNrXSA9IHNjcmVlblNoYXJlU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgaWYgKCFzY3JlZW5TaGFyZVRyYWNrKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgYFRoZXJlIGlzIG5vIHZpZGVvIHRyYWNrIGluIHRoZSBzY3JlZW4gc2hhcmUgc3RyZWFtIHRvIHB1Ymxpc2hgLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgc2NyZWVuU2hhcmVTdHJlYW0sXG4gICAgICBzY3JlZW5TaGFyZVRyYWNrLFxuICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICAgIG9wdHMsXG4gICAgKTtcblxuICAgIGNvbnN0IFtzY3JlZW5TaGFyZUF1ZGlvVHJhY2tdID0gc2NyZWVuU2hhcmVTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICBpZiAoc2NyZWVuU2hhcmVBdWRpb1RyYWNrKSB7XG4gICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgICBzY3JlZW5TaGFyZVN0cmVhbSxcbiAgICAgICAgc2NyZWVuU2hhcmVBdWRpb1RyYWNrLFxuICAgICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICAgICBvcHRzLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIHR5cGUgdG8gdGhlIGNhbGwsIGlmIGl0IGlzIGN1cnJlbnRseSBiZWluZyBwdWJsaXNoZWQuXG4gICAqIFVuZGVybHlpbmcgdHJhY2sgd2lsbCBiZSBzdG9wcGVkIGFuZCByZW1vdmVkIGZyb20gdGhlIHB1Ymxpc2hlci5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdHJhY2sgdHlwZSB0byBzdG9wIHB1Ymxpc2hpbmcuXG4gICAqIEBwYXJhbSBzdG9wVHJhY2sgaWYgYHRydWVgIHRoZSB0cmFjayB3aWxsIGJlIHN0b3BwZWQsIGVsc2UgaXQgd2lsbCBiZSBqdXN0IGRpc2FibGVkXG4gICAqL1xuICBzdG9wUHVibGlzaCA9IGFzeW5jICh0cmFja1R5cGU6IFRyYWNrVHlwZSwgc3RvcFRyYWNrOiBib29sZWFuID0gdHJ1ZSkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ2luZm8nLFxuICAgICAgYHN0b3BQdWJsaXNoICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19LCBzdG9wIHRyYWNrczogJHtzdG9wVHJhY2t9YCxcbiAgICApO1xuICAgIGF3YWl0IHRoaXMucHVibGlzaGVyPy51bnB1Ymxpc2hTdHJlYW0odHJhY2tUeXBlLCBzdG9wVHJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgU0ZVIHRoYXQgYSBub2lzZSBjYW5jZWxsYXRpb24gcHJvY2VzcyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RhcnROb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBub3RpZnkgc3RhcnQgb2Ygbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIFNGVSB0aGF0IGEgbm9pc2UgY2FuY2VsbGF0aW9uIHByb2Nlc3MgaGFzIHN0b3BwZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIG5vdGlmeSBzdG9wIG9mIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0cmFjayBzdWJzY3JpcHRpb24gY29uZmlndXJhdGlvbiBmb3Igb25lIG9yIG1vcmUgcGFydGljaXBhbnRzLlxuICAgKiBZb3UgaGF2ZSB0byBjcmVhdGUgYSBzdWJzY3JpcHRpb24gZm9yIGVhY2ggcGFydGljaXBhbnQgZm9yIGFsbCB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHRyYWNrcyB5b3Ugd2FudCB0byByZWNlaXZlLlxuICAgKiBZb3UgY2FuIG9ubHkgc3Vic2NyaWJlIGZvciB0cmFja3MgYWZ0ZXIgdGhlIHBhcnRpY2lwYW50IHN0YXJ0ZWQgcHVibGlzaGluZyB0aGUgZ2l2ZW4ga2luZCBvZiB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBzdWJzY3JpcHRpb24gdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlcyB0aGUgbGlzdCBvZiBzdWJzY3JpcHRpb24gY2hhbmdlcyB0byBkby5cbiAgICogQHBhcmFtIHR5cGUgdGhlIGRlYm91bmNlIHR5cGUgdG8gdXNlIGZvciB0aGUgdXBkYXRlLlxuICAgKi9cbiAgdXBkYXRlU3Vic2NyaXB0aW9uc1BhcnRpYWwgPSAoXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSB8ICd2aWRlbycgfCAnc2NyZWVuJyxcbiAgICBjaGFuZ2VzOiBTdWJzY3JpcHRpb25DaGFuZ2VzLFxuICAgIHR5cGU6IERlYm91bmNlVHlwZSA9IERlYm91bmNlVHlwZS5TTE9XLFxuICApID0+IHtcbiAgICBpZiAodHJhY2tUeXBlID09PSAndmlkZW8nKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICBgdXBkYXRlU3Vic2NyaXB0aW9uc1BhcnRpYWw6ICR7dHJhY2tUeXBlfSBpcyBkZXByZWNhdGVkLiBQbGVhc2Ugc3dpdGNoIHRvICd2aWRlb1RyYWNrJ2AsXG4gICAgICApO1xuICAgICAgdHJhY2tUeXBlID0gJ3ZpZGVvVHJhY2snO1xuICAgIH0gZWxzZSBpZiAodHJhY2tUeXBlID09PSAnc2NyZWVuJykge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgYHVwZGF0ZVN1YnNjcmlwdGlvbnNQYXJ0aWFsOiAke3RyYWNrVHlwZX0gaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHN3aXRjaCB0byAnc2NyZWVuU2hhcmVUcmFjaydgLFxuICAgICAgKTtcbiAgICAgIHRyYWNrVHlwZSA9ICdzY3JlZW5TaGFyZVRyYWNrJztcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNoYW5nZXMpLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChhY2MsIFtzZXNzaW9uSWQsIGNoYW5nZV0pID0+IHtcbiAgICAgICAgICBpZiAoY2hhbmdlLmRpbWVuc2lvbj8uaGVpZ2h0KSB7XG4gICAgICAgICAgICBjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGFuZ2UuZGltZW5zaW9uPy53aWR0aCkge1xuICAgICAgICAgICAgY2hhbmdlLmRpbWVuc2lvbi53aWR0aCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLndpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcHJvcDoga2V5b2YgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9XG4gICAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICAgICAgICA/ICd2aWRlb0RpbWVuc2lvbidcbiAgICAgICAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgICAgID8gJ3NjcmVlblNoYXJlRGltZW5zaW9uJ1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICBhY2Nbc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICAgICAgW3Byb3BdOiBjaGFuZ2UuZGltZW5zaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICApLFxuICAgICk7XG5cbiAgICBpZiAocGFydGljaXBhbnRzKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvbnMocGFydGljaXBhbnRzLCB0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdWJzY3JpcHRpb25zID0gKFxuICAgIHBhcnRpY2lwYW50czogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdLFxuICAgIHR5cGU6IERlYm91bmNlVHlwZSA9IERlYm91bmNlVHlwZS5TTE9XLFxuICApID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gc3Vic2NyaWJlIHRvIG91ciBvd24gdHJhY2tzXG4gICAgICBpZiAocC5pc0xvY2FsUGFydGljaXBhbnQpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBOT1RFOiBhdWRpbyB0cmFja3MgZG9uJ3QgaGF2ZSB0byBiZSByZXF1ZXN0ZWQgZXhwbGljaXRseVxuICAgICAgLy8gYXMgdGhlIFNGVSB3aWxsIGltcGxpY2l0bHkgc3Vic2NyaWJlIHVzIHRvIGFsbCBvZiB0aGVtLFxuICAgICAgLy8gb25jZSB0aGV5IGJlY29tZSBhdmFpbGFibGUuXG4gICAgICBpZiAocC52aWRlb0RpbWVuc2lvbiAmJiBoYXNWaWRlbyhwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgICBkaW1lbnNpb246IHAudmlkZW9EaW1lbnNpb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHAuc2NyZWVuU2hhcmVEaW1lbnNpb24gJiYgaGFzU2NyZWVuU2hhcmUocCkpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHtcbiAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgICAgICAgIGRpbWVuc2lvbjogcC5zY3JlZW5TaGFyZURpbWVuc2lvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzU2NyZWVuU2hhcmVBdWRpbyhwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBzY2hlZHVsZSB1cGRhdGVcbiAgICB0aGlzLnRyYWNrU3Vic2NyaXB0aW9uc1N1YmplY3QubmV4dCh7IHR5cGUsIGRhdGE6IHN1YnNjcmlwdGlvbnMgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgZW5oYW5jZSB0aGUgcmVwb3J0ZWQgc3RhdHMgd2l0aCBhZGRpdGlvbmFsIHBhcnRpY2lwYW50LXNwZWNpZmljIGluZm9ybWF0aW9uIChgY2FsbFN0YXRzUmVwb3J0JGAgc3RhdGUgW3N0b3JlIHZhcmlhYmxlXSguL1N0cmVhbVZpZGVvQ2xpZW50Lm1kLyNyZWFkb25seXN0YXRlc3RvcmUpKS5cbiAgICogVGhpcyBpcyB1c3VhbGx5IGhlbHBmdWwgd2hlbiBkZXRhaWxlZCBzdGF0cyBmb3IgYSBzcGVjaWZpYyBwYXJ0aWNpcGFudCBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gc3RhcnQgcmVwb3J0aW5nIGZvci5cbiAgICovXG4gIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0c1JlcG9ydGVyPy5zdGFydFJlcG9ydGluZ1N0YXRzRm9yKHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wcG9zaXRlIG9mIGBzdGFydFJlcG9ydGluZ1N0YXRzRm9yYC5cbiAgICogV2lsbCB0dXJuIG9mZiBzdGF0cyByZXBvcnRpbmcgZm9yIGEgc3BlY2lmaWMgcGFydGljaXBhbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBzdG9wIHJlcG9ydGluZyBmb3IuXG4gICAqL1xuICBzdG9wUmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0c1JlcG9ydGVyPy5zdG9wUmVwb3J0aW5nU3RhdHNGb3Ioc2Vzc2lvbklkKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBsYXN0IHNlbnQgcmVhY3Rpb24gZm9yIHRoZSB1c2VyIGhvbGRpbmcgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLiBUaGlzIGlzIGEgbG9jYWwgYWN0aW9uLCBpdCB3b24ndCByZXNldCB0aGUgcmVhY3Rpb24gb24gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICByZXNldFJlYWN0aW9uID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHJlYWN0aW9uOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKlxuICAgKiBAcGFyYW0gY3JpdGVyaWEgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKi9cbiAgc2V0U29ydFBhcnRpY2lwYW50c0J5OiBDYWxsU3RhdGVbJ3NldFNvcnRQYXJ0aWNpcGFudHNCeSddID0gKGNyaXRlcmlhKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNyaXRlcmlhKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgbGlzdCBvZiB2aWRlbyBsYXllcnMgdG8gcHVibGlzaC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBlbmFibGVkTGF5ZXJzIHRoZSBsaXN0IG9mIGxheWVycyB0byBlbmFibGUuXG4gICAqL1xuICB1cGRhdGVQdWJsaXNoUXVhbGl0eSA9IGFzeW5jIChlbmFibGVkTGF5ZXJzOiBWaWRlb0xheWVyU2V0dGluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucHVibGlzaGVyPy51cGRhdGVWaWRlb1B1Ymxpc2hRdWFsaXR5KGVuYWJsZWRMYXllcnMpO1xuICB9O1xuXG4gIHByaXZhdGUgYXNzZXJ0Q2FsbEpvaW5lZCA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlJFxuICAgICAgICAucGlwZShcbiAgICAgICAgICB0YWtlV2hpbGUoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCwgdHJ1ZSksXG4gICAgICAgICAgZmlsdGVyKChzKSA9PiBzID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSxcbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcmVhY3Rpb24gdG8gdGhlIG90aGVyIGNhbGwgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVhY3Rpb24gdGhlIHJlYWN0aW9uIHRvIHNlbmQuXG4gICAqL1xuICBzZW5kUmVhY3Rpb24gPSBhc3luYyAoXG4gICAgcmVhY3Rpb246IFNlbmRSZWFjdGlvblJlcXVlc3QsXG4gICk6IFByb21pc2U8U2VuZFJlYWN0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTZW5kUmVhY3Rpb25SZXNwb25zZSwgU2VuZFJlYWN0aW9uUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZWFjdGlvbmAsXG4gICAgICByZWFjdGlvbixcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCbG9ja3MgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIGJsb2NrLlxuICAgKi9cbiAgYmxvY2tVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8QmxvY2tVc2VyUmVzcG9uc2UsIEJsb2NrVXNlclJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vYmxvY2tgLFxuICAgICAge1xuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuYmxvY2tzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byB1bmJsb2NrLlxuICAgKi9cbiAgdW5ibG9ja1VzZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxVbmJsb2NrVXNlclJlc3BvbnNlLCBVbmJsb2NrVXNlclJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdW5ibG9ja2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZVNlbGYgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IG15VXNlcklkID0gdGhpcy5jdXJyZW50VXNlcklkO1xuICAgIGlmIChteVVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMubXV0ZVVzZXIobXlVc2VySWQsIHR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgYWxsIHRoZSBvdGhlciBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVPdGhlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IHRyYWNrVHlwZSA9IG11dGVUeXBlVG9UcmFja1R5cGUodHlwZSk7XG4gICAgaWYgKCF0cmFja1R5cGUpIHJldHVybjtcbiAgICBjb25zdCB1c2VySWRzVG9NdXRlOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKSkge1xuICAgICAgICB1c2VySWRzVG9NdXRlLnB1c2gocGFydGljaXBhbnQudXNlcklkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlcklkc1RvTXV0ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdXRlVXNlcih1c2VySWRzVG9NdXRlLCB0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBtdXRlLlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlVXNlciA9ICh1c2VySWQ6IHN0cmluZyB8IHN0cmluZ1tdLCB0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8TXV0ZVVzZXJzUmVzcG9uc2UsIE11dGVVc2Vyc1JlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbXV0ZV91c2Vyc2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWRzOiBBcnJheS5pc0FycmF5KHVzZXJJZCkgPyB1c2VySWQgOiBbdXNlcklkXSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIG11dGUgYWxsIHVzZXJzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlQWxsVXNlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PE11dGVVc2Vyc1Jlc3BvbnNlLCBNdXRlVXNlcnNSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L211dGVfdXNlcnNgLFxuICAgICAge1xuICAgICAgICBtdXRlX2FsbF91c2VyczogdHJ1ZSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdGFydFJlY29yZGluZyA9IGFzeW5jIChyZXF1ZXN0PzogU3RhcnRSZWNvcmRpbmdSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBTdGFydFJlY29yZGluZ1Jlc3BvbnNlLFxuICAgICAgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9yZWNvcmRpbmdgLCByZXF1ZXN0ID8gcmVxdWVzdCA6IHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdG9wUmVjb3JkaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BSZWNvcmRpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX3JlY29yZGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHRyYW5zY3JpcHRpb24gb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqL1xuICBzdGFydFRyYW5zY3JpcHRpb24gPSBhc3luYyAoXG4gICAgcmVxdWVzdD86IFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3QsXG4gICk6IFByb21pc2U8U3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICAgICAgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfdHJhbnNjcmlwdGlvbmAsIHJlcXVlc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgdHJhbnNjcmlwdGlvbiBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BUcmFuc2NyaXB0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8U3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF90cmFuc2NyaXB0aW9uYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGBjYWxsLnBlcm1pc3Npb25fcmVxdWVzdGAgZXZlbnQgdG8gYWxsIHVzZXJzIGNvbm5lY3RlZCB0byB0aGUgY2FsbC4gVGhlIGNhbGwgc2V0dGluZ3Mgb2JqZWN0IGNvbnRhaW5zIGluZm9tcmF0aW9uIGFib3V0IHdoaWNoIHBlcm1pc3Npb25zIGNhbiBiZSByZXF1ZXN0ZWQgZHVyaW5nIGEgY2FsbCAoZm9yIGV4YW1wbGUgYSB1c2VyIG1pZ2h0IGJlIGFsbG93ZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggYXVkaW8sIGJ1dCBub3QgdmlkZW8pLlxuICAgKi9cbiAgcmVxdWVzdFBlcm1pc3Npb25zID0gYXN5bmMgKFxuICAgIGRhdGE6IFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gZGF0YTtcbiAgICBjb25zdCBjYW5SZXF1ZXN0UGVybWlzc2lvbnMgPSBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT5cbiAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbiBhcyBPd25DYXBhYmlsaXR5KSxcbiAgICApO1xuICAgIGlmICghY2FuUmVxdWVzdFBlcm1pc3Npb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHJlcXVlc3QgcGVybWlzc2lvbnM6ICR7cGVybWlzc2lvbnMuam9pbignLCAnKX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlLFxuICAgICAgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZXF1ZXN0X3Blcm1pc3Npb25gLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBncmFudCBjZXJ0YWluIHBlcm1pc3Npb25zIHRvIGEgdXNlciBpbiBhIGNhbGwuXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgZ3JhbnRlZCBhcmU6XG4gICAqIC0gYHNlbmQtYXVkaW9gXG4gICAqIC0gYHNlbmQtdmlkZW9gXG4gICAqIC0gYHNjcmVlbnNoYXJlYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBncmFudCBwZXJtaXNzaW9ucyB0by5cbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBncmFudC5cbiAgICovXG4gIGdyYW50UGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBncmFudF9wZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gcmV2b2tlIGNlcnRhaW4gcGVybWlzc2lvbnMgZnJvbSBhIHVzZXIgaW4gYSBjYWxsLlxuICAgKiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIHJldm9rZWQgYXJlOlxuICAgKiAtIGBzZW5kLWF1ZGlvYFxuICAgKiAtIGBzZW5kLXZpZGVvYFxuICAgKiAtIGBzY3JlZW5zaGFyZWBcbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gcmV2b2tlIHBlcm1pc3Npb25zIGZyb20uXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9ucyB0aGUgcGVybWlzc2lvbnMgdG8gcmV2b2tlLlxuICAgKi9cbiAgcmV2b2tlUGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICByZXZva2VfcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGdyYW50IG9yIHJldm9rZSBhIHNwZWNpZmljIHBlcm1pc3Npb24gdG8gYSB1c2VyIGluIGEgY2FsbC4gVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFdoZW4gcmV2b2tpbmcgYSBwZXJtaXNzaW9uLCB0aGlzIGVuZHBvaW50IHdpbGwgYWxzbyBtdXRlIHRoZSByZWxldmFudCB0cmFjayBmcm9tIHRoZSB1c2VyLiBUaGlzIGlzIHNpbWlsYXIgdG8gbXV0aW5nIGEgdXNlciB3aXRoIHRoZSBkaWZmZXJlbmNlIHRoYXQgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byB1bm11dGUgYWZ0ZXJ3YXJkcy5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIGdyYW50ZWQgb3IgcmV2b2tlZDogYHNlbmQtYXVkaW9gLCBgc2VuZC12aWRlb2AgYW5kIGBzY3JlZW5zaGFyZWAuXG4gICAqXG4gICAqIGBjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWRgIGV2ZW50IGlzIHNlbnQgdG8gYWxsIG1lbWJlcnMgb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqL1xuICB1cGRhdGVVc2VyUGVybWlzc2lvbnMgPSBhc3luYyAoZGF0YTogVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG4gICAgICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91c2VyX3Blcm1pc3Npb25zYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICogQHBhcmFtIHBhcmFtcyB0aGUgcmVxdWVzdCBwYXJhbXMuXG4gICAqL1xuICBnb0xpdmUgPSBhc3luYyAoZGF0YTogR29MaXZlUmVxdWVzdCA9IHt9LCBwYXJhbXM/OiB7IG5vdGlmeT86IGJvb2xlYW4gfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEdvTGl2ZVJlc3BvbnNlLCBHb0xpdmVSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2dvX2xpdmVgLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BMaXZlID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BMaXZlUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF9saXZlYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RhcnRITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9icm9hZGNhc3RpbmdgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfYnJvYWRjYXN0aW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc2V0dGluZ3Mgb3IgY3VzdG9tIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB1cGRhdGVzIHRoZSB1cGRhdGVzIHRvIGFwcGx5IHRvIHRoZSBjYWxsLlxuICAgKi9cbiAgdXBkYXRlID0gYXN5bmMgKHVwZGF0ZXM6IFVwZGF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wYXRjaDxcbiAgICAgIFVwZGF0ZUNhbGxSZXNwb25zZSxcbiAgICAgIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofWAsIHVwZGF0ZXMpO1xuXG4gICAgY29uc3QgeyBjYWxsLCBtZW1iZXJzLCBvd25fY2FwYWJpbGl0aWVzIH0gPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKG1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKG93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmRzIHRoZSBjYWxsLiBPbmNlIHRoZSBjYWxsIGlzIGVuZGVkLCBpdCBjYW5ub3QgYmUgcmUtam9pbmVkLlxuICAgKi9cbiAgZW5kQ2FsbCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxFbmRDYWxsUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbWFya19lbmRlZGAsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiB0byB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHBpbi5cbiAgICovXG4gIHBpbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICBwaW46IHtcbiAgICAgICAgaXNMb2NhbFBpbjogdHJ1ZSxcbiAgICAgICAgcGlubmVkQXQ6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnBpbnMgdGhlIGdpdmVuIHNlc3Npb24gZnJvbSB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHVucGluLlxuICAgKi9cbiAgdW5waW4gPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwge1xuICAgICAgcGluOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBpbnMgdGhlIGdpdmVuIHNlc3Npb24gdG8gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QgZm9yIGV2ZXJ5b25lXG4gICAqIGluIHRoZSBjYWxsLlxuICAgKiBZb3UgY2FuIGV4ZWN1dGUgdGhpcyBtZXRob2Qgb25seSBpZiB5b3UgaGF2ZSB0aGUgYHBpbi1mb3ItZXZlcnlvbmVgIGNhcGFiaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIHBpbkZvckV2ZXJ5b25lID0gYXN5bmMgKHJlcXVlc3Q6IFBpblJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxQaW5SZXNwb25zZSwgUGluUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9waW5gLFxuICAgICAgcmVxdWVzdCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnBpbnMgdGhlIGdpdmVuIHNlc3Npb24gZnJvbSB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdCBmb3IgZXZlcnlvbmVcbiAgICogaW4gdGhlIGNhbGwuXG4gICAqIFlvdSBjYW4gZXhlY3V0ZSB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSBoYXZlIHRoZSBgcGluLWZvci1ldmVyeW9uZWAgY2FwYWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgdW5waW5Gb3JFdmVyeW9uZSA9IGFzeW5jIChyZXF1ZXN0OiBVbnBpblJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxVbnBpblJlc3BvbnNlLCBVbnBpblJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdW5waW5gLFxuICAgICAgcmVxdWVzdCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBRdWVyeSBjYWxsIG1lbWJlcnMgd2l0aCBmaWx0ZXIgcXVlcnkuIFRoZSByZXN1bHQgd29uJ3QgYmUgc3RvcmVkIGluIGNhbGwgc3RhdGUuXG4gICAqIEBwYXJhbSByZXF1ZXN0XG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBxdWVyeU1lbWJlcnMgPSAocmVxdWVzdD86IE9taXQ8UXVlcnlDYWxsTWVtYmVyc1JlcXVlc3QsICd0eXBlJyB8ICdpZCc+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgID4oJy9jYWxsL21lbWJlcnMnLCB7XG4gICAgICAuLi4ocmVxdWVzdCB8fCB7fSksXG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCB1cGRhdGUgdGhlIGNhbGwgbWVtYmVycy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICovXG4gIHVwZGF0ZUNhbGxNZW1iZXJzID0gYXN5bmMgKFxuICAgIGRhdGE6IFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICAgICAgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tZW1iZXJzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhbiBhdXRvLWRyb3AgdGltZW91dCBiYXNlZCBvbiB0aGUgY2FsbCBzZXR0aW5ncy5cbiAgICogQXBwbGljYWJsZSBvbmx5IGZvciByaW5naW5nIGNhbGxzLlxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUF1dG9Ecm9wID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRyb3BUaW1lb3V0KTtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLnNldHRpbmdzJCwgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgIGlmICghc2V0dGluZ3MpIHJldHVybjtcbiAgICAgICAgLy8gaWdub3JlIGlmIHRoZSBjYWxsIGlzIG5vdCByaW5naW5nXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0aW1lb3V0SW5NcyA9IHNldHRpbmdzLnJpbmcuYXV0b19jYW5jZWxfdGltZW91dF9tcztcbiAgICAgICAgLy8gMCBtZWFucyBubyBhdXRvLWRyb3BcbiAgICAgICAgaWYgKHRpbWVvdXRJbk1zIDw9IDApIHJldHVybjtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wVGltZW91dCk7XG4gICAgICAgIHRoaXMuZHJvcFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxlYXZlKHsgcmVhc29uOiAncmluZzogdGltZW91dCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBkcm9wIGNhbGwnLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgcmVjb3JkaW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCBvciBjYWxsIHNlc3Npb24uXG4gICAqXG4gICAqIElmIGBjYWxsU2Vzc2lvbklkYCBpcyBwcm92aWRlZCwgaXQgd2lsbCByZXR1cm4gdGhlIHJlY29yZGluZ3MgZm9yIHRoYXQgY2FsbCBzZXNzaW9uLlxuICAgKiBPdGhlcndpc2UsIGFsbCByZWNvcmRpbmdzIGZvciB0aGUgY3VycmVudCBjYWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU2Vzc2lvbklkIHRoZSBjYWxsIHNlc3Npb24gaWQgdG8gcmV0cmlldmUgcmVjb3JkaW5ncyBmb3IuXG4gICAqL1xuICBxdWVyeVJlY29yZGluZ3MgPSBhc3luYyAoXG4gICAgY2FsbFNlc3Npb25JZD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPiA9PiB7XG4gICAgbGV0IGVuZHBvaW50ID0gdGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aDtcbiAgICBpZiAoY2FsbFNlc3Npb25JZCkge1xuICAgICAgZW5kcG9pbnQgPSBgJHtlbmRwb2ludH0vJHtjYWxsU2Vzc2lvbklkfWA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdFJlY29yZGluZ3NSZXNwb25zZT4oXG4gICAgICBgJHtlbmRwb2ludH0vcmVjb3JkaW5nc2AsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIHRyYW5zY3JpcHRpb25zIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgbGlzdCBvZiB0cmFuc2NyaXB0aW9ucy5cbiAgICovXG4gIHF1ZXJ5VHJhbnNjcmlwdGlvbnMgPSBhc3luYyAoKTogUHJvbWlzZTxMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdHJhbnNjcmlwdGlvbnNgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGNhbGwgc3RhdGlzdGljcyBmb3IgYSBwYXJ0aWN1bGFyIGNhbGwgc2Vzc2lvbiAoaGlzdG9yaWNhbCkuXG4gICAqIEhlcmUgYGNhbGxTZXNzaW9uSURgIGlzIG1hbmRhdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxTZXNzaW9uSUQgdGhlIGNhbGwgc2Vzc2lvbiBJRCB0byByZXRyaWV2ZSBzdGF0aXN0aWNzIGZvci5cbiAgICogQHJldHVybnMgVGhlIGNhbGwgc3RhdHMuXG4gICAqL1xuICBnZXRDYWxsU3RhdHMgPSBhc3luYyAoY2FsbFNlc3Npb25JRDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGF0cy8ke2NhbGxTZXNzaW9uSUR9YDtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxTdGF0c1Jlc3BvbnNlPihlbmRwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCB1c2VyIGZlZWRiYWNrIGZvciB0aGUgY2FsbFxuICAgKlxuICAgKiBAcGFyYW0gcmF0aW5nIFJhdGluZyBiZXR3ZWVuIDEgYW5kIDUgZGVub3RpbmcgdGhlIGV4cGVyaWVuY2Ugb2YgdGhlIHVzZXIgaW4gdGhlIGNhbGxcbiAgICogQHBhcmFtIHJlYXNvbiBUaGUgcmVhc29uL2Rlc2NyaXB0aW9uIGZvciB0aGUgcmF0aW5nXG4gICAqIEBwYXJhbSBjdXN0b20gQ3VzdG9tIGRhdGFcbiAgICogQHJldHVybnNcbiAgICovXG4gIHN1Ym1pdEZlZWRiYWNrID0gYXN5bmMgKFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIHtcbiAgICAgIHJlYXNvbixcbiAgICAgIGN1c3RvbSxcbiAgICB9OiB7XG4gICAgICByZWFzb24/OiBzdHJpbmc7XG4gICAgICBjdXN0b20/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgaWYgKHJhdGluZyA8IDEgfHwgcmF0aW5nID4gNSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYXRpbmcgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDUnKTtcbiAgICB9XG4gICAgY29uc3QgY2FsbFNlc3Npb25JZCA9IHRoaXMuc3RhdGUuc2Vzc2lvbj8uaWQ7XG4gICAgaWYgKCFjYWxsU2Vzc2lvbklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdGZWVkYmFjayBjYW4gYmUgc3VibWl0dGVkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSBjYWxsIHNlc3Npb24nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNka05hbWUsIHNka1ZlcnNpb24sIC4uLnBsYXRmb3JtIH0gPVxuICAgICAgZ2V0U2RrU2lnbmF0dXJlKGdldENsaWVudERldGFpbHMoKSk7XG5cbiAgICAvLyB1c2VyIHNlc3Npb25JZCBpcyBub3QgYXZhaWxhYmxlIG9uY2UgdGhlIGNhbGwgaGFzIGJlZW4gbGVmdFxuICAgIC8vIHVudGlsIHdlIHJlbGF4IHRoZSBiYWNrZW5kIHZhbGlkYXRpb24sIHdlJ2xsIHNlbmQgTi9BXG4gICAgY29uc3QgdXNlclNlc3Npb25JZCA9IHRoaXMuc2Z1Q2xpZW50Py5zZXNzaW9uSWQgPz8gJ04vQSc7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9mZWVkYmFjay8ke2NhbGxTZXNzaW9uSWR9YDtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSxcbiAgICAgIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAgPihlbmRwb2ludCwge1xuICAgICAgcmF0aW5nLFxuICAgICAgcmVhc29uLFxuICAgICAgdXNlcl9zZXNzaW9uX2lkOiB1c2VyU2Vzc2lvbklkLFxuICAgICAgc2RrOiBzZGtOYW1lLFxuICAgICAgc2RrX3ZlcnNpb246IHNka1ZlcnNpb24sXG4gICAgICBjdXN0b206IHtcbiAgICAgICAgLi4uY3VzdG9tLFxuICAgICAgICAneC1zdHJlYW0tcGxhdGZvcm0tZGF0YSc6IHBsYXRmb3JtLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBjdXN0b20gZXZlbnQgdG8gYWxsIGNhbGwgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcGF5bG9hZCB0aGUgcGF5bG9hZCB0byBzZW5kLlxuICAgKi9cbiAgc2VuZEN1c3RvbUV2ZW50ID0gYXN5bmMgKHBheWxvYWQ6IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsIFNlbmRDYWxsRXZlbnRSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2V2ZW50YCxcbiAgICAgIHsgY3VzdG9tOiBwYXlsb2FkIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZGV2aWNlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhcHBseURldmljZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCB0aGlzLmluaXRDYW1lcmEoeyBzZXRTdGF0dXM6IGZhbHNlIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NhbWVyYSBpbml0IGZhaWxlZCcsIGVycik7XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5pbml0TWljKHsgc2V0U3RhdHVzOiBmYWxzZSB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdNaWMgaW5pdCBmYWlsZWQnLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgaW5pdENhbWVyYShvcHRpb25zOiB7IHNldFN0YXR1czogYm9vbGVhbiB9KSB7XG4gICAgLy8gV2FpdCBmb3IgYW55IGluIHByb2dyZXNzIGNhbWVyYSBvcGVyYXRpb25cbiAgICBhd2FpdCB0aGlzLmNhbWVyYS5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLmxvY2FsUGFydGljaXBhbnQ/LnZpZGVvU3RyZWFtIHx8XG4gICAgICAhdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbignc2VuZC12aWRlbycpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0IGNhbWVyYSBkaXJlY3Rpb24gaWYgaXQncyBub3QgeWV0IHNldFxuICAgIGlmICghdGhpcy5jYW1lcmEuc3RhdGUuZGlyZWN0aW9uICYmICF0aGlzLmNhbWVyYS5zdGF0ZS5zZWxlY3RlZERldmljZSkge1xuICAgICAgbGV0IGRlZmF1bHREaXJlY3Rpb246IENhbWVyYURpcmVjdGlvbiA9ICdmcm9udCc7XG4gICAgICBjb25zdCBiYWNrZW5kU2V0dGluZyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M/LnZpZGVvLmNhbWVyYV9mYWNpbmc7XG4gICAgICBpZiAoYmFja2VuZFNldHRpbmcpIHtcbiAgICAgICAgZGVmYXVsdERpcmVjdGlvbiA9IGJhY2tlbmRTZXR0aW5nID09PSAnZnJvbnQnID8gJ2Zyb250JyA6ICdiYWNrJztcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FtZXJhLnN0YXRlLnNldERpcmVjdGlvbihkZWZhdWx0RGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGFyZ2V0IHJlc29sdXRpb25cbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5zdGF0ZS5zZXR0aW5ncz8udmlkZW8udGFyZ2V0X3Jlc29sdXRpb247XG4gICAgaWYgKHRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgIGF3YWl0IHRoaXMuY2FtZXJhLnNlbGVjdFRhcmdldFJlc29sdXRpb24odGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc2V0U3RhdHVzKSB7XG4gICAgICAvLyBQdWJsaXNoIGFscmVhZHkgdGhhdCB3YXMgc2V0IGJlZm9yZSB3ZSBqb2luZWRcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RhdGUuc3RhdHVzID09PSAnZW5hYmxlZCcgJiZcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgICAgIXRoaXMucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcoVHJhY2tUeXBlLlZJREVPKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaFZpZGVvU3RyZWFtKHRoaXMuY2FtZXJhLnN0YXRlLm1lZGlhU3RyZWFtLCB7XG4gICAgICAgICAgcHJlZmVycmVkQ29kZWM6IHRoaXMuY2FtZXJhLnByZWZlcnJlZENvZGVjLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgY2FtZXJhIGlmIGJhY2tlbmQgY29uZmlnIHNwZWNpZmllcywgYW5kIHRoZXJlIGlzIG5vIGxvY2FsIHNldHRpbmdcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXR0aW5ncz8udmlkZW8uY2FtZXJhX2RlZmF1bHRfb25cbiAgICAgICkge1xuICAgICAgICBhd2FpdCB0aGlzLmNhbWVyYS5lbmFibGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRNaWMob3B0aW9uczogeyBzZXRTdGF0dXM6IGJvb2xlYW4gfSkge1xuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBtaWMgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubG9jYWxQYXJ0aWNpcGFudD8uYXVkaW9TdHJlYW0gfHxcbiAgICAgICF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKCdzZW5kLWF1ZGlvJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zZXRTdGF0dXMpIHtcbiAgICAgIC8vIFB1Ymxpc2ggbWVkaWEgc3RyZWFtIHRoYXQgd2FzIHNldCBiZWZvcmUgd2Ugam9pbmVkXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5zdGF0ZS5zdGF0dXMgPT09ICdlbmFibGVkJyAmJlxuICAgICAgICB0aGlzLm1pY3JvcGhvbmUuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgICAgIXRoaXMucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcoVHJhY2tUeXBlLkFVRElPKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaEF1ZGlvU3RyZWFtKHRoaXMubWljcm9waG9uZS5zdGF0ZS5tZWRpYVN0cmVhbSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0IG1pYyBpZiBiYWNrZW5kIGNvbmZpZyBzcGVjaWZpZXMsIGFuZCB0aGVyZSBpcyBubyBsb2NhbCBzZXR0aW5nXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLnN0YXRlLnNldHRpbmdzPy5hdWRpby5taWNfZGVmYXVsdF9vblxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubWljcm9waG9uZS5lbmFibGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBiZWdpbiB0cmFja2luZyB0aGUgZ2l2ZW4gZWxlbWVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VzIHdpdGhpbiB0aGVcbiAgICogY29uZmlndXJlZCB2aWV3cG9ydCBlbGVtZW50IChgY2FsbC5zZXRWaWV3cG9ydGApLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byB0cmFjay5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdmlkZW8gbW9kZS5cbiAgICovXG4gIHRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgICBlbGVtZW50OiBULFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eShcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgdmlld3BvcnQgZWxlbWVudCB0byB0cmFjayBib3VuZCB2aWRlbyBlbGVtZW50cyBmb3IgdmlzaWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIHZpZXdwb3J0IGVsZW1lbnQuXG4gICAqL1xuICBzZXRWaWV3cG9ydCA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KGVsZW1lbnQ6IFQpID0+IHtcbiAgICByZXR1cm4gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZXdwb3J0KGVsZW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8dmlkZW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBwbGF5XG4gICAqIHRoZSBjb3JyZWN0IHZpZGVvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFVuZGVyIHRoZSBob29kLCBpdCB3b3VsZCBhbHNvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICAgKiBhbmQgdXBkYXRlIHRoZSBzdWJzY3JpcHRpb24gYWNjb3JkaW5nbHkgaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aC5cbiAgICpcbiAgICogSWYgYSBcInZpZXdwb3J0XCIgaXMgY29uZmlndXJlZCwgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAqIHRyYWNrZWQgZm9yIHZpc2liaWxpdHkgYW5kIHRoZSBzdWJzY3JpcHRpb24gd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdmlkZW9FbGVtZW50IHRoZSB2aWRlbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqL1xuICBiaW5kVmlkZW9FbGVtZW50ID0gKFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZFZpZGVvRWxlbWVudChcbiAgICAgIHZpZGVvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGF1ZGlvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBlbGVtZW50IHdpbGxcbiAgICogcGxheSB0aGUgY29ycmVjdCBhdWRpbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9FbGVtZW50IHRoZSBhdWRpbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgYXVkaW8uXG4gICAqL1xuICBiaW5kQXVkaW9FbGVtZW50ID0gKFxuICAgIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IEF1ZGlvVHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZEF1ZGlvRWxlbWVudChcbiAgICAgIGF1ZGlvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGltZz4gZWxlbWVudCB0byB0aGlzIGNhbGwncyB0aHVtYm5haWwgKGlmIGVuYWJsZWQgaW4gc2V0dGluZ3MpLlxuICAgKlxuICAgKiBAcGFyYW0gaW1hZ2VFbGVtZW50IHRoZSBpbWFnZSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBvcHRzIG9wdGlvbnMgZm9yIHRoZSBiaW5kaW5nLlxuICAgKi9cbiAgYmluZENhbGxUaHVtYm5haWxFbGVtZW50ID0gKFxuICAgIGltYWdlRWxlbWVudDogSFRNTEltYWdlRWxlbWVudCxcbiAgICBvcHRzOiB7XG4gICAgICBmYWxsYmFja0ltYWdlU291cmNlPzogc3RyaW5nO1xuICAgIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoKSA9PiB7XG4gICAgICBpbWFnZUVsZW1lbnQuc3JjID1cbiAgICAgICAgb3B0cy5mYWxsYmFja0ltYWdlU291cmNlIHx8XG4gICAgICAgICdodHRwczovL2dldHN0cmVhbS5pby9yYW5kb21fc3ZnLz9uYW1lPXgmaWQ9eCc7XG4gICAgfTtcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgdGhpcy5zdGF0ZS50aHVtYm5haWxzJCxcbiAgICAgICh0aHVtYm5haWxzKSA9PiB7XG4gICAgICAgIGlmICghdGh1bWJuYWlscykgcmV0dXJuO1xuICAgICAgICBpbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG5cbiAgICAgICAgY29uc3QgdGh1bWJuYWlsVXJsID0gbmV3IFVSTCh0aHVtYm5haWxzLmltYWdlX3VybCk7XG4gICAgICAgIHRodW1ibmFpbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd3JywgU3RyaW5nKGltYWdlRWxlbWVudC5jbGllbnRXaWR0aCkpO1xuICAgICAgICB0aHVtYm5haWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnaCcsIFN0cmluZyhpbWFnZUVsZW1lbnQuY2xpZW50SGVpZ2h0KSk7XG5cbiAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRodW1ibmFpbFVybC50b1N0cmluZygpO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBpbWFnZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG4gICAgfTtcbiAgfTtcbn1cbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBTdGFibGVXU0Nvbm5lY3Rpb24gfSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgcmFuZG9tSWQsIHNsZWVwIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIEluc2lnaHRUeXBlcyA9XG4gIHwgJ3dzX2ZhdGFsJ1xuICB8ICd3c19zdWNjZXNzX2FmdGVyX2ZhaWx1cmUnXG4gIHwgJ2h0dHBfaGlfZmFpbGVkJztcbmV4cG9ydCBjbGFzcyBJbnNpZ2h0TWV0cmljcyB7XG4gIGNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcDogbnVtYmVyIHwgbnVsbDtcbiAgd3NDb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIHdzVG90YWxGYWlsdXJlczogbnVtYmVyO1xuICBpbnN0YW5jZUNsaWVudElkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAgPSBudWxsO1xuICAgIHRoaXMud3NUb3RhbEZhaWx1cmVzID0gMDtcbiAgICB0aGlzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgdGhpcy5pbnN0YW5jZUNsaWVudElkID0gcmFuZG9tSWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIHBvc3RJbnNpZ2h0cyBpcyBub3Qgc3VwcG9zZWQgdG8gYmUgdXNlZCBieSBlbmQgdXNlcnMgZGlyZWN0bHkgd2l0aGluIGNoYXQgYXBwbGljYXRpb24sIGFuZCB0aHVzIGlzIGtlcHQgaXNvbGF0ZWRcbiAqIGZyb20gYWxsIHRoZSBjbGllbnQvY29ubmVjdGlvbiBjb2RlL2xvZ2ljLlxuICpcbiAqIEBwYXJhbSBpbnNpZ2h0VHlwZVxuICogQHBhcmFtIGluc2lnaHRzXG4gKi9cbmV4cG9ydCBjb25zdCBwb3N0SW5zaWdodHMgPSBhc3luYyAoXG4gIGluc2lnaHRUeXBlOiBJbnNpZ2h0VHlwZXMsXG4gIGluc2lnaHRzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbikgPT4ge1xuICBjb25zdCBtYXhBdHRlbXB0cyA9IDM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4QXR0ZW1wdHM7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICBgaHR0cHM6Ly9jaGF0LWluc2lnaHRzLmdldHN0cmVhbS5pby9pbnNpZ2h0cy8ke2luc2lnaHRUeXBlfWAsXG4gICAgICAgIGluc2lnaHRzLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBhd2FpdCBzbGVlcCgoaSArIDEpICogMzAwMCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFdzRmF0YWxJbnNpZ2h0KFxuICBjb25uZWN0aW9uOiBTdGFibGVXU0Nvbm5lY3Rpb24sXG4gIGV2ZW50OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbikge1xuICByZXR1cm4ge1xuICAgIC4uLmV2ZW50LFxuICAgIC4uLmJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRXc0Jhc2VJbnNpZ2h0KGNvbm5lY3Rpb246IFN0YWJsZVdTQ29ubmVjdGlvbikge1xuICBjb25zdCB7IGNsaWVudCB9ID0gY29ubmVjdGlvbjtcbiAgcmV0dXJuIHtcbiAgICByZWFkeV9zdGF0ZTogY29ubmVjdGlvbi53cz8ucmVhZHlTdGF0ZSxcbiAgICB1cmw6IGNvbm5lY3Rpb24uX2J1aWxkVXJsKCksXG4gICAgYXBpX2tleTogY2xpZW50LmtleSxcbiAgICBzdGFydF90czogY2xpZW50Lmluc2lnaHRNZXRyaWNzLmNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCxcbiAgICBlbmRfdHM6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGF1dGhfdHlwZTogY2xpZW50LmdldEF1dGhUeXBlKCksXG4gICAgdG9rZW46IGNsaWVudC50b2tlbk1hbmFnZXIudG9rZW4sXG4gICAgdXNlcl9pZDogY2xpZW50LnVzZXJJRCxcbiAgICB1c2VyX2RldGFpbHM6IGNsaWVudC5fdXNlcixcbiAgICAvLyBkZXZpY2U6IGNsaWVudC5vcHRpb25zLmRldmljZSxcbiAgICBkZXZpY2U6ICdicm93c2VyJyxcbiAgICBjbGllbnRfaWQ6IGNvbm5lY3Rpb24uY29ubmVjdGlvbklELFxuICAgIHdzX2RldGFpbHM6IGNvbm5lY3Rpb24ud3MsXG4gICAgd3NfY29uc2VjdXRpdmVfZmFpbHVyZXM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMsXG4gICAgd3NfdG90YWxfZmFpbHVyZXM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy53c1RvdGFsRmFpbHVyZXMsXG4gICAgcmVxdWVzdF9pZDogY29ubmVjdGlvbi5yZXF1ZXN0SUQsXG4gICAgb25saW5lOiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvcj8ub25MaW5lIDogbnVsbCxcbiAgICB1c2VyX2FnZW50OiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvcj8udXNlckFnZW50IDogbnVsbCxcbiAgICBpbnN0YW5jZV9jbGllbnRfaWQ6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5pbnN0YW5jZUNsaWVudElkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0KFxuICBjb25uZWN0aW9uOiBTdGFibGVXU0Nvbm5lY3Rpb24sXG4pIHtcbiAgcmV0dXJuIGJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uKTtcbn1cbiIsImltcG9ydCBXZWJTb2NrZXQgZnJvbSAnaXNvbW9ycGhpYy13cyc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQge1xuICBidWlsZFdzRmF0YWxJbnNpZ2h0LFxuICBidWlsZFdzU3VjY2Vzc0FmdGVyRmFpbHVyZUluc2lnaHQsXG4gIHBvc3RJbnNpZ2h0cyxcbn0gZnJvbSAnLi9pbnNpZ2h0cyc7XG5pbXBvcnQge1xuICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIGNvbnZlcnRFcnJvclRvSnNvbixcbiAgS25vd25Db2RlcyxcbiAgcmFuZG9tSWQsXG4gIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgcmV0cnlJbnRlcnZhbCxcbiAgc2xlZXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0QVBJUmVzcG9uc2UsXG4gIExvZ0xldmVsLFxuICBTdHJlYW1WaWRlb0V2ZW50LFxuICBVUixcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbm5lY3RlZEV2ZW50LCBXU0F1dGhNZXNzYWdlIH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuLy8gVHlwZSBndWFyZHMgdG8gY2hlY2sgV2ViU29ja2V0IGVycm9yIHR5cGVcbmNvbnN0IGlzQ2xvc2VFdmVudCA9IChcbiAgcmVzOiBXZWJTb2NrZXQuQ2xvc2VFdmVudCB8IFdlYlNvY2tldC5EYXRhIHwgV2ViU29ja2V0LkVycm9yRXZlbnQsXG4pOiByZXMgaXMgV2ViU29ja2V0LkNsb3NlRXZlbnQgPT5cbiAgKHJlcyBhcyBXZWJTb2NrZXQuQ2xvc2VFdmVudCkuY29kZSAhPT0gdW5kZWZpbmVkO1xuXG5jb25zdCBpc0Vycm9yRXZlbnQgPSAoXG4gIHJlczogV2ViU29ja2V0LkNsb3NlRXZlbnQgfCBXZWJTb2NrZXQuRGF0YSB8IFdlYlNvY2tldC5FcnJvckV2ZW50LFxuKTogcmVzIGlzIFdlYlNvY2tldC5FcnJvckV2ZW50ID0+XG4gIChyZXMgYXMgV2ViU29ja2V0LkVycm9yRXZlbnQpLmVycm9yICE9PSB1bmRlZmluZWQ7XG5cbi8qKlxuICogU3RhYmxlV1NDb25uZWN0aW9uIC0gQSBXUyBjb25uZWN0aW9uIHRoYXQgcmVjb25uZWN0cyB1cG9uIGZhaWx1cmUuXG4gKiAtIHRoZSBicm93c2VyIHdpbGwgc29tZXRpbWVzIHJlcG9ydCB0aGF0IHlvdSdyZSBvbmxpbmUgb3Igb2ZmbGluZVxuICogLSB0aGUgV1MgY29ubmVjdGlvbiBjYW4gYnJlYWsgYW5kIGZhaWwgKHRoZXJlIGlzIGEgMzBzIGhlYWx0aCBjaGVjaylcbiAqIC0gc29tZXRpbWVzIHlvdXIgV1MgY29ubmVjdGlvbiB3aWxsIHNlZW0gdG8gd29yayB3aGlsZSB0aGUgdXNlciBpcyBpbiBmYWN0IG9mZmxpbmVcbiAqIC0gdG8gc3BlZWQgdXAgb25saW5lL29mZmxpbmUgZGV0ZWN0aW9uIHlvdSBjYW4gdXNlIHRoZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScpO1xuICpcbiAqIFRoZXJlIGFyZSA0IHdheXMgaW4gd2hpY2ggYSBjb25uZWN0aW9uIGNhbiBiZWNvbWUgdW5oZWFsdGh5OlxuICogLSB3ZWJzb2NrZXQub25lcnJvciBpcyBjYWxsZWRcbiAqIC0gd2Vic29ja2V0Lm9uY2xvc2UgaXMgY2FsbGVkXG4gKiAtIHRoZSBoZWFsdGggY2hlY2sgZmFpbHMgYW5kIG5vIGV2ZW50IGlzIHJlY2VpdmVkIGZvciB+NDAgc2Vjb25kc1xuICogLSB0aGUgYnJvd3NlciBpbmRpY2F0ZXMgdGhlIGNvbm5lY3Rpb24gaXMgbm93IG9mZmxpbmVcbiAqXG4gKiBUaGVyZSBhcmUgMiBhc3N1bXB0aW9ucyB3ZSBtYWtlIGFib3V0IHRoZSBzZXJ2ZXI6XG4gKiAtIHN0YXRlIGNhbiBiZSByZWNvdmVyZWQgYnkgcXVlcnlpbmcgdGhlIGNoYW5uZWwgYWdhaW5cbiAqIC0gaWYgdGhlIHNlcnZlcnMgZmFpbHMgdG8gcHVibGlzaCBhIG1lc3NhZ2UgdG8gdGhlIGNsaWVudCwgdGhlIFdTIGNvbm5lY3Rpb24gaXMgZGVzdHJveWVkXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFibGVXU0Nvbm5lY3Rpb24ge1xuICAvLyBsb2NhbCB2YXJzXG4gIGNvbm5lY3Rpb25JRD86IHN0cmluZztcbiAgY29ubmVjdGlvbk9wZW4/OiBDb25uZWN0QVBJUmVzcG9uc2U7XG4gIGF1dGhlbnRpY2F0aW9uU2VudDogYm9vbGVhbjtcbiAgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyO1xuICBwaW5nSW50ZXJ2YWw6IG51bWJlcjtcbiAgaGVhbHRoQ2hlY2tUaW1lb3V0UmVmPzogTm9kZUpTLlRpbWVvdXQ7XG4gIGlzQ29ubmVjdGluZzogYm9vbGVhbjtcbiAgaXNEaXNjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIGlzSGVhbHRoeTogYm9vbGVhbjtcbiAgaXNSZXNvbHZlZD86IGJvb2xlYW47XG4gIGxhc3RFdmVudDogRGF0ZSB8IG51bGw7XG4gIGNvbm5lY3Rpb25DaGVja1RpbWVvdXQ6IG51bWJlcjtcbiAgY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZj86IE5vZGVKUy5UaW1lb3V0O1xuICByZWplY3RQcm9taXNlPzogKFxuICAgIHJlYXNvbj86IEVycm9yICYge1xuICAgICAgY29kZT86IHN0cmluZyB8IG51bWJlcjtcbiAgICAgIGlzV1NGYWlsdXJlPzogYm9vbGVhbjtcbiAgICAgIFN0YXR1c0NvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgfSxcbiAgKSA9PiB2b2lkO1xuICByZXF1ZXN0SUQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVzb2x2ZVByb21pc2U/OiAodmFsdWU6IENvbm5lY3RlZEV2ZW50KSA9PiB2b2lkO1xuICB0b3RhbEZhaWx1cmVzOiBudW1iZXI7XG4gIHdzPzogV2ViU29ja2V0O1xuICB3c0lEOiBudW1iZXI7XG5cbiAgY2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBTdHJlYW1DbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAvKiogY29uc2VjdXRpdmUgZmFpbHVyZXMgaW5mbHVlbmNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgdGltZW91dCAqL1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBmYWlsdXJlcyAqL1xuICAgIHRoaXMudG90YWxGYWlsdXJlcyA9IDA7XG4gICAgLyoqIFdlIG9ubHkgbWFrZSAxIGF0dGVtcHQgdG8gcmVjb25uZWN0IGF0IHRoZSBzYW1lIHRpbWUuLiAqL1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgLyoqIFRydWUgYWZ0ZXIgdGhlIGF1dGggcGF5bG9hZCBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIgKi9cbiAgICB0aGlzLmF1dGhlbnRpY2F0aW9uU2VudCA9IGZhbHNlO1xuICAgIC8qKiBUbyBhdm9pZCByZWNvbm5lY3QgaWYgY2xpZW50IGlzIGRpc2Nvbm5lY3RlZCAqL1xuICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAvKiogQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgY29ubmVjdGlvbiBwcm9taXNlIGlzIHJlc29sdmVkICovXG4gICAgdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgd2UgaGF2ZSBhIHdvcmtpbmcgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyICovXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAvKiogSW5jcmVtZW50ZWQgd2hlbiBhIG5ldyBXUyBjb25uZWN0aW9uIGlzIG1hZGUgKi9cbiAgICB0aGlzLndzSUQgPSAxO1xuICAgIC8qKiBTdG9yZSB0aGUgbGFzdCBldmVudCB0aW1lIGZvciBoZWFsdGggY2hlY2tzICovXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBudWxsO1xuICAgIC8qKiBTZW5kIGEgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgZXZlcnkgMjUgc2Vjb25kcyAqL1xuICAgIHRoaXMucGluZ0ludGVydmFsID0gMjUgKiAxMDAwO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHRoaXMucGluZ0ludGVydmFsICsgMTAgKiAxMDAwO1xuXG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfbG9nID0gKG1zZzogc3RyaW5nLCBleHRyYTogVVIgPSB7fSwgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nKSA9PiB7XG4gICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCAnY29ubmVjdGlvbjonICsgbXNnLCB7XG4gICAgICAuLi5leHRyYSxcbiAgICB9KTtcbiAgfTtcblxuICBzZXRDbGllbnQgPSAoY2xpZW50OiBTdHJlYW1DbGllbnQpID0+IHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgfTtcblxuICAvKipcbiAgICogY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIFVSTFxuICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENvbm5lY3RlZEV2ZW50Pn0gUHJvbWlzZSB0aGF0IGNvbXBsZXRlcyBvbmNlIHRoZSBmaXJzdCBoZWFsdGggY2hlY2sgbWVzc2FnZSBpcyByZWNlaXZlZFxuICAgKi9cbiAgYXN5bmMgY29ubmVjdCh0aW1lb3V0ID0gMTUwMDApIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBgWW91J3ZlIGNhbGxlZCBjb25uZWN0IHR3aWNlLCBjYW4gb25seSBhdHRlbXB0IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBoZWFsdGhDaGVjayA9IGF3YWl0IHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGNvbm5lY3QoKSAtIEVzdGFibGlzaGVkIHdzIGNvbm5lY3Rpb24gd2l0aCBoZWFsdGhjaGVjazogJHtoZWFsdGhDaGVja31gLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICBpZiAoXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoIWVycm9yLmlzV1NGYWlsdXJlKSB7XG4gICAgICAgICAgLy8gQVBJIHJlamVjdGVkIHRoZSBjb25uZWN0aW9uIGFuZCB3ZSBzaG91bGQgbm90IHJldHJ5XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgU3RhdHVzQ29kZTogZXJyb3IuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBlcnJvci5pc1dTRmFpbHVyZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fd2FpdEZvckhlYWx0aHkodGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogX3dhaXRGb3JIZWFsdGh5IHBvbGxzIHRoZSBwcm9taXNlIGNvbm5lY3Rpb24gdG8gc2VlIGlmIGl0cyByZXNvbHZlZCB1bnRpbCBpdCB0aW1lcyBvdXRcbiAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAqIEBwYXJhbSB0aW1lb3V0IGR1cmF0aW9uKG1zKVxuICAgKi9cbiAgYXN5bmMgX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQgPSAxNTAwMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSA1MDsgLy8gbXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGltZW91dDsgaSArPSBpbnRlcnZhbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0aW9uT3BlbjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdGltZW91dCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICAgICAgICAgIFN0YXR1c0NvZGU6IGVycm9yLlN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IGVycm9yLmlzV1NGYWlsdXJlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoaW50ZXJ2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkoKSxcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHNsZWVwKHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICBTdGF0dXNDb2RlOiAnJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdpbml0aWFsIFdTIGNvbm5lY3Rpb24gY291bGQgbm90IGJlIGVzdGFibGlzaGVkJyxcbiAgICAgICAgICAgIGlzV1NGYWlsdXJlOiB0cnVlLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfSkoKSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIHJldHVybnMgdGhlIHVybCBmb3Igd2Vic29ja2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB1cmwgc3RyaW5nXG4gICAqL1xuICBfYnVpbGRVcmwgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIC8vIGNvbnN0IHFzID0gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY2xpZW50Ll9idWlsZFdTUGF5bG9hZCh0aGlzLnJlcXVlc3RJRCkpO1xuICAgIC8vIHBhcmFtcy5zZXQoJ2pzb24nLCBxcyk7XG4gICAgcGFyYW1zLnNldCgnYXBpX2tleScsIHRoaXMuY2xpZW50LmtleSk7XG4gICAgcGFyYW1zLnNldCgnc3RyZWFtLWF1dGgtdHlwZScsIHRoaXMuY2xpZW50LmdldEF1dGhUeXBlKCkpO1xuICAgIHBhcmFtcy5zZXQoJ1gtU3RyZWFtLUNsaWVudCcsIHRoaXMuY2xpZW50LmdldFVzZXJBZ2VudCgpKTtcbiAgICAvLyBwYXJhbXMuYXBwZW5kKCdhdXRob3JpemF0aW9uJywgdGhpcy5jbGllbnQuX2dldFRva2VuKCkhKTtcblxuICAgIHJldHVybiBgJHt0aGlzLmNsaWVudC53c0Jhc2VVUkx9L2Nvbm5lY3Q/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuICB9O1xuXG4gIC8qKlxuICAgKiBkaXNjb25uZWN0IC0gRGlzY29ubmVjdCB0aGUgY29ubmVjdGlvbiBhbmQgZG9lc24ndCByZWNvdmVyLi4uXG4gICAqXG4gICAqL1xuICBkaXNjb25uZWN0KHRpbWVvdXQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLl9sb2coXG4gICAgICBgZGlzY29ubmVjdCgpIC0gQ2xvc2luZyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIHdzSUQgJHt0aGlzLndzSUR9YCxcbiAgICApO1xuXG4gICAgdGhpcy53c0lEICs9IDE7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gdHJ1ZTtcblxuICAgIC8vIHN0YXJ0IGJ5IHJlbW92aW5nIGFsbCB0aGUgbGlzdGVuZXJzXG4gICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcblxuICAgIC8vIHJlbW92ZSB3cyBoYW5kbGVycy4uLlxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVtb3ZlQWxsTGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIGxldCBpc0Nsb3NlZFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gICAgLy8gYW5kIGZpbmFsbHkgY2xvc2UuLi5cbiAgICAvLyBBc3NpZ25pbmcgdG8gbG9jYWwgaGVyZSBiZWNhdXNlIHdlIHdpbGwgcmVtb3ZlIGl0IGZyb20gdGhpcyBiZWZvcmUgdGhlXG4gICAgLy8gcHJvbWlzZSByZXNvbHZlcy5cbiAgICBjb25zdCB7IHdzIH0gPSB0aGlzO1xuICAgIGlmICh3cyAmJiB3cy5jbG9zZSAmJiB3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOKSB7XG4gICAgICBpc0Nsb3NlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCBvbmNsb3NlID0gKGV2ZW50OiBXZWJTb2NrZXQuQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAgIGBkaXNjb25uZWN0KCkgLSByZXNvbHZpbmcgaXNDbG9zZWRQcm9taXNlICR7XG4gICAgICAgICAgICAgIGV2ZW50ID8gJ3dpdGgnIDogJ3dpdGhvdXQnXG4gICAgICAgICAgICB9IGNsb3NlIGZyYW1lYCxcbiAgICAgICAgICAgIHsgZXZlbnQgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB3cy5vbmNsb3NlID0gb25jbG9zZTtcbiAgICAgICAgLy8gSW4gY2FzZSB3ZSBkb24ndCByZWNlaXZlIGNsb3NlIGZyYW1lIHdlYnNvY2tldCBzZXJ2ZXIgaW4gdGltZSxcbiAgICAgICAgLy8gbGV0cyBub3Qgd2FpdCBmb3IgbW9yZSB0aGFuIDEgc2Vjb25kLlxuICAgICAgICBzZXRUaW1lb3V0KG9uY2xvc2UsIHRpbWVvdXQgIT0gbnVsbCA/IHRpbWVvdXQgOiAxMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBkaXNjb25uZWN0KCkgLSBNYW51YWxseSBjbG9zZWQgY29ubmVjdGlvbiBieSBjYWxsaW5nIGNsaWVudC5kaXNjb25uZWN0KClgLFxuICAgICAgKTtcblxuICAgICAgd3MuY2xvc2UoXG4gICAgICAgIEtub3duQ29kZXMuV1NfQ0xPU0VEX1NVQ0NFU1MsXG4gICAgICAgICdNYW51YWxseSBjbG9zZWQgY29ubmVjdGlvbiBieSBjYWxsaW5nIGNsaWVudC5kaXNjb25uZWN0KCknLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgZGlzY29ubmVjdCgpIC0gd3MgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0IG9yIGl0IGlzIGFscmVhZHkgY2xvc2VkLmAsXG4gICAgICApO1xuICAgICAgaXNDbG9zZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMud3M7XG5cbiAgICByZXR1cm4gaXNDbG9zZWRQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIF9jb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgZW5kcG9pbnRcbiAgICpcbiAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENvbm5lY3RlZEV2ZW50Pn0gUHJvbWlzZSB0aGF0IGNvbXBsZXRlcyBvbmNlIHRoZSBmaXJzdCBoZWFsdGggY2hlY2sgbWVzc2FnZSBpcyByZWNlaXZlZFxuICAgKi9cbiAgYXN5bmMgX2Nvbm5lY3QoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgfHxcbiAgICAgICh0aGlzLmlzRGlzY29ubmVjdGVkICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjaylcbiAgICApXG4gICAgICByZXR1cm47IC8vIHNpbXBseSBpZ25vcmUgX2Nvbm5lY3QgaWYgaXQncyBjdXJyZW50bHkgdHJ5aW5nIHRvIGNvbm5lY3RcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IHRydWU7XG4gICAgdGhpcy5yZXF1ZXN0SUQgPSByYW5kb21JZCgpO1xuICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLmNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGxldCBpc1Rva2VuUmVhZHkgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gd2FpdGluZyBmb3IgdG9rZW5gKTtcbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnRva2VuTWFuYWdlci50b2tlblJlYWR5KCk7XG4gICAgICBpc1Rva2VuUmVhZHkgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHRva2VuIHByb3ZpZGVyIGhhcyBmYWlsZWQgYmVmb3JlLCBzbyB0cnkgYWdhaW5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKCFpc1Rva2VuUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgIGBfY29ubmVjdCgpIC0gdG9rZW5Qcm92aWRlciBmYWlsZWQgYmVmb3JlLCBzbyBnb2luZyB0byByZXRyeWAsXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5sb2FkVG9rZW4oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uUHJvbWlzZSgpO1xuICAgICAgY29uc3Qgd3NVUkwgPSB0aGlzLl9idWlsZFVybCgpO1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gQ29ubmVjdGluZyB0byAke3dzVVJMfWAsIHtcbiAgICAgICAgd3NVUkwsXG4gICAgICAgIHJlcXVlc3RJRDogdGhpcy5yZXF1ZXN0SUQsXG4gICAgICB9KTtcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVVJMKTtcbiAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbm9wZW4uYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy5vbmNsb3NlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMub25lcnJvci5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uT3BlbjtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JRCA9IHJlc3BvbnNlLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgIHRoaXMuY2xpZW50LnJlc29sdmVDb25uZWN0aW9uSWQ/Lih0aGlzLmNvbm5lY3Rpb25JRCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPiAwICYmXG4gICAgICAgICAgdGhpcy5jbGllbnQub3B0aW9ucy5lbmFibGVJbnNpZ2h0c1xuICAgICAgICApIHtcbiAgICAgICAgICBwb3N0SW5zaWdodHMoXG4gICAgICAgICAgICAnd3Nfc3VjY2Vzc19hZnRlcl9mYWlsdXJlJyxcbiAgICAgICAgICAgIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodChcbiAgICAgICAgICAgICAgdGhpcyBhcyB1bmtub3duIGFzIFN0YWJsZVdTQ29ubmVjdGlvbixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSBFcnJvciAtIGAsIGVycik7XG4gICAgICBpZiAodGhpcy5jbGllbnQub3B0aW9ucy5lbmFibGVJbnNpZ2h0cykge1xuICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMrKztcbiAgICAgICAgdGhpcy5jbGllbnQuaW5zaWdodE1ldHJpY3Mud3NUb3RhbEZhaWx1cmVzKys7XG5cbiAgICAgICAgY29uc3QgaW5zaWdodHMgPSBidWlsZFdzRmF0YWxJbnNpZ2h0KFxuICAgICAgICAgIHRoaXMgYXMgdW5rbm93biBhcyBTdGFibGVXU0Nvbm5lY3Rpb24sXG4gICAgICAgICAgY29udmVydEVycm9yVG9Kc29uKGVyciBhcyBFcnJvciksXG4gICAgICAgICk7XG4gICAgICAgIHBvc3RJbnNpZ2h0cz8uKCd3c19mYXRhbCcsIGluc2lnaHRzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xpZW50LnJlamVjdENvbm5lY3Rpb25JZD8uKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9yZWNvbm5lY3QgLSBSZXRyeSB0aGUgY29ubmVjdGlvbiB0byBXUyBlbmRwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge3sgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfX0gb3B0aW9ucyBGb2xsb3dpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxlXG4gICAqXG4gICAqIC0gYGludGVydmFsYFx0e2ludH1cdFx0XHRudW1iZXIgb2YgbXMgdGhhdCBmdW5jdGlvbiBzaG91bGQgd2FpdCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAqIC0gYHJlZnJlc2hUb2tlbmAge2Jvb2xlYW59XHRyZWxvYWQvcmVmcmVzaCB1c2VyIHRva2VuIGJlIHJlZnJlc2hlZCBiZWZvcmUgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uXG4gICAqL1xuICBhc3luYyBfcmVjb25uZWN0KFxuICAgIG9wdGlvbnM6IHsgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfSA9IHt9LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEluaXRpYXRpbmcgdGhlIHJlY29ubmVjdCcpO1xuXG4gICAgLy8gb25seSBhbGxvdyAxIGNvbm5lY3Rpb24gYXQgdGhlIHRpbWVcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDEpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVjb25uZWN0IGluIGNhc2Ugb2Ygb24gZXJyb3Igb3Igb24gY2xvc2VcbiAgICAvLyBhbHNvIHJlY29ubmVjdCBpZiB0aGUgaGVhbHRoIGNoZWNrIGN5Y2xlIGZhaWxzXG4gICAgbGV0IGludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbDtcbiAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICBpbnRlcnZhbCA9IHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKTtcbiAgICB9XG4gICAgLy8gcmVjb25uZWN0LCBvciB0cnkgYWdhaW4gYWZ0ZXIgYSBsaXR0bGUgd2hpbGUuLi5cbiAgICBhd2FpdCBzbGVlcChpbnRlcnZhbCk7XG5cbiAgICAvLyBDaGVjayBvbmNlIGFnYWluIGlmIGJ5IHNvbWUgb3RoZXIgY2FsbCB0byBfcmVjb25uZWN0IGlzIGFjdGl2ZSBvciBjb25uZWN0aW9uIGlzXG4gICAgLy8gYWxyZWFkeSByZXN0b3JlZCwgdGhlbiBubyBuZWVkIHRvIHByb2NlZWQuXG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgyKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRGlzY29ubmVjdGVkICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjaykge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMykgc2luY2UgZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRGVzdHJveWluZyBjdXJyZW50IFdTIGNvbm5lY3Rpb24nKTtcblxuICAgIC8vIGNsZWFudXAgdGhlIG9sZCBjb25uZWN0aW9uXG4gICAgdGhpcy5fZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKTtcblxuICAgIGlmIChvcHRpb25zLnJlZnJlc2hUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9jb25uZWN0KCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdhaXRpbmcgZm9yIHJlY292ZXJDYWxsQmFjaycpO1xuICAgICAgLy8gYXdhaXQgdGhpcy5jbGllbnQucmVjb3ZlclN0YXRlKCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEZpbmlzaGVkIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIGlmIChcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnX3JlY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyByZWNvbm5lY3Qgb24gV1MgZmFpbHVyZXMsIGRvbid0IHJlY29ubmVjdCBpZiB0aGVyZSBpcyBhIGNvZGUgYnVnXG4gICAgICBpZiAoZXJyb3IuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlLCBzbyBnb2luZyB0byB0cnkgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gPT0gRU5EID09Jyk7XG4gIH1cblxuICAvKipcbiAgICogb25saW5lU3RhdHVzQ2hhbmdlZCAtIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGJyb3dzZXIgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMgZnJvbSB0aGUgaW50ZXJuZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IHdpdGggdHlwZSBvbmxpbmUgb3Igb2ZmbGluZVxuICAgKlxuICAgKi9cbiAgb25saW5lU3RhdHVzQ2hhbmdlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICAvLyBtYXJrIHRoZSBjb25uZWN0aW9uIGFzIGRvd25cbiAgICAgIHRoaXMuX2xvZygnb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9mZmxpbmUnKTtcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgYXBwIGlzIG9mZmxpbmUgc28gZGlzcGF0Y2ggdGhlIHVuaGVhbHRoeSBjb25uZWN0aW9uIGV2ZW50IGltbWVkaWF0ZWx5XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgIC8vIHJldHJ5IHJpZ2h0IG5vdy4uLlxuICAgICAgLy8gV2UgY2hlY2sgdGhpcy5pc0hlYWx0aHksIG5vdCBzdXJlIGlmIGl0J3MgYWx3YXlzXG4gICAgICAvLyBzbWFydCB0byBjcmVhdGUgYSBuZXcgV1MgY29ubmVjdGlvbiBpZiB0aGUgb2xkIG9uZSBpcyBzdGlsbCB1cCBhbmQgcnVubmluZy5cbiAgICAgIC8vIGl0J3MgcG9zc2libGUgd2UgZGlkbid0IG1pc3MgYW55IG1lc3NhZ2VzLCBzbyB0aGlzIHByb2Nlc3MgaXMganVzdCBleHBlbnNpdmUgYW5kIG5vdCBuZWVkZWQuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb25saW5lLiBpc0hlYWx0aHk6ICR7dGhpcy5pc0hlYWx0aHl9YCxcbiAgICAgICk7XG4gICAgICBpZiAoIXRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdCh7IGludGVydmFsOiAxMCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb25vcGVuID0gKHdzSUQ6IG51bWJlcikgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmNsaWVudC51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBVc2VyIG5vdCBzZXQsIGNhbid0IGNvbm5lY3QgdG8gV1NgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXMuY2xpZW50Ll9nZXRUb2tlbigpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRoaXMuY2xpZW50LmxvZ2dlcignZXJyb3InLCBgVG9rZW4gbm90IHNldCwgY2FuJ3QgY29ubmVjdCBhdXRoZW50aWNhdGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRoTWVzc2FnZTogV1NBdXRoTWVzc2FnZSA9IHtcbiAgICAgIHRva2VuLFxuICAgICAgdXNlcl9kZXRhaWxzOiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxuICAgICAgICBjdXN0b206IHVzZXIuY3VzdG9tLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5hdXRoZW50aWNhdGlvblNlbnQgPSB0cnVlO1xuICAgIHRoaXMud3M/LnNlbmQoSlNPTi5zdHJpbmdpZnkoYXV0aE1lc3NhZ2UpKTtcbiAgICB0aGlzLl9sb2coJ29ub3BlbigpIC0gb25vcGVuIGNhbGxiYWNrJywgeyB3c0lEIH0pO1xuICB9O1xuXG4gIG9ubWVzc2FnZSA9ICh3c0lEOiBudW1iZXIsIGV2ZW50OiBXZWJTb2NrZXQuTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fbG9nKCdvbm1lc3NhZ2UoKSAtIG9ubWVzc2FnZSBjYWxsYmFjaycsIHsgZXZlbnQsIHdzSUQgfSk7XG4gICAgY29uc3QgZGF0YSA9XG4gICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyAoSlNPTi5wYXJzZShldmVudC5kYXRhKSBhcyBTdHJlYW1WaWRlb0V2ZW50KVxuICAgICAgICA6IG51bGw7XG5cbiAgICAvLyB3ZSB3YWl0IHRpbGwgdGhlIGZpcnN0IG1lc3NhZ2UgYmVmb3JlIHdlIGNvbnNpZGVyIHRoZSBjb25uZWN0aW9uIG9wZW4uXG4gICAgLy8gdGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IGF1dGggZXJyb3JzIGFuZCBzaW1pbGFyIGVycm9ycyB0cmlnZ2VyIGEgd3Mub25vcGVuIGFuZCBpbW1lZGlhdGVseVxuICAgIC8vIGFmdGVyIHRoYXQgYSB3cy5vbmNsb3NlLlxuICAgIGlmICghdGhpcy5pc1Jlc29sdmVkICYmIGRhdGEgJiYgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5lcnJvcicpIHtcbiAgICAgIHRoaXMuaXNSZXNvbHZlZCA9IHRydWU7XG4gICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gdGhlIHR5cGVzIG9mIF9lcnJvckZyb21XU0V2ZW50IGFyZSBpbmNvcnJlY3RcbiAgICAgICAgdGhpcy5yZWplY3RQcm9taXNlPy4odGhpcy5fZXJyb3JGcm9tV1NFdmVudChkYXRhLCBmYWxzZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdHJpZ2dlciB0aGUgZXZlbnQuLlxuICAgIHRoaXMubGFzdEV2ZW50ID0gbmV3IERhdGUoKTtcblxuICAgIGlmIChcbiAgICAgIGRhdGEgJiZcbiAgICAgIChkYXRhLnR5cGUgPT09ICdoZWFsdGguY2hlY2snIHx8IGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24ub2snKVxuICAgICkge1xuICAgICAgLy8gdGhlIGluaXRpYWwgaGVhbHRoLWNoZWNrIHNob3VsZCBjb21lIGZyb20gdGhlIGNsaWVudFxuICAgICAgdGhpcy5zY2hlZHVsZU5leHRQaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5vaycpIHtcbiAgICAgIHRoaXMucmVzb2x2ZVByb21pc2U/LihkYXRhKTtcbiAgICAgIHRoaXMuX3NldEhlYWx0aCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLmVycm9yJyAmJiBkYXRhLmVycm9yKSB7XG4gICAgICBjb25zdCB7IGNvZGUgfSA9IGRhdGEuZXJyb3I7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBjb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KGRhdGEpO1xuICAgIH1cbiAgICB0aGlzLnNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrKCk7XG4gIH07XG5cbiAgb25jbG9zZSA9ICh3c0lEOiBudW1iZXIsIGV2ZW50OiBXZWJTb2NrZXQuQ2xvc2VFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuX2xvZygnb25jbG9zZSgpIC0gb25jbG9zZSBjYWxsYmFjayAtICcgKyBldmVudC5jb2RlLCB7IGV2ZW50LCB3c0lEIH0pO1xuXG4gICAgaWYgKGV2ZW50LmNvZGUgPT09IEtub3duQ29kZXMuV1NfQ0xPU0VEX1NVQ0NFU1MpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBwZXJtYW5lbnQgZXJyb3IgcmFpc2VkIGJ5IHN0cmVhbS4uXG4gICAgICAvLyB1c3VhbGx5IGNhdXNlZCBieSBpbnZhbGlkIGF1dGggZGV0YWlsc1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yICR7ZXZlbnQucmVhc29ufWAsXG4gICAgICApIGFzIEVycm9yICYgV2ViU29ja2V0LkNsb3NlRXZlbnQ7XG5cbiAgICAgIGVycm9yLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgIGVycm9yLmNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgZXJyb3Iud2FzQ2xlYW4gPSBldmVudC53YXNDbGVhbjtcbiAgICAgIGVycm9yLnRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgdGhpcy5yZWplY3RQcm9taXNlPy4oZXJyb3IpO1xuICAgICAgdGhpcy5fbG9nKGBvbmNsb3NlKCkgLSBXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yICR7ZXZlbnQucmVhc29ufWAsIHtcbiAgICAgICAgZXZlbnQsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICB0aGlzLnRvdGFsRmFpbHVyZXMgKz0gMTtcbiAgICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSk7XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnJlamVjdFByb21pc2U/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGV2ZW50KSk7XG5cbiAgICAgIHRoaXMuX2xvZyhgb25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiBjbG9zZWQuIENhbGxpbmcgcmVjb25uZWN0IC4uLmAsIHtcbiAgICAgICAgZXZlbnQsXG4gICAgICB9KTtcblxuICAgICAgLy8gcmVjb25uZWN0IGlmIGl0cyBhbiBhYm5vcm1hbCBmYWlsdXJlXG4gICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgb25lcnJvciA9ICh3c0lEOiBudW1iZXIsIGV2ZW50OiBXZWJTb2NrZXQuRXJyb3JFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgIHRoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSk7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnJlamVjdFByb21pc2U/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGV2ZW50KSk7XG4gICAgdGhpcy5fbG9nKGBvbmVycm9yKCkgLSBXUyBjb25uZWN0aW9uIHJlc3VsdGVkIGludG8gZXJyb3JgLCB7IGV2ZW50IH0pO1xuXG4gICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9zZXRIZWFsdGggLSBTZXRzIHRoZSBjb25uZWN0aW9uIHRvIGhlYWx0aHkgb3IgdW5oZWFsdGh5LlxuICAgKiBCcm9hZGNhc3RzIGFuIGV2ZW50IGluIGNhc2UgdGhlIGNvbm5lY3Rpb24gc3RhdHVzIGNoYW5nZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGVhbHRoeSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGNvbm5lY3Rpb24gaXMgaGVhbHRoeSBvciBub3RcbiAgICogQHBhcmFtIHtib29sZWFufSBkaXNwYXRjaEltbWVkaWF0ZWx5IGJvb2xlYW4gaW5kaWNhdGluZyB0byBkaXNwYXRjaCBldmVudCBpbW1lZGlhdGVseSBldmVuIGlmIHRoZSBjb25uZWN0aW9uIGlzIHVuaGVhbHRoeVxuICAgKlxuICAgKi9cbiAgX3NldEhlYWx0aCA9IChoZWFsdGh5OiBib29sZWFuLCBkaXNwYXRjaEltbWVkaWF0ZWx5ID0gZmFsc2UpID0+IHtcbiAgICBpZiAoaGVhbHRoeSA9PT0gdGhpcy5pc0hlYWx0aHkpIHJldHVybjtcblxuICAgIHRoaXMuaXNIZWFsdGh5ID0gaGVhbHRoeTtcblxuICAgIGlmICh0aGlzLmlzSGVhbHRoeSB8fCBkaXNwYXRjaEltbWVkaWF0ZWx5KSB7XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgIG9ubGluZTogdGhpcy5pc0hlYWx0aHksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB3ZSdyZSBvZmZsaW5lLCB3YWl0IGZldyBzZWNvbmRzIGFuZCBmaXJlIGFuZCBldmVudCBpZiBzdGlsbCBvZmZsaW5lXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0hlYWx0aHkpIHJldHVybjtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJyxcbiAgICAgICAgb25saW5lOiB0aGlzLmlzSGVhbHRoeSxcbiAgICAgIH0pO1xuICAgIH0sIDUwMDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfZXJyb3JGcm9tV1NFdmVudCAtIENyZWF0ZXMgYW4gZXJyb3Igb2JqZWN0IGZvciB0aGUgV1MgZXZlbnRcbiAgICpcbiAgICovXG4gIF9lcnJvckZyb21XU0V2ZW50ID0gKFxuICAgIGV2ZW50OiBXZWJTb2NrZXQuQ2xvc2VFdmVudCB8IFdlYlNvY2tldC5EYXRhIHwgV2ViU29ja2V0LkVycm9yRXZlbnQsXG4gICAgaXNXU0ZhaWx1cmUgPSB0cnVlLFxuICApID0+IHtcbiAgICBsZXQgY29kZTtcbiAgICBsZXQgc3RhdHVzQ29kZTtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAoaXNDbG9zZUV2ZW50KGV2ZW50KSkge1xuICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICBzdGF0dXNDb2RlID0gJ3Vua25vd24nO1xuICAgICAgbWVzc2FnZSA9IGV2ZW50LnJlYXNvbjtcbiAgICB9XG5cbiAgICBpZiAoaXNFcnJvckV2ZW50KGV2ZW50KSkge1xuICAgICAgY29kZSA9IGV2ZW50LmVycm9yLmNvZGU7XG4gICAgICBzdGF0dXNDb2RlID0gZXZlbnQuZXJyb3IuU3RhdHVzQ29kZTtcbiAgICAgIG1lc3NhZ2UgPSBldmVudC5lcnJvci5tZXNzYWdlO1xuICAgIH1cblxuICAgIC8vIEtlZXBpbmcgdGhpcyBgd2FybmAgbGV2ZWwgbG9nLCB0byBhdm9pZCBjbHV0dGVyaW5nIG9mIGVycm9yIGxvZ3MgZnJvbSB3cyBmYWlsdXJlcy5cbiAgICB0aGlzLl9sb2coXG4gICAgICBgX2Vycm9yRnJvbVdTRXZlbnQoKSAtIFdTIGZhaWxlZCB3aXRoIGNvZGUgJHtjb2RlfWAsXG4gICAgICB7IGV2ZW50IH0sXG4gICAgICAnd2FybicsXG4gICAgKTtcblxuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgYFdTIGZhaWxlZCB3aXRoIGNvZGUgJHtjb2RlfSBhbmQgcmVhc29uIC0gJHttZXNzYWdlfWAsXG4gICAgKSBhcyBFcnJvciAmIHtcbiAgICAgIGNvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICBpc1dTRmFpbHVyZT86IGJvb2xlYW47XG4gICAgICBTdGF0dXNDb2RlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgIH07XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgLyoqXG4gICAgICogU3RhdHVzQ29kZSBkb2VzIG5vdCBleGlzdCBvbiBhbnkgZXZlbnQgdHlwZXMgYnV0IGhhcyBiZWVuIGxlZnRcbiAgICAgKiBhcyBpcyB0byBwcmVzZXJ2ZSBKUyBmdW5jdGlvbmFsaXR5IGR1cmluZyB0aGUgVFMgaW1wbGVtZW50YXRpb25cbiAgICAgKi9cbiAgICBlcnJvci5TdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICBlcnJvci5pc1dTRmFpbHVyZSA9IGlzV1NGYWlsdXJlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcblxuICAvKipcbiAgICogX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIC0gUmVtb3ZlcyB0aGUgY3VycmVudCBXUyBjb25uZWN0aW9uXG4gICAqXG4gICAqL1xuICBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKSB7XG4gICAgLy8gaW5jcmVtZW50IHRoZSBJRCwgbWVhbmluZyB3ZSB3aWxsIGlnbm9yZSBhbGwgbWVzc2FnZXMgZnJvbSB0aGUgb2xkXG4gICAgLy8gd3MgY29ubmVjdGlvbiBmcm9tIG5vdyBvbi5cbiAgICB0aGlzLndzSUQgKz0gMTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzPy53cz8ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzPy53cz8uY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB3ZSBkb24ndCBjYXJlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9zZXR1cFByb21pc2UgLSBzZXRzIHVwIHRoZSB0aGlzLmNvbm5lY3RPcGVuIHByb21pc2VcbiAgICovXG4gIF9zZXR1cENvbm5lY3Rpb25Qcm9taXNlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHdzLm9wZW4gaXMgY2FsbGVkICovXG4gICAgdGhpcy5jb25uZWN0aW9uT3BlbiA9IG5ldyBQcm9taXNlPENvbm5lY3RlZEV2ZW50PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMucmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2NoZWR1bGVzIGEgbmV4dCBoZWFsdGggY2hlY2sgcGluZyBmb3Igd2Vic29ja2V0LlxuICAgKi9cbiAgc2NoZWR1bGVOZXh0UGluZyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgfVxuXG4gICAgLy8gMzAgc2Vjb25kcyBpcyB0aGUgcmVjb21tZW5kZWQgaW50ZXJ2YWwgKG1lc3NlbmdlciB1c2VzIHRoaXMpXG4gICAgdGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHNlbmQgdGhlIGhlYWx0aGNoZWNrLi4uLCBzZXJ2ZXIgcmVwbGllcyB3aXRoIGEgaGVhbHRoIGNoZWNrIGV2ZW50XG4gICAgICBjb25zdCBkYXRhID0gW3sgdHlwZTogJ2hlYWx0aC5jaGVjaycsIGNsaWVudF9pZDogdGhpcy5jbGllbnQuY2xpZW50SUQgfV07XG4gICAgICAvLyB0cnkgdG8gc2VuZCBvbiB0aGUgY29ubmVjdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy53cz8uc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGVycm9yIHdpbGwgYWxyZWFkeSBiZSBkZXRlY3RlZCBlbHNld2hlcmVcbiAgICAgIH1cbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrIC0gc2NoZWR1bGVzIGEgY2hlY2sgZm9yIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGxhc3QgcmVjZWl2ZWQgZXZlbnQgYW5kIG5vdy5cbiAgICogSWYgdGhlIGRpZmZlcmVuY2UgaXMgbW9yZSB0aGFuIDM1IHNlY29uZHMsIGl0IG1lYW5zIG91ciBoZWFsdGggY2hlY2sgbG9naWMgaGFzIGZhaWxlZCBhbmQgd2Vic29ja2V0IG5lZWRzXG4gICAqIHRvIGJlIHJlY29ubmVjdGVkLlxuICAgKi9cbiAgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgfVxuXG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmxhc3RFdmVudCAmJlxuICAgICAgICBub3cuZ2V0VGltZSgpIC0gdGhpcy5sYXN0RXZlbnQuZ2V0VGltZSgpID4gdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKCdzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIGdvaW5nIHRvIHJlY29ubmVjdCcpO1xuICAgICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgZnJvbUJ5dGVBcnJheSB9IGZyb20gJ2Jhc2U2NC1qcyc7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nPFQ+KGFycmF5T3JTdHJpbmc6IHN0cmluZyB8IFRbXSk6IGFycmF5T3JTdHJpbmcgaXMgc3RyaW5nIHtcbiAgcmV0dXJuIHR5cGVvZiAoYXJyYXlPclN0cmluZyBhcyBzdHJpbmcpID09PSAnc3RyaW5nJztcbn1cblxudHlwZSBNYXBHZW5lcmljQ2FsbGJhY2s8VCwgVT4gPSAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUW10pID0+IFU7XG50eXBlIE1hcFN0cmluZ0NhbGxiYWNrPFU+ID0gKHZhbHVlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHN0cmluZzogc3RyaW5nKSA9PiBVO1xuXG5mdW5jdGlvbiBpc01hcFN0cmluZ0NhbGxiYWNrPFQsIFU+KFxuICBhcnJheU9yU3RyaW5nOiBzdHJpbmcgfCBUW10sXG4gIGNhbGxiYWNrOiBNYXBHZW5lcmljQ2FsbGJhY2s8VCwgVT4gfCBNYXBTdHJpbmdDYWxsYmFjazxVPixcbik6IGNhbGxiYWNrIGlzIE1hcFN0cmluZ0NhbGxiYWNrPFU+IHtcbiAgcmV0dXJuICEhY2FsbGJhY2sgJiYgaXNTdHJpbmcoYXJyYXlPclN0cmluZyk7XG59XG5cbi8vIHNvdXJjZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iL21hc3Rlci90ZXN0L2NvbnZlcnQuanMjTDcyXG5mdW5jdGlvbiBtYXA8VCwgVT4oYXJyYXk6IFRbXSwgY2FsbGJhY2s6IE1hcEdlbmVyaWNDYWxsYmFjazxULCBVPik6IFVbXTtcbmZ1bmN0aW9uIG1hcDxVPihzdHJpbmc6IHN0cmluZywgY2FsbGJhY2s6IE1hcFN0cmluZ0NhbGxiYWNrPFU+KTogVVtdO1xuZnVuY3Rpb24gbWFwPFQsIFU+KFxuICBhcnJheU9yU3RyaW5nOiBzdHJpbmcgfCBUW10sXG4gIGNhbGxiYWNrOiBNYXBHZW5lcmljQ2FsbGJhY2s8VCwgVT4gfCBNYXBTdHJpbmdDYWxsYmFjazxVPixcbik6IFVbXSB7XG4gIGNvbnN0IHJlcyA9IFtdO1xuXG4gIGlmIChpc1N0cmluZyhhcnJheU9yU3RyaW5nKSAmJiBpc01hcFN0cmluZ0NhbGxiYWNrKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKSkge1xuICAgIGZvciAobGV0IGsgPSAwLCBsZW4gPSBhcnJheU9yU3RyaW5nLmxlbmd0aDsgayA8IGxlbjsgaysrKSB7XG4gICAgICBpZiAoYXJyYXlPclN0cmluZy5jaGFyQXQoaykpIHtcbiAgICAgICAgY29uc3Qga1ZhbHVlID0gYXJyYXlPclN0cmluZy5jaGFyQXQoayk7XG4gICAgICAgIGNvbnN0IG1hcHBlZFZhbHVlID0gY2FsbGJhY2soa1ZhbHVlLCBrLCBhcnJheU9yU3RyaW5nKTtcbiAgICAgICAgcmVzW2tdID0gbWFwcGVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgICFpc1N0cmluZyhhcnJheU9yU3RyaW5nKSAmJlxuICAgICFpc01hcFN0cmluZ0NhbGxiYWNrKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKVxuICApIHtcbiAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gYXJyYXlPclN0cmluZy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xuICAgICAgaWYgKGsgaW4gYXJyYXlPclN0cmluZykge1xuICAgICAgICBjb25zdCBrVmFsdWUgPSBhcnJheU9yU3RyaW5nW2tdO1xuICAgICAgICBjb25zdCBtYXBwZWRWYWx1ZSA9IGNhbGxiYWNrKGtWYWx1ZSwgaywgYXJyYXlPclN0cmluZyk7XG4gICAgICAgIHJlc1trXSA9IG1hcHBlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBjb25zdCBlbmNvZGVCYXNlNjQgPSAoZGF0YTogc3RyaW5nKTogc3RyaW5nID0+XG4gIGZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkobWFwKGRhdGEsIChjaGFyKSA9PiBjaGFyLmNoYXJDb2RlQXQoMCkpKSk7XG5cbi8vIGJhc2UtNjQgZGVjb2RlciB0aHJvd3MgZXhjZXB0aW9uIGlmIGVuY29kZWQgc3RyaW5nIGlzIG5vdCBwYWRkZWQgYnkgJz0nIHRvIG1ha2Ugc3RyaW5nIGxlbmd0aFxuLy8gaW4gbXVsdGlwbGVzIG9mIDQuIFNvIGdvbm5hIHVzZSBvdXIgb3duIG1ldGhvZCBmb3IgdGhpcyBwdXJwb3NlIHRvIGtlZXAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iL21hc3Rlci9pbmRleC5qcyNMMjZcbmV4cG9ydCBjb25zdCBkZWNvZGVCYXNlNjQgPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZSA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sXG4gICAgdyA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgTCA9IHMubGVuZ3RoO1xuICBsZXQgaSxcbiAgICBiID0gMCxcbiAgICBjLFxuICAgIHgsXG4gICAgbCA9IDAsXG4gICAgYSxcbiAgICByID0gJyc7XG4gIGNvbnN0IEEgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgZVtBLmNoYXJBdChpKV0gPSBpO1xuICB9XG4gIGZvciAoeCA9IDA7IHggPCBMOyB4KyspIHtcbiAgICBjID0gZVtzLmNoYXJBdCh4KV07XG4gICAgYiA9IChiIDw8IDYpICsgYztcbiAgICBsICs9IDY7XG4gICAgd2hpbGUgKGwgPj0gOCkge1xuICAgICAgKChhID0gKGIgPj4+IChsIC09IDgpKSAmIDB4ZmYpIHx8IHggPCBMIC0gMikgJiYgKHIgKz0gdyhhKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcbiIsImltcG9ydCB7IGRlY29kZUJhc2U2NCwgZW5jb2RlQmFzZTY0IH0gZnJvbSAnLi9iYXNlNjQnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlclxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gRGV2VG9rZW4odXNlcklkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIFtcbiAgICAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5JywgLy97XCJhbGdcIjogXCJIUzI1NlwiLCBcInR5cFwiOiBcIkpXVFwifVxuICAgIGVuY29kZUJhc2U2NChKU09OLnN0cmluZ2lmeSh7IHVzZXJfaWQ6IHVzZXJJZCB9KSksXG4gICAgJ2RldnRva2VuJywgLy8gaGFyZGNvZGVkIHNpZ25hdHVyZVxuICBdLmpvaW4oJy4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJGcm9tVG9rZW4odG9rZW46IHN0cmluZykge1xuICBjb25zdCBmcmFnbWVudHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuICBpZiAoZnJhZ21lbnRzLmxlbmd0aCAhPT0gMykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBjb25zdCBiNjRQYXlsb2FkID0gZnJhZ21lbnRzWzFdO1xuICBjb25zdCBwYXlsb2FkID0gZGVjb2RlQmFzZTY0KGI2NFBheWxvYWQpO1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgcmV0dXJuIGRhdGEudXNlcl9pZCBhcyBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBVc2VyRnJvbVRva2VuIH0gZnJvbSAnLi9zaWduaW5nJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgVG9rZW5PclByb3ZpZGVyLCBVc2VyV2l0aElkIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVG9rZW5NYW5hZ2VyXG4gKlxuICogSGFuZGxlcyBhbGwgdGhlIG9wZXJhdGlvbnMgYXJvdW5kIHVzZXIgdG9rZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2tlbk1hbmFnZXIge1xuICBsb2FkVG9rZW5Qcm9taXNlOiBQcm9taXNlPHN0cmluZz4gfCBudWxsO1xuICB0eXBlOiAnc3RhdGljJyB8ICdwcm92aWRlcic7XG4gIHNlY3JldD86IHN0cmluZztcbiAgdG9rZW4/OiBzdHJpbmc7XG4gIHRva2VuUHJvdmlkZXI/OiBUb2tlbk9yUHJvdmlkZXI7XG4gIHVzZXI/OiBVc2VyV2l0aElkO1xuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtTZWNyZXR9IHNlY3JldFxuICAgKi9cbiAgY29uc3RydWN0b3Ioc2VjcmV0Pzogc3RyaW5nKSB7XG4gICAgdGhpcy5sb2FkVG9rZW5Qcm9taXNlID0gbnVsbDtcbiAgICBpZiAoc2VjcmV0KSB7XG4gICAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnc3RhdGljJztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRpYyBzdHJpbmcgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gICAqIFRva2VuIHByb3ZpZGVyIHNob3VsZCByZXR1cm4gYSB0b2tlbiBzdHJpbmcgb3IgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIHN0cmluZyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHRva2VuT3JQcm92aWRlciAtIHRoZSB0b2tlbiBvciB0b2tlbiBwcm92aWRlci5cbiAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2V9IHVzZXIgLSB0aGUgdXNlciBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbm9ueW1vdXMgLSB3aGV0aGVyIHRoZSB1c2VyIGlzIGFub255bW91cyBvciBub3QuXG4gICAqL1xuICBzZXRUb2tlbk9yUHJvdmlkZXIgPSBhc3luYyAoXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICBpc0Fub255bW91czogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlciwgdXNlciwgaXNBbm9ueW1vdXMpO1xuICAgIHRoaXMudXNlciA9IHVzZXI7XG5cbiAgICBpZiAoaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICB0aGlzLnR5cGUgPSAncHJvdmlkZXInO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubG9hZFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdG9rZW4gbWFuYWdlci5cbiAgICogVXNlZnVsIGZvciBjbGllbnQgZGlzY29ubmVjdGlvbiBvciBzd2l0Y2hpbmcgdXNlci5cbiAgICovXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy51c2VyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubG9hZFRva2VuUHJvbWlzZSA9IG51bGw7XG4gIH07XG5cbiAgLy8gVmFsaWRhdGVzIHRoZSB1c2VyIHRva2VuLlxuICB2YWxpZGF0ZVRva2VuID0gKFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIC8vIGFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9uIHVzZXJcbiAgICBpZiAodXNlciAmJiBpc0Fub255bW91cyAmJiAhdG9rZW5PclByb3ZpZGVyKSByZXR1cm47XG5cbiAgICAvLyBEb24ndCBhbGxvdyBlbXB0eSB0b2tlbiBmb3Igbm9uLXNlcnZlciBzaWRlIGNsaWVudC5cbiAgICBpZiAoIXRoaXMuc2VjcmV0ICYmICF0b2tlbk9yUHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlcldpdGhJZCB0b2tlbiBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdG9rZW5PclByb3ZpZGVyICYmXG4gICAgICB0eXBlb2YgdG9rZW5PclByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICAgIWlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VyIHRva2VuIHNob3VsZCBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gQWxsb3cgZW1wdHkgdG9rZW4gZm9yIGFub255bW91cyB1c2Vyc1xuICAgICAgaWYgKGlzQW5vbnltb3VzICYmIHRva2VuT3JQcm92aWRlciA9PT0gJycpIHJldHVybjtcblxuICAgICAgY29uc3QgdG9rZW5Vc2VySWQgPSBVc2VyRnJvbVRva2VuKHRva2VuT3JQcm92aWRlcik7XG4gICAgICBpZiAoXG4gICAgICAgIHRva2VuT3JQcm92aWRlciAhPSBudWxsICYmXG4gICAgICAgICh0b2tlblVzZXJJZCA9PSBudWxsIHx8XG4gICAgICAgICAgdG9rZW5Vc2VySWQgPT09ICcnIHx8XG4gICAgICAgICAgKCFpc0Fub255bW91cyAmJiB0b2tlblVzZXJJZCAhPT0gdXNlci5pZCkpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1c2VyVG9rZW4gZG9lcyBub3QgaGF2ZSBhIHVzZXJfaWQgb3IgaXMgbm90IG1hdGNoaW5nIHdpdGggdXNlci5pZCcsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc29sdmVzIHdoZW4gdG9rZW4gaXMgcmVhZHkuIFRoaXMgZnVuY3Rpb24gaXMgc2ltcGx5IHRvIGNoZWNrIGlmIGxvYWRUb2tlbiBpcyBpbiBwcm9ncmVzcywgaW4gd2hpY2hcbiAgLy8gY2FzZSBhIGZ1bmN0aW9uIHNob3VsZCB3YWl0LlxuICB0b2tlblJlYWR5ID0gKCkgPT4gdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuXG4gIC8vIEZldGNoZXMgYSB0b2tlbiBmcm9tIHRva2VuUHJvdmlkZXIgZnVuY3Rpb24gYW5kIHNldHMgaW4gdG9rZW5NYW5hZ2VyLlxuICAvLyBJbiBjYXNlIG9mIHN0YXRpYyB0b2tlbiwgaXQgd2lsbCBzaW1wbHkgcmVzb2x2ZSB0byBzdGF0aWMgdG9rZW4uXG4gIGxvYWRUb2tlbiA9ICgpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxuICAgIHRoaXMubG9hZFRva2VuUHJvbWlzZSA9IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHRoaXMudG9rZW4gYXMgc3RyaW5nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudG9rZW5Qcm92aWRlciAmJiB0eXBlb2YgdGhpcy50b2tlblByb3ZpZGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMudG9rZW4gPSBhd2FpdCB0aGlzLnRva2VuUHJvdmlkZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICBuZXcgRXJyb3IoYENhbGwgdG8gdG9rZW5Qcm92aWRlciBmYWlsZWQgd2l0aCBtZXNzYWdlOiAke2V9YCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHRoaXMudG9rZW4pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgY3VycmVudCB0b2tlblxuICBnZXRUb2tlbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlciAmJiAhdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVzZXIgdG9rZW4gaXMgbm90IHNldC4gRWl0aGVyIGNsaWVudC5jb25uZWN0VXNlciB3YXNuJ3QgY2FsbGVkIG9yIGNsaWVudC5kaXNjb25uZWN0IHdhcyBjYWxsZWRgLFxuICAgICk7XG4gIH07XG5cbiAgaXNTdGF0aWMgPSAoKSA9PiB0aGlzLnR5cGUgPT09ICdzdGF0aWMnO1xufVxuIiwiaW1wb3J0IHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IEFQSUVycm9yUmVzcG9uc2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEFQSUVycm9yQ29kZXM6IFJlY29yZDxcbiAgc3RyaW5nLFxuICB7IG5hbWU6IHN0cmluZzsgcmV0cnlhYmxlOiBib29sZWFuIH1cbj4gPSB7XG4gICctMSc6IHsgbmFtZTogJ0ludGVybmFsU3lzdGVtRXJyb3InLCByZXRyeWFibGU6IHRydWUgfSxcbiAgJzInOiB7IG5hbWU6ICdBY2Nlc3NLZXlFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzMnOiB7IG5hbWU6ICdBdXRoZW50aWNhdGlvbkZhaWxlZEVycm9yJywgcmV0cnlhYmxlOiB0cnVlIH0sXG4gICc0JzogeyBuYW1lOiAnSW5wdXRFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzYnOiB7IG5hbWU6ICdEdXBsaWNhdGVVc2VybmFtZUVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnOSc6IHsgbmFtZTogJ1JhdGVMaW1pdEVycm9yJywgcmV0cnlhYmxlOiB0cnVlIH0sXG4gICcxNic6IHsgbmFtZTogJ0RvZXNOb3RFeGlzdEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMTcnOiB7IG5hbWU6ICdOb3RBbGxvd2VkRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcxOCc6IHsgbmFtZTogJ0V2ZW50Tm90U3VwcG9ydGVkRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcxOSc6IHsgbmFtZTogJ0NoYW5uZWxGZWF0dXJlTm90U3VwcG9ydGVkRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcyMCc6IHsgbmFtZTogJ01lc3NhZ2VUb29Mb25nRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcyMSc6IHsgbmFtZTogJ011bHRpcGxlTmVzdGluZ0xldmVsRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcyMic6IHsgbmFtZTogJ1BheWxvYWRUb29CaWdFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzIzJzogeyBuYW1lOiAnUmVxdWVzdFRpbWVvdXRFcnJvcicsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnMjQnOiB7IG5hbWU6ICdNYXhIZWFkZXJTaXplRXhjZWVkZWRFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzQwJzogeyBuYW1lOiAnQXV0aEVycm9yVG9rZW5FeHBpcmVkJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNDEnOiB7IG5hbWU6ICdBdXRoRXJyb3JUb2tlbk5vdFZhbGlkWWV0JywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNDInOiB7IG5hbWU6ICdBdXRoRXJyb3JUb2tlblVzZWRCZWZvcmVJc3N1ZWRBdCcsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzQzJzogeyBuYW1lOiAnQXV0aEVycm9yVG9rZW5TaWduYXR1cmVJbnZhbGlkJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNDQnOiB7IG5hbWU6ICdDdXN0b21Db21tYW5kRW5kcG9pbnRNaXNzaW5nRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICc0NSc6IHsgbmFtZTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludENhbGxFcnJvcicsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnNDYnOiB7IG5hbWU6ICdDb25uZWN0aW9uSUROb3RGb3VuZEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNjAnOiB7IG5hbWU6ICdDb29sRG93bkVycm9yJywgcmV0cnlhYmxlOiB0cnVlIH0sXG4gICc2OSc6IHsgbmFtZTogJ0Vycldyb25nUmVnaW9uJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNzAnOiB7IG5hbWU6ICdFcnJRdWVyeUNoYW5uZWxQZXJtaXNzaW9ucycsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzcxJzogeyBuYW1lOiAnRXJyVG9vTWFueUNvbm5lY3Rpb25zJywgcmV0cnlhYmxlOiB0cnVlIH0sXG4gICc5OSc6IHsgbmFtZTogJ0FwcFN1c3BlbmRlZEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxufTtcblxuLy8gdG9kbzogdGhpcyBpcyBub3QgYSBjb3JyZWN0IGVycm9yIGRlY2xhcmF0aW9uLiAvcmVjb3JkaW5ncyBlbmRwb2ludCByZXR1cm5zIGVycm9yIG9iamVjdHMgYXMgZm9sbG93czpcbi8vIHtcbi8vICAgICBcImNvZGVcIjogMTYsXG4vLyAgICAgXCJtZXNzYWdlXCI6IFwiTGlzdFJlY29yZGluZ3MgZmFpbGVkIHdpdGggZXJyb3I6IFxcXCJDYW4ndCBmaW5kIGNhbGwgd2l0aCBpZCBkZWZhdWx0OmJiYmJcXFwiXCIsXG4vLyAgICAgXCJTdGF0dXNDb2RlXCI6IDQwNCxcbi8vICAgICBcImR1cmF0aW9uXCI6IFwiMC4wMG1zXCIsXG4vLyAgICAgXCJtb3JlX2luZm9cIjogXCJodHRwczovL2dldHN0cmVhbS5pby9jaGF0L2RvY3MvYXBpX2Vycm9yc19yZXNwb25zZVwiLFxuLy8gICAgIFwiZGV0YWlsc1wiOiBbXVxuLy8gfVxuXG50eXBlIEFQSUVycm9yID0gRXJyb3IgJiB7IGNvZGU6IG51bWJlcjsgaXNXU0ZhaWx1cmU/OiBib29sZWFuIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FQSUVycm9yKGVycm9yOiBFcnJvcik6IGVycm9yIGlzIEFQSUVycm9yIHtcbiAgcmV0dXJuIChlcnJvciBhcyBBUElFcnJvcikuY29kZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvclJldHJ5YWJsZShlcnJvcjogQVBJRXJyb3IpIHtcbiAgaWYgKCFlcnJvci5jb2RlKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGVyciA9IEFQSUVycm9yQ29kZXNbYCR7ZXJyb3IuY29kZX1gXTtcbiAgaWYgKCFlcnIpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGVyci5yZXRyeWFibGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3Rpb25JREVycm9yKGVycm9yOiBBUElFcnJvcikge1xuICByZXR1cm4gZXJyb3IuY29kZSA9PT0gNDY7IC8vIENvbm5lY3Rpb25JRE5vdEZvdW5kRXJyb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzV1NGYWlsdXJlKGVycjogQVBJRXJyb3IpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBlcnIuaXNXU0ZhaWx1cmUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBlcnIuaXNXU0ZhaWx1cmU7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGVyci5tZXNzYWdlKS5pc1dTRmFpbHVyZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvclJlc3BvbnNlKFxuICByZXM6IEF4aW9zUmVzcG9uc2U8dW5rbm93bj4sXG4pOiByZXMgaXMgQXhpb3NSZXNwb25zZTxBUElFcnJvclJlc3BvbnNlPiB7XG4gIHJldHVybiAhcmVzLnN0YXR1cyB8fCByZXMuc3RhdHVzIDwgMjAwIHx8IDMwMCA8PSByZXMuc3RhdHVzO1xufVxuIiwiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQ2FuY2VsVG9rZW5Tb3VyY2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQge1xuICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgcmV0cnlJbnRlcnZhbCxcbiAgc2xlZXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgaXNBUElFcnJvciwgaXNDb25uZWN0aW9uSURFcnJvciwgaXNFcnJvclJldHJ5YWJsZSB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IExvZ0xldmVsLCBTdHJlYW1WaWRlb0V2ZW50LCBVUiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ29ubmVjdGVkRXZlbnQgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuXG5leHBvcnQgZW51bSBDb25uZWN0aW9uU3RhdGUge1xuICBDbG9zZWQgPSAnQ0xPU0VEJyxcbiAgQ29ubmVjdGVkID0gJ0NPTk5FQ1RFRCcsXG4gIENvbm5lY3RpbmcgPSAnQ09OTkVDVElORycsXG4gIERpc2Nvbm5lY3RlZCA9ICdESVNDT05ORUNURUQnLFxuICBJbml0ID0gJ0lOSVQnLFxufVxuXG5leHBvcnQgY2xhc3MgV1NDb25uZWN0aW9uRmFsbGJhY2sge1xuICBjbGllbnQ6IFN0cmVhbUNsaWVudDtcbiAgc3RhdGU6IENvbm5lY3Rpb25TdGF0ZTtcbiAgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyO1xuICBjb25uZWN0aW9uSUQ/OiBzdHJpbmc7XG4gIGNhbmNlbFRva2VuPzogQ2FuY2VsVG9rZW5Tb3VyY2U7XG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBTdHJlYW1DbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnN0YXRlID0gQ29ubmVjdGlvblN0YXRlLkluaXQ7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLl9vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcbiAgfVxuXG4gIF9sb2cobXNnOiBzdHJpbmcsIGV4dHJhOiBVUiA9IHt9LCBsZXZlbDogTG9nTGV2ZWwgPSAnaW5mbycpIHtcbiAgICB0aGlzLmNsaWVudC5sb2dnZXIobGV2ZWwsICdXU0Nvbm5lY3Rpb25GYWxsYmFjazonICsgbXNnLCB7XG4gICAgICAuLi5leHRyYSxcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRTdGF0ZShzdGF0ZTogQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgdGhpcy5fbG9nKGBfc2V0U3RhdGUoKSAtICR7c3RhdGV9YCk7XG5cbiAgICAvLyB0cmFuc2l0aW9uIGZyb20gY29ubmVjdGluZyA9PiBjb25uZWN0ZWRcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZyAmJlxuICAgICAgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWRcbiAgICApIHtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJywgb25saW5lOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ2xvc2VkIHx8XG4gICAgICBzdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZFxuICAgICkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLCBvbmxpbmU6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25saW5lU3RhdHVzQ2hhbmdlZCA9IChldmVudDogeyB0eXBlOiBzdHJpbmcgfSkgPT4ge1xuICAgIHRoaXMuX2xvZyhgX29ubGluZVN0YXR1c0NoYW5nZWQoKSAtICR7ZXZlbnQudHlwZX1gKTtcblxuICAgIGlmIChldmVudC50eXBlID09PSAnb2ZmbGluZScpIHtcbiAgICAgIHRoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuICAgICAgdGhpcy5jYW5jZWxUb2tlbj8uY2FuY2VsKCdkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICB0aGlzLmNhbmNlbFRva2VuID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC50eXBlID09PSAnb25saW5lJyAmJiB0aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKSB7XG4gICAgICB0aGlzLmNvbm5lY3QodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfcmVxID0gYXN5bmMgPFQgPSBVUj4oXG4gICAgcGFyYW1zOiBVUixcbiAgICBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgICByZXRyeTogYm9vbGVhbixcbiAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbmNlbFRva2VuICYmICFwYXJhbXMuY2xvc2UpIHtcbiAgICAgIHRoaXMuY2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZG9BeGlvc1JlcXVlc3Q8VD4oXG4gICAgICAgICdnZXQnLFxuICAgICAgICAodGhpcy5jbGllbnQuYmFzZVVSTCBhcyBzdHJpbmcpLnJlcGxhY2UoJzozMDMwJywgJzo4OTAwJykgKyAnL2xvbmdwb2xsJywgLy8gcmVwbGFjZSBwb3J0IGlmIHByZXNlbnQgZm9yIHRlc3Rpbmcgd2l0aCBsb2NhbCBBUElcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7XG4gICAgICAgICAgY29uZmlnOiB7IC4uLmNvbmZpZywgY2FuY2VsVG9rZW46IHRoaXMuY2FuY2VsVG9rZW4/LnRva2VuIH0sXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIHB1YmxpY0VuZHBvaW50OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDsgLy8gYWx3YXlzIHJlc2V0IGluIGNhc2Ugb2Ygbm8gZXJyb3JcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHJldHJ5ICYmIGlzRXJyb3JSZXRyeWFibGUoZXJyKSkge1xuICAgICAgICB0aGlzLl9sb2coYF9yZXEoKSAtIFJldHJ5YWJsZSBlcnJvciwgcmV0cnlpbmcgcmVxdWVzdGApO1xuICAgICAgICBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxPFQ+KHBhcmFtcywgY29uZmlnLCByZXRyeSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9wb2xsID0gYXN5bmMgKCkgPT4ge1xuICAgIHdoaWxlICh0aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5fcmVxPHtcbiAgICAgICAgICBldmVudHM6IFN0cmVhbVZpZGVvRXZlbnRbXTtcbiAgICAgICAgfT4oXG4gICAgICAgICAge30sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICApOyAvLyAzMHMgPT4gQVBJIHJlc3BvbmRzIGluIDIwcyBpZiB0aGVyZSBpcyBubyBldmVudFxuXG4gICAgICAgIGlmIChkYXRhLmV2ZW50cz8ubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhLmV2ZW50c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGF4aW9zLmlzQ2FuY2VsKGVycikpIHtcbiAgICAgICAgICB0aGlzLl9sb2coYF9wb2xsKCkgLSBheGlvcyBjYW5jZWxlZCByZXF1ZXN0YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIGNsaWVudC5kb0F4aW9zUmVxdWVzdCB3aWxsIHRha2UgY2FyZSBvZiBUT0tFTl9FWFBJUkVEIGVycm9yICovXG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoaXNDb25uZWN0aW9uSURFcnJvcihlcnIpKSB7XG4gICAgICAgICAgdGhpcy5fbG9nKGBfcG9sbCgpIC0gQ29ubmVjdGlvbklEIGVycm9yLCBjb25uZWN0aW5nIHdpdGhvdXQgSUQuLi5gKTtcbiAgICAgICAgICB0aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKTtcbiAgICAgICAgICB0aGlzLmNvbm5lY3QodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoaXNBUElFcnJvcihlcnIpICYmICFpc0Vycm9yUmV0cnlhYmxlKGVycikpIHtcbiAgICAgICAgICB0aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcykpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogY29ubmVjdCB0cnkgdG8gb3BlbiBhIGxvbmdwb2xsIHJlcXVlc3RcbiAgICogQHBhcmFtIHJlY29ubmVjdCBzaG91bGQgYmUgZmFsc2UgZm9yIGZpcnN0IGNhbGwgYW5kIHRydWUgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8ga2VlcCB0aGUgY29ubmVjdGlvbiBhbGl2ZSBhbmQgY2FsbCByZWNvdmVyU3RhdGVcbiAgICovXG4gIGNvbm5lY3QgPSBhc3luYyAocmVjb25uZWN0ID0gZmFsc2UpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpIHtcbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgJ2Nvbm5lY3QoKSAtIGNvbm5lY3RpbmcgYWxyZWFkeSBpbiBwcm9ncmVzcycsXG4gICAgICAgIHsgcmVjb25uZWN0IH0sXG4gICAgICAgICd3YXJuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgICdjb25uZWN0KCkgLSBhbHJlYWR5IGNvbm5lY3RlZCBhbmQgcG9sbGluZycsXG4gICAgICAgIHsgcmVjb25uZWN0IH0sXG4gICAgICAgICd3YXJuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpO1xuICAgIHRoaXMuY29ubmVjdGlvbklEID0gdW5kZWZpbmVkOyAvLyBjb25uZWN0IHNob3VsZCBiZSBzZW50IHdpdGggZW1wdHkgY29ubmVjdGlvbl9pZCBzbyBBUEkgY3JlYXRlcyBvbmVcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBldmVudCB9ID0gYXdhaXQgdGhpcy5fcmVxPHtcbiAgICAgICAgZXZlbnQ6IENvbm5lY3RlZEV2ZW50O1xuICAgICAgfT4oXG4gICAgICAgIHsganNvbjogdGhpcy5jbGllbnQuX2J1aWxkV1NQYXlsb2FkKCkgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpbWVvdXQ6IDgwMDAsIC8vIDhzXG4gICAgICAgIH0sXG4gICAgICAgIHJlY29ubmVjdCxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uSUQgPSBldmVudC5jb25uZWN0aW9uX2lkO1xuICAgICAgdGhpcy5jbGllbnQucmVzb2x2ZUNvbm5lY3Rpb25JZD8uKCk7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMuX3BvbGwoKTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuICAgICAgdGhpcy5jbGllbnQucmVqZWN0Q29ubmVjdGlvbklkPy4oKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIGlzSGVhbHRoeSBjaGVja3MgaWYgdGhlcmUgaXMgYSBjb25uZWN0aW9uSUQgYW5kIGNvbm5lY3Rpb24gaXMgaW4gQ29ubmVjdGVkIHN0YXRlXG4gICAqL1xuICBpc0hlYWx0aHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuICEhdGhpcy5jb25uZWN0aW9uSUQgJiYgdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcbiAgfTtcblxuICBkaXNjb25uZWN0ID0gYXN5bmMgKHRpbWVvdXQgPSAyMDAwKSA9PiB7XG4gICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMuX29ubGluZVN0YXR1c0NoYW5nZWQpO1xuXG4gICAgdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCk7XG4gICAgdGhpcy5jYW5jZWxUb2tlbj8uY2FuY2VsKCdkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgdGhpcy5jYW5jZWxUb2tlbiA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGNvbm5lY3Rpb25faWQgPSB0aGlzLmNvbm5lY3Rpb25JRDtcbiAgICB0aGlzLmNvbm5lY3Rpb25JRCA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9yZXEoXG4gICAgICAgIHsgY2xvc2U6IHRydWUsIGNvbm5lY3Rpb25faWQgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2xvZyhgZGlzY29ubmVjdCgpIC0gQ2xvc2VkIGNvbm5lY3Rpb25JRGApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5fbG9nKGBkaXNjb25uZWN0KCkgLSBGYWlsZWRgLCB7IGVyciB9LCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi8uLi9sb2dnZXInO1xuXG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydsb2NhdGlvbiddKTtcbmNvbnN0IEhJTlRfVVJMID0gYGh0dHBzOi8vaGludC5zdHJlYW0taW8tdmlkZW8uY29tL2A7XG5cbmV4cG9ydCBjb25zdCBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gIGhpbnRVcmw6IHN0cmluZyA9IEhJTlRfVVJMLFxuICB0aW1lb3V0OiBudW1iZXIgPSAyMDAwLFxuKSA9PiB7XG4gIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChoaW50VXJsLCB7XG4gICAgICBtZXRob2Q6ICdIRUFEJyxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICB9KTtcbiAgICBjb25zdCBhd3NQb3AgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hbXotY2YtcG9wJykgfHwgJ0VSUic7XG4gICAgbG9nZ2VyKCdkZWJ1ZycsIGBMb2NhdGlvbiBoZWFkZXI6ICR7YXdzUG9wfWApO1xuICAgIHJldHVybiBhd3NQb3Auc3Vic3RyaW5nKDAsIDMpOyAvLyBBTVMxLVAyIC0+IEFNU1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBnZXQgbG9jYXRpb24gaGludCBmcm9tICR7aGludFVybH1gLCBlKTtcbiAgICByZXR1cm4gJ0VSUic7XG4gIH0gZmluYWxseSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgYXhpb3MsIHtcbiAgQXhpb3NFcnJvcixcbiAgQXhpb3NIZWFkZXJzLFxuICBBeGlvc0luc3RhbmNlLFxuICBBeGlvc1JlcXVlc3RDb25maWcsXG4gIEF4aW9zUmVzcG9uc2UsXG59IGZyb20gJ2F4aW9zJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgeyBTdGFibGVXU0Nvbm5lY3Rpb24gfSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgRGV2VG9rZW4gfSBmcm9tICcuL3NpZ25pbmcnO1xuaW1wb3J0IHsgVG9rZW5NYW5hZ2VyIH0gZnJvbSAnLi90b2tlbl9tYW5hZ2VyJztcbmltcG9ydCB7IFdTQ29ubmVjdGlvbkZhbGxiYWNrIH0gZnJvbSAnLi9jb25uZWN0aW9uX2ZhbGxiYWNrJztcbmltcG9ydCB7IGlzRXJyb3JSZXNwb25zZSwgaXNXU0ZhaWx1cmUgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQge1xuICBpc0Z1bmN0aW9uLFxuICBpc09ubGluZSxcbiAgS25vd25Db2RlcyxcbiAgcmFuZG9tSWQsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHtcbiAgQWxsQ2xpZW50RXZlbnRzLFxuICBBbGxDbGllbnRFdmVudFR5cGVzLFxuICBBUElFcnJvclJlc3BvbnNlLFxuICBDbGllbnRFdmVudExpc3RlbmVyLFxuICBDb25uZWN0QVBJUmVzcG9uc2UsXG4gIEVycm9yRnJvbVJlc3BvbnNlLFxuICBMb2dnZXIsXG4gIFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gIFN0cmVhbVZpZGVvRXZlbnQsXG4gIFRva2VuT3JQcm92aWRlcixcbiAgVXNlcixcbiAgVXNlcldpdGhJZCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBJbnNpZ2h0TWV0cmljcywgcG9zdEluc2lnaHRzIH0gZnJvbSAnLi9pbnNpZ2h0cyc7XG5pbXBvcnQgeyBnZXRMb2NhdGlvbkhpbnQgfSBmcm9tICcuL2xvY2F0aW9uJztcbmltcG9ydCB7IENyZWF0ZUd1ZXN0UmVxdWVzdCwgQ3JlYXRlR3Vlc3RSZXNwb25zZSB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1DbGllbnQge1xuICBfdXNlcj86IFVzZXJXaXRoSWQ7XG4gIGFub255bW91czogYm9vbGVhbjtcbiAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlPzogYm9vbGVhbjtcbiAgYXhpb3NJbnN0YW5jZTogQXhpb3NJbnN0YW5jZTtcbiAgYmFzZVVSTD86IHN0cmluZztcbiAgYnJvd3NlcjogYm9vbGVhbjtcbiAgY2xlYW5pbmdJbnRlcnZhbFJlZj86IE5vZGVKUy5UaW1lb3V0O1xuICBjbGllbnRJRD86IHN0cmluZztcbiAga2V5OiBzdHJpbmc7XG4gIGxpc3RlbmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8QWxsQ2xpZW50RXZlbnRUeXBlcywgQ2xpZW50RXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcbiAgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJpdmF0ZSBsb2NhdGlvbkhpbnQ6IFByb21pc2U8c3RyaW5nPiB8IHVuZGVmaW5lZDtcblxuICBub2RlOiBib29sZWFuO1xuICBvcHRpb25zOiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIHNldFVzZXJQcm9taXNlOiBDb25uZWN0QVBJUmVzcG9uc2UgfCBudWxsO1xuICB0b2tlbk1hbmFnZXI6IFRva2VuTWFuYWdlcjtcbiAgdXNlcj86IFVzZXJXaXRoSWQ7XG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgdXNlcklEPzogc3RyaW5nO1xuICB3c0Jhc2VVUkw/OiBzdHJpbmc7XG4gIHdzQ29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uIHwgbnVsbDtcbiAgd3NGYWxsYmFjaz86IFdTQ29ubmVjdGlvbkZhbGxiYWNrO1xuICB3c1Byb21pc2U6IENvbm5lY3RBUElSZXNwb25zZSB8IG51bGw7XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgaW5zaWdodE1ldHJpY3M6IEluc2lnaHRNZXRyaWNzO1xuICBkZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrOiBudW1iZXI7XG4gIGRlZmF1bHRXU1RpbWVvdXQ6IG51bWJlcjtcbiAgcmVzb2x2ZUNvbm5lY3Rpb25JZD86IEZ1bmN0aW9uO1xuICByZWplY3RDb25uZWN0aW9uSWQ/OiBGdW5jdGlvbjtcbiAgY29ubmVjdGlvbklkUHJvbWlzZT86IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZT86IFByb21pc2U8Q3JlYXRlR3Vlc3RSZXNwb25zZT47XG4gIHByaXZhdGUgbmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGFwaSBrZXlcbiAgICogQHBhcmFtIHtTdHJlYW1DbGllbnRPcHRpb25zfSBbb3B0aW9uc10gLSBhZGRpdGlvbmFsIG9wdGlvbnMsIGhlcmUgeW91IGNhbiBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIGF4aW9zIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zZWNyZXRdIC0gdGhlIGFwaSBzZWNyZXRcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5icm93c2VyXSAtIGVuZm9yY2UgdGhlIGNsaWVudCB0byBiZSBpbiBicm93c2VyIG1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YXJtVXBdIC0gZGVmYXVsdCB0byBmYWxzZSwgaWYgdHJ1ZSwgY2xpZW50IHdpbGwgb3BlbiBhIGNvbm5lY3Rpb24gYXMgc29vbiBhcyBwb3NzaWJsZSB0byBzcGVlZCB1cCBmb2xsb3dpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtMb2dnZXJ9IFtvcHRpb25zLkxvZ2dlcl0gLSBjdXN0b20gbG9nZ2VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0XSAtIGRlZmF1bHQgdG8gMzAwMFxuICAgKiBAcGFyYW0ge2h0dHBzQWdlbnR9IFtvcHRpb25zLmh0dHBzQWdlbnRdIC0gY3VzdG9tIGh0dHBzQWdlbnQsIGluIG5vZGUgaXQncyBkZWZhdWx0IHRvIGh0dHBzLmFnZW50KClcbiAgICovXG4gIGNvbnN0cnVjdG9yKGtleTogc3RyaW5nLCBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucykge1xuICAgIC8vIHNldCB0aGUga2V5XG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICAvLyBzZXQgdGhlIHNlY3JldFxuICAgIHRoaXMuc2VjcmV0ID0gb3B0aW9ucz8uc2VjcmV0O1xuXG4gICAgLy8gc2V0IHRoZSBvcHRpb25zLi4uIGFuZCBmaWd1cmUgb3V0IGRlZmF1bHRzLi4uXG4gICAgY29uc3QgaW5wdXRPcHRpb25zID0gb3B0aW9uc1xuICAgICAgPyBvcHRpb25zXG4gICAgICA6ICh7XG4gICAgICAgICAgYnJvd3NlcjogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIH0gYXMgUGFydGlhbDxTdHJlYW1DbGllbnRPcHRpb25zPik7XG5cbiAgICB0aGlzLmJyb3dzZXIgPSBpbnB1dE9wdGlvbnMuYnJvd3NlciB8fCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgICB0aGlzLm5vZGUgPSAhdGhpcy5icm93c2VyO1xuXG4gICAgaWYgKHRoaXMuYnJvd3Nlcikge1xuICAgICAgdGhpcy5sb2NhdGlvbkhpbnQgPSBnZXRMb2NhdGlvbkhpbnQoXG4gICAgICAgIG9wdGlvbnM/LmxvY2F0aW9uSGludFVybCxcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50VGltZW91dCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsIC8vIG1ha2luZyBzdXJlIGNvb2tpZXMgYXJlIG5vdCBzZW50XG4gICAgICB3YXJtVXA6IGZhbHNlLFxuICAgICAgLi4uaW5wdXRPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5ub2RlICYmICF0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe1xuICAgICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgICAgIGtlZXBBbGl2ZU1zZWNzOiAzMDAwLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRCYXNlVVJMKFxuICAgICAgdGhpcy5vcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20vdmlkZW8nLFxuICAgICk7XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX1JVTikge1xuICAgICAgdGhpcy5zZXRCYXNlVVJMKCdodHRwOi8vbG9jYWxob3N0OjMwMzAvdmlkZW8nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX0hPU1QpIHtcbiAgICAgIHRoaXMuc2V0QmFzZVVSTChgaHR0cDovLyR7cHJvY2Vzcy5lbnYuU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVH0vdmlkZW9gKTtcbiAgICB9XG5cbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgYmFzZVVSTDogdGhpcy5iYXNlVVJMLFxuICAgIH0pO1xuXG4gICAgLy8gV1MgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZCB3aGVuIHNldFVzZXIgaXMgY2FsbGVkXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMud3NQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLnNldFVzZXJQcm9taXNlID0gbnVsbDtcblxuICAgIC8vIG1hcHBpbmcgYmV0d2VlbiBjaGFubmVsIGdyb3VwcyBhbmQgY29uZmlnc1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgdGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUgPVxuICAgICAgdGhpcy5vcHRpb25zPy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU7XG5cbiAgICAvLyBJZiBpdCBpcyBhIHNlcnZlci1zaWRlIGNsaWVudCwgdGhlbiBsZXRzIGluaXRpYWxpemUgdGhlIHRva2VuTWFuYWdlciwgc2luY2UgdG9rZW4gd2lsbCBiZVxuICAgIC8vIGdlbmVyYXRlZCBmcm9tIHNlY3JldC5cbiAgICB0aGlzLnRva2VuTWFuYWdlciA9IG5ldyBUb2tlbk1hbmFnZXIodGhpcy5zZWNyZXQpO1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgdGhpcy5pbnNpZ2h0TWV0cmljcyA9IG5ldyBJbnNpZ2h0TWV0cmljcygpO1xuXG4gICAgdGhpcy5kZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrID0gNjAwMDtcbiAgICB0aGlzLmRlZmF1bHRXU1RpbWVvdXQgPSAxNTAwMDtcblxuICAgIHRoaXMubG9nZ2VyID0gaXNGdW5jdGlvbihpbnB1dE9wdGlvbnMubG9nZ2VyKVxuICAgICAgPyBpbnB1dE9wdGlvbnMubG9nZ2VyXG4gICAgICA6ICgpID0+IG51bGw7XG4gIH1cblxuICBkZXZUb2tlbiA9ICh1c2VySUQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBEZXZUb2tlbih1c2VySUQpO1xuICB9O1xuXG4gIGdldEF1dGhUeXBlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gIH07XG5cbiAgc2V0QmFzZVVSTCA9IChiYXNlVVJMOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMXG4gICAgICAucmVwbGFjZSgnaHR0cCcsICd3cycpXG4gICAgICAucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgfTtcblxuICBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gICAgaGludFVybD86IHN0cmluZyxcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IGhpbnQgPSBhd2FpdCB0aGlzLmxvY2F0aW9uSGludDtcbiAgICBpZiAoIWhpbnQgfHwgaGludCA9PT0gJ0VSUicpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBoaW50VXJsID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIHRpbWVvdXQgPz8gdGhpcy5vcHRpb25zLmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25IaW50O1xuICAgIH1cbiAgICByZXR1cm4gaGludDtcbiAgfTtcblxuICBfZ2V0Q29ubmVjdGlvbklEID0gKCkgPT5cbiAgICB0aGlzLndzQ29ubmVjdGlvbj8uY29ubmVjdGlvbklEIHx8IHRoaXMud3NGYWxsYmFjaz8uY29ubmVjdGlvbklEO1xuXG4gIF9oYXNDb25uZWN0aW9uSUQgPSAoKSA9PiBCb29sZWFuKHRoaXMuX2dldENvbm5lY3Rpb25JRCgpKTtcblxuICAvKipcbiAgICogY29ubmVjdFVzZXIgLSBTZXQgdGhlIGN1cnJlbnQgdXNlciBhbmQgb3BlbiBhIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyIERhdGEgYWJvdXQgdGhpcyB1c2VyLiBJRSB7bmFtZTogXCJqb2huXCJ9XG4gICAqIEBwYXJhbSB7VG9rZW5PclByb3ZpZGVyfSB1c2VyVG9rZW5PclByb3ZpZGVyIFRva2VuIG9yIHByb3ZpZGVyXG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIHNldHVwXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHVzZXJUb2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgaWYgKCF1c2VyLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImlkXCIgZmllbGQgb24gdGhlIHVzZXIgaXMgbWlzc2luZycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxpbmcgY29ubmVjdFVzZXIgbXVsdGlwbGUgdGltZXMgaXMgcG90ZW50aWFsbHkgdGhlIHJlc3VsdCBvZiBhICBiYWQgaW50ZWdyYXRpb24sIGhvd2V2ZXIsXG4gICAgICogSWYgdGhlIHVzZXIgaWQgcmVtYWlucyB0aGUgc2FtZSB3ZSBkb24ndCB0aHJvdyBlcnJvclxuICAgICAqL1xuICAgIGlmICh0aGlzLnVzZXJJRCA9PT0gdXNlci5pZCAmJiB0aGlzLnNldFVzZXJQcm9taXNlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnQ29uc2VjdXRpdmUgY2FsbHMgdG8gY29ubmVjdFVzZXIgaXMgZGV0ZWN0ZWQsIGlkZWFsbHkgeW91IHNob3VsZCBvbmx5IGNhbGwgdGhpcyBmdW5jdGlvbiBvbmNlIGluIHlvdXIgYXBwLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0VXNlclByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlcklEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVc2UgY2xpZW50LmRpc2Nvbm5lY3QoKSBiZWZvcmUgdHJ5aW5nIHRvIGNvbm5lY3QgYXMgYSBkaWZmZXJlbnQgdXNlci4gY29ubmVjdFVzZXIgd2FzIGNhbGxlZCB0d2ljZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy5faXNVc2luZ1NlcnZlckF1dGgoKSB8fCB0aGlzLm5vZGUpICYmXG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VydmVyU2lkZUNvbm5lY3RcbiAgICApIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdQbGVhc2UgZG8gbm90IHVzZSBjb25uZWN0VXNlciBzZXJ2ZXIgc2lkZS4gY29ubmVjdFVzZXIgaW1wYWN0cyBNQVUgYW5kIGNvbmN1cnJlbnQgY29ubmVjdGlvbiB1c2FnZSBhbmQgdGh1cyB5b3VyIGJpbGwuIElmIHlvdSBoYXZlIGEgdmFsaWQgdXNlLWNhc2UsIGFkZCBcImFsbG93U2VydmVyU2lkZUNvbm5lY3Q6IHRydWVcIiB0byB0aGUgY2xpZW50IG9wdGlvbnMgdG8gZGlzYWJsZSB0aGlzIHdhcm5pbmcuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gd2UgZ2VuZXJhdGUgdGhlIGNsaWVudCBpZCBjbGllbnQgc2lkZVxuICAgIHRoaXMudXNlcklEID0gdXNlci5pZDtcbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2V0VG9rZW5Qcm9taXNlID0gdGhpcy5fc2V0VG9rZW4oXG4gICAgICB1c2VyLFxuICAgICAgdXNlclRva2VuT3JQcm92aWRlcixcbiAgICAgIHRoaXMuYW5vbnltb3VzLFxuICAgICk7XG4gICAgdGhpcy5fc2V0VXNlcih1c2VyKTtcblxuICAgIGNvbnN0IHdzUHJvbWlzZSA9IHRoaXMub3BlbkNvbm5lY3Rpb24oKTtcblxuICAgIHRoaXMuc2V0VXNlclByb21pc2UgPSBQcm9taXNlLmFsbChbc2V0VG9rZW5Qcm9taXNlLCB3c1Byb21pc2VdKS50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4gcmVzdWx0WzFdLCAvLyBXZSBvbmx5IHJldHVybiBjb25uZWN0aW9uIHByb21pc2U7XG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXRVc2VyUHJvbWlzZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICh0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSkge1xuICAgICAgICAvLyBjbGVhbnVwIGNsaWVudCB0byBhbGxvdyB0aGUgdXNlciB0byByZXRyeSBjb25uZWN0VXNlciBhZ2FpblxuICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0VXNlcigpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBfc2V0VG9rZW4gPSAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB1c2VyVG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT5cbiAgICB0aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIoXG4gICAgICB1c2VyVG9rZW5PclByb3ZpZGVyLFxuICAgICAgdXNlcixcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICk7XG5cbiAgX3NldFVzZXIgPSAodXNlcjogVXNlcldpdGhJZCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3VzZXIgPSB7IC4uLnVzZXIgfTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBjbG9zZUNvbm5lY3Rpb24gPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGlmICh0aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgIT0gbnVsbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYpO1xuICAgICAgdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMud3NDb25uZWN0aW9uPy5kaXNjb25uZWN0KHRpbWVvdXQpLFxuICAgICAgdGhpcy53c0ZhbGxiYWNrPy5kaXNjb25uZWN0KHRpbWVvdXQpLFxuICAgIF0pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiB3aXRoIHRoZSBjdXJyZW50IHVzZXIuIFJldHVybnMgZW1wdHkgcHJvbWlzZSwgaWYgdGhlcmUgaXMgYW4gYWN0aXZlIGNvbm5lY3Rpb25cbiAgICovXG4gIG9wZW5Db25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGhpcy51c2VySUQpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAnVXNlcldpdGhJZCBpcyBub3Qgc2V0IG9uIGNsaWVudCwgdXNlIGNsaWVudC5jb25uZWN0VXNlciBvciBjbGllbnQuY29ubmVjdEFub255bW91c1VzZXIgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndzQ29ubmVjdGlvbj8uaXNDb25uZWN0aW5nICYmIHRoaXMud3NQcm9taXNlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnY2xpZW50Om9wZW5Db25uZWN0aW9uKCkgLSBjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLndzUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy53c0Nvbm5lY3Rpb24/LmlzSGVhbHRoeSB8fCB0aGlzLndzRmFsbGJhY2s/LmlzSGVhbHRoeSgpKSAmJlxuICAgICAgdGhpcy5faGFzQ29ubmVjdGlvbklEKClcbiAgICApIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIG9wZW5Db25uZWN0aW9uIGNhbGxlZCB0d2ljZSwgaGVhbHRoeSBjb25uZWN0aW9uIGFscmVhZHkgZXhpc3RzJyxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHJlamVjdDtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHRoaXMuY2xpZW50SUQgPSBgJHt0aGlzLnVzZXJJRH0tLSR7cmFuZG9tSWQoKX1gO1xuICAgIHRoaXMud3NQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuICB9O1xuXG4gIF9ub3JtYWxpemVEYXRlID0gKGJlZm9yZTogRGF0ZSB8IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoYmVmb3JlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgYmVmb3JlID0gYmVmb3JlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKGJlZm9yZSA9PT0gJycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJEb24ndCBwYXNzIGJsYW5rIHN0cmluZyBmb3Igc2luY2UsIHVzZSBudWxsIGluc3RlYWQgaWYgcmVzZXR0aW5nIHRoZSB0b2tlbiByZXZva2VcIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlZm9yZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBhbmQgcmVtb3ZlcyB0aGUgdXNlciBmcm9tIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNsaWVudCcpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuICAgIGRlbGV0ZSB0aGlzLnVzZXI7XG4gICAgZGVsZXRlIHRoaXMuX3VzZXI7XG4gICAgZGVsZXRlIHRoaXMudXNlcklEO1xuXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcblxuICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKHRpbWVvdXQpO1xuXG4gICAgdGhpcy50b2tlbk1hbmFnZXIucmVzZXQoKTtcblxuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgY29ubmVjdEd1ZXN0VXNlciA9IGFzeW5jICh1c2VyOiBVc2VyICYgeyB0eXBlOiAnZ3Vlc3QnIH0pID0+IHtcbiAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UgPSB0aGlzLmRvQXhpb3NSZXF1ZXN0PFxuICAgICAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbiAgICAgIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgID4oXG4gICAgICAncG9zdCcsXG4gICAgICAnL2d1ZXN0JyxcbiAgICAgIHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIC4uLnVzZXIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9LFxuICAgICk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZTtcbiAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UuZmluYWxseShcbiAgICAgICgpID0+ICh0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UgPSB1bmRlZmluZWQpLFxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5jb25uZWN0VXNlcihyZXNwb25zZS51c2VyLCByZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBjb25uZWN0QW5vbnltb3VzVXNlciAtIFNldCBhbiBhbm9ueW1vdXMgdXNlciBhbmQgb3BlbiBhIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqL1xuICBjb25uZWN0QW5vbnltb3VzVXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApID0+IHtcbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHJlamVjdDtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHRoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICBhd2FpdCB0aGlzLl9zZXRUb2tlbih1c2VyLCB0b2tlbk9yUHJvdmlkZXIsIHRoaXMuYW5vbnltb3VzKTtcblxuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG4gICAgLy8gc29tZSBlbmRwb2ludHMgcmVxdWlyZSBhIGNvbm5lY3Rpb25faWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgLy8gYXMgYW5vbnltb3VzIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG9wZW4gV1MgY29ubmVjdGlvbnMsIHdlIGp1c3RcbiAgICAvLyByZXNvbHZlIHRoZSBjb25uZWN0aW9uX2lkIGhlcmUuXG4gICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkPy4oKTtcbiAgfTtcblxuICAvKipcbiAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIGFsbCBjaGFubmVscyBhbmQgdXNlcnMgeW91ciB3YXRjaGluZ1xuICAgKlxuICAgKiBjbGllbnQub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAqXG4gICAqIEByZXR1cm4gIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHVuc3Vic2NyaWJlcyB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEFkZGluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXT8ucHVzaChjYWxsYmFjayBhcyBDbGllbnRFdmVudExpc3RlbmVyPGFueT4pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBSZW1vdmluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0/LmZpbHRlcihcbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUgIT09IGNhbGxiYWNrLFxuICAgICk7XG4gIH07XG5cbiAgX2xvZ0FwaVJlcXVlc3QgPSAoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE6IHVua25vd24sXG4gICAgY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcgJiB7XG4gICAgICBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgJiB7IG1heEJvZHlMZW5ndGg/OiBudW1iZXIgfTtcbiAgICB9LFxuICApID0+IHtcbiAgICB0aGlzLmxvZ2dlcigndHJhY2UnLCBgY2xpZW50OiAke3R5cGV9IC0gUmVxdWVzdCAtICR7dXJsfWAsIHtcbiAgICAgIHBheWxvYWQ6IGRhdGEsXG4gICAgICBjb25maWcsXG4gICAgfSk7XG4gIH07XG5cbiAgX2xvZ0FwaVJlc3BvbnNlID0gPFQ+KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICByZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPixcbiAgKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAndHJhY2UnLFxuICAgICAgYGNsaWVudDoke3R5cGV9IC0gUmVzcG9uc2UgLSB1cmw6ICR7dXJsfSA+IHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gLFxuICAgICAge1xuICAgICAgICByZXNwb25zZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBfbG9nQXBpRXJyb3IgPSAodHlwZTogc3RyaW5nLCB1cmw6IHN0cmluZywgZXJyb3I6IHVua25vd24pID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgY2xpZW50OiR7dHlwZX0gLSBFcnJvciAtIHVybDogJHt1cmx9YCwge1xuICAgICAgdXJsLFxuICAgICAgZXJyb3IsXG4gICAgfSk7XG4gIH07XG5cbiAgZG9BeGlvc1JlcXVlc3QgPSBhc3luYyA8VCwgRCA9IHVua25vd24+KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBvcHRpb25zOiBBeGlvc1JlcXVlc3RDb25maWcgJiB7XG4gICAgICBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgJiB7IG1heEJvZHlMZW5ndGg/OiBudW1iZXIgfTtcbiAgICB9ICYgeyBwdWJsaWNFbmRwb2ludD86IGJvb2xlYW4gfSA9IHt9LFxuICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICBpZiAoIW9wdGlvbnMucHVibGljRW5kcG9pbnQpIHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgdGhpcy50b2tlbk1hbmFnZXIudG9rZW5SZWFkeSgpLFxuICAgICAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UsXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0Q29uZmlnID0gdGhpcy5fZW5yaWNoQXhpb3NPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD47XG4gICAgICB0aGlzLl9sb2dBcGlSZXF1ZXN0KHR5cGUsIHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5nZXQodXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5kZWxldGUodXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9zdCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UucG9zdCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwdXQnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnB1dCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwYXRjaCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UucGF0Y2godXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9ucyc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2Uub3B0aW9ucyh1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXF1ZXN0IHR5cGUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvZ0FwaVJlc3BvbnNlPFQ+KHR5cGUsIHVybCwgcmVzcG9uc2UpO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgfSBjYXRjaCAoZTogYW55IC8qKlRPRE86IGdlbmVyYWxpemUgZXJyb3IgdHlwZXMgICovKSB7XG4gICAgICBlLmNsaWVudF9yZXF1ZXN0X2lkID0gcmVxdWVzdENvbmZpZy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKGUucmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBlLnJlc3BvbnNlKTtcbiAgICAgICAgLyoqIGNvbm5lY3Rpb25fZmFsbGJhY2sgZGVwZW5kcyBvbiB0aGlzIHRva2VuIGV4cGlyYXRpb24gbG9naWMgKi9cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGUucmVzcG9uc2UuZGF0YS5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgICAhdGhpcy50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID4gMSkge1xuICAgICAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgdGhpcy50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4odHlwZSwgdXJsLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShlLnJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgIHRocm93IGUgYXMgQXhpb3NFcnJvcjxBUElFcnJvclJlc3BvbnNlPjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZ2V0ID0gPFQ+KHVybDogc3RyaW5nLCBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgdW5rbm93bj4oJ2dldCcsIHVybCwgbnVsbCwge1xuICAgICAgcGFyYW1zLFxuICAgIH0pO1xuICB9O1xuXG4gIHB1dCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3B1dCcsIHVybCwgZGF0YSwgeyBwYXJhbXMgfSk7XG4gIH07XG5cbiAgcG9zdCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3Bvc3QnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIHBhdGNoID0gPFQsIEQgPSB1bmtub3duPihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCBEPigncGF0Y2gnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIGRlbGV0ZSA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIHVua25vd24+KCdkZWxldGUnLCB1cmwsIG51bGwsIHtcbiAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgfTtcblxuICBlcnJvckZyb21SZXNwb25zZSA9IChcbiAgICByZXNwb25zZTogQXhpb3NSZXNwb25zZTxBUElFcnJvclJlc3BvbnNlPixcbiAgKTogRXJyb3JGcm9tUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4gPT4ge1xuICAgIGxldCBlcnI6IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+O1xuICAgIGVyciA9IG5ldyBFcnJvckZyb21SZXNwb25zZShgU3RyZWFtIGVycm9yIEhUVFAgY29kZTogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBTdHJlYW0gZXJyb3IgY29kZSAke3Jlc3BvbnNlLmRhdGEuY29kZX06ICR7cmVzcG9uc2UuZGF0YS5tZXNzYWdlfWAsXG4gICAgICApO1xuICAgICAgZXJyLmNvZGUgPSByZXNwb25zZS5kYXRhLmNvZGU7XG4gICAgfVxuICAgIGVyci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGVyci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgcmV0dXJuIGVycjtcbiAgfTtcblxuICBoYW5kbGVSZXNwb25zZSA9IDxUPihyZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPikgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChpc0Vycm9yUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgZGlzcGF0Y2hFdmVudCA9IChldmVudDogU3RyZWFtVmlkZW9FdmVudCkgPT4ge1xuICAgIGlmICghZXZlbnQucmVjZWl2ZWRfYXQpIGV2ZW50LnJlY2VpdmVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgRGlzcGF0Y2hpbmcgZXZlbnQ6ICR7ZXZlbnQudHlwZX1gLCBldmVudCk7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgLy8gY2FsbCBnZW5lcmljIGxpc3RlbmVyc1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMuYWxsIHx8IFtdKSB7XG4gICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCB0eXBlIHNwZWNpZmljIGxpc3RlbmVyc1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV0gfHwgW10pIHtcbiAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGhpcy51c2VySUQgfHwgIXRoaXMuX3VzZXIpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAnQ2FsbCBjb25uZWN0VXNlciBvciBjb25uZWN0QW5vbnltb3VzVXNlciBiZWZvcmUgc3RhcnRpbmcgdGhlIGNvbm5lY3Rpb24nLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLndzQmFzZVVSTCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1dlYnNvY2tldCBiYXNlIHVybCBub3Qgc2V0Jyk7XG4gICAgfVxuICAgIGlmICghdGhpcy5jbGllbnRJRCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ2NsaWVudElEIGlzIG5vdCBzZXQnKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy53c0Nvbm5lY3Rpb24gJiZcbiAgICAgICh0aGlzLm9wdGlvbnMud2FybVVwIHx8IHRoaXMub3B0aW9ucy5lbmFibGVJbnNpZ2h0cylcbiAgICApIHtcbiAgICAgIHRoaXMuX3NheUhpKCk7XG4gICAgfVxuICAgIC8vIFRoZSBTdGFibGVXU0Nvbm5lY3Rpb24gaGFuZGxlcyBhbGwgdGhlIHJlY29ubmVjdGlvbiBsb2dpYy5cbiAgICBpZiAodGhpcy5vcHRpb25zLndzQ29ubmVjdGlvbiAmJiB0aGlzLm5vZGUpIHtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgYXZvaWRpbmcgYWRkaW5nIHRzIGdlbmVyaWNzIG9uIHdzQ29ubmVjdGlvbiBpbiBvcHRpb25zIHNpbmNlIGl0cyBvbmx5IHVzZWZ1bCBmb3IgdW5pdCB0ZXN0IHB1cnBvc2UuXG4gICAgICAodGhpcy5vcHRpb25zLndzQ29ubmVjdGlvbiBhcyB1bmtub3duIGFzIFN0YWJsZVdTQ29ubmVjdGlvbikuc2V0Q2xpZW50KFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICAgIHRoaXMud3NDb25uZWN0aW9uID0gdGhpcy5vcHRpb25zXG4gICAgICAgIC53c0Nvbm5lY3Rpb24gYXMgdW5rbm93biBhcyBTdGFibGVXU0Nvbm5lY3Rpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud3NDb25uZWN0aW9uID0gbmV3IFN0YWJsZVdTQ29ubmVjdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gaWYgZmFsbGJhY2sgaXMgdXNlZCBiZWZvcmUsIGNvbnRpbnVlIHVzaW5nIGl0IGluc3RlYWQgb2Ygd2FpdGluZyBmb3IgV1MgdG8gZmFpbFxuICAgICAgaWYgKHRoaXMud3NGYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy53c0ZhbGxiYWNrLmNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ1N0cmVhbUNsaWVudC5jb25uZWN0OiB0aGlzLndzQ29ubmVjdGlvbi5jb25uZWN0KCknKTtcbiAgICAgIC8vIGlmIFdTRmFsbGJhY2sgaXMgZW5hYmxlZCwgd3MgY29ubmVjdCBzaG91bGQgdGltZW91dCBmYXN0ZXIgc28gZmFsbGJhY2sgY2FuIHRyeVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QoXG4gICAgICAgIHRoaXMub3B0aW9ucy5lbmFibGVXU0ZhbGxiYWNrXG4gICAgICAgICAgPyB0aGlzLmRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2tcbiAgICAgICAgICA6IHRoaXMuZGVmYXVsdFdTVGltZW91dCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBydW4gZmFsbGJhY2sgb25seSBpZiBpdCdzIFdTL05ldHdvcmsgZXJyb3IgYW5kIG5vdCBhIG5vcm1hbCBBUEkgZXJyb3JcbiAgICAgIC8vIG1ha2Ugc3VyZSBicm93c2VyIGlzIG9ubGluZSBiZWZvcmUgZXZlbiB0cnlpbmcgdGhlIGxvbmdwb2xsXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9ucy5lbmFibGVXU0ZhbGxiYWNrICYmXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaXNXU0ZhaWx1cmUoZXJyKSAmJlxuICAgICAgICBpc09ubGluZSh0aGlzLmxvZ2dlcilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgJ2NsaWVudDpjb25uZWN0KCkgLSBXUyBmYWlsZWQsIGZhbGxiYWNrIHRvIGxvbmdwb2xsJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJywgbW9kZTogJ2xvbmdwb2xsJyB9KTtcblxuICAgICAgICB0aGlzLndzQ29ubmVjdGlvbi5fZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKTtcbiAgICAgICAgdGhpcy53c0Nvbm5lY3Rpb24uZGlzY29ubmVjdCgpLnRoZW4oKTsgLy8gY2xvc2UgV1Mgc28gbm8gcmV0cnlcbiAgICAgICAgdGhpcy53c0ZhbGxiYWNrID0gbmV3IFdTQ29ubmVjdGlvbkZhbGxiYWNrKHRoaXMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy53c0ZhbGxiYWNrLmNvbm5lY3QoKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgdGhlIGNvbm5lY3Rpdml0eSB3aXRoIHNlcnZlciBmb3Igd2FybXVwIHB1cnBvc2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2F5SGkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50X3JlcXVlc3RfaWQgPSByYW5kb21JZCgpO1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICBoZWFkZXJzOiBBeGlvc0hlYWRlcnMuZnJvbSh7XG4gICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogY2xpZW50X3JlcXVlc3RfaWQsXG4gICAgICB9KSxcbiAgICB9O1xuICAgIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIHRoaXMuYmFzZVVSTCArICcvaGknLCBudWxsLCBvcHRzKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVJbnNpZ2h0cykge1xuICAgICAgICBwb3N0SW5zaWdodHMoJ2h0dHBfaGlfZmFpbGVkJywge1xuICAgICAgICAgIGFwaV9rZXk6IHRoaXMua2V5LFxuICAgICAgICAgIGVycjogZSxcbiAgICAgICAgICBjbGllbnRfcmVxdWVzdF9pZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgZ2V0VXNlckFnZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHZlcnNpb24gPSBwcm9jZXNzLmVudi5QS0dfVkVSU0lPTiB8fCAnMC4wLjAtZGV2ZWxvcG1lbnQnO1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnVzZXJBZ2VudCB8fFxuICAgICAgYHN0cmVhbS12aWRlby1qYXZhc2NyaXB0LWNsaWVudC0ke1xuICAgICAgICB0aGlzLm5vZGUgPyAnbm9kZScgOiAnYnJvd3NlcidcbiAgICAgIH0tJHt2ZXJzaW9ufWBcbiAgICApO1xuICB9O1xuXG4gIHNldFVzZXJBZ2VudCA9ICh1c2VyQWdlbnQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBfaXNVc2luZ1NlcnZlckF1dGggLSBSZXR1cm5zIHRydWUgaWYgd2UncmUgdXNpbmcgc2VydmVyIHNpZGUgYXV0aFxuICAgKi9cbiAgX2lzVXNpbmdTZXJ2ZXJBdXRoID0gKCkgPT4gISF0aGlzLnNlY3JldDtcblxuICBfZW5yaWNoQXhpb3NPcHRpb25zID0gKFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnIH0gJiB7XG4gICAgICBwdWJsaWNFbmRwb2ludD86IGJvb2xlYW47XG4gICAgfSA9IHtcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIGNvbmZpZzoge30sXG4gICAgfSxcbiAgKTogQXhpb3NSZXF1ZXN0Q29uZmlnID0+IHtcbiAgICBjb25zdCB0b2tlbiA9XG4gICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXIgPyB1bmRlZmluZWQgOiB0aGlzLl9nZXRUb2tlbigpO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSB0b2tlbiA/IHsgQXV0aG9yaXphdGlvbjogdG9rZW4gfSA6IHVuZGVmaW5lZDtcbiAgICBsZXQgc2lnbmFsOiBBYm9ydFNpZ25hbCB8IG51bGwgPSBudWxsO1xuICAgIGlmICh0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyICE9PSBudWxsKSB7XG4gICAgICBzaWduYWwgPSB0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyLnNpZ25hbDtcbiAgICAgIHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogcmFuZG9tSWQoKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJJRCxcbiAgICAgICAgY29ubmVjdGlvbl9pZDogdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCksXG4gICAgICAgIGFwaV9rZXk6IHRoaXMua2V5LFxuICAgICAgICAuLi5vcHRpb25zLnBhcmFtcyxcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmF1dGhvcml6YXRpb24sXG4gICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzpcbiAgICAgICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXJcbiAgICAgICAgICAgID8gJ2Fub255bW91cydcbiAgICAgICAgICAgIDogdGhpcy5nZXRBdXRoVHlwZSgpLFxuICAgICAgICAnWC1TdHJlYW0tQ2xpZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIC4uLihzaWduYWwgPyB7IHNpZ25hbCB9IDoge30pLFxuICAgICAgLi4ub3B0aW9ucy5jb25maWcsXG4gICAgICAuLi50aGlzLm9wdGlvbnMuYXhpb3NSZXF1ZXN0Q29uZmlnLFxuICAgIH07XG4gIH07XG5cbiAgX2dldFRva2VuID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy50b2tlbk1hbmFnZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMudG9rZW5NYW5hZ2VyLmdldFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGVuY29kZSB3cyB1cmwgcGF5bG9hZFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyBqc29uIHN0cmluZ1xuICAgKi9cbiAgX2J1aWxkV1NQYXlsb2FkID0gKGNsaWVudF9yZXF1ZXN0X2lkPzogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgdXNlcl9kZXRhaWxzOiB0aGlzLl91c2VyLFxuICAgICAgY2xpZW50X3JlcXVlc3RfaWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNyZWF0ZXMgYW4gYWJvcnQgY29udHJvbGxlciB0aGF0IHdpbGwgYmUgdXNlZCBieSB0aGUgbmV4dCBIVFRQIFJlcXVlc3QuXG4gICAqL1xuICBjcmVhdGVBYm9ydENvbnRyb2xsZXJGb3JOZXh0UmVxdWVzdCA9ICgpID0+IHtcbiAgICByZXR1cm4gKHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCkpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4vQ2FsbCc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB7XG4gIFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlLFxuICBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUsXG59IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ3JlYXRlRGV2aWNlUmVxdWVzdCxcbiAgQ3JlYXRlR3Vlc3RSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICBHZXRFZGdlc1Jlc3BvbnNlLFxuICBMaXN0RGV2aWNlc1Jlc3BvbnNlLFxuICBRdWVyeUNhbGxzUmVxdWVzdCxcbiAgUXVlcnlDYWxsc1Jlc3BvbnNlLFxuICBRdWVyeUNhbGxTdGF0c1JlcXVlc3QsXG4gIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2UsXG59IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7XG4gIEFsbENsaWVudEV2ZW50cyxcbiAgQ2xpZW50RXZlbnRMaXN0ZW5lcixcbiAgTG9nZ2VyLFxuICBMb2dMZXZlbCxcbiAgU3RyZWFtQ2xpZW50T3B0aW9ucyxcbiAgVG9rZW5PclByb3ZpZGVyLFxuICBUb2tlblByb3ZpZGVyLFxuICBVc2VyLFxuICBVc2VyV2l0aElkLFxufSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyLCBsb2dUb0NvbnNvbGUsIHNldExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IGdldFNka0luZm8gfSBmcm9tICcuL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IFNka1R5cGUgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQSBgU3RyZWFtVmlkZW9DbGllbnRgIGluc3RhbmNlIGxldHMgeW91IGNvbW11bmljYXRlIHdpdGggb3VyIEFQSSwgYW5kIGF1dGhlbnRpY2F0ZSB1c2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgLyoqXG4gICAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIGFsbCB0aGUgc3RhdGUgdmFyaWFibGVzIGluIGEgcmVhY3RpdmUgbWFubmVyIC0geW91IGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBvZiB0aGUgZGlmZmVyZW50IHN0YXRlIHZhcmlhYmxlcy4gT3VyIGxpYnJhcnkgaXMgYnVpbHQgaW4gYSB3YXkgdGhhdCBhbGwgc3RhdGUgY2hhbmdlcyBhcmUgZXhwb3NlZCBpbiB0aGlzIHN0b3JlLCBzbyBhbGwgVUkgY2hhbmdlcyBpbiB5b3VyIGFwcGxpY2F0aW9uIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHN1YnNjcmliaW5nIHRvIHRoZXNlIHZhcmlhYmxlcy5cbiAgICovXG4gIHJlYWRvbmx5IHJlYWRPbmx5U3RhdGVTdG9yZTogU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmU7XG4gIHJlYWRvbmx5IGxvZ0xldmVsOiBMb2dMZXZlbCA9ICd3YXJuJztcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHdyaXRlYWJsZVN0YXRlU3RvcmU6IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZTtcbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXI6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIHByb3RlY3RlZCBjb25uZWN0aW9uUHJvbWlzZTogUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+IHwgdW5kZWZpbmVkO1xuICBwcm90ZWN0ZWQgZGlzY29ubmVjdGlvblByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlTWFwOiBNYXA8c3RyaW5nLCBTdHJlYW1WaWRlb0NsaWVudD4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFlvdSBzaG91bGQgY3JlYXRlIG9ubHkgb25lIGluc3RhbmNlIG9mIGBTdHJlYW1WaWRlb0NsaWVudGAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZywgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMpO1xuICBjb25zdHJ1Y3RvcihhcmdzOiB7XG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgdXNlcj86IFVzZXI7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gIH0pO1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcGlLZXlPckFyZ3M6XG4gICAgICB8IHN0cmluZ1xuICAgICAgfCB7XG4gICAgICAgICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgICAgICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgICAgICAgdXNlcj86IFVzZXI7XG4gICAgICAgICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgICAgICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gICAgICAgIH0sXG4gICAgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gICkge1xuICAgIGxldCBsb2dnZXI6IExvZ2dlciA9IGxvZ1RvQ29uc29sZTtcbiAgICBsZXQgbG9nTGV2ZWw6IExvZ0xldmVsID0gJ3dhcm4nO1xuICAgIGlmICh0eXBlb2YgYXBpS2V5T3JBcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgbG9nTGV2ZWwgPSBvcHRzPy5sb2dMZXZlbCB8fCBsb2dMZXZlbDtcbiAgICAgIGxvZ2dlciA9IG9wdHM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0xldmVsID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ0xldmVsIHx8IGxvZ0xldmVsO1xuICAgICAgbG9nZ2VyID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgfVxuXG4gICAgc2V0TG9nZ2VyKGxvZ2dlciwgbG9nTGV2ZWwpO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50J10pO1xuXG4gICAgaWYgKHR5cGVvZiBhcGlLZXlPckFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnN0cmVhbUNsaWVudCA9IG5ldyBTdHJlYW1DbGllbnQoYXBpS2V5T3JBcmdzLCB7XG4gICAgICAgIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTogdHJ1ZSxcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgbG9nTGV2ZWwsXG4gICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHJlYW1DbGllbnQgPSBuZXcgU3RyZWFtQ2xpZW50KGFwaUtleU9yQXJncy5hcGlLZXksIHtcbiAgICAgICAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlOiB0cnVlLFxuICAgICAgICAuLi5hcGlLZXlPckFyZ3Mub3B0aW9ucyxcbiAgICAgICAgbG9nTGV2ZWwsXG4gICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXIsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2RrSW5mbyA9IGdldFNka0luZm8oKTtcbiAgICAgIGlmIChzZGtJbmZvKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtQ2xpZW50LnNldFVzZXJBZ2VudChcbiAgICAgICAgICB0aGlzLnN0cmVhbUNsaWVudC5nZXRVc2VyQWdlbnQoKSArXG4gICAgICAgICAgICBgLXZpZGVvLSR7U2RrVHlwZVtzZGtJbmZvLnR5cGVdLnRvTG93ZXJDYXNlKCl9LXNkay0ke1xuICAgICAgICAgICAgICBzZGtJbmZvLm1ham9yXG4gICAgICAgICAgICB9LiR7c2RrSW5mby5taW5vcn0uJHtzZGtJbmZvLnBhdGNofWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSgpO1xuICAgIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlKFxuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICk7XG5cbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhcGlLZXlPckFyZ3MudXNlcjtcbiAgICAgIGNvbnN0IHRva2VuID0gYXBpS2V5T3JBcmdzLnRva2VuIHx8IGFwaUtleU9yQXJncy50b2tlblByb3ZpZGVyO1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgbGV0IGlkID0gdXNlci5pZDtcbiAgICAgICAgaWYgKHVzZXIudHlwZSA9PT0gJ2Fub255bW91cycpIHtcbiAgICAgICAgICBpZCA9ICchYW5vbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgaWYgKFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5oYXMoYXBpS2V5T3JBcmdzLmFwaUtleSArIGlkKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgYEEgU3RyZWFtVmlkZW9DbGllbnQgYWxyZWFkeSBleGlzdHMgZm9yICR7dXNlci50eXBlID09PSAnYW5vbnltb3VzJyA/ICdhbiBhbnlvbnltb3VzIHVzZXInIDogaWR9OyBQcmVmZXIgdXNpbmcgZ2V0T3JDcmVhdGVJbnN0YW5jZSBtZXRob2RgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXNlci5pZCA9IGlkO1xuICAgICAgICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5zZXQoYXBpS2V5T3JBcmdzLmFwaUtleSArIGlkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RVc2VyKHVzZXIsIHRva2VuKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBjb25uZWN0JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRPckNyZWF0ZUluc3RhbmNlKGFyZ3M6IHtcbiAgICBhcGlLZXk6IHN0cmluZztcbiAgICB1c2VyOiBVc2VyO1xuICAgIHRva2VuPzogc3RyaW5nO1xuICAgIHRva2VuUHJvdmlkZXI/OiBUb2tlblByb3ZpZGVyO1xuICAgIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICB9KTogU3RyZWFtVmlkZW9DbGllbnQge1xuICAgIGNvbnN0IHVzZXIgPSBhcmdzLnVzZXI7XG4gICAgaWYgKCF1c2VyLmlkKSB7XG4gICAgICBpZiAoYXJncy51c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB7XG4gICAgICAgIHVzZXIuaWQgPSAnIWFub24nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkIGZvciBhIG5vbi1hbm9ueW1vdXMgdXNlcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWFyZ3MudG9rZW4gJiYgIWFyZ3MudG9rZW5Qcm92aWRlcikge1xuICAgICAgaWYgKGFyZ3MudXNlci50eXBlICE9PSAnYW5vbnltb3VzJyAmJiBhcmdzLnVzZXIudHlwZSAhPT0gJ2d1ZXN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1Rva2VuUHJvdmlkZXIgb3IgdG9rZW4gaXMgcmVxdWlyZWQgZm9yIGEgdXNlciB0aGF0IGlzIG5vdCBhIGd1ZXN0IG9yIGFub255bW91cycsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbnN0YW5jZSA9IFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5nZXQoYXJncy5hcGlLZXkgKyB1c2VyLmlkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICBpbnN0YW5jZSA9IG5ldyBTdHJlYW1WaWRlb0NsaWVudCh7IC4uLmFyZ3MsIHVzZXIgfSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHJlYWN0aXZlIHN0YXRlIHN0b3JlLCB1c2UgdGhpcyBpZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvIHRoZSBjbGllbnQgc3RhdGVcbiAgICovXG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkT25seVN0YXRlU3RvcmU7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdHMgdGhlIGdpdmVuIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICogT25seSBvbmUgdXNlciBjYW4gY29ubmVjdCBhdCBhIHRpbWUsIGlmIHlvdSB3YW50IHRvIGNoYW5nZSB1c2VycywgY2FsbCBgZGlzY29ubmVjdFVzZXJgIGJlZm9yZSBjb25uZWN0aW5nIGEgbmV3IHVzZXIuXG4gICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjb25uZWN0ZWQgdXNlciBbc3RhdGUgdmFyaWFibGVdKCNyZWFkb25seXN0YXRlc3RvcmUpIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuIGEgdG9rZW4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0b2tlbi5cbiAgICovXG4gIGFzeW5jIGNvbm5lY3RVc2VyKFxuICAgIHVzZXI6IFVzZXIsXG4gICAgdG9rZW4/OiBUb2tlbk9yUHJvdmlkZXIsXG4gICk6IFByb21pc2U8dm9pZCB8IENvbm5lY3RlZEV2ZW50PiB7XG4gICAgaWYgKHVzZXIudHlwZSA9PT0gJ2Fub255bW91cycpIHtcbiAgICAgIHVzZXIuaWQgPSAnIWFub24nO1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdEFub255bW91c1VzZXIodXNlciBhcyBVc2VyV2l0aElkLCB0b2tlbik7XG4gICAgfVxuICAgIGxldCBjb25uZWN0VXNlciA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5jb25uZWN0VXNlcih1c2VyLCB0b2tlbik7XG4gICAgfTtcbiAgICBpZiAodXNlci50eXBlID09PSAnZ3Vlc3QnKSB7XG4gICAgICBjb25uZWN0VXNlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmNvbm5lY3RHdWVzdFVzZXIodXNlcik7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlID0gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZVxuICAgICAgPyB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlLnRoZW4oKCkgPT4gY29ubmVjdFVzZXIoKSlcbiAgICAgIDogY29ubmVjdFVzZXIoKTtcblxuICAgIHRoaXMuY29ubmVjdGlvblByb21pc2U/LmZpbmFsbHkoKCkgPT4gKHRoaXMuY29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBjb25uZWN0VXNlclJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uUHJvbWlzZTtcbiAgICAvLyBjb25uZWN0VXNlclJlc3BvbnNlIHdpbGwgYmUgdm9pZCBpZiBjb25uZWN0VXNlciBjYWxsZWQgdHdpY2UgZm9yIHRoZSBzYW1lIHVzZXJcbiAgICBpZiAoY29ubmVjdFVzZXJSZXNwb25zZT8ubWUpIHtcbiAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5zZXRDb25uZWN0ZWRVc2VyKGNvbm5lY3RVc2VyUmVzcG9uc2UubWUpO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY29ubmVjdGlvbi5jaGFuZ2VkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5vbmxpbmUpIHtcbiAgICAgICAgICBjb25zdCBjYWxsc1RvUmVXYXRjaCA9IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5jYWxsc1xuICAgICAgICAgICAgLmZpbHRlcigoY2FsbCkgPT4gY2FsbC53YXRjaGluZylcbiAgICAgICAgICAgIC5tYXAoKGNhbGwpID0+IGNhbGwuY2lkKTtcblxuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgICAgYFJld2F0Y2hpbmcgY2FsbHMgYWZ0ZXIgY29ubmVjdGlvbiBjaGFuZ2VkICR7Y2FsbHNUb1JlV2F0Y2guam9pbihcbiAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChjYWxsc1RvUmVXYXRjaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5Q2FsbHMoe1xuICAgICAgICAgICAgICB3YXRjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBjaWQ6IHsgJGluOiBjYWxsc1RvUmVXYXRjaCB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzb3J0OiBbeyBmaWVsZDogJ2NpZCcsIGRpcmVjdGlvbjogMSB9XSxcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byByZS13YXRjaCBjYWxscycsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIucHVzaChcbiAgICAgIHRoaXMub24oJ2NhbGwuY3JlYXRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IGNhbGwsIG1lbWJlcnMgfSA9IGV2ZW50O1xuICAgICAgICBpZiAodXNlci5pZCA9PT0gY2FsbC5jcmVhdGVkX2J5LmlkKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwuY3JlYXRlZGAgc2VudCBieSB0aGUgY3VycmVudCB1c2VyJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYE5ldyBjYWxsIGNyZWF0ZWQgYW5kIHJlZ2lzdGVyZWQ6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgaWQ6IGNhbGwuaWQsXG4gICAgICAgICAgbWVtYmVycyxcbiAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICB9KTtcbiAgICAgICAgbmV3Q2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKG5ld0NhbGwpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5yaW5nJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh1c2VyLmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwucmluZ2Agc2VudCBieSB0aGUgY3VycmVudCB1c2VyIHNvIGlnbm9yaW5nIHRoZSBldmVudCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgY2FsbCBtaWdodCBhbHJlYWR5IGJlIHRyYWNrZWQgYnkgdGhlIGNsaWVudCxcbiAgICAgICAgLy8gaWYgYGNhbGwuY3JlYXRlZGAgd2FzIHJlY2VpdmVkIGJlZm9yZSBgY2FsbC5yaW5nYC5cbiAgICAgICAgLy8gSW4gdGhhdCBjYXNlLCB3ZSBjbGVhbnVwIHRoZSBhbHJlYWR5IHRyYWNrZWQgY2FsbC5cbiAgICAgICAgY29uc3QgcHJldkNhbGwgPSB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuZmluZENhbGwoY2FsbC50eXBlLCBjYWxsLmlkKTtcbiAgICAgICAgYXdhaXQgcHJldkNhbGw/LmxlYXZlKHsgcmVhc29uOiAnY2xlYW5pbmctdXAgaW4gY2FsbC5yaW5nJyB9KTtcbiAgICAgICAgLy8gd2UgY3JlYXRlIGEgbmV3IGNhbGxcbiAgICAgICAgY29uc3QgdGhlQ2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICAgIHR5cGU6IGNhbGwudHlwZSxcbiAgICAgICAgICBpZDogY2FsbC5pZCxcbiAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICAgICAgcmluZ2luZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoZUNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjYWxsKTtcbiAgICAgICAgLy8gd2UgZmV0Y2ggdGhlIGxhdGVzdCBtZXRhZGF0YSBmb3IgdGhlIGNhbGwgZnJvbSB0aGUgc2VydmVyXG4gICAgICAgIGF3YWl0IHRoZUNhbGwuZ2V0KCk7XG4gICAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5yZWdpc3RlckNhbGwodGhlQ2FsbCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGNvbm5lY3RVc2VyUmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlciBmcm9tIHRoZSBjbGllbnQuXG4gICAqXG4gICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBkaXNjb25uZWN0ZWQsIHRoZSBjb25uZWN0ZWQgdXNlciBbc3RhdGUgdmFyaWFibGVdKCNyZWFkb25seXN0YXRlc3RvcmUpIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseVxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc3NmdWwgZGlzY29ubmVjdGlvbi5cbiAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICovXG4gIGRpc2Nvbm5lY3RVc2VyID0gYXN5bmMgKHRpbWVvdXQ/OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtQ2xpZW50LnVzZXIgJiYgIXRoaXMuY29ubmVjdGlvblByb21pc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdXNlcklkID0gdGhpcy5zdHJlYW1DbGllbnQudXNlcj8uaWQ7XG4gICAgY29uc3QgZGlzY29ubmVjdFVzZXIgPSAoKSA9PiB0aGlzLnN0cmVhbUNsaWVudC5kaXNjb25uZWN0VXNlcih0aW1lb3V0KTtcbiAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gdGhpcy5jb25uZWN0aW9uUHJvbWlzZVxuICAgICAgPyB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlLnRoZW4oKCkgPT4gZGlzY29ubmVjdFVzZXIoKSlcbiAgICAgIDogZGlzY29ubmVjdFVzZXIoKTtcbiAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlLmZpbmFsbHkoXG4gICAgICAoKSA9PiAodGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZCksXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlO1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5kZWxldGUodXNlcklkKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLmZvckVhY2goKHVucmVnaXN0ZXIpID0+IHVucmVnaXN0ZXIoKSk7XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyID0gW107XG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLnNldENvbm5lY3RlZFVzZXIodW5kZWZpbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gV2ViU29ja2V0IGV2ZW50cyBwcm92aWRlZCBieSB0aGUgQVBJLlxuICAgKiBUbyByZW1vdmUgYSBzdWJzY3JpcHRpb24sIGNhbGwgdGhlIGBvZmZgIG1ldGhvZCBvciwgZXhlY3V0ZSB0aGUgcmV0dXJuZWQgdW5zdWJzY3JpYmUgZnVuY3Rpb24uXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgc3Vic2NyaWJpbmcgdG8gV2ViU29ja2V0IGV2ZW50cyBpcyBhbiBhZHZhbmNlZCB1c2UtY2FzZSwgZm9yIG1vc3QgdXNlLWNhc2VzIGl0IHNob3VsZCBiZSBlbm91Z2ggdG8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gdGhlIHJlYWN0aXZlIFtzdGF0ZSBzdG9yZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgb3IgJ2FsbCcuXG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICogQHJldHVybnMgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24uXG4gICAqL1xuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHN1YnNjcmlwdGlvbiBmb3IgV2ViU29ja2V0IGV2ZW50cyB0aGF0IHdlcmUgY3JlYXRlZCBieSB0aGUgYG9uYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgd2hpY2ggd2FzIHBhc3NlZCB0byB0aGUgYG9uYCBtZXRob2QuXG4gICAqL1xuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGNhbGxiYWNrOiBDbGllbnRFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBjYWxsLlxuICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgY2FsbCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IENhbGwoe1xuICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgIGlkOiBpZCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGd1ZXN0IHVzZXIgd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgZm9yIHRoZSBndWVzdCB1c2VyLlxuICAgKi9cbiAgY3JlYXRlR3Vlc3RVc2VyID0gYXN5bmMgKGRhdGE6IENyZWF0ZUd1ZXN0UmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5kb0F4aW9zUmVxdWVzdDxcbiAgICAgIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gICAgICBDcmVhdGVHdWVzdFJlcXVlc3RcbiAgICA+KCdwb3N0JywgJy9ndWVzdCcsIGRhdGEsIHsgcHVibGljRW5kcG9pbnQ6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgcXVlcnkgdGhlIEFQSSBmb3IgY2FsbHMgbWF0Y2hpbmcgdGhlIGdpdmVuIGZpbHRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBxdWVyeSBkYXRhLlxuICAgKi9cbiAgcXVlcnlDYWxscyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxzUmVxdWVzdCA9IHt9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsc1Jlc3BvbnNlLFxuICAgICAgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICA+KCcvY2FsbHMnLCBkYXRhKTtcbiAgICBjb25zdCBjYWxscyA9IFtdO1xuICAgIGZvciAoY29uc3QgYyBvZiByZXNwb25zZS5jYWxscykge1xuICAgICAgY29uc3QgY2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgaWQ6IGMuY2FsbC5pZCxcbiAgICAgICAgdHlwZTogYy5jYWxsLnR5cGUsXG4gICAgICAgIG1lbWJlcnM6IGMubWVtYmVycyxcbiAgICAgICAgb3duQ2FwYWJpbGl0aWVzOiBjLm93bl9jYXBhYmlsaXRpZXMsXG4gICAgICAgIHdhdGNoaW5nOiBkYXRhLndhdGNoLFxuICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgfSk7XG4gICAgICBjYWxsLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoYy5jYWxsKTtcbiAgICAgIGF3YWl0IGNhbGwuYXBwbHlEZXZpY2VDb25maWcoKTtcbiAgICAgIGlmIChkYXRhLndhdGNoKSB7XG4gICAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5yZWdpc3RlckNhbGwoY2FsbCk7XG4gICAgICB9XG4gICAgICBjYWxscy5wdXNoKGNhbGwpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICBjYWxsczogY2FsbHMsXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGNhbGwgc3RhdGlzdGljcyByZXBvcnRzIG1hdGNoaW5nIGEgcGFydGljdWxhciBjb25kaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIEZpbHRlciBhbmQgc29ydCBjb25kaXRpb25zIGZvciByZXRyaWV2aW5nIGF2YWlsYWJsZSBjYWxsIHJlcG9ydCBzdW1tYXJpZXMuXG4gICAqIEByZXR1cm5zIExpc3Qgd2l0aCBzdW1tYXJ5IG9mIGF2YWlsYWJsZSBjYWxsIHJlcG9ydHMgbWF0Y2hpbmcgdGhlIGNvbmRpdGlvbi5cbiAgICovXG4gIHF1ZXJ5Q2FsbFN0YXRzID0gYXN5bmMgKGRhdGE6IFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlLFxuICAgICAgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAgPihgL2NhbGwvc3RhdHNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXZhaWxhYmxlIGRhdGEgY2VudGVycyBhdmFpbGFibGUgZm9yIGhvc3RpbmcgY2FsbHMuXG4gICAqL1xuICBlZGdlcyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldEVkZ2VzUmVzcG9uc2U+KGAvZWRnZXNgKTtcbiAgfTtcblxuICAvKipcbiAgICogYWRkRGV2aWNlIC0gQWRkcyBhIHB1c2ggZGV2aWNlIGZvciBhIHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCB0aGUgZGV2aWNlIGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyIG5hbWUgKGVnLiBhcG4sIGZpcmViYXNlKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlcl9uYW1lIHVzZXIgcHJvdmlkZWQgcHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSB0aGUgdXNlciBpZCAoZGVmYXVsdHMgdG8gY3VycmVudCB1c2VyKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt2b2lwX3Rva2VuXSBlbmFibGVzIHVzZSBvZiBWb0lQIHRva2VuIGZvciBwdXNoIG5vdGlmaWNhdGlvbnMgb24gaU9TIHBsYXRmb3JtXG4gICAqL1xuICBhZGREZXZpY2UgPSBhc3luYyAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nLFxuICAgIHVzZXJJRD86IHN0cmluZyxcbiAgICB2b2lwX3Rva2VuPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8Q3JlYXRlRGV2aWNlUmVxdWVzdD4oJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICBwdXNoX3Byb3ZpZGVyLFxuICAgICAgdm9pcF90b2tlbixcbiAgICAgIC4uLih1c2VySUQgIT0gbnVsbCA/IHsgdXNlcl9pZDogdXNlcklEIH0gOiB7fSksXG4gICAgICAuLi4ocHVzaF9wcm92aWRlcl9uYW1lICE9IG51bGwgPyB7IHB1c2hfcHJvdmlkZXJfbmFtZSB9IDoge30pLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGREZXZpY2UgLSBBZGRzIGEgcHVzaCBkZXZpY2UgZm9yIGEgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXIgdGhlIHB1c2ggcHJvdmlkZXIgbmFtZSAoZWcuIGFwbiwgZmlyZWJhc2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyX25hbWUgdXNlciBwcm92aWRlZCBwdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAqL1xuICBhc3luYyBhZGRWb2lwRGV2aWNlKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcjogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogc3RyaW5nLFxuICAgIHVzZXJJRD86IHN0cmluZyxcbiAgKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuYWRkRGV2aWNlKFxuICAgICAgaWQsXG4gICAgICBwdXNoX3Byb3ZpZGVyLFxuICAgICAgcHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgdXNlcklELFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldERldmljZXMgLSBSZXR1cm5zIHRoZSBkZXZpY2VzIGFzc29jaWF0ZWQgd2l0aCBhIGN1cnJlbnQgdXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVXNlciBJRC4gT25seSB3b3JrcyBvbiBzZXJ2ZXJzaWRlXG4gICAqL1xuICBnZXREZXZpY2VzID0gYXN5bmMgKHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdERldmljZXNSZXNwb25zZT4oXG4gICAgICAnL2RldmljZXMnLFxuICAgICAgdXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHJlbW92ZURldmljZSAtIFJlbW92ZXMgdGhlIGRldmljZSB3aXRoIHRoZSBnaXZlbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFRoZSB1c2VyIGlkLiBPbmx5IHNwZWNpZnkgdGhpcyBmb3Igc2VydmVyc2lkZSByZXF1ZXN0c1xuICAgKi9cbiAgcmVtb3ZlRGV2aWNlID0gYXN5bmMgKGlkOiBzdHJpbmcsIHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5kZWxldGUoJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICAuLi4odXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSByaW5naW5nIGNhbGxzIGZyb20gcHVzaCBub3RpZmljYXRpb25zLiBJZiB0aGUgY2FsbCBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcGFyYW0gY2FsbF9jaWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIG9uUmluZ2luZ0NhbGwgPSBhc3luYyAoY2FsbF9jaWQ6IHN0cmluZykgPT4ge1xuICAgIC8vIGlmIHdlIGZpbmQgdGhlIGNhbGwgYW5kIGlzIGFscmVhZHkgcmluZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgY2FsbFxuICAgIC8vIGFzIGNsaWVudCB3b3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBjYWxsLnJpbmcgc3RhdGUgYmVjYXVzZSB0aGUgYXBwIGhhZCBXUyBhbGl2ZSB3aGVuIHJlY2VpdmluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICBsZXQgY2FsbCA9IHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlLmNhbGxzLmZpbmQoXG4gICAgICAoYykgPT4gYy5jaWQgPT09IGNhbGxfY2lkICYmIGMucmluZ2luZyxcbiAgICApO1xuICAgIGlmICghY2FsbCkge1xuICAgICAgLy8gaWYgbm90IGl0IG1lYW5zIHRoYXQgV1MgaXMgbm90IGFsaXZlIHdoZW4gcmVjZWl2aW5nIHRoZSBwdXNoIG5vdGlmaWNhdGlvbnMgYW5kIHdlIG5lZWQgdG8gZmV0Y2ggdGhlIGNhbGxcbiAgICAgIGNvbnN0IFtjYWxsVHlwZSwgY2FsbElkXSA9IGNhbGxfY2lkLnNwbGl0KCc6Jyk7XG4gICAgICBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICB0eXBlOiBjYWxsVHlwZSxcbiAgICAgICAgaWQ6IGNhbGxJZCxcbiAgICAgICAgY2xpZW50U3RvcmU6IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSxcbiAgICAgICAgcmluZ2luZzogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2FsbC5nZXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsbDtcbiAgfTtcblxuICAvKipcbiAgICogQ29ubmVjdHMgdGhlIGdpdmVuIGFub255bW91cyB1c2VyIHRvIHRoZSBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyIHRoZSB1c2VyIHRvIGNvbm5lY3QuXG4gICAqIEBwYXJhbSB0b2tlbk9yUHJvdmlkZXIgYSB0b2tlbiBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRva2VuLlxuICAgKi9cbiAgcHJvdGVjdGVkIGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gKCkgPT5cbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50LmNvbm5lY3RBbm9ueW1vdXNVc2VyKHVzZXIsIHRva2VuT3JQcm92aWRlcik7XG4gICAgdGhpcy5jb25uZWN0aW9uUHJvbWlzZSA9IHRoaXMuZGlzY29ubmVjdGlvblByb21pc2VcbiAgICAgID8gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZS50aGVuKCgpID0+IGNvbm5lY3RBbm9ueW1vdXNVc2VyKCkpXG4gICAgICA6IGNvbm5lY3RBbm9ueW1vdXNVc2VyKCk7XG4gICAgdGhpcy5jb25uZWN0aW9uUHJvbWlzZS5maW5hbGx5KCgpID0+ICh0aGlzLmNvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkKSk7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvblByb21pc2U7XG4gIH07XG59XG4iXSwibmFtZXMiOlsiQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSIsIlNQRUFLRVIiLCJFQVJQSUVDRSIsIkF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtIiwiQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSIsIkZMQUciLCJCTE9DSyIsIlNIQURPV19CTE9DSyIsIkNoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RFbnVtIiwiRElTQUJMRUQiLCJTSU1QTEUiLCJBSSIsIkNoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RCZWhhdmlvckVudW0iLCJDaGFubmVsQ29uZmlnV2l0aEluZm9CbG9ja2xpc3RCZWhhdmlvckVudW0iLCJDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSIsIkZJUkVCQVNFIiwiQVBOIiwiSFVBV0VJIiwiWElBT01JIiwiTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtIiwiQVZBSUxBQkxFIiwiQVVUT19PTiIsIk93bkNhcGFiaWxpdHkiLCJCTE9DS19VU0VSUyIsIkNIQU5HRV9NQVhfRFVSQVRJT04iLCJDUkVBVEVfQ0FMTCIsIkNSRUFURV9SRUFDVElPTiIsIkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04iLCJFTkRfQ0FMTCIsIkpPSU5fQkFDS1NUQUdFIiwiSk9JTl9DQUxMIiwiSk9JTl9FTkRFRF9DQUxMIiwiTVVURV9VU0VSUyIsIlBJTl9GT1JfRVZFUllPTkUiLCJSRUFEX0NBTEwiLCJSRU1PVkVfQ0FMTF9NRU1CRVIiLCJTQ1JFRU5TSEFSRSIsIlNFTkRfQVVESU8iLCJTRU5EX1ZJREVPIiwiU1RBUlRfQlJPQURDQVNUX0NBTEwiLCJTVEFSVF9SRUNPUkRfQ0FMTCIsIlNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTCIsIlNUT1BfQlJPQURDQVNUX0NBTEwiLCJTVE9QX1JFQ09SRF9DQUxMIiwiU1RPUF9UUkFOU0NSSVBUSU9OX0NBTEwiLCJVUERBVEVfQ0FMTCIsIlVQREFURV9DQUxMX01FTUJFUiIsIlVQREFURV9DQUxMX1BFUk1JU1NJT05TIiwiVVBEQVRFX0NBTExfU0VUVElOR1MiLCJSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSIsIlJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtIiwiXzM2MFAiLCJfNDgwUCIsIl83MjBQIiwiXzEwODBQIiwiXzE0NDBQIiwiUE9SVFJBSVRfMzYwWDY0MCIsIlBPUlRSQUlUXzQ4MFg4NTQiLCJQT1JUUkFJVF83MjBYMTI4MCIsIlBPUlRSQUlUXzEwODBYMTkyMCIsIlBPUlRSQUlUXzE0NDBYMjU2MCIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0iLCJWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0iLCJGUk9OVCIsIkJBQ0siLCJFWFRFUk5BTCIsIlZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0iLCJFcnJvckZyb21SZXNwb25zZSIsIkVycm9yIiwiTnVsbFZhbHVlIiwiU3RydWN0JFR5cGUiLCJNZXNzYWdlVHlwZSIsImNvbnN0cnVjdG9yIiwibm8iLCJuYW1lIiwia2luZCIsIksiLCJWIiwiVCIsIlZhbHVlIiwiaW50ZXJuYWxKc29uV3JpdGUiLCJtZXNzYWdlIiwib3B0aW9ucyIsImpzb24iLCJrIiwidiIsIk9iamVjdCIsImVudHJpZXMiLCJmaWVsZHMiLCJ0b0pzb24iLCJpbnRlcm5hbEpzb25SZWFkIiwidGFyZ2V0IiwiaXNKc29uT2JqZWN0IiwiZ2xvYmFsVGhpcyIsInR5cGVOYW1lIiwidHlwZW9mSnNvblZhbHVlIiwiY3JlYXRlIiwiZnJvbUpzb24iLCJ2YWx1ZSIsIm1lc3NhZ2VQcm90b3R5cGUiLCJ1bmRlZmluZWQiLCJyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsIiwiaW50ZXJuYWxCaW5hcnlSZWFkIiwicmVhZGVyIiwibGVuZ3RoIiwiZW5kIiwicG9zIiwiZmllbGRObyIsIndpcmVUeXBlIiwidGFnIiwiYmluYXJ5UmVhZE1hcDEiLCJ1IiwicmVhZFVua25vd25GaWVsZCIsImQiLCJza2lwIiwiVW5rbm93bkZpZWxkSGFuZGxlciIsIm9uUmVhZCIsIm1hcCIsImxlbiIsInVpbnQzMiIsImtleSIsInZhbCIsInN0cmluZyIsImludGVybmFsQmluYXJ5V3JpdGUiLCJ3cml0ZXIiLCJrZXlzIiwiV2lyZVR5cGUiLCJMZW5ndGhEZWxpbWl0ZWQiLCJmb3JrIiwiam9pbiIsIndyaXRlVW5rbm93bkZpZWxkcyIsIm9uV3JpdGUiLCJTdHJ1Y3QiLCJWYWx1ZSRUeXBlIiwib25lb2YiLCJMaXN0VmFsdWUiLCJvbmVvZktpbmQiLCJib29sVmFsdWUiLCJudW1iZXJWYWx1ZSIsIk51bWJlciIsImlzRmluaXRlIiwic3RyaW5nVmFsdWUiLCJsaXN0VmFsdWVGaWVsZCIsImZpbmQiLCJmIiwibGlzdFZhbHVlIiwic3RydWN0VmFsdWVGaWVsZCIsInN0cnVjdFZhbHVlIiwibnVsbFZhbHVlIiwiTlVMTF9WQUxVRSIsIkFycmF5IiwiaXNBcnJheSIsImludDMyIiwiZG91YmxlIiwiYm9vbCIsIlZhcmludCIsIkJpdDY0IiwiTGlzdFZhbHVlJFR5cGUiLCJyZXBlYXQiLCJ2YWx1ZXMiLCJwdXNoIiwiaSIsIlRpbWVzdGFtcCRUeXBlIiwibm93IiwibXNnIiwibXMiLCJEYXRlIiwic2Vjb25kcyIsIlBiTG9uZyIsImZyb20iLCJNYXRoIiwiZmxvb3IiLCJ0b1N0cmluZyIsIm5hbm9zIiwidG9EYXRlIiwidG9OdW1iZXIiLCJjZWlsIiwiZnJvbURhdGUiLCJkYXRlIiwiZ2V0VGltZSIsInBhcnNlIiwieiIsIm5hbm9zU3RyIiwic3Vic3RyaW5nIiwidG9JU09TdHJpbmciLCJyZXBsYWNlIiwibWF0Y2hlcyIsIm1hdGNoIiwiaXNOYU4iLCJwYXJzZUludCIsImludDY0IiwiVGltZXN0YW1wIiwiUGVlclR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eSIsIlZpZGVvUXVhbGl0eSIsIlRyYWNrVHlwZSIsIkVycm9yQ29kZSIsIlNka1R5cGUiLCJUcmFja1VucHVibGlzaFJlYXNvbiIsIkdvQXdheVJlYXNvbiIsIkNhbGxFbmRlZFJlYXNvbiIsIldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IiwiQ2FsbFN0YXRlJFR5cGUiLCJQYXJ0aWNpcGFudCIsIlBhcnRpY2lwYW50Q291bnQiLCJQaW4iLCJwYXJ0aWNpcGFudHMiLCJwaW5zIiwic3RhcnRlZEF0IiwicGFydGljaXBhbnRDb3VudCIsIkNhbGxTdGF0ZSIsIlBhcnRpY2lwYW50Q291bnQkVHlwZSIsInRvdGFsIiwiYW5vbnltb3VzIiwiUGluJFR5cGUiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJQYXJ0aWNpcGFudCRUeXBlIiwicHVibGlzaGVkVHJhY2tzIiwidHJhY2tMb29rdXBQcmVmaXgiLCJjb25uZWN0aW9uUXVhbGl0eSIsImlzU3BlYWtpbmciLCJpc0RvbWluYW50U3BlYWtlciIsImF1ZGlvTGV2ZWwiLCJpbWFnZSIsInJvbGVzIiwiZSIsImpvaW5lZEF0IiwiZmxvYXQiLCJjdXN0b20iLCJCaXQzMiIsIlN0cmVhbVF1YWxpdHkkVHlwZSIsInZpZGVvUXVhbGl0eSIsIlN0cmVhbVF1YWxpdHkiLCJWaWRlb0RpbWVuc2lvbiRUeXBlIiwid2lkdGgiLCJoZWlnaHQiLCJWaWRlb0RpbWVuc2lvbiIsIlZpZGVvTGF5ZXIkVHlwZSIsInJpZCIsImJpdHJhdGUiLCJmcHMiLCJxdWFsaXR5IiwidmlkZW9EaW1lbnNpb24iLCJWaWRlb0xheWVyIiwiQ29kZWMkVHlwZSIsInBheWxvYWRUeXBlIiwiZm10cExpbmUiLCJjbG9ja1JhdGUiLCJlbmNvZGluZ1BhcmFtZXRlcnMiLCJmZWVkYmFja3MiLCJDb2RlYyIsIklDRVRyaWNrbGUkVHlwZSIsInBlZXJUeXBlIiwiaWNlQ2FuZGlkYXRlIiwiSUNFVHJpY2tsZSIsIlRyYWNrSW5mbyRUeXBlIiwidHJhY2tJZCIsInRyYWNrVHlwZSIsImxheWVycyIsIm1pZCIsImR0eCIsInN0ZXJlbyIsInJlZCIsIlRyYWNrSW5mbyIsIkNhbGwkVHlwZSIsInR5cGUiLCJpZCIsImNyZWF0ZWRCeVVzZXJJZCIsImhvc3RVc2VySWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJDYWxsIiwiRXJyb3IkVHlwZSIsImNvZGUiLCJzaG91bGRSZXRyeSIsIkNsaWVudERldGFpbHMkVHlwZSIsIlNkayIsIk9TIiwiQnJvd3NlciIsIkRldmljZSIsInNkayIsIm9zIiwiYnJvd3NlciIsImRldmljZSIsIkNsaWVudERldGFpbHMiLCJTZGskVHlwZSIsIm1ham9yIiwibWlub3IiLCJwYXRjaCIsIk9TJFR5cGUiLCJ2ZXJzaW9uIiwiYXJjaGl0ZWN0dXJlIiwiQnJvd3NlciRUeXBlIiwiRGV2aWNlJFR5cGUiLCJDYWxsR3JhbnRzJFR5cGUiLCJjYW5QdWJsaXNoQXVkaW8iLCJjYW5QdWJsaXNoVmlkZW8iLCJjYW5TY3JlZW5zaGFyZSIsIkNhbGxHcmFudHMiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSIsImVycm9yIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlIiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCIsIlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSIsIlNlbmRTdGF0c1JlcXVlc3QkVHlwZSIsInN1YnNjcmliZXJTdGF0cyIsInB1Ymxpc2hlclN0YXRzIiwid2VicnRjVmVyc2lvbiIsInNka1ZlcnNpb24iLCJTZW5kU3RhdHNSZXF1ZXN0IiwiU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSIsIlNlbmRTdGF0c1Jlc3BvbnNlIiwiSUNFUmVzdGFydFJlcXVlc3QkVHlwZSIsIklDRVJlc3RhcnRSZXF1ZXN0IiwiSUNFUmVzdGFydFJlc3BvbnNlJFR5cGUiLCJJQ0VSZXN0YXJ0UmVzcG9uc2UiLCJVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIiwiVHJhY2tNdXRlU3RhdGUiLCJtdXRlU3RhdGVzIiwiVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QiLCJVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSIsIlRyYWNrTXV0ZVN0YXRlJFR5cGUiLCJtdXRlZCIsIkF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSIsIlZpZGVvTXV0ZUNoYW5nZWQkVHlwZSIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JFR5cGUiLCJUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMiLCJ0cmFja3MiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlIiwiVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlIiwiVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJFR5cGUiLCJkaW1lbnNpb24iLCJTZW5kQW5zd2VyUmVxdWVzdCRUeXBlIiwic2RwIiwiU2VuZEFuc3dlclJlcXVlc3QiLCJTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSIsIlNlbmRBbnN3ZXJSZXNwb25zZSIsIklDRVRyaWNrbGVSZXNwb25zZSRUeXBlIiwiSUNFVHJpY2tsZVJlc3BvbnNlIiwiU2V0UHVibGlzaGVyUmVxdWVzdCRUeXBlIiwiU2V0UHVibGlzaGVyUmVxdWVzdCIsIlNldFB1Ymxpc2hlclJlc3BvbnNlJFR5cGUiLCJpY2VSZXN0YXJ0IiwiU2V0UHVibGlzaGVyUmVzcG9uc2UiLCJTaWduYWxTZXJ2ZXIiLCJTZXJ2aWNlVHlwZSIsIkkiLCJPIiwiVmlkZW9MYXllclNldHRpbmdfUHJpb3JpdHkiLCJTZnVFdmVudCRUeXBlIiwiU3Vic2NyaWJlck9mZmVyIiwiUHVibGlzaGVyQW5zd2VyIiwiQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIiwiQXVkaW9MZXZlbENoYW5nZWQiLCJJQ0VUcmlja2xlJCIsIkNoYW5nZVB1Ymxpc2hRdWFsaXR5IiwiUGFydGljaXBhbnRKb2luZWQiLCJQYXJ0aWNpcGFudExlZnQiLCJEb21pbmFudFNwZWFrZXJDaGFuZ2VkIiwiSm9pblJlc3BvbnNlIiwiSGVhbHRoQ2hlY2tSZXNwb25zZSIsIlRyYWNrUHVibGlzaGVkIiwiVHJhY2tVbnB1Ymxpc2hlZCIsIkNhbGxHcmFudHNVcGRhdGVkIiwiR29Bd2F5IiwiSUNFUmVzdGFydCIsIlBpbnNDaGFuZ2VkIiwiQ2FsbEVuZGVkIiwiUGFydGljaXBhbnRVcGRhdGVkIiwiZXZlbnRQYXlsb2FkIiwic3Vic2NyaWJlck9mZmVyIiwicHVibGlzaGVyQW5zd2VyIiwiY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIiwiYXVkaW9MZXZlbENoYW5nZWQiLCJpY2VUcmlja2xlIiwiY2hhbmdlUHVibGlzaFF1YWxpdHkiLCJwYXJ0aWNpcGFudEpvaW5lZCIsInBhcnRpY2lwYW50TGVmdCIsImRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJqb2luUmVzcG9uc2UiLCJoZWFsdGhDaGVja1Jlc3BvbnNlIiwidHJhY2tQdWJsaXNoZWQiLCJ0cmFja1VucHVibGlzaGVkIiwiY2FsbEdyYW50c1VwZGF0ZWQiLCJnb0F3YXkiLCJwaW5zVXBkYXRlZCIsImNhbGxFbmRlZCIsInBhcnRpY2lwYW50VXBkYXRlZCIsIlNmdUV2ZW50IiwiUGluc0NoYW5nZWQkVHlwZSIsIkVycm9yJCIsInJlY29ubmVjdFN0cmF0ZWd5IiwiSUNFUmVzdGFydCRUeXBlIiwiU2Z1UmVxdWVzdCRUeXBlIiwiSm9pblJlcXVlc3QiLCJIZWFsdGhDaGVja1JlcXVlc3QiLCJyZXF1ZXN0UGF5bG9hZCIsImpvaW5SZXF1ZXN0IiwiaGVhbHRoQ2hlY2tSZXF1ZXN0IiwiU2Z1UmVxdWVzdCIsIkhlYWx0aENoZWNrUmVxdWVzdCRUeXBlIiwiSGVhbHRoQ2hlY2tSZXNwb25zZSRUeXBlIiwiVHJhY2tQdWJsaXNoZWQkVHlwZSIsInBhcnRpY2lwYW50IiwiVHJhY2tVbnB1Ymxpc2hlZCRUeXBlIiwiY2F1c2UiLCJKb2luUmVxdWVzdCRUeXBlIiwiTWlncmF0aW9uIiwidG9rZW4iLCJzdWJzY3JpYmVyU2RwIiwiZmFzdFJlY29ubmVjdCIsImNsaWVudERldGFpbHMiLCJtaWdyYXRpb24iLCJNaWdyYXRpb24kVHlwZSIsImZyb21TZnVJZCIsImFubm91bmNlZFRyYWNrcyIsInN1YnNjcmlwdGlvbnMiLCJKb2luUmVzcG9uc2UkVHlwZSIsInJlY29ubmVjdGVkIiwiY2FsbFN0YXRlIiwiUGFydGljaXBhbnRKb2luZWQkVHlwZSIsImNhbGxDaWQiLCJQYXJ0aWNpcGFudExlZnQkVHlwZSIsIlBhcnRpY2lwYW50VXBkYXRlZCRUeXBlIiwiU3Vic2NyaWJlck9mZmVyJFR5cGUiLCJQdWJsaXNoZXJBbnN3ZXIkVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCRUeXBlIiwiQ29ubmVjdGlvblF1YWxpdHlJbmZvIiwiY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzIiwiQ29ubmVjdGlvblF1YWxpdHlJbmZvJFR5cGUiLCJEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUiLCJBdWRpb0xldmVsJFR5cGUiLCJsZXZlbCIsIkF1ZGlvTGV2ZWwiLCJBdWRpb0xldmVsQ2hhbmdlZCRUeXBlIiwiYXVkaW9MZXZlbHMiLCJBdWRpb01lZGlhUmVxdWVzdCRUeXBlIiwiY2hhbm5lbENvdW50IiwiQXVkaW9NZWRpYVJlcXVlc3QiLCJBdWRpb1NlbmRlciRUeXBlIiwibWVkaWFSZXF1ZXN0IiwiY29kZWMiLCJBdWRpb1NlbmRlciIsIlZpZGVvTWVkaWFSZXF1ZXN0JFR5cGUiLCJpZGVhbEhlaWdodCIsImlkZWFsV2lkdGgiLCJpZGVhbEZyYW1lUmF0ZSIsIlZpZGVvTWVkaWFSZXF1ZXN0IiwiVmlkZW9MYXllclNldHRpbmckVHlwZSIsImFjdGl2ZSIsIm1heEJpdHJhdGUiLCJzY2FsZVJlc29sdXRpb25Eb3duQnkiLCJwcmlvcml0eSIsIm1heEZyYW1lcmF0ZSIsIlZpZGVvTGF5ZXJTZXR0aW5nIiwiVmlkZW9TZW5kZXIkVHlwZSIsIlZpZGVvU2VuZGVyIiwiQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSIsImF1ZGlvU2VuZGVycyIsInZpZGVvU2VuZGVycyIsIkNhbGxHcmFudHNVcGRhdGVkJFR5cGUiLCJjdXJyZW50R3JhbnRzIiwiR29Bd2F5JFR5cGUiLCJyZWFzb24iLCJDYWxsRW5kZWQkVHlwZSIsIlZpc2liaWxpdHlTdGF0ZSIsIkRlYm91bmNlVHlwZSIsIlNpZ25hbFNlcnZlckNsaWVudCIsIl90cmFuc3BvcnQiLCJtZXRob2RzIiwic2V0UHVibGlzaGVyIiwiaW5wdXQiLCJtZXRob2QiLCJvcHQiLCJtZXJnZU9wdGlvbnMiLCJzdGFja0ludGVyY2VwdCIsInNlbmRBbnN3ZXIiLCJ1cGRhdGVTdWJzY3JpcHRpb25zIiwidXBkYXRlTXV0ZVN0YXRlcyIsInNlbmRTdGF0cyIsInN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24iLCJzdG9wTm9pc2VDYW5jZWxsYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsImJhc2VVcmwiLCJzZW5kSnNvbiIsInRpbWVvdXQiLCJqc29uT3B0aW9ucyIsImlnbm9yZVVua25vd25GaWVsZHMiLCJ3aXRoSGVhZGVycyIsImhlYWRlcnMiLCJpbnRlcmNlcHRVbmFyeSIsIm5leHQiLCJtZXRhIiwiY3JlYXRlU2lnbmFsQ2xpZW50IiwidHJhbnNwb3J0IiwiVHdpcnBGZXRjaFRyYW5zcG9ydCIsImlzUmVhY3ROYXRpdmUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwidG9Mb3dlckNhc2UiLCJsb2dMZXZlbHMiLCJmcmVlemUiLCJ0cmFjZSIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJsb2dnZXIiLCJsb2dUb0NvbnNvbGUiLCJsb2dMZXZlbCIsImFyZ3MiLCJsb2dNZXRob2QiLCJjb25zb2xlIiwibG9nIiwic2V0TG9nZ2VyIiwibCIsImx2bCIsInNldExvZ0xldmVsIiwiZ2V0TG9nZ2VyIiwid2l0aFRhZ3MiLCJsb2dnZXJNZXRob2QiLCJ0YWdzIiwicmVzdWx0IiwiZ2V0UHJlZmVycmVkQ29kZWNzIiwicHJlZmVycmVkQ29kZWMiLCJjb2RlY1RvUmVtb3ZlIiwiUlRDUnRwUmVjZWl2ZXIiLCJjYXAiLCJnZXRDYXBhYmlsaXRpZXMiLCJtYXRjaGVkIiwicGFydGlhbE1hdGNoZWQiLCJ1bm1hdGNoZWQiLCJjb2RlY3MiLCJmb3JFYWNoIiwiYyIsIm1pbWVUeXBlIiwic2hvdWxkUmVtb3ZlQ29kZWMiLCJtYXRjaGVzQ29kZWMiLCJzZHBGbXRwTGluZSIsImluY2x1ZGVzIiwiZ2V0R2VuZXJpY1NkcCIsImRpcmVjdGlvbiIsInRlbXBQYyIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiYWRkVHJhbnNjZWl2ZXIiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwiZ2V0VHJhbnNjZWl2ZXJzIiwidCIsInN0b3AiLCJjbG9zZSIsInNmdUV2ZW50S2luZHMiLCJpc1NmdUV2ZW50IiwiZXZlbnROYW1lIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRGlzcGF0Y2hlciIsInN1YnNjcmliZXJzIiwiZGlzcGF0Y2giLCJldmVudEtpbmQiLCJwYXlsb2FkIiwibGlzdGVuZXJzIiwiZm4iLCJvbiIsIl9hIiwib2ZmIiwiZmlsdGVyIiwib2ZmQWxsIiwiSWNlVHJpY2tsZUJ1ZmZlciIsInN1YnNjcmliZXJDYW5kaWRhdGVzIiwiUmVwbGF5U3ViamVjdCIsInB1Ymxpc2hlckNhbmRpZGF0ZXMiLCJTVUJTQ1JJQkVSIiwiUFVCTElTSEVSX1VOU1BFQ0lGSUVEIiwiZ2V0SWNlQ2FuZGlkYXRlIiwiY2FuZGlkYXRlIiwidXNlcm5hbWVGcmFnbWVudCIsInNwbGl0dGVkQ2FuZGlkYXRlIiwic3BsaXQiLCJ1ZnJhZ0luZGV4IiwiZmluZEluZGV4IiwicyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0pTT04iLCJzZGtJbmZvIiwiUExBSU5fSkFWQVNDUklQVCIsIm9zSW5mbyIsImRldmljZUluZm8iLCJ3ZWJSdGNJbmZvIiwic2V0U2RrSW5mbyIsImdldFNka0luZm8iLCJzZXRPU0luZm8iLCJnZXRPU0luZm8iLCJzZXREZXZpY2VJbmZvIiwiZ2V0RGV2aWNlSW5mbyIsImdldFdlYlJUQ0luZm8iLCJzZXRXZWJSVENJbmZvIiwiZ2V0Q2xpZW50RGV0YWlscyIsInVzZXJBZ2VudCIsIlVBUGFyc2VyIiwiY3B1IiwiZ2V0UmVzdWx0IiwidmVuZG9yIiwibW9kZWwiLCJCb29sZWFuIiwiREVGQVVMVF9CSVRSQVRFIiwiZGVmYXVsdFRhcmdldFJlc29sdXRpb24iLCJkZWZhdWx0Qml0cmF0ZVBlclJpZCIsInEiLCJoIiwiZmluZE9wdGltYWxWaWRlb0xheWVycyIsInZpZGVvVHJhY2siLCJ0YXJnZXRSZXNvbHV0aW9uIiwib3B0aW1hbFZpZGVvTGF5ZXJzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInciLCJpc1JOSW9zIiwiZ2V0Q29tcHV0ZWRNYXhCaXRyYXRlIiwiZG93bnNjYWxlRmFjdG9yIiwidW5zaGlmdCIsInJvdW5kIiwid2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInRhcmdldFdpZHRoIiwidGFyZ2V0SGVpZ2h0IiwiY3VycmVudFBpeGVscyIsInRhcmdldFBpeGVscyIsInJlZHVjdGlvbkZhY3RvciIsInNpemUiLCJtYXgiLCJsYXllciIsInJpZE1hcHBpbmciLCJpbmRleCIsImZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyIsInByZWZlcmVuY2VzIiwiZGVmYXVsdE1heEJpdHJhdGUiLCJ0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IiwiU0NSRUVOX1NIQVJFIiwiU0NSRUVOX1NIQVJFX0FVRElPIiwiVklERU8iLCJBVURJTyIsIlVOU1BFQ0lGSUVEIiwiZXhoYXVzdGl2ZVRyYWNrVHlwZUNoZWNrIiwibXV0ZVR5cGVUb1RyYWNrVHlwZSIsIm11dGVUeXBlIiwiZXhoYXVzdGl2ZU11dGVUeXBlQ2hlY2siLCJ3aXRob3V0Q29uY3VycmVuY3kiLCJjcmVhdGVSdW5uZXIiLCJ3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nIiwid2l0aENhbmNlbGxhdGlvbiIsIndyYXBXaXRoQ2FuY2VsbGF0aW9uIiwicGVuZGluZ1Byb21pc2VzIiwiTWFwIiwic2V0dGxlZCIsImdldCIsInByb21pc2UiLCJ3cmFwcGVyIiwicnVuIiwiY2IiLCJ3cmFwcGVkIiwib25Db250aW51ZWQiLCJwZW5kaW5nIiwidGhlbiIsInNldCIsImhhc0NvbnRpbnVhdGlvbiIsImZpbmFsbHkiLCJkZWxldGUiLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsImFib3J0ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFib3J0IiwiaXNGdW5jdGlvblBhdGNoIiwidXBkYXRlIiwiZ2V0Q3VycmVudFZhbHVlIiwib2JzZXJ2YWJsZSQiLCJlcnIiLCJjb21iaW5lTGF0ZXN0Iiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzZXRDdXJyZW50VmFsdWUiLCJzdWJqZWN0IiwiY3JlYXRlU3Vic2NyaXB0aW9uIiwib2JzZXJ2YWJsZSIsImhhbmRsZXIiLCJzdWJzY3JpcHRpb24iLCJjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24iLCJTeW1ib2wiLCJjb21iaW5lQ29tcGFyYXRvcnMiLCJjb21wYXJhdG9ycyIsImEiLCJiIiwiY29tcGFyYXRvciIsImRlc2NlbmRpbmciLCJjb25kaXRpb25hbCIsInByZWRpY2F0ZSIsIm5vb3BDb21wYXJhdG9yIiwiaGFzVmlkZW8iLCJwIiwiaGFzQXVkaW8iLCJoYXNTY3JlZW5TaGFyZSIsImhhc1NjcmVlblNoYXJlQXVkaW8iLCJpc1Bpbm5lZCIsInBpbiIsImlzTG9jYWxQaW4iLCJwaW5uZWRBdCIsImRvbWluYW50U3BlYWtlciIsInNwZWFraW5nIiwic2NyZWVuU2hhcmluZyIsInB1Ymxpc2hpbmdWaWRlbyIsInB1Ymxpc2hpbmdBdWRpbyIsInBpbm5lZCIsInJlYWN0aW9uVHlwZSIsInJlYWN0aW9uIiwicm9sZSIsImhhc0FueVJvbGUiLCJzb21lIiwiciIsImlmSW52aXNpYmxlQnkiLCJ2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSIsIklOVklTSUJMRSIsImlmSW52aXNpYmxlT3JVbmtub3duQnkiLCJVTktOT1dOIiwiZGVmYXVsdFNvcnRQcmVzZXQiLCJzcGVha2VyTGF5b3V0U29ydFByZXNldCIsInBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQiLCJsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0IiwiQ2FsbGluZ1N0YXRlIiwiZGVmYXVsdEVncmVzcyIsImJyb2FkY2FzdGluZyIsImhscyIsInBsYXlsaXN0X3VybCIsInJ0bXBzIiwiYmFja3N0YWdlU3ViamVjdCIsIkJlaGF2aW9yU3ViamVjdCIsImJsb2NrZWRVc2VySWRzU3ViamVjdCIsImNyZWF0ZWRBdFN1YmplY3QiLCJlbmRlZEF0U3ViamVjdCIsInN0YXJ0c0F0U3ViamVjdCIsInVwZGF0ZWRBdFN1YmplY3QiLCJjcmVhdGVkQnlTdWJqZWN0IiwiY3VzdG9tU3ViamVjdCIsImVncmVzc1N1YmplY3QiLCJpbmdyZXNzU3ViamVjdCIsInJlY29yZGluZ1N1YmplY3QiLCJzZXNzaW9uU3ViamVjdCIsInNldHRpbmdzU3ViamVjdCIsInRyYW5zY3JpYmluZ1N1YmplY3QiLCJlbmRlZEJ5U3ViamVjdCIsInRodW1ibmFpbHNTdWJqZWN0IiwibWVtYmVyc1N1YmplY3QiLCJvd25DYXBhYmlsaXRpZXNTdWJqZWN0IiwiY2FsbGluZ1N0YXRlU3ViamVjdCIsInN0YXJ0ZWRBdFN1YmplY3QiLCJwYXJ0aWNpcGFudENvdW50U3ViamVjdCIsImFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0IiwicGFydGljaXBhbnRzU3ViamVjdCIsImNhbGxTdGF0c1JlcG9ydFN1YmplY3QiLCJzb3J0UGFydGljaXBhbnRzQnkiLCJzZXRTb3J0UGFydGljaXBhbnRzQnkiLCJwcyIsIlJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlIiwiUnhVdGlscy5zZXRDdXJyZW50VmFsdWUiLCJzZXRQYXJ0aWNpcGFudENvdW50IiwiY291bnQiLCJzZXRTdGFydGVkQXQiLCJzZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50Iiwic2V0UGFydGljaXBhbnRzIiwic2V0Q2FsbGluZ1N0YXRlIiwic3RhdGUiLCJzZXRDYWxsU3RhdHNSZXBvcnQiLCJyZXBvcnQiLCJzZXRNZW1iZXJzIiwibWVtYmVycyIsInNldE93bkNhcGFiaWxpdGllcyIsImNhcGFiaWxpdGllcyIsImZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkIiwiZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCIsInJlZHVjZSIsImxvb2t1cFRhYmxlIiwidXBkYXRlUGFydGljaXBhbnQiLCJ0aGVQYXRjaCIsInVwZGF0ZWRQYXJ0aWNpcGFudCIsInVwZGF0ZU9yQWRkUGFydGljaXBhbnQiLCJhZGQiLCJuZXh0UGFydGljaXBhbnRzIiwidXBkYXRlUGFydGljaXBhbnRzIiwidXBkYXRlRnJvbUV2ZW50IiwiZXZlbnQiLCJldmVudEhhbmRsZXJzIiwic2V0U2VydmVyU2lkZVBpbnMiLCJwaW5zTG9va3VwIiwibG9va3VwIiwic2VydmVyU2lkZVBpbm5lZEF0IiwidXBkYXRlRnJvbUNhbGxSZXNwb25zZSIsImJhY2tzdGFnZSIsImJsb2NrZWRfdXNlcl9pZHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInN0YXJ0c19hdCIsImVuZGVkX2F0IiwiY3JlYXRlZF9ieSIsImVncmVzcyIsImluZ3Jlc3MiLCJyZWNvcmRpbmciLCJzZXNzaW9uIiwidXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uIiwidHJhbnNjcmliaW5nIiwidGh1bWJuYWlscyIsInVwZGF0ZUZyb21NZW1iZXJSZW1vdmVkIiwibSIsImluZGV4T2YiLCJ1c2VyX2lkIiwidXBkYXRlRnJvbU1lbWJlckFkZGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0b3BwZWQiLCJ1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0YXJ0ZWQiLCJobHNfcGxheWxpc3RfdXJsIiwiY2FsbGluZ1N0YXRlIiwiSk9JTkVEIiwiYnlSb2xlQ291bnQiLCJwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSIsImNvdW50QnlSb2xlIiwiYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlIiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQiLCJ1c2VyIiwidXNlcl9zZXNzaW9uX2lkIiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCIsInNob3VsZEluc2VydFBhcnRpY2lwYW50IiwidXBkYXRlZFBhcnRpY2lwYW50cyIsImluY3JlbWVudCIsInVwZGF0ZU1lbWJlcnMiLCJtZW1iZXIiLCJtZW1iZXJVcGRhdGUiLCJ1cGRhdGVQYXJ0aWNpcGFudFJlYWN0aW9uIiwiZW1vamlfY29kZSIsInVuYmxvY2tVc2VyIiwiY3VycmVudCIsImJsb2NrVXNlciIsInVwZGF0ZU93bkNhcGFiaWxpdGllcyIsImxvY2FsUGFydGljaXBhbnQiLCJvd25fY2FwYWJpbGl0aWVzIiwicGFydGljaXBhbnRzJCIsImFzT2JzZXJ2YWJsZSIsInBpcGUiLCJzb3J0Iiwic2hhcmVSZXBsYXkiLCJidWZmZXJTaXplIiwicmVmQ291bnQiLCJsb2NhbFBhcnRpY2lwYW50JCIsImlzTG9jYWxQYXJ0aWNpcGFudCIsInJlbW90ZVBhcnRpY2lwYW50cyQiLCJwaW5uZWRQYXJ0aWNpcGFudHMkIiwiZG9taW5hbnRTcGVha2VyJCIsImhhc09uZ29pbmdTY3JlZW5TaGFyZSQiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsImNyZWF0ZWRBdCQiLCJlbmRlZEF0JCIsInN0YXJ0c0F0JCIsInN0YXJ0ZWRBdCQiLCJ1cGRhdGVkQXQkIiwiY2FsbFN0YXRzUmVwb3J0JCIsIm1lbWJlcnMkIiwiY3JlYXRlZEJ5JCIsImN1c3RvbSQiLCJlZ3Jlc3MkIiwiaW5ncmVzcyQiLCJzZXNzaW9uJCIsInNldHRpbmdzJCIsImVuZGVkQnkkIiwidGh1bWJuYWlscyQiLCJpc1NoYWxsb3dFcXVhbCIsIml0ZW0iLCJkdWMiLCJhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCIsImJsb2NrZWRVc2VySWRzJCIsImJhY2tzdGFnZSQiLCJjYWxsaW5nU3RhdGUkIiwib3duQ2FwYWJpbGl0aWVzJCIsInBhcnRpY2lwYW50Q291bnQkIiwicmVjb3JkaW5nJCIsInRyYW5zY3JpYmluZyQiLCJhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50IiwicmVtb3RlUGFydGljaXBhbnRzIiwicGlubmVkUGFydGljaXBhbnRzIiwiaGFzT25nb2luZ1NjcmVlblNoYXJlIiwiY2FsbFN0YXRzUmVwb3J0Iiwib3duQ2FwYWJpbGl0aWVzIiwiYmxvY2tlZFVzZXJJZHMiLCJlbmRlZEF0Iiwic3RhcnRzQXQiLCJjcmVhdGVkQnkiLCJlbmRlZEJ5IiwiU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlIiwiY29ubmVjdGVkVXNlclN1YmplY3QiLCJjYWxsc1N1YmplY3QiLCJzZXRDb25uZWN0ZWRVc2VyIiwic2V0Q2FsbHMiLCJjYWxscyIsInJlZ2lzdGVyQ2FsbCIsImNpZCIsInVucmVnaXN0ZXJDYWxsIiwiZmluZENhbGwiLCJMRUZUIiwibGVhdmUiLCJjYXRjaCIsImNvbm5lY3RlZFVzZXIiLCJTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZSIsInN0b3JlIiwiY29ubmVjdGVkVXNlciQiLCJjYWxscyQiLCJnZXRSdHBNYXAiLCJsaW5lIiwicnRwUmVnZXgiLCJydHBNYXRjaCIsImV4ZWMiLCJvcmlnaW5hbCIsImdldEZtdHAiLCJmbXRwUmVnZXgiLCJmbXRwTWF0Y2giLCJjb25maWciLCJnZXRNZWRpYSIsIm1lZGlhVHlwZSIsInJlZ2V4IiwiUmVnRXhwIiwibWVkaWFXaXRoUG9ydHMiLCJjb2RlY09yZGVyIiwiZ2V0TWVkaWFTZWN0aW9uIiwibWVkaWEiLCJydHBNYXAiLCJmbXRwIiwiaXNUaGVSZXF1aXJlZE1lZGlhU2VjdGlvbiIsImlzVmFsaWRMaW5lIiwidGVzdCIsIl9tZWRpYSIsInJ0cE1hcExpbmUiLCJnZXRPcHVzRm10cCIsInNlY3Rpb24iLCJjb2RlY0lkIiwidG9nZ2xlRHR4IiwiZW5hYmxlIiwib3B1c0ZtdHAiLCJtYXRjaER0eCIsInJlcXVpcmVkRHR4Q29uZmlnIiwibmV3Rm10cCIsImVuYWJsZUhpZ2hRdWFsaXR5QXVkaW8iLCJ0cmFja01pZCIsIm1pbiIsInBhcnNlZFNkcCIsIlNEUCIsImF1ZGlvTWVkaWEiLCJTdHJpbmciLCJvcHVzUnRwIiwicnRwIiwid3JpdGUiLCJQdWJsaXNoZXIiLCJjb25uZWN0aW9uQ29uZmlndXJhdGlvbiIsInBjIiwiZ2V0Q29uZmlndXJhdGlvbiIsIl9jb25uZWN0aW9uQ29uZmlndXJhdGlvbiIsImNvbm5lY3Rpb25Db25maWciLCJzZnVDbGllbnQiLCJkaXNwYXRjaGVyIiwiaXNEdHhFbmFibGVkIiwiaXNSZWRFbmFibGVkIiwiaWNlUmVzdGFydERlbGF5Iiwib25VbnJlY292ZXJhYmxlRXJyb3IiLCJ0cmFuc2NlaXZlclJlZ2lzdHJ5IiwicHVibGlzaE9wdGlvbnNQZXJUcmFja1R5cGUiLCJ0cmFuc2NlaXZlckluaXRPcmRlciIsInRyYWNrS2luZE1hcHBpbmciLCJ0cmFja0xheWVyc0NhY2hlIiwiaXNJY2VSZXN0YXJ0aW5nIiwiY3JlYXRlUGVlckNvbm5lY3Rpb24iLCJhZGRFdmVudExpc3RlbmVyIiwib25JY2VDYW5kaWRhdGUiLCJvbk5lZ290aWF0aW9uTmVlZGVkIiwib25JY2VDYW5kaWRhdGVFcnJvciIsIm9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlIiwib25JY2VHYXRoZXJpbmdTdGF0ZUNoYW5nZSIsIm9uU2lnbmFsaW5nU3RhdGVDaGFuZ2UiLCJzdG9wVHJhY2tzIiwic3RvcFB1Ymxpc2hpbmciLCJjbGVhclRpbWVvdXQiLCJpY2VSZXN0YXJ0VGltZW91dCIsInVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInB1Ymxpc2hTdHJlYW0iLCJtZWRpYVN0cmVhbSIsInRyYWNrIiwib3B0cyIsInJlYWR5U3RhdGUiLCJ0cmFuc2NlaXZlciIsInNlbmRlciIsImhhbmRsZVRyYWNrRW5kZWQiLCJub3RpZnlUcmFja011dGVTdGF0ZUNoYW5nZWQiLCJ2aWRlbyIsInRhcmdldF9yZXNvbHV0aW9uIiwic2NyZWVuU2hhcmVCaXRyYXRlIiwic2NyZWVuc2hhcmluZyIsInZpZGVvRW5jb2RpbmdzIiwic2NyZWVuU2hhcmVTZXR0aW5ncyIsIm9zTmFtZSIsImNvZGVjUHJlZmVyZW5jZXMiLCJnZXRDb2RlY1ByZWZlcmVuY2VzIiwiZW5hYmxlZCIsInN0cmVhbXMiLCJzZW5kRW5jb2RpbmdzIiwic2V0Q29kZWNQcmVmZXJlbmNlcyIsInByZXZpb3VzVHJhY2siLCJyZXBsYWNlVHJhY2siLCJ1bnB1Ymxpc2hTdHJlYW0iLCJzdG9wVHJhY2siLCJpc1B1Ymxpc2hpbmciLCJ0cmFuc2NlaXZlckZvclRyYWNrVHlwZSIsImlzTGl2ZSIsImlzTXV0ZWQiLCJ1cGRhdGVNdXRlU3RhdGUiLCJhdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtIiwiZ2V0U2VuZGVycyIsInNpZ25hbGluZ1N0YXRlIiwicmVtb3ZlVHJhY2siLCJ1cGRhdGVWaWRlb1B1Ymxpc2hRdWFsaXR5IiwiZW5hYmxlZExheWVycyIsInZpZGVvU2VuZGVyIiwicGFyYW1zIiwiZ2V0UGFyYW1ldGVycyIsImVuY29kaW5ncyIsImNoYW5nZWQiLCJlbmFibGVkUmlkcyIsImx5IiwiZW5jIiwic2hvdWxkRW5hYmxlIiwidmxzIiwiYWN0aXZlTGF5ZXJzIiwic2V0UGFyYW1ldGVycyIsImdldFN0YXRzIiwic2VsZWN0b3IiLCJkZWZhdWx0QXVkaW9Db2RlYyIsInNldFNmdUNsaWVudCIsIm1pZ3JhdGVUbyIsInNldENvbmZpZ3VyYXRpb24iLCJzaG91bGRSZXN0YXJ0SWNlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwibmVnb3RpYXRlIiwicmVzdGFydEljZSIsIm11bmdlQ29kZWNzIiwiZXh0cmFjdE1pZCIsInRyYWNrSW5mb3MiLCJnZXRDdXJyZW50VHJhY2tJbmZvcyIsInNldExvY2FsRGVzY3JpcHRpb24iLCJyZXNwb25zZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiaWNlVHJpY2tsZUJ1ZmZlciIsImFkZEljZUNhbmRpZGF0ZSIsIm1zaWQiLCJoZXVyaXN0aWNNaWQiLCJsb2NhbERlc2NyaXB0aW9uIiwib3B0aW1hbExheWVycyIsInB1Ymxpc2hPcHRzIiwib3B0aW1hbExheWVyIiwicmlkVG9WaWRlb1F1YWxpdHkiLCJpc0F1ZGlvVHJhY2siLCJ0cmFja1NldHRpbmdzIiwiaXNTdGVyZW8iLCJlcnJvck1lc3NhZ2UiLCJSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnQiLCJlcnJvckNvZGUiLCJlcnJvclRleHQiLCJpY2VTdGF0ZSIsImhhc05ldHdvcmtDb25uZWN0aW9uIiwiT0ZGTElORSIsInNldFRpbWVvdXQiLCJpY2VHYXRoZXJpbmdTdGF0ZSIsIkxPV19VTlNQRUNJRklFRCIsIk1JRCIsIkhJR0giLCJTdWJzY3JpYmVyIiwiaGFuZGxlT25UcmFjayIsInVucmVnaXN0ZXJPblN1YnNjcmliZXJPZmZlciIsInVucmVnaXN0ZXJPbkljZVJlc3RhcnQiLCJwcmV2aW91c1BDIiwidHJhY2tJZHNUb01pZ3JhdGUiLCJTZXQiLCJnZXRSZWNlaXZlcnMiLCJtaWdyYXRpb25UaW1lb3V0SWQiLCJjbGVhbnVwTWlncmF0aW9uIiwiaGFuZGxlVHJhY2tNaWdyYXRpb24iLCJoYW5kbGVDb25uZWN0aW9uU3RhdGVDaGFuZ2UiLCJjb25uZWN0aW9uU3RhdGUiLCJwcmV2aW91c0lzSWNlUmVzdGFydGluZyIsInByaW1hcnlTdHJlYW0iLCJwYXJ0aWNpcGFudFRvVXBkYXRlIiwidHJhY2tEZWJ1Z0luZm8iLCJzdHJlYW1LaW5kUHJvcCIsIlRSQUNLX1RZUEVfQVVESU8iLCJUUkFDS19UWVBFX1ZJREVPIiwiVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUiLCJUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTyIsInByZXZpb3VzU3RyZWFtIiwiZ2V0VHJhY2tzIiwiYW5zd2VyIiwiY3JlYXRlQW5zd2VyIiwiY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCIsImVuZHBvaW50Iiwib25NZXNzYWdlIiwid3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwiZGF0YSIsIkFycmF5QnVmZmVyIiwiZnJvbUJpbmFyeSIsIlVpbnQ4QXJyYXkiLCJmcm9tSnNvblN0cmluZyIsInNsZWVwIiwiaXNGdW5jdGlvbiIsIkZ1bmN0aW9uIiwiS25vd25Db2RlcyIsIlRPS0VOX0VYUElSRUQiLCJXU19DTE9TRURfU1VDQ0VTUyIsIldTX0NMT1NFRF9BQlJVUFRMWSIsIldTX1BPTElDWV9WSU9MQVRJT04iLCJyZXRyeUludGVydmFsIiwibnVtYmVyT2ZGYWlsdXJlcyIsInJhbmRvbSIsInJhbmRvbUlkIiwiZ2VuZXJhdGVVVUlEdjQiLCJoZXgiLCJieXRlcyIsInBhZFN0YXJ0IiwiZ2V0UmFuZG9tQnl0ZXMiLCJzdWJhcnJheSIsImdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tIiwicG93IiwiYnl0ZUxlbmd0aCIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsImJpbmQiLCJtc0NyeXB0byIsImNvbnZlcnRFcnJvclRvSnNvbiIsImpzb25PYmoiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiXyIsImlzT25saW5lIiwibmF2Iiwid2luZG93Iiwib25MaW5lIiwiYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwiU3RyZWFtU2Z1Q2xpZW50Iiwic2Z1U2VydmVyIiwiaXNNaWdyYXRpbmdBd2F5IiwiaXNGYXN0UmVjb25uZWN0aW5nIiwicGluZ0ludGVydmFsSW5NcyIsInVuaGVhbHRoeVRpbWVvdXRJbk1zIiwic2lnbmFsV3MiLCJDTE9TRUQiLCJ1bnN1YnNjcmliZUljZVRyaWNrbGUiLCJjbGVhckludGVydmFsIiwia2VlcEFsaXZlSW50ZXJ2YWwiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0IiwicmV0cnlhYmxlIiwicnBjIiwic3RhdHMiLCJzZW5kIiwic2lnbmFsUmVhZHkiLCJPUEVOIiwiZWRnZU5hbWUiLCJ0b0JpbmFyeSIsImtlZXBBbGl2ZSIsInNldEludGVydmFsIiwic2NoZWR1bGVDb25uZWN0aW9uQ2hlY2siLCJsYXN0TWVzc2FnZVRpbWVzdGFtcCIsInRpbWVTaW5jZUxhc3RNZXNzYWdlIiwiRVJST1JfQ09OTkVDVElPTl9VTkhFQUxUSFkiLCJlZGdlX25hbWUiLCJsb2dJbnRlcmNlcHRvciIsInVybCIsImludGVyY2VwdG9ycyIsIkF1dGhvcml6YXRpb24iLCJ3c19lbmRwb2ludCIsIm9uT3BlbiIsIk5PUk1BTF9DTE9TVVJFIiwiRVJST1JfQ09OTkVDVElPTl9CUk9LRU4iLCJNQVhfUkVUUklFUyIsInJldHJ5QXR0ZW1wdCIsInJwY0NhbGxSZXN1bHQiLCJ3YXRjaENhbGxBY2NlcHRlZCIsIm9uQ2FsbEFjY2VwdGVkIiwiY3VycmVudFVzZXJJZCIsIlJJTkdJTkciLCJ3YXRjaENhbGxSZWplY3RlZCIsIm9uQ2FsbFJlamVjdGVkIiwiZXZlbnRDYWxsIiwiY2FsbFNlc3Npb24iLCJyZWplY3RlZEJ5IiwicmVqZWN0ZWRfYnkiLCJpc0NyZWF0ZWRCeU1lIiwiZXZlcnlvbmVFbHNlUmVqZWN0ZWQiLCJldmVyeSIsIndhdGNoQ2FsbEVuZGVkIiwib25DYWxsRW5kZWQiLCJKT0lOSU5HIiwid2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCIsIm9uQ2FsbEdyYW50c1VwZGF0ZWQiLCJuZXh0Q2FwYWJpbGl0aWVzIiwiY2FwYWJpbGl0eSIsIndhdGNoQ2hhbmdlUHVibGlzaFF1YWxpdHkiLCJ1cGRhdGVQdWJsaXNoUXVhbGl0eSIsIndhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIiwicGF0Y2hlcyIsIndhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQiLCJ3YXRjaExpdmVFbmRlZCIsIkxJVkVfRU5ERUQiLCJwZXJtaXNzaW9uc0NvbnRleHQiLCJoYXNQZXJtaXNzaW9uIiwid2F0Y2hTZnVFcnJvclJlcG9ydHMiLCJ3YXRjaFBpbnNVcGRhdGVkIiwib25QaW5zVXBkYXRlZCIsImhhbmRsZVJlbW90ZVNvZnRNdXRlIiwiTU9ERVJBVElPTiIsImNhbWVyYSIsImRpc2FibGUiLCJtaWNyb3Bob25lIiwicHVibGlzaGVyIiwic3RvcFB1Ymxpc2giLCJ3YXRjaFBhcnRpY2lwYW50Sm9pbmVkIiwib25QYXJ0aWNpcGFudEpvaW5lZCIsImFzc2lnbiIsInNjcmVlblNoYXJlVHJhY2siLCJ3YXRjaFBhcnRpY2lwYW50TGVmdCIsIm9uUGFydGljaXBhbnRMZWZ0Iiwid2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQiLCJvblBhcnRpY2lwYW50VXBkYXRlZCIsIndhdGNoVHJhY2tQdWJsaXNoZWQiLCJvblRyYWNrUHVibGlzaGVkIiwidW5pcXVlIiwid2F0Y2hUcmFja1VucHVibGlzaGVkIiwib25UcmFja1VucHVibGlzaGVkIiwiYXJyIiwid2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkIiwid2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCIsInJlZ2lzdGVyRXZlbnRIYW5kbGVycyIsInJpbmdpbmciLCJyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyIsImNvb3JkaW5hdG9yUmluZ0V2ZW50cyIsImh0dHBDbGllbnQiLCJjcmVkZW50aWFscyIsInN0YXRzX29wdGlvbnMiLCJkb0pvaW4iLCJ0b1J0Y0NvbmZpZ3VyYXRpb24iLCJpY2Vfc2VydmVycyIsInNlcnZlciIsIm1ldGFkYXRhIiwic3RhdHNPcHRpb25zIiwibG9jYXRpb24iLCJnZXRMb2NhdGlvbkhpbnQiLCJyZXF1ZXN0IiwicG9zdCIsInJ0Y0NvbmZpZyIsImljZVNlcnZlcnMiLCJpY2UiLCJ1cmxzIiwidXNlcm5hbWUiLCJjcmVkZW50aWFsIiwicGFzc3dvcmQiLCJmbGF0dGVuIiwiZ2V0U2RrU2lnbmF0dXJlIiwicGxhdGZvcm0iLCJzZGtOYW1lIiwiZ2V0U2RrTmFtZSIsImdldFNka1ZlcnNpb24iLCJSRUFDVCIsIlJFQUNUX05BVElWRSIsImNyZWF0ZVN0YXRzUmVwb3J0ZXIiLCJzdWJzY3JpYmVyIiwiZGF0YWNlbnRlciIsInBvbGxpbmdJbnRlcnZhbEluTXMiLCJnZXRSYXdTdGF0c0ZvclRyYWNrIiwiZ2V0U3RhdHNGb3JTdHJlYW0iLCJzdGF0c0ZvclN0cmVhbSIsInRyYW5zZm9ybSIsInRyYWNrS2luZCIsInN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IiLCJzZXNzaW9uSWRzVG9UcmFjayIsInN0b3BSZXBvcnRpbmdTdGF0c0ZvciIsInBhcnRpY2lwYW50U3RhdHMiLCJzZXNzaW9uSWRzIiwiaGFzIiwibWVyZ2VkU3RyZWFtIiwiTWVkaWFTdHJlYW0iLCJ2aWRlb1N0cmVhbSIsImdldFZpZGVvVHJhY2tzIiwiYXVkaW9TdHJlYW0iLCJnZXRBdWRpb1RyYWNrcyIsImFsbCIsImFnZ3JlZ2F0ZSIsImdldEVtcHR5U3RhdHMiLCJzdWJzY3JpYmVyUmF3U3RhdHMiLCJwdWJsaXNoZXJSYXdTdGF0cyIsInRpbWVzdGFtcCIsInRpbWVvdXRJZCIsImxvb3AiLCJzdGF0IiwicnRjU3RyZWFtU3RhdHMiLCJ0cmFuc3BvcnRJZCIsInJvdW5kVHJpcFRpbWUiLCJkdGxzU3RhdGUiLCJjYW5kaWRhdGVQYWlyIiwic2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQiLCJjdXJyZW50Um91bmRUcmlwVGltZSIsImJ5dGVzU2VudCIsImJ5dGVzUmVjZWl2ZWQiLCJmcmFtZUhlaWdodCIsImZyYW1lV2lkdGgiLCJmcmFtZXNQZXJTZWNvbmQiLCJqaXR0ZXIiLCJxdWFsaXR5TGltaXRhdGlvblJlYXNvbiIsInNzcmMiLCJyYXdTdGF0cyIsInJhd1JlcG9ydCIsInRvdGFsQnl0ZXNTZW50IiwidG90YWxCeXRlc1JlY2VpdmVkIiwiYXZlcmFnZUppdHRlckluTXMiLCJhdmVyYWdlUm91bmRUcmlwVGltZUluTXMiLCJxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMiLCJoaWdoZXN0RnJhbWVXaWR0aCIsImhpZ2hlc3RGcmFtZUhlaWdodCIsImhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQiLCJhZ2dyZWdhdGVkU3RhdHMiLCJtYXhBcmVhIiwiYXJlYSIsImFjYyIsInN0cmVhbSIsInN0cmVhbUFyZWEiLCJTZnVTdGF0c1JlcG9ydGVyIiwid2ViUlRDVmVyc2lvbiIsInN0YXJ0IiwicmVwb3J0aW5nX2ludGVydmFsX21zIiwiaW50ZXJ2YWxJZCIsIndlYlJUQ0luZm8iLCJERUZBVUxUX1RIUkVTSE9MRCIsIlZpZXdwb3J0VHJhY2tlciIsImVsZW1lbnRIYW5kbGVyTWFwIiwib2JzZXJ2ZXIiLCJxdWV1ZVNldCIsInNldFZpZXdwb3J0Iiwidmlld3BvcnRFbGVtZW50IiwiY2xlYW51cCIsImRpc2Nvbm5lY3QiLCJjbGVhciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJyb290IiwidGhyZXNob2xkIiwicXVldWVFbGVtZW50IiwicXVldWVIYW5kbGVyIiwiY29udGFpbnMiLCJvYnNlcnZlIiwiZWxlbWVudCIsInF1ZXVlSXRlbSIsInVub2JzZXJ2ZSIsImlzU2FmYXJpIiwiaXNGaXJlZm94IiwiaXNDaHJvbWUiLCJERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEUiLCJEeW5hc2NhbGVNYW5hZ2VyIiwidmlld3BvcnRUcmFja2VyIiwidHJhY2tFbGVtZW50VmlzaWJpbGl0eSIsInByZXZpb3VzVmlzaWJpbGl0eVN0YXRlIiwiaXNWaXNpYmxlIiwiaXNJbnRlcnNlY3RpbmciLCJkb2N1bWVudCIsImZ1bGxzY3JlZW5FbGVtZW50IiwiVklTSUJMRSIsImJpbmRWaWRlb0VsZW1lbnQiLCJ2aWRlb0VsZW1lbnQiLCJib3VuZFBhcnRpY2lwYW50IiwicmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMiLCJkZWJvdW5jZVR5cGUiLCJ1cGRhdGVTdWJzY3JpcHRpb25zUGFydGlhbCIsInBhcnRpY2lwYW50JCIsInRha2VXaGlsZSIsInZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uIiwibmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlIiwiTUVESVVNIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXN0RGltZW5zaW9ucyIsInJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJjdXJyZW50RGltZW5zaW9ucyIsIlNMT1ciLCJwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24iLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsIkZBU1QiLCJhdXRvcGxheSIsInBsYXlzSW5saW5lIiwic3RyZWFtU3Vic2NyaXB0aW9uIiwic291cmNlIiwic2NyZWVuU2hhcmVTdHJlYW0iLCJzcmNPYmplY3QiLCJwbGF5IiwiYmluZEF1ZGlvRWxlbWVudCIsImF1ZGlvRWxlbWVudCIsInVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uIiwic2NyZWVuU2hhcmVBdWRpb1N0cmVhbSIsInNlbGVjdGVkRGV2aWNlIiwic3BlYWtlciIsInNldFNpbmtJZCIsInNpbmtJZFN1YnNjcmlwdGlvbiIsInNlbGVjdGVkRGV2aWNlJCIsImRldmljZUlkIiwidm9sdW1lU3Vic2NyaXB0aW9uIiwidm9sdW1lJCIsInZvbHVtZSIsImF1ZGlvVm9sdW1lIiwiUGVybWlzc2lvbnNDb250ZXh0IiwicGVybWlzc2lvbnMiLCJzZXRQZXJtaXNzaW9ucyIsInNldENhbGxTZXR0aW5ncyIsInBlcm1pc3Npb24iLCJjYW5SZXF1ZXN0IiwiYXVkaW8iLCJhY2Nlc3NfcmVxdWVzdF9lbmFibGVkIiwiQ2FsbFR5cGUiLCJDYWxsVHlwZXNSZWdpc3RyeSIsImNhbGxUeXBlcyIsInJlZ2lzdGVyIiwiY2FsbFR5cGUiLCJ1bnJlZ2lzdGVyIiwiQ2FsbFR5cGVzIiwiQnJvd3NlclBlcm1pc3Npb24iLCJkaXNwb3NlQ29udHJvbGxlciIsIndhc1Byb21wdGVkIiwicmVhZHkiLCJhc3N1bWVHcmFudGVkIiwic2V0U3RhdGUiLCJjYW5RdWVyeVBlcm1pc3Npb25zIiwic3RhdHVzIiwicXVlcnkiLCJxdWVyeU5hbWUiLCJkaXNwb3NlIiwiZ2V0U3RhdGUiLCJwcm9tcHQiLCJmb3JjZVByb21wdCIsInRocm93T25Ob3RBbGxvd2VkIiwiaXNHcmFudGVkIiwiRE9NRXhjZXB0aW9uIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiY29uc3RyYWludHMiLCJkaXNwb3NlT2ZNZWRpYVN0cmVhbSIsImxpc3RlbiIsImZyb21FdmVudFBhdHRlcm4iLCJ1bmxpc3RlbiIsImxpc3RlbmVyIiwidW5pbml0aWFsaXplZCIsImxhenkiLCJmYWN0b3J5IiwiZ2V0RGV2aWNlcyIsImRldmljZXMiLCJlbnVtZXJhdGVEZXZpY2VzIiwic2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24iLCJsYWJlbCIsImNoZWNrSWZBdWRpb091dHB1dENoYW5nZVN1cHBvcnRlZCIsImNyZWF0ZUVsZW1lbnQiLCJhdWRpb0RldmljZUNvbnN0cmFpbnRzIiwiYXV0b0dhaW5Db250cm9sIiwibm9pc2VTdXBwcmVzc2lvbiIsImVjaG9DYW5jZWxsYXRpb24iLCJ2aWRlb0RldmljZUNvbnN0cmFpbnRzIiwiZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbiIsImdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24iLCJnZXREZXZpY2VDaGFuZ2VPYnNlcnZlciIsImZyb21FdmVudCIsImRlYm91bmNlVGltZSIsImdldEF1ZGlvRGV2aWNlcyIsIm1lcmdlIiwic3RhcnRXaXRoIiwiY29uY2F0TWFwIiwiZ2V0VmlkZW9EZXZpY2VzIiwiZ2V0QXVkaW9PdXRwdXREZXZpY2VzIiwiZ2V0U3RyZWFtIiwiZ2V0QXVkaW9TdHJlYW0iLCJ0cmFja0NvbnN0cmFpbnRzIiwiZ2V0VmlkZW9TdHJlYW0iLCJnZXRTY3JlZW5TaGFyZVN0cmVhbSIsImdldERpc3BsYXlNZWRpYSIsImlkZWFsIiwic3lzdGVtQXVkaW8iLCJkZXZpY2VJZHMkIiwicmVsZWFzZSIsIklucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIiwic3RvcE9uTGVhdmUiLCJpc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQiLCJmaWx0ZXJzIiwic3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWciLCJmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZyIsImhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzIiwibGlzdERldmljZXMiLCJvcHRpbWlzdGljU3RhdHVzIiwic2V0UGVuZGluZ1N0YXR1cyIsInVubXV0ZVN0cmVhbSIsInNldFN0YXR1cyIsImZvcmNlU3RvcCIsInByZXZTdGF0dXMiLCJkaXNhYmxlTW9kZSIsIm11dGVTdHJlYW0iLCJzdGF0dXNDaGFuZ2VTZXR0bGVkIiwicmVzdW1lIiwidG9nZ2xlIiwicmVnaXN0ZXJGaWx0ZXIiLCJyZWdpc3RlcmVkIiwiYXBwbHlTZXR0aW5nc1RvU3RyZWFtIiwic2V0RGVmYXVsdENvbnN0cmFpbnRzIiwic2VsZWN0Iiwic2V0RGV2aWNlIiwic3RvcFB1Ymxpc2hTdHJlYW0iLCJtdXRlTG9jYWxTdHJlYW0iLCJhbGxFbmRlZCIsInNldE1lZGlhU3RyZWFtIiwibXV0ZVRyYWNrcyIsInVubXV0ZVRyYWNrcyIsInJvb3RTdHJlYW0iLCJkZWZhdWx0Q29uc3RyYWludHMiLCJjaGFpbldpdGgiLCJwYXJlbnRTdHJlYW0iLCJmaWx0ZXJTdHJlYW0iLCJwYXJlbnQiLCJvcmlnaW5hbFN0b3AiLCJwYXJlbnRUcmFjayIsImhhbmRsZVBhcmVudFRyYWNrRW5kZWQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJpbnB1dFN0cmVhbSIsIm91dHB1dCIsIm1lZGlhRGV2aWNlS2luZCIsInBhaXJ3aXNlIiwicHJldkRldmljZXMiLCJjdXJyZW50RGV2aWNlcyIsImlzRGV2aWNlRGlzY29ubmVjdGVkIiwiaXNEZXZpY2VSZXBsYWNlZCIsImN1cnJlbnREZXZpY2UiLCJmaW5kRGV2aWNlSW5MaXN0IiwicHJldkRldmljZSIsImdyb3VwSWQiLCJJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIiwic3RhdHVzU3ViamVjdCIsIm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0IiwibWVkaWFTdHJlYW1TdWJqZWN0Iiwic2VsZWN0ZWREZXZpY2VTdWJqZWN0IiwiZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCIsIm1lZGlhU3RyZWFtJCIsInN0YXR1cyQiLCJvcHRpbWlzdGljU3RhdHVzJCIsImRlZmF1bHRDb25zdHJhaW50cyQiLCJoYXNCcm93c2VyUGVybWlzc2lvbiQiLCJvZiIsInBlbmRpbmdTdGF0dXMiLCJnZXREZXZpY2VJZEZyb21TdHJlYW0iLCJDYW1lcmFNYW5hZ2VyU3RhdGUiLCJkaXJlY3Rpb25TdWJqZWN0IiwiZGlyZWN0aW9uJCIsInNldERpcmVjdGlvbiIsImZhY2luZ01vZGUiLCJDYW1lcmFNYW5hZ2VyIiwic2VsZWN0RGlyZWN0aW9uIiwiZmxpcCIsIm5ld0RpcmVjdGlvbiIsInNlbGVjdFRhcmdldFJlc29sdXRpb24iLCJyZXNvbHV0aW9uIiwic2V0UHJlZmVycmVkQ29kZWMiLCJwdWJsaXNoVmlkZW9TdHJlYW0iLCJNaWNyb3Bob25lTWFuYWdlclN0YXRlIiwic3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCIsInNwZWFraW5nV2hpbGVNdXRlZCQiLCJzcGVha2luZ1doaWxlTXV0ZWQiLCJzZXRTcGVha2luZ1doaWxlTXV0ZWQiLCJERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TIiwiQVVESU9fTEVWRUxfVEhSRVNIT0xEIiwiRkZUX1NJWkUiLCJjcmVhdGVTb3VuZERldGVjdG9yIiwib25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkIiwiZGV0ZWN0aW9uRnJlcXVlbmN5SW5NcyIsImF1ZGlvTGV2ZWxUaHJlc2hvbGQiLCJmZnRTaXplIiwiZGVzdHJveVN0cmVhbU9uU3RvcCIsImF1ZGlvQ29udGV4dCIsIkF1ZGlvQ29udGV4dCIsImFuYWx5c2VyIiwiY3JlYXRlQW5hbHlzZXIiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNvbm5lY3QiLCJmcmVxdWVuY3lCaW5Db3VudCIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiaXNTb3VuZERldGVjdGVkIiwiYXZlcmFnZWREYXRhVmFsdWUiLCJwdiIsImN2IiwicGVyY2VudGFnZSIsIlJOU3BlZWNoRGV0ZWN0b3IiLCJwYzEiLCJwYzIiLCJhZGRUcmFjayIsImF1ZGlvVHJhY2tzIiwib25TcGVha2luZ0RldGVjdGVkU3RhdGVDaGFuZ2UiLCJhdWRpb01lZGlhU291cmNlU3RhdHMiLCJNaWNyb3Bob25lTWFuYWdlciIsInNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQiLCJzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWciLCJzdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uIiwic3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24iLCJub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiIsIm5vaXNlQ2FuY2VsbGF0aW9uIiwiYXV0b09uIiwibm9pc2VfY2FuY2VsbGF0aW9uIiwibW9kZSIsIm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCIsImVuYWJsZU5vaXNlQ2FuY2VsbGF0aW9uIiwiaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5Iiwibm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyIsIm5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmUiLCJub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nIiwicmVnaXN0cmF0aW9uUmVzdWx0IiwidG9GaWx0ZXIiLCJ1cmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbiIsImRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbiIsImVuYWJsZVNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiIsImRpc2FibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24iLCJwdWJsaXNoQXVkaW9TdHJlYW0iLCJyblNwZWVjaERldGVjdG9yIiwic291bmREZXRlY3RvckNsZWFudXAiLCJTY3JlZW5TaGFyZVN0YXRlIiwiYXVkaW9FbmFibGVkU3ViamVjdCIsImF1ZGlvRW5hYmxlZCQiLCJhdWRpb0VuYWJsZWQiLCJzZXRBdWRpb0VuYWJsZWQiLCJpc0VuYWJsZWQiLCJzZXRTZXR0aW5ncyIsIlNjcmVlblNoYXJlTWFuYWdlciIsIm1heWJlVGFyZ2V0UmVzb2x1dGlvbiIsImVuYWJsZVNjcmVlblNoYXJlQXVkaW8iLCJkaXNhYmxlU2NyZWVuU2hhcmVBdWRpbyIsInB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbSIsIlNwZWFrZXJTdGF0ZSIsInZvbHVtZVN1YmplY3QiLCJpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCIsInNldFZvbHVtZSIsIlNwZWFrZXJNYW5hZ2VyIiwic2V0UGFydGljaXBhbnRWb2x1bWUiLCJzdHJlYW1DbGllbnQiLCJjbGllbnRTdG9yZSIsIndhdGNoaW5nIiwiZHluYXNjYWxlTWFuYWdlciIsInRyYWNrU3Vic2NyaXB0aW9uc1N1YmplY3QiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwiaXNMZWF2aW5nIiwiaW5pdGlhbGl6ZWQiLCJqb2luTGVhdmVDb25jdXJyZW5jeVRhZyIsImxlYXZlQ2FsbEhvb2tzIiwic3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycyIsIm9mZkhhbmRsZXIiLCJjYWxsX2NpZCIsInJlZ2lzdGVyZWRPZmZIYW5kbGVyIiwicmVqZWN0IiwiYXNzZXJ0Q2FsbEpvaW5lZCIsImhhc090aGVyUGFydGljaXBhbnRzIiwic3RhdHNSZXBvcnRlciIsInNmdVN0YXRzUmVwb3J0ZXIiLCJob29rIiwic2NyZWVuU2hhcmUiLCJzdG9wT25MZWF2ZVByb21pc2VzIiwic2V0dXAiLCJzdHJlYW1DbGllbnRCYXNlUGF0aCIsInJpbmciLCJyaW5naW5nU3ViamVjdCIsIl9oYXNDb25uZWN0aW9uSUQiLCJhcHBseURldmljZUNvbmZpZyIsImdldE9yQ3JlYXRlIiwibm90aWZ5IiwiYWNjZXB0IiwiaXNNaWdyYXRpbmciLCJNSUdSQVRJTkciLCJpc1JlY29ubmVjdGluZyIsIlJFQ09OTkVDVElORyIsInNmdVRva2VuIiwicHJldmlvdXNTZnVDbGllbnQiLCJyZWNvbm5lY3QiLCJzdHJhdGVneSIsImN1cnJlbnRTdGF0ZSIsIm1pZ3JhdGluZ19mcm9tIiwidW5yZWdpc3RlckdvQXdheSIsIlJFQ09OTkVDVElOR19GQUlMRUQiLCJ1bnN1YnNjcmliZU9ubGluZUV2ZW50Iiwib25saW5lIiwiY3VycmVudENhbGxpbmdTdGF0ZSIsInNob3VsZFJlY29ubmVjdCIsImlzRmlyc3RSZWNvbm5lY3RBdHRlbXB0IiwidW5zdWJzY3JpYmVPZmZsaW5lRXZlbnQiLCJpc0Fub255bW91cyIsImF1ZGlvU2V0dGluZ3MiLCJvcHVzX2R0eF9lbmFibGVkIiwicmVkdW5kYW50X2NvZGluZ19lbmFibGVkIiwid2FpdEZvckpvaW5SZXNwb25zZSIsImN1cnJlbnRQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudExvb2t1cCIsImV4aXN0aW5nUGFydGljaXBhbnQiLCJpbml0Q2FtZXJhIiwiaW5pdE1pYyIsImF1ZGlvVHJhY2siLCJzY3JlZW5TaGFyZUF1ZGlvVHJhY2siLCJjaGFuZ2VzIiwiY2hhbmdlIiwicHJvcCIsInNjcmVlblNoYXJlRGltZW5zaW9uIiwicmVzZXRSZWFjdGlvbiIsImNyaXRlcmlhIiwic2VuZFJlYWN0aW9uIiwibXV0ZVNlbGYiLCJteVVzZXJJZCIsIm11dGVVc2VyIiwibXV0ZU90aGVycyIsInVzZXJJZHNUb011dGUiLCJ1c2VyX2lkcyIsIm11dGVBbGxVc2VycyIsIm11dGVfYWxsX3VzZXJzIiwic3RhcnRSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwic3RhcnRUcmFuc2NyaXB0aW9uIiwic3RvcFRyYW5zY3JpcHRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbnMiLCJjYW5SZXF1ZXN0UGVybWlzc2lvbnMiLCJncmFudFBlcm1pc3Npb25zIiwidXBkYXRlVXNlclBlcm1pc3Npb25zIiwiZ3JhbnRfcGVybWlzc2lvbnMiLCJyZXZva2VQZXJtaXNzaW9ucyIsInJldm9rZV9wZXJtaXNzaW9ucyIsImdvTGl2ZSIsInN0b3BMaXZlIiwic3RhcnRITFMiLCJzdG9wSExTIiwidXBkYXRlcyIsImVuZENhbGwiLCJ1bnBpbiIsInBpbkZvckV2ZXJ5b25lIiwidW5waW5Gb3JFdmVyeW9uZSIsInF1ZXJ5TWVtYmVycyIsInVwZGF0ZUNhbGxNZW1iZXJzIiwic2NoZWR1bGVBdXRvRHJvcCIsImRyb3BUaW1lb3V0IiwidGltZW91dEluTXMiLCJhdXRvX2NhbmNlbF90aW1lb3V0X21zIiwicXVlcnlSZWNvcmRpbmdzIiwiY2FsbFNlc3Npb25JZCIsInF1ZXJ5VHJhbnNjcmlwdGlvbnMiLCJnZXRDYWxsU3RhdHMiLCJjYWxsU2Vzc2lvbklEIiwic3VibWl0RmVlZGJhY2siLCJyYXRpbmciLCJ1c2VyU2Vzc2lvbklkIiwic2RrX3ZlcnNpb24iLCJzZW5kQ3VzdG9tRXZlbnQiLCJ1bmJpbmQiLCJiaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJoYW5kbGVFcnJvciIsInNyYyIsImZhbGxiYWNrSW1hZ2VTb3VyY2UiLCJ0aHVtYm5haWxVcmwiLCJVUkwiLCJpbWFnZV91cmwiLCJzZWFyY2hQYXJhbXMiLCJjYWxsVHlwZUNvbmZpZyIsInBhcnRpY2lwYW50U29ydGVyIiwiSURMRSIsInJlZ2lzdGVyRWZmZWN0cyIsImRlYm91bmNlIiwidGltZXIiLCJwZXJtaXNzaW9uVG9UcmFja1R5cGUiLCJpc1JpbmdpbmciLCJyZWNlaXZlcl9pZCIsImNyZWF0ZWRfYnlfaWQiLCJhY2NlcHRlZF9ieSIsImxlYXZlQ2FsbElkbGUiLCJkZWZhdWx0RGlyZWN0aW9uIiwiYmFja2VuZFNldHRpbmciLCJjYW1lcmFfZmFjaW5nIiwiY2FtZXJhX2RlZmF1bHRfb24iLCJtaWNfZGVmYXVsdF9vbiIsIkluc2lnaHRNZXRyaWNzIiwiY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wIiwid3NUb3RhbEZhaWx1cmVzIiwid3NDb25zZWN1dGl2ZUZhaWx1cmVzIiwiaW5zdGFuY2VDbGllbnRJZCIsInBvc3RJbnNpZ2h0cyIsImluc2lnaHRUeXBlIiwiaW5zaWdodHMiLCJtYXhBdHRlbXB0cyIsImF4aW9zIiwiYnVpbGRXc0ZhdGFsSW5zaWdodCIsImNvbm5lY3Rpb24iLCJidWlsZFdzQmFzZUluc2lnaHQiLCJjbGllbnQiLCJyZWFkeV9zdGF0ZSIsIl9idWlsZFVybCIsImFwaV9rZXkiLCJzdGFydF90cyIsImluc2lnaHRNZXRyaWNzIiwiZW5kX3RzIiwiYXV0aF90eXBlIiwiZ2V0QXV0aFR5cGUiLCJ0b2tlbk1hbmFnZXIiLCJ1c2VySUQiLCJ1c2VyX2RldGFpbHMiLCJfdXNlciIsImNsaWVudF9pZCIsImNvbm5lY3Rpb25JRCIsIndzX2RldGFpbHMiLCJ3c19jb25zZWN1dGl2ZV9mYWlsdXJlcyIsIndzX3RvdGFsX2ZhaWx1cmVzIiwicmVxdWVzdF9pZCIsInJlcXVlc3RJRCIsInVzZXJfYWdlbnQiLCJpbnN0YW5jZV9jbGllbnRfaWQiLCJidWlsZFdzU3VjY2Vzc0FmdGVyRmFpbHVyZUluc2lnaHQiLCJpc0Nsb3NlRXZlbnQiLCJyZXMiLCJpc0Vycm9yRXZlbnQiLCJTdGFibGVXU0Nvbm5lY3Rpb24iLCJfbG9nIiwiZXh0cmEiLCJzZXRDbGllbnQiLCJVUkxTZWFyY2hQYXJhbXMiLCJnZXRVc2VyQWdlbnQiLCJ3c0Jhc2VVUkwiLCJvbmxpbmVTdGF0dXNDaGFuZ2VkIiwiX3NldEhlYWx0aCIsImlzSGVhbHRoeSIsIl9yZWNvbm5lY3QiLCJpbnRlcnZhbCIsIm9ub3BlbiIsIndzSUQiLCJfZ2V0VG9rZW4iLCJhdXRoTWVzc2FnZSIsImF1dGhlbnRpY2F0aW9uU2VudCIsIm9ubWVzc2FnZSIsImlzUmVzb2x2ZWQiLCJyZWplY3RQcm9taXNlIiwiX2Vycm9yRnJvbVdTRXZlbnQiLCJsYXN0RXZlbnQiLCJzY2hlZHVsZU5leHRQaW5nIiwicmVzb2x2ZVByb21pc2UiLCJpc0Nvbm5lY3RpbmciLCJjb25zZWN1dGl2ZUZhaWx1cmVzIiwiaXNTdGF0aWMiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmIiwicmVmcmVzaFRva2VuIiwib25jbG9zZSIsIndhc0NsZWFuIiwidG90YWxGYWlsdXJlcyIsIm9uZXJyb3IiLCJoZWFsdGh5IiwiZGlzcGF0Y2hJbW1lZGlhdGVseSIsImlzV1NGYWlsdXJlIiwic3RhdHVzQ29kZSIsIlN0YXR1c0NvZGUiLCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZSIsImNvbm5lY3Rpb25PcGVuIiwiaGVhbHRoQ2hlY2tUaW1lb3V0UmVmIiwiY2xpZW50SUQiLCJwaW5nSW50ZXJ2YWwiLCJpc0Rpc2Nvbm5lY3RlZCIsImhlYWx0aENoZWNrIiwiX2Nvbm5lY3QiLCJfd2FpdEZvckhlYWx0aHkiLCJyYWNlIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiaXNDbG9zZWRQcm9taXNlIiwiZW5hYmxlV1NGYWxsYmFjayIsImlzVG9rZW5SZWFkeSIsInRva2VuUmVhZHkiLCJsb2FkVG9rZW4iLCJ3c1VSTCIsImNvbm5lY3Rpb25faWQiLCJyZXNvbHZlQ29ubmVjdGlvbklkIiwiZW5hYmxlSW5zaWdodHMiLCJyZWplY3RDb25uZWN0aW9uSWQiLCJfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24iLCJpc1N0cmluZyIsImFycmF5T3JTdHJpbmciLCJpc01hcFN0cmluZ0NhbGxiYWNrIiwiY2FsbGJhY2siLCJjaGFyQXQiLCJrVmFsdWUiLCJtYXBwZWRWYWx1ZSIsImVuY29kZUJhc2U2NCIsImZyb21CeXRlQXJyYXkiLCJjaGFyIiwiY2hhckNvZGVBdCIsImRlY29kZUJhc2U2NCIsImZyb21DaGFyQ29kZSIsIkwiLCJ4IiwiQSIsIkRldlRva2VuIiwiVXNlckZyb21Ub2tlbiIsImZyYWdtZW50cyIsImI2NFBheWxvYWQiLCJUb2tlbk1hbmFnZXIiLCJzZWNyZXQiLCJzZXRUb2tlbk9yUHJvdmlkZXIiLCJ0b2tlbk9yUHJvdmlkZXIiLCJ2YWxpZGF0ZVRva2VuIiwidG9rZW5Qcm92aWRlciIsInJlc2V0IiwibG9hZFRva2VuUHJvbWlzZSIsInRva2VuVXNlcklkIiwiZ2V0VG9rZW4iLCJBUElFcnJvckNvZGVzIiwiaXNBUElFcnJvciIsImlzRXJyb3JSZXRyeWFibGUiLCJpc0Nvbm5lY3Rpb25JREVycm9yIiwiaXNFcnJvclJlc3BvbnNlIiwiQ29ubmVjdGlvblN0YXRlIiwiV1NDb25uZWN0aW9uRmFsbGJhY2siLCJfb25saW5lU3RhdHVzQ2hhbmdlZCIsIl9zZXRTdGF0ZSIsIkNsb3NlZCIsImNhbmNlbFRva2VuIiwiY2FuY2VsIiwiX3JlcSIsInJldHJ5IiwiQ2FuY2VsVG9rZW4iLCJkb0F4aW9zUmVxdWVzdCIsImJhc2VVUkwiLCJwdWJsaWNFbmRwb2ludCIsIl9wb2xsIiwiQ29ubmVjdGVkIiwiZXZlbnRzIiwiaXNDYW5jZWwiLCJEaXNjb25uZWN0ZWQiLCJDb25uZWN0aW5nIiwiX2J1aWxkV1NQYXlsb2FkIiwiSW5pdCIsIkhJTlRfVVJMIiwiaGludFVybCIsImFib3J0Q29udHJvbGxlciIsImZldGNoIiwiYXdzUG9wIiwiU3RyZWFtQ2xpZW50IiwibmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIiLCJkZXZUb2tlbiIsInNldEJhc2VVUkwiLCJoaW50IiwibG9jYXRpb25IaW50IiwibG9jYXRpb25IaW50VXJsIiwibG9jYXRpb25IaW50VGltZW91dCIsIl9nZXRDb25uZWN0aW9uSUQiLCJ3c0Nvbm5lY3Rpb24iLCJ3c0ZhbGxiYWNrIiwiY29ubmVjdFVzZXIiLCJ1c2VyVG9rZW5PclByb3ZpZGVyIiwic2V0VXNlclByb21pc2UiLCJfaXNVc2luZ1NlcnZlckF1dGgiLCJub2RlIiwiYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdCIsInNldFRva2VuUHJvbWlzZSIsIl9zZXRUb2tlbiIsIl9zZXRVc2VyIiwid3NQcm9taXNlIiwib3BlbkNvbm5lY3Rpb24iLCJwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUiLCJjbG9zZUNvbm5lY3Rpb24iLCJkaXNjb25uZWN0VXNlciIsImNsZWFuaW5nSW50ZXJ2YWxSZWYiLCJjb25uZWN0aW9uSWRQcm9taXNlIiwiX25vcm1hbGl6ZURhdGUiLCJiZWZvcmUiLCJjb25uZWN0R3Vlc3RVc2VyIiwiZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSIsImFjY2Vzc190b2tlbiIsImNvbm5lY3RBbm9ueW1vdXNVc2VyIiwiX2xvZ0FwaVJlcXVlc3QiLCJfbG9nQXBpUmVzcG9uc2UiLCJfbG9nQXBpRXJyb3IiLCJyZXF1ZXN0Q29uZmlnIiwiX2VucmljaEF4aW9zT3B0aW9ucyIsImF4aW9zSW5zdGFuY2UiLCJwdXQiLCJoYW5kbGVSZXNwb25zZSIsImNsaWVudF9yZXF1ZXN0X2lkIiwiZXJyb3JGcm9tUmVzcG9uc2UiLCJyZWNlaXZlZF9hdCIsIndhcm1VcCIsIl9zYXlIaSIsImRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2siLCJkZWZhdWx0V1NUaW1lb3V0IiwiQXhpb3NIZWFkZXJzIiwic2V0VXNlckFnZW50IiwiYXV0aG9yaXphdGlvbiIsImF4aW9zUmVxdWVzdENvbmZpZyIsImNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0IiwiaW5wdXRPcHRpb25zIiwid2l0aENyZWRlbnRpYWxzIiwiaHR0cHNBZ2VudCIsImh0dHBzIiwiQWdlbnQiLCJrZWVwQWxpdmVNc2VjcyIsInByb2Nlc3MiLCJlbnYiLCJTVFJFQU1fTE9DQUxfVEVTVF9SVU4iLCJTVFJFQU1fTE9DQUxfVEVTVF9IT1NUIiwiU3RyZWFtVmlkZW9DbGllbnQiLCJhcGlLZXlPckFyZ3MiLCJldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyIiwiY29ubmVjdGlvblByb21pc2UiLCJkaXNjb25uZWN0aW9uUHJvbWlzZSIsIl9pbnN0YW5jZU1hcCIsIndyaXRlYWJsZVN0YXRlU3RvcmUiLCJjcmVhdGVHdWVzdFVzZXIiLCJxdWVyeUNhbGxzIiwid2F0Y2giLCJxdWVyeUNhbGxTdGF0cyIsImVkZ2VzIiwiYWRkRGV2aWNlIiwicHVzaF9wcm92aWRlciIsInB1c2hfcHJvdmlkZXJfbmFtZSIsInZvaXBfdG9rZW4iLCJyZW1vdmVEZXZpY2UiLCJvblJpbmdpbmdDYWxsIiwicmVhZE9ubHlTdGF0ZVN0b3JlIiwiY2FsbElkIiwiYXBpS2V5IiwiZ2V0T3JDcmVhdGVJbnN0YW5jZSIsImluc3RhbmNlIiwiY29ubmVjdFVzZXJSZXNwb25zZSIsIm1lIiwiY2FsbHNUb1JlV2F0Y2giLCJmaWx0ZXJfY29uZGl0aW9ucyIsIiRpbiIsImZpZWxkIiwibmV3Q2FsbCIsInByZXZDYWxsIiwidGhlQ2FsbCIsImFkZFZvaXBEZXZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/./node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        var m = sigma * Math.sqrt(2 * Math.PI);\n        var e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels);\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  var noExitRuntime = Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function keepRuntimeAlive() {\n    return noExitRuntime;\n  }\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB )) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    if (!dontAddNull) HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    if (!keepRuntimeAlive()) {\n      if (Module['onExit']) Module['onExit'](code);\n      ABORT = true;\n    }\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.1.3\" ;\nconst packageName = \"@stream-io/video-filters-web\" ;\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFJLEtBQUs7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDhCQUE4QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlCQUF5QixXQUFXLGNBQWMsNENBQTRDO0FBQzlGLHlCQUF5QixXQUFXLGNBQWMsNkNBQTZDOztBQUUvRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCLE1BQU0sYUFBYTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBMkM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRCw2Q0FBNkMsZUFBZTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Es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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscURBQXFEOztBQUVyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRCQUE0QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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TDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4RTtBQUM5RSIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViL2Rpc3QvaW5kZXguZXMuanM/MWU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaW1kIH0gZnJvbSAnd2FzbS1mZWF0dXJlLWRldGVjdCc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIGEgbW9iaWxlIGRldmljZS5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jyb3dzZXJfZGV0ZWN0aW9uX3VzaW5nX3RoZV91c2VyX2FnZW50XG4gKi9cbmNvbnN0IGlzTW9iaWxlID0gKCkgPT4gL01vYmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuLyoqXG4gKiBSdW5zIGEgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIHN1cHBvcnRzXG4gKiB0aGUgbmVjZXNzYXJ5IEFQSXMgcmVxdWlyZWQgZm9yIHRoZSB2aWRlbyBmaWx0ZXJzLlxuICovXG5jb25zdCBpc1BsYXRmb3JtU3VwcG9ydGVkID0gYXN5bmMgKCkgPT4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAhaXNNb2JpbGUoKSAmJiAvLyB3ZSBkb24ndCBzdXBwb3J0IG1vYmlsZSBkZXZpY2VzIHlldCBkdWUgdG8gcGVyZm9ybWFuY2UgaXNzdWVzXG4gICAgdHlwZW9mIFdlYkFzc2VtYmx5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQgJiYgLy8gV2ViR0wyIGlzIHJlcXVpcmVkIGZvciB0aGUgdmlkZW8gZmlsdGVyc1xuICAgICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnd2ViZ2wyJykgJiZcbiAgICAoYXdhaXQgc2ltZCgpKTsgLy8gU0lNRCBpcyByZXF1aXJlZCBmb3IgdGhlIHdhc20gbW9kdWxlXG5cbi8qKlxuICogVXNlIGl0IGFsb25nIHdpdGggYm95c3dhbi5nbHNsLWxpdGVyYWwgVlNDb2RlIGV4dGVuc2lvblxuICogdG8gZ2V0IEdMU0wgc3ludGF4IGhpZ2hsaWdodGluZy5cbiAqIGh0dHBzOi8vbWFya2V0cGxhY2UudmlzdWFsc3R1ZGlvLmNvbS9pdGVtcz9pdGVtTmFtZT1ib3lzd2FuLmdsc2wtbGl0ZXJhbFxuICpcbiAqIE9uIFZTQ29kZSBPU1MsIGJveXN3YW4uZ2xzbC1saXRlcmFsIHJlcXVpcmVzIHNsZXZlc3F1ZS5zaGFkZXIgZXh0ZW5zaW9uXG4gKiB0byBiZSBpbnN0YWxsZWQgYXMgd2VsbC5cbiAqIGh0dHBzOi8vbWFya2V0cGxhY2UudmlzdWFsc3R1ZGlvLmNvbS9pdGVtcz9pdGVtTmFtZT1zbGV2ZXNxdWUuc2hhZGVyXG4gKi9cbmNvbnN0IGdsc2wgPSBTdHJpbmcucmF3O1xuZnVuY3Rpb24gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcikge1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICBjb25zdCB0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfdGV4Q29vcmQnKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBsaW5rIFdlYkdMIHByb2dyYW06ICR7Z2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtO1xufVxuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgc2hhZGVyVHlwZSwgc2hhZGVyU291cmNlKSB7XG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGNvbXBpbGUgc2hhZGVyOiAke2dsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGludGVybmFsZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBtaW5GaWx0ZXIgPSBnbC5ORUFSRVNULCBtYWdGaWx0ZXIgPSBnbC5ORUFSRVNUKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgbWluRmlsdGVyKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbWFnRmlsdGVyKTtcbiAgICBnbC50ZXhTdG9yYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMSwgaW50ZXJuYWxmb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVhZFBpeGVsc0FzeW5jKGdsLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUsIGRlc3QpIHtcbiAgICBjb25zdCBidWYgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBidWYpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuUElYRUxfUEFDS19CVUZGRVIsIGRlc3QuYnl0ZUxlbmd0aCwgZ2wuU1RSRUFNX1JFQUQpO1xuICAgIGdsLnJlYWRQaXhlbHMoeCwgeSwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCAwKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBudWxsKTtcbiAgICBhd2FpdCBnZXRCdWZmZXJTdWJEYXRhQXN5bmMoZ2wsIGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBidWYsIDAsIGRlc3QpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcihidWYpO1xuICAgIHJldHVybiBkZXN0O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0QnVmZmVyU3ViRGF0YUFzeW5jKGdsLCB0YXJnZXQsIGJ1ZmZlciwgc3JjQnl0ZU9mZnNldCwgZHN0QnVmZmVyLCBkc3RPZmZzZXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHN5bmMgPSBnbC5mZW5jZVN5bmMoZ2wuU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsIDApO1xuICAgIGdsLmZsdXNoKCk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50V2FpdEFzeW5jKGdsLCBzeW5jKTtcbiAgICBnbC5kZWxldGVTeW5jKHN5bmMpO1xuICAgIGlmIChyZXMgIT09IGdsLldBSVRfRkFJTEVEKSB7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpO1xuICAgICAgICBnbC5nZXRCdWZmZXJTdWJEYXRhKHRhcmdldCwgc3JjQnl0ZU9mZnNldCwgZHN0QnVmZmVyLCBkc3RPZmZzZXQsIGxlbmd0aCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGllbnRXYWl0QXN5bmMoZ2wsIHN5bmMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGdsLmNsaWVudFdhaXRTeW5jKHN5bmMsIDAsIDApO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gZ2wuV0FJVF9GQUlMRUQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcyA9PT0gZ2wuVElNRU9VVF9FWFBJUkVEKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0ZXN0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCh0ZXN0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRCYWNrZ3JvdW5kQmx1clN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKSB7XG4gICAgY29uc3QgYmx1clBhc3MgPSBidWlsZEJsdXJQYXNzKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKTtcbiAgICBjb25zdCBibGVuZFBhc3MgPSBidWlsZEJsZW5kUGFzcyhnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBjYW52YXMpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgYmx1clBhc3MucmVuZGVyKCk7XG4gICAgICAgIGJsZW5kUGFzcy5yZW5kZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgYmxlbmRQYXNzLnVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgYmxlbmRQYXNzLmNsZWFuVXAoKTtcbiAgICAgICAgYmx1clBhc3MuY2xlYW5VcCgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIHVwZGF0ZUNvdmVyYWdlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZEJsdXJQYXNzKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKSB7XG4gICAgY29uc3Qgc2lnbWEgPSB0eXBlb2YgYmx1ckxldmVsID09PSAnbnVtYmVyJ1xuICAgICAgICA/IGJsdXJMZXZlbFxuICAgICAgICA6IGJsdXJMZXZlbCA9PT0gJ2xvdydcbiAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgOiBibHVyTGV2ZWwgPT09ICdtZWRpdW0nXG4gICAgICAgICAgICAgICAgPyA0XG4gICAgICAgICAgICAgICAgOiA2O1xuICAgIGNvbnN0IHdpbmRvd1NpemUgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHNpZ21hICogMykpO1xuICAgIGNvbnN0IG9mZnNldCA9IG5ldyBBcnJheSh3aW5kb3dTaXplKS5maWxsKDApLm1hcCgodiwgaW5kZXgpID0+IGluZGV4KTtcbiAgICBjb25zdCB2YXJpYW5jZSA9IHNpZ21hICoqIDI7XG4gICAgY29uc3Qgd2VpZ2h0cyA9IG9mZnNldC5tYXAoKHgpID0+IHtcbiAgICAgICAgdmFyIG0gPSBzaWdtYSAqIE1hdGguc3FydCgyICogTWF0aC5QSSk7XG4gICAgICAgIHZhciBlID0gTWF0aC5leHAoLSh4ICoqIDIpIC8gKDIgKiB2YXJpYW5jZSkpO1xuICAgICAgICByZXR1cm4gZSAvIG07XG4gICAgfSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSB2ZWMyIHVfdGV4ZWxTaXplO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgY29uc3QgZmxvYXQgb2Zmc2V0WyR7d2luZG93U2l6ZX1dID0gZmxvYXRbXSgke29mZnNldC5tYXAoKGkpID0+IGkudG9GaXhlZCgxMCkpLmpvaW4oJywgJyl9KTtcbiAgICBjb25zdCBmbG9hdCB3ZWlnaHRbJHt3aW5kb3dTaXplfV0gPSBmbG9hdFtdKCR7d2VpZ2h0cy5tYXAoKGkpID0+IGkudG9GaXhlZCgxMCkpLmpvaW4oJywgJyl9KTtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzQgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCk7XG4gICAgICBmbG9hdCBwZXJzb25NYXNrID0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHZfdGV4Q29vcmQpLmE7XG5cbiAgICAgIHZlYzQgZnJhbWVDb2xvciA9IGNlbnRlckNvbG9yICogd2VpZ2h0WzBdICogKDEuMCAtIHBlcnNvbk1hc2spO1xuXG4gICAgICBmb3IgKGludCBpID0gMTsgaSA8ICR7d2luZG93U2l6ZX07IGkrKykge1xuICAgICAgICB2ZWMyIG9mZnNldCA9IHZlYzIob2Zmc2V0W2ldKSAqIHVfdGV4ZWxTaXplO1xuXG4gICAgICAgIHZlYzIgdGV4Q29vcmQgPSB2X3RleENvb3JkICsgb2Zmc2V0O1xuICAgICAgICBmcmFtZUNvbG9yICs9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB0ZXhDb29yZClcbiAgICAgICAgICAgKiB3ZWlnaHRbaV1cbiAgICAgICAgICAgKiAoMS4wIC0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHRleENvb3JkKS5hKTtcblxuICAgICAgICB0ZXhDb29yZCA9IHZfdGV4Q29vcmQgLSBvZmZzZXQ7XG4gICAgICAgIGZyYW1lQ29sb3IgKz0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHRleENvb3JkKVxuICAgICAgICAgICogd2VpZ2h0W2ldXG4gICAgICAgICAgKiAoMS4wIC0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHRleENvb3JkKS5hKTtcbiAgICAgIH1cbiAgICAgIG91dENvbG9yID0gdmVjNChmcmFtZUNvbG9yLnJnYiArICgxLjAgLSBmcmFtZUNvbG9yLmEpICogY2VudGVyQ29sb3IucmdiLCAxLjApO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCBzY2FsZSA9IDAuNTtcbiAgICBjb25zdCBvdXRwdXRXaWR0aCA9IGNhbnZhcy53aWR0aCAqIHNjYWxlO1xuICAgIGNvbnN0IG91dHB1dEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiBzY2FsZTtcbiAgICBjb25zdCB0ZXhlbFdpZHRoID0gMSAvIG91dHB1dFdpZHRoO1xuICAgIGNvbnN0IHRleGVsSGVpZ2h0ID0gMSAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9wZXJzb25NYXNrJyk7XG4gICAgY29uc3QgdGV4ZWxTaXplTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdGV4ZWxTaXplJyk7XG4gICAgY29uc3QgdGV4dHVyZTEgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuTkVBUkVTVCwgXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgaW5jb21wbGV0ZVxuICAgIGdsLkxJTkVBUik7XG4gICAgY29uc3QgdGV4dHVyZTIgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuTkVBUkVTVCwgXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgaW5jb21wbGV0ZVxuICAgIGdsLkxJTkVBUik7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIxID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMSk7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlMSwgMCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlMiwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgMCwgdGV4ZWxIZWlnaHQpO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjEpO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUxKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCB0ZXhlbFdpZHRoLCAwKTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIyKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyMik7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyMSk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZTIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUxKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZEJsZW5kUGFzcyhnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBjYW52YXMpIHtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgLy8gRmxpcHBpbmcgWSBpcyByZXF1aXJlZCB3aGVuIHJlbmRlcmluZyB0byBjYW52YXNcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uICogdmVjMigxLjAsIC0xLjApLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9ibHVycmVkSW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHZlYzIgdV9jb3ZlcmFnZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcblxuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMyBjb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICB2ZWMzIGJsdXJyZWRDb2xvciA9IHRleHR1cmUodV9ibHVycmVkSW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuICAgICAgcGVyc29uTWFzayA9IHNtb290aHN0ZXAodV9jb3ZlcmFnZS54LCB1X2NvdmVyYWdlLnksIHBlcnNvbk1hc2spO1xuICAgICAgb3V0Q29sb3IgPSB2ZWM0KG1peChibHVycmVkQ29sb3IsIGNvbG9yLCBwZXJzb25NYXNrKSwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9wZXJzb25NYXNrJyk7XG4gICAgY29uc3QgYmx1cnJlZElucHV0RnJhbWUgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmx1cnJlZElucHV0RnJhbWUnKTtcbiAgICBjb25zdCBjb3ZlcmFnZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2NvdmVyYWdlJyk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMWkoYmx1cnJlZElucHV0RnJhbWUsIDIpO1xuICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCAwLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIGNvdmVyYWdlWzBdLCBjb3ZlcmFnZVsxXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIHVwZGF0ZUNvdmVyYWdlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQmFja2dyb3VuZEltYWdlU3RhZ2UoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGJhY2tncm91bmRJbWFnZSwgY2FudmFzKSB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICB1bmlmb3JtIHZlYzIgdV9iYWNrZ3JvdW5kU2NhbGU7XG4gICAgdW5pZm9ybSB2ZWMyIHVfYmFja2dyb3VuZE9mZnNldDtcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWMyIHZfYmFja2dyb3VuZENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgLy8gRmxpcHBpbmcgWSBpcyByZXF1aXJlZCB3aGVuIHJlbmRlcmluZyB0byBjYW52YXNcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uICogdmVjMigxLjAsIC0xLjApLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICAgIHZfYmFja2dyb3VuZENvb3JkID0gYV90ZXhDb29yZCAqIHVfYmFja2dyb3VuZFNjYWxlICsgdV9iYWNrZ3JvdW5kT2Zmc2V0O1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfcGVyc29uTWFzaztcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2JhY2tncm91bmQ7XG4gICAgdW5pZm9ybSB2ZWMyIHVfY292ZXJhZ2U7XG4gICAgdW5pZm9ybSBmbG9hdCB1X2xpZ2h0V3JhcHBpbmc7XG4gICAgdW5pZm9ybSBmbG9hdCB1X2JsZW5kTW9kZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBpbiB2ZWMyIHZfYmFja2dyb3VuZENvb3JkO1xuXG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2ZWMzIHNjcmVlbih2ZWMzIGEsIHZlYzMgYikge1xuICAgICAgcmV0dXJuIDEuMCAtICgxLjAgLSBhKSAqICgxLjAgLSBiKTtcbiAgICB9XG5cbiAgICB2ZWMzIGxpbmVhckRvZGdlKHZlYzMgYSwgdmVjMyBiKSB7XG4gICAgICByZXR1cm4gYSArIGI7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIHZlYzMgYmFja2dyb3VuZENvbG9yID0gdGV4dHVyZSh1X2JhY2tncm91bmQsIHZfYmFja2dyb3VuZENvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBwZXJzb25NYXNrID0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHZfdGV4Q29vcmQpLmE7XG4gICAgICBmbG9hdCBsaWdodFdyYXBNYXNrID0gMS4wIC0gbWF4KDAuMCwgcGVyc29uTWFzayAtIHVfY292ZXJhZ2UueSkgLyAoMS4wIC0gdV9jb3ZlcmFnZS55KTtcbiAgICAgIHZlYzMgbGlnaHRXcmFwID0gdV9saWdodFdyYXBwaW5nICogbGlnaHRXcmFwTWFzayAqIGJhY2tncm91bmRDb2xvcjtcblxuICAgICAgZnJhbWVDb2xvciA9IHVfYmxlbmRNb2RlICogbGluZWFyRG9kZ2UoZnJhbWVDb2xvciwgbGlnaHRXcmFwKVxuICAgICAgICArICgxLjAgLSB1X2JsZW5kTW9kZSkgKiBzY3JlZW4oZnJhbWVDb2xvciwgbGlnaHRXcmFwKTtcbiAgICAgIHBlcnNvbk1hc2sgPSBzbW9vdGhzdGVwKHVfY292ZXJhZ2UueCwgdV9jb3ZlcmFnZS55LCBwZXJzb25NYXNrKTtcbiAgICAgIG91dENvbG9yID0gdmVjNChmcmFtZUNvbG9yICogcGVyc29uTWFzayArIGJhY2tncm91bmRDb2xvciAqICgxLjAgLSBwZXJzb25NYXNrKSwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3Qgb3V0cHV0UmF0aW8gPSBvdXRwdXRXaWR0aCAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGJhY2tncm91bmRTY2FsZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JhY2tncm91bmRTY2FsZScpO1xuICAgIGNvbnN0IGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kT2Zmc2V0Jyk7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IGJhY2tncm91bmRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kJyk7XG4gICAgY29uc3QgY292ZXJhZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jb3ZlcmFnZScpO1xuICAgIGNvbnN0IGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9saWdodFdyYXBwaW5nJyk7XG4gICAgY29uc3QgYmxlbmRNb2RlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmxlbmRNb2RlJyk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZFNjYWxlTG9jYXRpb24sIDEsIDEpO1xuICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24sIDAsIDApO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGdsLnVuaWZvcm0xaShwZXJzb25NYXNrTG9jYXRpb24sIDEpO1xuICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCAwLCAxKTtcbiAgICBnbC51bmlmb3JtMWYobGlnaHRXcmFwcGluZ0xvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWYoYmxlbmRNb2RlTG9jYXRpb24sIDApO1xuICAgIGxldCBiYWNrZ3JvdW5kVGV4dHVyZSA9IG51bGw7XG4gICAgLy8gVE9ETyBGaW5kIGEgYmV0dGVyIHRvIGhhbmRsZSBiYWNrZ3JvdW5kIGJlaW5nIGxvYWRlZFxuICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2U/LmNvbXBsZXRlKSB7XG4gICAgICAgIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiYWNrZ3JvdW5kSW1hZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiYWNrZ3JvdW5kSW1hZ2UpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcGVyc29uTWFza1RleHR1cmUpO1xuICAgICAgICBpZiAoYmFja2dyb3VuZFRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTIpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgYmFja2dyb3VuZFRleHR1cmUpO1xuICAgICAgICAgICAgLy8gVE9ETyBIYW5kbGUgY29ycmVjdGx5IHRoZSBiYWNrZ3JvdW5kIG5vdCBsb2FkZWQgeWV0XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoYmFja2dyb3VuZExvY2F0aW9uLCAyKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQmFja2dyb3VuZEltYWdlKGJnSW1hZ2UpIHtcbiAgICAgICAgYmFja2dyb3VuZFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgYmdJbWFnZS5uYXR1cmFsV2lkdGgsIGJnSW1hZ2UubmF0dXJhbEhlaWdodCwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICAgICAgZ2wuTElORUFSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJnSW1hZ2UubmF0dXJhbFdpZHRoLCBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGJnSW1hZ2UpO1xuICAgICAgICBsZXQgeE9mZnNldCA9IDA7XG4gICAgICAgIGxldCB5T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGJhY2tncm91bmRXaWR0aCA9IGJnSW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBsZXQgYmFja2dyb3VuZEhlaWdodCA9IGJnSW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZFJhdGlvID0gYmFja2dyb3VuZFdpZHRoIC8gYmFja2dyb3VuZEhlaWdodDtcbiAgICAgICAgaWYgKGJhY2tncm91bmRSYXRpbyA8IG91dHB1dFJhdGlvKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmFja2dyb3VuZFdpZHRoIC8gb3V0cHV0UmF0aW87XG4gICAgICAgICAgICB5T2Zmc2V0ID0gKGJnSW1hZ2UubmF0dXJhbEhlaWdodCAtIGJhY2tncm91bmRIZWlnaHQpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRXaWR0aCA9IGJhY2tncm91bmRIZWlnaHQgKiBvdXRwdXRSYXRpbztcbiAgICAgICAgICAgIHhPZmZzZXQgPSAoYmdJbWFnZS5uYXR1cmFsV2lkdGggLSBiYWNrZ3JvdW5kV2lkdGgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4U2NhbGUgPSBiYWNrZ3JvdW5kV2lkdGggLyBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgY29uc3QgeVNjYWxlID0gYmFja2dyb3VuZEhlaWdodCAvIGJnSW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgeE9mZnNldCAvPSBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgeU9mZnNldCAvPSBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiwgeFNjYWxlLCB5U2NhbGUpO1xuICAgICAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZE9mZnNldExvY2F0aW9uLCB4T2Zmc2V0LCB5T2Zmc2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIGNvdmVyYWdlWzBdLCBjb3ZlcmFnZVsxXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxpZ2h0V3JhcHBpbmcobGlnaHRXcmFwcGluZykge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYobGlnaHRXcmFwcGluZ0xvY2F0aW9uLCBsaWdodFdyYXBwaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYoYmxlbmRNb2RlTG9jYXRpb24sIGJsZW5kTW9kZSA9PT0gJ3NjcmVlbicgPyAwIDogMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoYmFja2dyb3VuZFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgdXBkYXRlTGlnaHRXcmFwcGluZyxcbiAgICAgICAgdXBkYXRlQmxlbmRNb2RlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkSm9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIGlucHV0VGV4dHVyZSwgb3V0cHV0VGV4dHVyZSwgY2FudmFzLCBzZWdtZW50YXRpb25Db25maWcpIHtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfc2VnbWVudGF0aW9uTWFzaztcbiAgICB1bmlmb3JtIHZlYzIgdV90ZXhlbFNpemU7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3N0ZXA7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3JhZGl1cztcbiAgICB1bmlmb3JtIGZsb2F0IHVfb2Zmc2V0O1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zaWdtYVRleGVsO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zaWdtYUNvbG9yO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgZmxvYXQgZ2F1c3NpYW4oZmxvYXQgeCwgZmxvYXQgc2lnbWEpIHtcbiAgICAgIGZsb2F0IGNvZWZmID0gLTAuNSAvIChzaWdtYSAqIHNpZ21hICogNC4wICsgMS4wZS02KTtcbiAgICAgIHJldHVybiBleHAoKHggKiB4KSAqIGNvZWZmKTtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMyIGNlbnRlckNvb3JkID0gdl90ZXhDb29yZDtcbiAgICAgIHZlYzMgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgY2VudGVyQ29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IG5ld1ZhbCA9IDAuMDtcblxuICAgICAgZmxvYXQgc3BhY2VXZWlnaHQgPSAwLjA7XG4gICAgICBmbG9hdCBjb2xvcldlaWdodCA9IDAuMDtcbiAgICAgIGZsb2F0IHRvdGFsV2VpZ2h0ID0gMC4wO1xuXG4gICAgICAvLyBTdWJzYW1wbGUga2VybmVsIHNwYWNlLlxuICAgICAgZm9yIChmbG9hdCBpID0gLXVfcmFkaXVzICsgdV9vZmZzZXQ7IGkgPD0gdV9yYWRpdXM7IGkgKz0gdV9zdGVwKSB7XG4gICAgICAgIGZvciAoZmxvYXQgaiA9IC11X3JhZGl1cyArIHVfb2Zmc2V0OyBqIDw9IHVfcmFkaXVzOyBqICs9IHVfc3RlcCkge1xuICAgICAgICAgIHZlYzIgc2hpZnQgPSB2ZWMyKGosIGkpICogdV90ZXhlbFNpemU7XG4gICAgICAgICAgdmVjMiBjb29yZCA9IHZlYzIoY2VudGVyQ29vcmQgKyBzaGlmdCk7XG4gICAgICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIGNvb3JkKS5yZ2I7XG4gICAgICAgICAgZmxvYXQgb3V0VmFsID0gdGV4dHVyZSh1X3NlZ21lbnRhdGlvbk1hc2ssIGNvb3JkKS5hO1xuXG4gICAgICAgICAgc3BhY2VXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb29yZCwgY29vcmQpLCB1X3NpZ21hVGV4ZWwpO1xuICAgICAgICAgIGNvbG9yV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29sb3IsIGZyYW1lQ29sb3IpLCB1X3NpZ21hQ29sb3IpO1xuICAgICAgICAgIHRvdGFsV2VpZ2h0ICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQ7XG5cbiAgICAgICAgICBuZXdWYWwgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodCAqIG91dFZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3VmFsIC89IHRvdGFsV2VpZ2h0O1xuXG4gICAgICBvdXRDb2xvciA9IHZlYzQodmVjMygwLjApLCBuZXdWYWwpO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCB0ZXhlbFdpZHRoID0gMSAvIG91dHB1dFdpZHRoO1xuICAgIGNvbnN0IHRleGVsSGVpZ2h0ID0gMSAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHNlZ21lbnRhdGlvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zZWdtZW50YXRpb25NYXNrJyk7XG4gICAgY29uc3QgdGV4ZWxTaXplTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdGV4ZWxTaXplJyk7XG4gICAgY29uc3Qgc3RlcExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3N0ZXAnKTtcbiAgICBjb25zdCByYWRpdXNMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9yYWRpdXMnKTtcbiAgICBjb25zdCBvZmZzZXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9vZmZzZXQnKTtcbiAgICBjb25zdCBzaWdtYVRleGVsTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2lnbWFUZXhlbCcpO1xuICAgIGNvbnN0IHNpZ21hQ29sb3JMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zaWdtYUNvbG9yJyk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkoc2VnbWVudGF0aW9uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIHRleGVsV2lkdGgsIHRleGVsSGVpZ2h0KTtcbiAgICAvLyBFbnN1cmVzIGRlZmF1bHQgdmFsdWVzIGFyZSBjb25maWd1cmVkIHRvIHByZXZlbnQgaW5maW5pdGVcbiAgICAvLyBsb29wIGluIGZyYWdtZW50IHNoYWRlclxuICAgIHVwZGF0ZVNpZ21hU3BhY2UoMCk7XG4gICAgdXBkYXRlU2lnbWFDb2xvcigwKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaWdtYVNwYWNlKHNpZ21hU3BhY2UpIHtcbiAgICAgICAgc2lnbWFTcGFjZSAqPSBNYXRoLm1heChvdXRwdXRXaWR0aCAvIHNlZ21lbnRhdGlvbldpZHRoLCBvdXRwdXRIZWlnaHQgLyBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgICAgICBjb25zdCBrU3BhcnNpdHlGYWN0b3IgPSAwLjY2OyAvLyBIaWdoZXIgaXMgc3BhcnNlci5cbiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIE1hdGguc3FydChzaWdtYVNwYWNlKSAqIGtTcGFyc2l0eUZhY3Rvcik7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHNpZ21hU3BhY2U7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHN0ZXAgPiAxID8gc3RlcCAqIDAuNSA6IDA7XG4gICAgICAgIGNvbnN0IHNpZ21hVGV4ZWwgPSBNYXRoLm1heCh0ZXhlbFdpZHRoLCB0ZXhlbEhlaWdodCkgKiBzaWdtYVNwYWNlO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYoc3RlcExvY2F0aW9uLCBzdGVwKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHJhZGl1c0xvY2F0aW9uLCByYWRpdXMpO1xuICAgICAgICBnbC51bmlmb3JtMWYob2Zmc2V0TG9jYXRpb24sIG9mZnNldCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzaWdtYVRleGVsTG9jYXRpb24sIHNpZ21hVGV4ZWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaWdtYUNvbG9yKHNpZ21hQ29sb3IpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHNpZ21hQ29sb3JMb2NhdGlvbiwgc2lnbWFDb2xvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCB1cGRhdGVTaWdtYVNwYWNlLCB1cGRhdGVTaWdtYUNvbG9yLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVzaXppbmdTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCk7XG4gICAgfVxuICBgO1xuICAgIC8vIFRGTGl0ZSBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCBhcyBmbG9hdDMyXG4gICAgY29uc3QgdGZsaXRlSW5wdXRNZW1vcnlPZmZzZXQgPSB0ZmxpdGUuX2dldElucHV0TWVtb3J5T2Zmc2V0KCkgLyA0O1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IG91dHB1dFBpeGVsQ291bnQgPSBvdXRwdXRXaWR0aCAqIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IG91dHB1dFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgY29uc3Qgb3V0cHV0UGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkob3V0cHV0UGl4ZWxDb3VudCAqIDQpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAvLyBEb3dubG9hZHMgcGl4ZWxzIGFzeW5jaHJvbm91c2x5IGZyb20gR1BVIHdoaWxlIHJlbmRlcmluZyB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgLy8gVGhlIHBpeGVscyB3aWxsIGJlIGF2YWlsYWJsZSBpbiB0aGUgbmV4dCBmcmFtZSByZW5kZXIgd2hpY2ggcmVzdWx0c1xuICAgICAgICAvLyBpbiBvZmZzZXRzIGluIHRoZSBzZWdtZW50YXRpb24gb3V0cHV0IGJ1dCBpbmNyZWFzZXMgdGhlIGZyYW1lIHJhdGUuXG4gICAgICAgIHJlYWRQaXhlbHNBc3luYyhnbCwgMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgb3V0cHV0UGl4ZWxzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRQaXhlbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRmbGl0ZUluZGV4ID0gdGZsaXRlSW5wdXRNZW1vcnlPZmZzZXQgKyBpICogMztcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dEluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleF0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXhdIC8gMjU1O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXggKyAxXSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleCArIDFdIC8gMjU1O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXggKyAyXSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleCArIDJdIC8gMjU1O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkU29mdG1heFN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgdGZsaXRlLCBvdXRwdXRUZXh0dXJlLCBzZWdtZW50YXRpb25Db25maWcpIHtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dFNlZ21lbnRhdGlvbjtcbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMyIHNlZ21lbnRhdGlvbiA9IHRleHR1cmUodV9pbnB1dFNlZ21lbnRhdGlvbiwgdl90ZXhDb29yZCkucmc7XG4gICAgICBmbG9hdCBzaGlmdCA9IG1heChzZWdtZW50YXRpb24uciwgc2VnbWVudGF0aW9uLmcpO1xuICAgICAgZmxvYXQgYmFja2dyb3VuZEV4cCA9IGV4cChzZWdtZW50YXRpb24uciAtIHNoaWZ0KTtcbiAgICAgIGZsb2F0IHBlcnNvbkV4cCA9IGV4cChzZWdtZW50YXRpb24uZyAtIHNoaWZ0KTtcbiAgICAgIG91dENvbG9yID0gdmVjNCh2ZWMzKDAuMCksIHBlcnNvbkV4cCAvIChiYWNrZ3JvdW5kRXhwICsgcGVyc29uRXhwKSk7XG4gICAgfVxuICBgO1xuICAgIC8vIFRGTGl0ZSBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCBhcyBmbG9hdDMyXG4gICAgY29uc3QgdGZsaXRlT3V0cHV0TWVtb3J5T2Zmc2V0ID0gdGZsaXRlLl9nZXRPdXRwdXRNZW1vcnlPZmZzZXQoKSAvIDQ7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dFNlZ21lbnRhdGlvbicpO1xuICAgIGNvbnN0IGlucHV0VGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHMzJGLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCBvdXRwdXRUZXh0dXJlLCAwKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dExvY2F0aW9uLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0LCBnbC5SRywgZ2wuRkxPQVQsIHRmbGl0ZS5IRUFQRjMyLCB0ZmxpdGVPdXRwdXRNZW1vcnlPZmZzZXQpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShpbnB1dFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIGNsZWFuVXAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRXZWJHTDJQaXBlbGluZSh2aWRlb1NvdXJjZSwgYmFja2dyb3VuZEltYWdlLCBibHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGNhbnZhcywgdGZsaXRlLCBzZWdtZW50YXRpb25Db25maWcpIHtcbiAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcbiAgICBpZiAoIWdsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMMiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTDIgY29udGV4dCB3YXMgbG9zdCcpO1xuICAgIGNvbnN0IHsgd2lkdGg6IGZyYW1lV2lkdGgsIGhlaWdodDogZnJhbWVIZWlnaHQgfSA9IHZpZGVvU291cmNlO1xuICAgIGNvbnN0IHsgd2lkdGg6IHNlZ21lbnRhdGlvbldpZHRoLCBoZWlnaHQ6IHNlZ21lbnRhdGlvbkhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgaW4gdmVjMiBhX3Bvc2l0aW9uO1xuICAgIGluIHZlYzIgYV90ZXhDb29yZDtcbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfcG9zaXRpb24sIDAuMCwgMS4wKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHZlcnRleEFycmF5ID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbLTEuMCwgLTEuMCwgMS4wLCAtMS4wLCAtMS4wLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBjb25zdCB0ZXhDb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAvLyBXZSBkb24ndCB1c2UgdGV4U3RvcmFnZTJEIGhlcmUgYmVjYXVzZSB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlclxuICAgIC8vIHRvIHVwbG9hZCB2aWRlbyB0ZXh0dXJlIHRoYW4gdGV4U3ViSW1hZ2UyRCBldmVuIHRob3VnaCB0aGUgbGF0dGVyXG4gICAgLy8gaXMgc3VwcG9zZWQgdG8gYmUgdGhlIHJlY29tbWVuZGVkIHdheTpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL1dlYkdMX2Jlc3RfcHJhY3RpY2VzI3VzZV90ZXhzdG9yYWdlX3RvX2NyZWF0ZV90ZXh0dXJlc1xuICAgIGNvbnN0IGlucHV0RnJhbWVUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIC8vIFRPRE8gUmVuYW1lIHNlZ21lbnRhdGlvbiBhbmQgcGVyc29uIG1hc2sgdG8gYmUgbW9yZSBzcGVjaWZpY1xuICAgIGNvbnN0IHNlZ21lbnRhdGlvblRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgY29uc3QgcGVyc29uTWFza1RleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpO1xuICAgIGNvbnN0IHJlc2l6aW5nU3RhZ2UgPSBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgbG9hZFNlZ21lbnRhdGlvblN0YWdlID0gYnVpbGRTb2Z0bWF4U3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvblRleHR1cmUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3Qgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZSA9IGJ1aWxkSm9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHNlZ21lbnRhdGlvblRleHR1cmUsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgYmFja2dyb3VuZFN0YWdlID0gYmFja2dyb3VuZEZpbHRlciA9PT0gJ2JsdXInXG4gICAgICAgID8gYnVpbGRCYWNrZ3JvdW5kQmx1clN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsIHx8ICdoaWdoJylcbiAgICAgICAgOiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcyk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgICAgICAvLyB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlciB0aGFuIHRleFN1YkltYWdlMkQgdG8gdXBsb2FkXG4gICAgICAgIC8vIHZpZGVvIHRleHR1cmVcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB2aWRlb1NvdXJjZSk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UucmVuZGVyKCk7XG4gICAgICAgIHRmbGl0ZS5fcnVuSW5mZXJlbmNlKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLnJlbmRlcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpIHtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS51cGRhdGVTaWdtYVNwYWNlKDEpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnVwZGF0ZVNpZ21hQ29sb3IoMC4xKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAuNSwgMC43NV0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlTGlnaHRXcmFwcGluZygwLjMpO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQmxlbmRNb2RlKCdzY3JlZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnYmx1cicpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRCbHVyU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1clN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLjUsIDAuNzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIG5vIGJhY2tncm91bmQgaW4gYSBzZXBhcmF0ZSBwaXBlbGluZSBwYXRoXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2VTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLCAwLjk5OTldKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUxpZ2h0V3JhcHBpbmcoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShzZWdtZW50YXRpb25UZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0ZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihwb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlUG9zdFByb2Nlc3NpbmdDb25maWcsIGNsZWFuVXAgfTtcbn1cblxudmFyIFNlZ21lbnRhdGlvbkxldmVsO1xuKGZ1bmN0aW9uIChTZWdtZW50YXRpb25MZXZlbCkge1xuICAgIFNlZ21lbnRhdGlvbkxldmVsW1wiTE9XXCJdID0gXCJsb3dcIjtcbiAgICBTZWdtZW50YXRpb25MZXZlbFtcIkhJR0hcIl0gPSBcImhpZ2hcIjtcbn0pKFNlZ21lbnRhdGlvbkxldmVsIHx8IChTZWdtZW50YXRpb25MZXZlbCA9IHt9KSk7XG5jb25zdCBnZXRTZWdtZW50YXRpb25QYXJhbXMgPSAobGV2ZWwpID0+IHtcbiAgICBpZiAobGV2ZWwgPT09IFNlZ21lbnRhdGlvbkxldmVsLkhJR0gpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDI1NiwgaGVpZ2h0OiAxNDQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgd2lkdGg6IDE2MCwgaGVpZ2h0OiA5NiB9O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIodGZsaXRlLCB2aWRlb1NvdXJjZSwgdGFyZ2V0Q2FudmFzLCBvcHRpb25zLCBvbkVycm9yKSB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIHNlZ21lbnRhdGlvbkxldmVsID0gU2VnbWVudGF0aW9uTGV2ZWwuSElHSCwgZnBzID0gMzAsIH0gPSBvcHRpb25zO1xuICAgIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnaW1hZ2UnICYmICFiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBiYWNrZ3JvdW5kSW1hZ2UgZWxlbWVudCBpcyByZXF1aXJlZCB3aGVuIGJhY2tncm91bmRGaWx0ZXIgaXMgaW1hZ2VgKTtcbiAgICB9XG4gICAgY29uc3QgcGlwZWxpbmUgPSBidWlsZFdlYkdMMlBpcGVsaW5lKHZpZGVvU291cmNlLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIHRhcmdldENhbnZhcywgdGZsaXRlLCBnZXRTZWdtZW50YXRpb25QYXJhbXMoc2VnbWVudGF0aW9uTGV2ZWwpKTtcbiAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLnJlbmRlcigpO1xuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBwaXBlbGluZS51cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sIDEwMDAgLyAoZnBzIDw9IDAgPyAzMCA6IGZwcykpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLmNsZWFuVXAoKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGUgPSAoX19Nb2R1bGUpID0+IHtcbiAgX19Nb2R1bGUgPSBfX01vZHVsZSB8fCB7fTtcblxuICB2YXIgX3NjcmlwdERpciA9XG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0XG4gICAgICA/IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICB2YXIgTW9kdWxlID0gdHlwZW9mIF9fTW9kdWxlICE9ICd1bmRlZmluZWQnID8gX19Nb2R1bGUgOiB7fTtcbiAgdmFyIHJlYWR5UHJvbWlzZVJlc29sdmUsIHJlYWR5UHJvbWlzZVJlamVjdDtcbiAgTW9kdWxlWydyZWFkeSddID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWR5UHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgIHJlYWR5UHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHZhciBtb2R1bGVPdmVycmlkZXMgPSBPYmplY3QuYXNzaWduKHt9LCBNb2R1bGUpO1xuICB2YXIgdGhpc1Byb2dyYW0gPSAnLi90aGlzLnByb2dyYW0nO1xuICB2YXIgcXVpdF8gPSAoc3RhdHVzLCB0b1Rocm93KSA9PiB7XG4gICAgdGhyb3cgdG9UaHJvdztcbiAgfTtcbiAgdmFyIEVOVklST05NRU5UX0lTX1dFQiA9IHRydWU7XG4gIHZhciBzY3JpcHREaXJlY3RvcnkgPSAnJztcblxuICBmdW5jdGlvbiBsb2NhdGVGaWxlKHBhdGgpIHtcbiAgICBpZiAoTW9kdWxlWydsb2NhdGVGaWxlJ10pIHtcbiAgICAgIHJldHVybiBNb2R1bGVbJ2xvY2F0ZUZpbGUnXShwYXRoLCBzY3JpcHREaXJlY3RvcnkpO1xuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RGlyZWN0b3J5ICsgcGF0aDtcbiAgfVxuXG4gIHZhciByZWFkQmluYXJ5O1xuICB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcbiAgICB9XG4gICAgaWYgKF9zY3JpcHREaXIpIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IF9zY3JpcHREaXI7XG4gICAgfVxuICAgIGlmIChzY3JpcHREaXJlY3RvcnkuaW5kZXhPZignYmxvYjonKSAhPT0gMCkge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gc2NyaXB0RGlyZWN0b3J5LnN1YnN0cihcbiAgICAgICAgMCxcbiAgICAgICAgc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sICcnKS5sYXN0SW5kZXhPZignLycpICsgMSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuICAgIH1cbiAgfVxuICB2YXIgb3V0ID0gTW9kdWxlWydwcmludCddIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gIHZhciBlcnIgPSBNb2R1bGVbJ3ByaW50RXJyJ10gfHwgY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XG4gIE9iamVjdC5hc3NpZ24oTW9kdWxlLCBtb2R1bGVPdmVycmlkZXMpO1xuICBtb2R1bGVPdmVycmlkZXMgPSBudWxsO1xuICBpZiAoTW9kdWxlWydhcmd1bWVudHMnXSkgTW9kdWxlWydhcmd1bWVudHMnXTtcbiAgaWYgKE1vZHVsZVsndGhpc1Byb2dyYW0nXSkgdGhpc1Byb2dyYW0gPSBNb2R1bGVbJ3RoaXNQcm9ncmFtJ107XG4gIGlmIChNb2R1bGVbJ3F1aXQnXSkgcXVpdF8gPSBNb2R1bGVbJ3F1aXQnXTtcbiAgdmFyIHdhc21CaW5hcnk7XG4gIGlmIChNb2R1bGVbJ3dhc21CaW5hcnknXSkgd2FzbUJpbmFyeSA9IE1vZHVsZVsnd2FzbUJpbmFyeSddO1xuICB2YXIgbm9FeGl0UnVudGltZSA9IE1vZHVsZVsnbm9FeGl0UnVudGltZSddIHx8IHRydWU7XG4gIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgIT0gJ29iamVjdCcpIHtcbiAgICBhYm9ydCgnbm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCcpO1xuICB9XG4gIHZhciB3YXNtTWVtb3J5O1xuICB2YXIgQUJPUlQgPSBmYWxzZTtcblxuICB2YXIgVVRGOERlY29kZXIgPVxuICAgIHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyA/IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpIDogdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIFVURjhBcnJheVRvU3RyaW5nKGhlYXBPckFycmF5LCBpZHgsIG1heEJ5dGVzVG9SZWFkKSB7XG4gICAgdmFyIGVuZElkeCA9IGlkeCArIG1heEJ5dGVzVG9SZWFkO1xuICAgIHZhciBlbmRQdHIgPSBpZHg7XG4gICAgd2hpbGUgKGhlYXBPckFycmF5W2VuZFB0cl0gJiYgIShlbmRQdHIgPj0gZW5kSWR4KSkgKytlbmRQdHI7XG4gICAgaWYgKGVuZFB0ciAtIGlkeCA+IDE2ICYmIGhlYXBPckFycmF5LmJ1ZmZlciAmJiBVVEY4RGVjb2Rlcikge1xuICAgICAgcmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwT3JBcnJheS5zdWJhcnJheShpZHgsIGVuZFB0cikpO1xuICAgIH1cbiAgICB2YXIgc3RyID0gJyc7XG4gICAgd2hpbGUgKGlkeCA8IGVuZFB0cikge1xuICAgICAgdmFyIHUwID0gaGVhcE9yQXJyYXlbaWR4KytdO1xuICAgICAgaWYgKCEodTAgJiAxMjgpKSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgdTEgPSBoZWFwT3JBcnJheVtpZHgrK10gJiA2MztcbiAgICAgIGlmICgodTAgJiAyMjQpID09IDE5Mikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKHUwICYgMzEpIDw8IDYpIHwgdTEpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciB1MiA9IGhlYXBPckFycmF5W2lkeCsrXSAmIDYzO1xuICAgICAgaWYgKCh1MCAmIDI0MCkgPT0gMjI0KSB7XG4gICAgICAgIHUwID0gKCh1MCAmIDE1KSA8PCAxMikgfCAodTEgPDwgNikgfCB1MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHUwID1cbiAgICAgICAgICAoKHUwICYgNykgPDwgMTgpIHwgKHUxIDw8IDEyKSB8ICh1MiA8PCA2KSB8IChoZWFwT3JBcnJheVtpZHgrK10gJiA2Myk7XG4gICAgICB9XG4gICAgICBpZiAodTAgPCA2NTUzNikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2ggPSB1MCAtIDY1NTM2O1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IChjaCA+PiAxMCksIDU2MzIwIHwgKGNoICYgMTAyMykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgdmFyIGJ1ZmZlciwgSEVBUDgsIEhFQVBVOCwgSEVBUFUzMjtcblxuICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpIHtcbiAgICBidWZmZXIgPSBidWY7XG4gICAgTW9kdWxlWydIRUFQOCddID0gSEVBUDggPSBuZXcgSW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMTYnXSA9IG5ldyBJbnQxNkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMzInXSA9IG5ldyBJbnQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTgnXSA9IEhFQVBVOCA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTE2J10gPSBuZXcgVWludDE2QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBVMzInXSA9IEhFQVBVMzIgPSBuZXcgVWludDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGMzInXSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGNjQnXSA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmKTtcbiAgfVxuXG4gIE1vZHVsZVsnSU5JVElBTF9NRU1PUlknXSB8fCAxNjc3NzIxNjtcbiAgdmFyIF9fQVRQUkVSVU5fXyA9IFtdO1xuICB2YXIgX19BVElOSVRfXyA9IFtdO1xuICB2YXIgX19BVFBPU1RSVU5fXyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGtlZXBSdW50aW1lQWxpdmUoKSB7XG4gICAgcmV0dXJuIG5vRXhpdFJ1bnRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncHJlUnVuJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVSdW4nXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBNb2R1bGVbJ3ByZVJ1biddID0gW01vZHVsZVsncHJlUnVuJ11dO1xuICAgICAgd2hpbGUgKE1vZHVsZVsncHJlUnVuJ10ubGVuZ3RoKSB7XG4gICAgICAgIGFkZE9uUHJlUnVuKE1vZHVsZVsncHJlUnVuJ10uc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQUkVSVU5fXyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UnVudGltZSgpIHtcbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncG9zdFJ1biddKSB7XG4gICAgICBpZiAodHlwZW9mIE1vZHVsZVsncG9zdFJ1biddID09ICdmdW5jdGlvbicpXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gW01vZHVsZVsncG9zdFJ1biddXTtcbiAgICAgIHdoaWxlIChNb2R1bGVbJ3Bvc3RSdW4nXS5sZW5ndGgpIHtcbiAgICAgICAgYWRkT25Qb3N0UnVuKE1vZHVsZVsncG9zdFJ1biddLnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKSB7XG4gICAgX19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25Jbml0KGNiKSB7XG4gICAgX19BVElOSVRfXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYikge1xuICAgIF9fQVRQT1NUUlVOX18udW5zaGlmdChjYik7XG4gIH1cblxuICB2YXIgcnVuRGVwZW5kZW5jaWVzID0gMDtcbiAgdmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCkge1xuICAgIHJ1bkRlcGVuZGVuY2llcysrO1xuICAgIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgICAgTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10ocnVuRGVwZW5kZW5jaWVzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKSB7XG4gICAgcnVuRGVwZW5kZW5jaWVzLS07XG4gICAgaWYgKE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKSB7XG4gICAgICBNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXShydW5EZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHtcbiAgICAgIGlmIChkZXBlbmRlbmNpZXNGdWxmaWxsZWQpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZGVwZW5kZW5jaWVzRnVsZmlsbGVkO1xuICAgICAgICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0KHdoYXQpIHtcbiAgICB7XG4gICAgICBpZiAoTW9kdWxlWydvbkFib3J0J10pIHtcbiAgICAgICAgTW9kdWxlWydvbkFib3J0J10od2hhdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdoYXQgPSAnQWJvcnRlZCgnICsgd2hhdCArICcpJztcbiAgICBlcnIod2hhdCk7XG4gICAgQUJPUlQgPSB0cnVlO1xuICAgIHdoYXQgKz0gJy4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4nO1xuICAgIHZhciBlID0gbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtcbiAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHZhciBkYXRhVVJJUHJlZml4ID0gJ2RhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwnO1xuXG4gIGZ1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSkge1xuICAgIHJldHVybiBmaWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO1xuICB9XG5cbiAgdmFyIHdhc21CaW5hcnlGaWxlO1xuICB3YXNtQmluYXJ5RmlsZSA9ICd0ZmxpdGUtc2ltZC53YXNtJztcbiAgaWYgKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKSB7XG4gICAgd2FzbUJpbmFyeUZpbGUgPSBsb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpbmFyeShmaWxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChmaWxlID09IHdhc21CaW5hcnlGaWxlICYmIHdhc21CaW5hcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWRCaW5hcnkpIDtcbiAgICAgIHRocm93ICdib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWJvcnQoZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCkge1xuICAgIGlmICghd2FzbUJpbmFyeSAmJiAoRU5WSVJPTk1FTlRfSVNfV0VCICkpIHtcbiAgICAgIGlmICh0eXBlb2YgZmV0Y2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2VbJ29rJ10pIHtcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgIFwiZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnXCIgKyB3YXNtQmluYXJ5RmlsZSArIFwiJ1wiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VbJ2FycmF5QnVmZmVyJ10oKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXYXNtKCkge1xuICAgIHZhciBpbmZvID0ge1xuICAgICAgZW52OiBhc21MaWJyYXJ5QXJnLFxuICAgICAgd2FzaV9zbmFwc2hvdF9wcmV2aWV3MTogYXNtTGlicmFyeUFyZyxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlLCBtb2R1bGUpIHtcbiAgICAgIHZhciBleHBvcnRzID0gaW5zdGFuY2UuZXhwb3J0cztcbiAgICAgIE1vZHVsZVsnYXNtJ10gPSBleHBvcnRzO1xuICAgICAgd2FzbU1lbW9yeSA9IE1vZHVsZVsnYXNtJ11bJ21lbW9yeSddO1xuICAgICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO1xuICAgICAgTW9kdWxlWydhc20nXVsnX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZSddO1xuICAgICAgYWRkT25Jbml0KE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pO1xuICAgICAgcmVtb3ZlUnVuRGVwZW5kZW5jeSgpO1xuICAgIH1cblxuICAgIGFkZFJ1bkRlcGVuZGVuY3koKTtcblxuICAgIGZ1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCkge1xuICAgICAgcmVjZWl2ZUluc3RhbmNlKHJlc3VsdFsnaW5zdGFuY2UnXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIGdldEJpbmFyeVByb21pc2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSwgaW5mbyk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVjZWl2ZXIsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICBlcnIoJ2ZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICcgKyByZWFzb24pO1xuICAgICAgICAgIGFib3J0KHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmMoKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF3YXNtQmluYXJ5ICYmXG4gICAgICAgIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyA9PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpICYmXG4gICAgICAgIHR5cGVvZiBmZXRjaCA9PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcocmVzcG9uc2UsIGluZm8pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgIGVycignd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICcgKyByZWFzb24pO1xuICAgICAgICAgICAgICBlcnIoJ2ZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uJyk7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBleHBvcnRzID0gTW9kdWxlWydpbnN0YW50aWF0ZVdhc20nXShpbmZvLCByZWNlaXZlSW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gZXhwb3J0cztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyKCdNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAnICsgZSk7XG4gICAgICAgIHJlYWR5UHJvbWlzZVJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFudGlhdGVBc3luYygpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZnVuY3Rpb24gRXhpdFN0YXR1cyhzdGF0dXMpIHtcbiAgICB0aGlzLm5hbWUgPSAnRXhpdFN0YXR1cyc7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1Byb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJyArIHN0YXR1cyArICcpJztcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxSdW50aW1lQ2FsbGJhY2tzKGNhbGxiYWNrcykge1xuICAgIHdoaWxlIChjYWxsYmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgY2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX2RsaW5pdChtYWluX2Rzb19oYW5kbGUpIHt9XG5cbiAgdmFyIGRsb3Blbk1pc3NpbmdFcnJvciA9XG4gICAgJ1RvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIGVuYWJsZSBkeW5hbWljIGxpbmtpbmcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nJztcblxuICBmdW5jdGlvbiBfX2Rsb3Blbl9qcyhmaWxlbmFtZSwgZmxhZykge1xuICAgIGFib3J0KGRsb3Blbk1pc3NpbmdFcnJvcik7XG4gIH1cblxuICBmdW5jdGlvbiBfX2Rsc3ltX2pzKGhhbmRsZSwgc3ltYm9sKSB7XG4gICAgYWJvcnQoZGxvcGVuTWlzc2luZ0Vycm9yKTtcbiAgfVxuXG4gIHZhciBub3dJc01vbm90b25pYyA9IHRydWU7XG5cbiAgZnVuY3Rpb24gX19lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljKCkge1xuICAgIHJldHVybiBub3dJc01vbm90b25pYztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fbW1hcF9qcyhsZW4sIHByb3QsIGZsYWdzLCBmZCwgb2ZmLCBhbGxvY2F0ZWQpIHtcbiAgICByZXR1cm4gLTUyO1xuICB9XG5cbiAgZnVuY3Rpb24gX19tdW5tYXBfanMoYWRkciwgbGVuLCBwcm90LCBmbGFncywgZmQsIG9mZnNldCkge31cblxuICBmdW5jdGlvbiBfYWJvcnQoKSB7XG4gICAgYWJvcnQoJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZGF0ZV9ub3coKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIZWFwTWF4KCkge1xuICAgIHJldHVybiAyMTQ3NDgzNjQ4O1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4KCkge1xuICAgIHJldHVybiBnZXRIZWFwTWF4KCk7XG4gIH1cblxuICB2YXIgX2Vtc2NyaXB0ZW5fZ2V0X25vdztcbiAgX2Vtc2NyaXB0ZW5fZ2V0X25vdyA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX21lbWNweV9iaWcoZGVzdCwgc3JjLCBudW0pIHtcbiAgICBIRUFQVTguY29weVdpdGhpbihkZXN0LCBzcmMsIHNyYyArIG51bSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKHNpemUpIHtcbiAgICB0cnkge1xuICAgICAgd2FzbU1lbW9yeS5ncm93KChzaXplIC0gYnVmZmVyLmJ5dGVMZW5ndGggKyA2NTUzNSkgPj4+IDE2KTtcbiAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChyZXF1ZXN0ZWRTaXplKSB7XG4gICAgdmFyIG9sZFNpemUgPSBIRUFQVTgubGVuZ3RoO1xuICAgIHJlcXVlc3RlZFNpemUgPSByZXF1ZXN0ZWRTaXplID4+PiAwO1xuICAgIHZhciBtYXhIZWFwU2l6ZSA9IGdldEhlYXBNYXgoKTtcbiAgICBpZiAocmVxdWVzdGVkU2l6ZSA+IG1heEhlYXBTaXplKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBhbGlnblVwID0gKHgsIG11bHRpcGxlKSA9PiB4ICsgKChtdWx0aXBsZSAtICh4ICUgbXVsdGlwbGUpKSAlIG11bHRpcGxlKTtcbiAgICBmb3IgKHZhciBjdXREb3duID0gMTsgY3V0RG93biA8PSA0OyBjdXREb3duICo9IDIpIHtcbiAgICAgIHZhciBvdmVyR3Jvd25IZWFwU2l6ZSA9IG9sZFNpemUgKiAoMSArIDAuMiAvIGN1dERvd24pO1xuICAgICAgb3Zlckdyb3duSGVhcFNpemUgPSBNYXRoLm1pbihcbiAgICAgICAgb3Zlckdyb3duSGVhcFNpemUsXG4gICAgICAgIHJlcXVlc3RlZFNpemUgKyAxMDA2NjMyOTYsXG4gICAgICApO1xuICAgICAgdmFyIG5ld1NpemUgPSBNYXRoLm1pbihcbiAgICAgICAgbWF4SGVhcFNpemUsXG4gICAgICAgIGFsaWduVXAoTWF0aC5tYXgocmVxdWVzdGVkU2l6ZSwgb3Zlckdyb3duSGVhcFNpemUpLCA2NTUzNiksXG4gICAgICApO1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihuZXdTaXplKTtcbiAgICAgIGlmIChyZXBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIEVOViA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldEV4ZWN1dGFibGVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzUHJvZ3JhbSB8fCAnLi90aGlzLnByb2dyYW0nO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW52U3RyaW5ncygpIHtcbiAgICBpZiAoIWdldEVudlN0cmluZ3Muc3RyaW5ncykge1xuICAgICAgdmFyIGxhbmcgPVxuICAgICAgICAoXG4gICAgICAgICAgKHR5cGVvZiBuYXZpZ2F0b3IgPT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIG5hdmlnYXRvci5sYW5ndWFnZXMgJiZcbiAgICAgICAgICAgIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0pIHx8XG4gICAgICAgICAgJ0MnXG4gICAgICAgICkucmVwbGFjZSgnLScsICdfJykgKyAnLlVURi04JztcbiAgICAgIHZhciBlbnYgPSB7XG4gICAgICAgIFVTRVI6ICd3ZWJfdXNlcicsXG4gICAgICAgIExPR05BTUU6ICd3ZWJfdXNlcicsXG4gICAgICAgIFBBVEg6ICcvJyxcbiAgICAgICAgUFdEOiAnLycsXG4gICAgICAgIEhPTUU6ICcvaG9tZS93ZWJfdXNlcicsXG4gICAgICAgIExBTkc6IGxhbmcsXG4gICAgICAgIF86IGdldEV4ZWN1dGFibGVOYW1lKCksXG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgeCBpbiBFTlYpIHtcbiAgICAgICAgaWYgKEVOVlt4XSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgZW52W3hdO1xuICAgICAgICBlbHNlIGVudlt4XSA9IEVOVlt4XTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHJpbmdzID0gW107XG4gICAgICBmb3IgKHZhciB4IGluIGVudikge1xuICAgICAgICBzdHJpbmdzLnB1c2goeCArICc9JyArIGVudlt4XSk7XG4gICAgICB9XG4gICAgICBnZXRFbnZTdHJpbmdzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0ciwgYnVmZmVyLCBkb250QWRkTnVsbCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICBIRUFQOFtidWZmZXIrKyA+PiAwXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICBpZiAoIWRvbnRBZGROdWxsKSBIRUFQOFtidWZmZXIgPj4gMF0gPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vudmlyb25fZ2V0KF9fZW52aXJvbiwgZW52aXJvbl9idWYpIHtcbiAgICB2YXIgYnVmU2l6ZSA9IDA7XG4gICAgZ2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmluZywgaSkge1xuICAgICAgdmFyIHB0ciA9IGVudmlyb25fYnVmICsgYnVmU2l6ZTtcbiAgICAgIEhFQVBVMzJbKF9fZW52aXJvbiArIGkgKiA0KSA+PiAyXSA9IHB0cjtcbiAgICAgIHdyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcsIHB0cik7XG4gICAgICBidWZTaXplICs9IHN0cmluZy5sZW5ndGggKyAxO1xuICAgIH0pO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vudmlyb25fc2l6ZXNfZ2V0KHBlbnZpcm9uX2NvdW50LCBwZW52aXJvbl9idWZfc2l6ZSkge1xuICAgIHZhciBzdHJpbmdzID0gZ2V0RW52U3RyaW5ncygpO1xuICAgIEhFQVBVMzJbcGVudmlyb25fY291bnQgPj4gMl0gPSBzdHJpbmdzLmxlbmd0aDtcbiAgICB2YXIgYnVmU2l6ZSA9IDA7XG4gICAgc3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgIGJ1ZlNpemUgKz0gc3RyaW5nLmxlbmd0aCArIDE7XG4gICAgfSk7XG4gICAgSEVBUFUzMltwZW52aXJvbl9idWZfc2l6ZSA+PiAyXSA9IGJ1ZlNpemU7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBfcHJvY19leGl0KGNvZGUpIHtcbiAgICBpZiAoIWtlZXBSdW50aW1lQWxpdmUoKSkge1xuICAgICAgaWYgKE1vZHVsZVsnb25FeGl0J10pIE1vZHVsZVsnb25FeGl0J10oY29kZSk7XG4gICAgICBBQk9SVCA9IHRydWU7XG4gICAgfVxuICAgIHF1aXRfKGNvZGUsIG5ldyBFeGl0U3RhdHVzKGNvZGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4aXRKUyhzdGF0dXMsIGltcGxpY2l0KSB7XG4gICAgX3Byb2NfZXhpdChzdGF0dXMpO1xuICB9XG5cbiAgdmFyIF9leGl0ID0gZXhpdEpTO1xuXG4gIGZ1bmN0aW9uIF9mZF9jbG9zZShmZCkge1xuICAgIHJldHVybiA1MjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF9zZWVrKGZkLCBvZmZzZXRfbG93LCBvZmZzZXRfaGlnaCwgd2hlbmNlLCBuZXdPZmZzZXQpIHtcbiAgICByZXR1cm4gNzA7XG4gIH1cblxuICB2YXIgcHJpbnRDaGFyQnVmZmVycyA9IFtudWxsLCBbXSwgW11dO1xuXG4gIGZ1bmN0aW9uIHByaW50Q2hhcihzdHJlYW0sIGN1cnIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIHZhciBidWZmZXIgPSBwcmludENoYXJCdWZmZXJzW3N0cmVhbV07XG4gICAgaWYgKGN1cnIgPT09IDAgfHwgY3VyciA9PT0gMTApIHtcbiAgICAgIChzdHJlYW0gPT09IDEgPyBvdXQgOiBlcnIpKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwgMCkpO1xuICAgICAgYnVmZmVyLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGN1cnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF93cml0ZShmZCwgaW92LCBpb3ZjbnQsIHBudW0pIHtcbiAgICB2YXIgbnVtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlvdmNudDsgaSsrKSB7XG4gICAgICB2YXIgcHRyID0gSEVBUFUzMltpb3YgPj4gMl07XG4gICAgICB2YXIgbGVuID0gSEVBUFUzMlsoaW92ICsgNCkgPj4gMl07XG4gICAgICBpb3YgKz0gODtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgcHJpbnRDaGFyKGZkLCBIRUFQVThbcHRyICsgal0pO1xuICAgICAgfVxuICAgICAgbnVtICs9IGxlbjtcbiAgICB9XG4gICAgSEVBUFUzMltwbnVtID4+IDJdID0gbnVtO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tRGV2aWNlKCkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjcnlwdG8gPT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiBjcnlwdG9bJ2dldFJhbmRvbVZhbHVlcyddID09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHZhciByYW5kb21CdWZmZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIHJhbmRvbUJ1ZmZlclswXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHJldHVybiAoKSA9PiBhYm9ydCgncmFuZG9tRGV2aWNlJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICBmdW5jdGlvbiBfZ2V0ZW50cm9weShidWZmZXIsIHNpemUpIHtcbiAgICBpZiAoIV9nZXRlbnRyb3B5LnJhbmRvbURldmljZSkge1xuICAgICAgX2dldGVudHJvcHkucmFuZG9tRGV2aWNlID0gZ2V0UmFuZG9tRGV2aWNlKCk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBIRUFQOFsoYnVmZmVyICsgaSkgPj4gMF0gPSBfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgYXNtTGlicmFyeUFyZyA9IHtcbiAgICBfZGxpbml0OiBfX2RsaW5pdCxcbiAgICBfZGxvcGVuX2pzOiBfX2Rsb3Blbl9qcyxcbiAgICBfZGxzeW1fanM6IF9fZGxzeW1fanMsXG4gICAgX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWM6IF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYyxcbiAgICBfbW1hcF9qczogX19tbWFwX2pzLFxuICAgIF9tdW5tYXBfanM6IF9fbXVubWFwX2pzLFxuICAgIGFib3J0OiBfYWJvcnQsXG4gICAgZW1zY3JpcHRlbl9kYXRlX25vdzogX2Vtc2NyaXB0ZW5fZGF0ZV9ub3csXG4gICAgZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXg6IF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCxcbiAgICBlbXNjcmlwdGVuX2dldF9ub3c6IF9lbXNjcmlwdGVuX2dldF9ub3csXG4gICAgZW1zY3JpcHRlbl9tZW1jcHlfYmlnOiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFxuICAgIGVtc2NyaXB0ZW5fcmVzaXplX2hlYXA6IF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwLFxuICAgIGVudmlyb25fZ2V0OiBfZW52aXJvbl9nZXQsXG4gICAgZW52aXJvbl9zaXplc19nZXQ6IF9lbnZpcm9uX3NpemVzX2dldCxcbiAgICBleGl0OiBfZXhpdCxcbiAgICBmZF9jbG9zZTogX2ZkX2Nsb3NlLFxuICAgIGZkX3NlZWs6IF9mZF9zZWVrLFxuICAgIGZkX3dyaXRlOiBfZmRfd3JpdGUsXG4gICAgZ2V0ZW50cm9weTogX2dldGVudHJvcHksXG4gIH07XG4gIGNyZWF0ZVdhc20oKTtcbiAgKE1vZHVsZVsnX19fd2FzbV9jYWxsX2N0b3JzJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX3dhc21fY2FsbF9jdG9ycyddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSA9XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChNb2R1bGVbXG4gICAgICAgICdfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXG4gICAgICBdID1cbiAgICAgICAgTW9kdWxlWydhc20nXVsnZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dE1lbW9yeU9mZnNldCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0TWVtb3J5T2Zmc2V0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0SGVpZ2h0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRIZWlnaHQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRXaWR0aCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dENoYW5uZWxDb3VudCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0Q2hhbm5lbENvdW50J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dEhlaWdodCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dEhlaWdodCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRXaWR0aCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dFdpZHRoJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRDaGFubmVsQ291bnQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRDaGFubmVsQ291bnQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19sb2FkTW9kZWwnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2xvYWRNb2RlbCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2xvYWRNb2RlbCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX3J1bkluZmVyZW5jZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfcnVuSW5mZXJlbmNlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsncnVuSW5mZXJlbmNlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfbWFsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19tYWxsb2MnXSA9IE1vZHVsZVsnYXNtJ11bJ21hbGxvYyddKS5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmd1bWVudHMsXG4gICAgKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX19lcnJub19sb2NhdGlvbiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX19fZGxfc2V0ZXJyJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2RsX3NldGVyciddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fZGxfc2V0ZXJyJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1NhdmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tTYXZlJ10gPSBNb2R1bGVbJ2FzbSddWydzdGFja1NhdmUnXSkuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgYXJndW1lbnRzLFxuICAgICk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1Jlc3RvcmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tSZXN0b3JlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnc3RhY2tSZXN0b3JlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja0FsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ3N0YWNrQWxsb2MnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydzdGFja0FsbG9jJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2pqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2pqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppaWknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWlpJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfaWlpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWpqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfdmlpamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX3ZpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWlqamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF92aWlpampqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF92aWlpampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpamppaWlpJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfaWlqamlpaWknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2lpamppaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppamknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWppJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWppJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICB2YXIgY2FsbGVkUnVuO1xuICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBmdW5jdGlvbiBydW5DYWxsZXIoKSB7XG4gICAgaWYgKCFjYWxsZWRSdW4pIHJ1bigpO1xuICAgIGlmICghY2FsbGVkUnVuKSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBydW5DYWxsZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcnVuKGFyZ3MpIHtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcmVSdW4oKTtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvUnVuKCkge1xuICAgICAgaWYgKGNhbGxlZFJ1bikgcmV0dXJuO1xuICAgICAgY2FsbGVkUnVuID0gdHJ1ZTtcbiAgICAgIE1vZHVsZVsnY2FsbGVkUnVuJ10gPSB0cnVlO1xuICAgICAgaWYgKEFCT1JUKSByZXR1cm47XG4gICAgICBpbml0UnVudGltZSgpO1xuICAgICAgcmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO1xuICAgICAgaWYgKE1vZHVsZVsnb25SdW50aW1lSW5pdGlhbGl6ZWQnXSkgTW9kdWxlWydvblJ1bnRpbWVJbml0aWFsaXplZCddKCk7XG4gICAgICBwb3N0UnVuKCk7XG4gICAgfVxuXG4gICAgaWYgKE1vZHVsZVsnc2V0U3RhdHVzJ10pIHtcbiAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJ1J1bm5pbmcuLi4nKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBNb2R1bGVbJ3NldFN0YXR1cyddKCcnKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICAgIGRvUnVuKCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9SdW4oKTtcbiAgICB9XG4gIH1cblxuICBpZiAoTW9kdWxlWydwcmVJbml0J10pIHtcbiAgICBpZiAodHlwZW9mIE1vZHVsZVsncHJlSW5pdCddID09ICdmdW5jdGlvbicpXG4gICAgICBNb2R1bGVbJ3ByZUluaXQnXSA9IFtNb2R1bGVbJ3ByZUluaXQnXV07XG4gICAgd2hpbGUgKE1vZHVsZVsncHJlSW5pdCddLmxlbmd0aCA+IDApIHtcbiAgICAgIE1vZHVsZVsncHJlSW5pdCddLnBvcCgpKCk7XG4gICAgfVxuICB9XG4gIHJ1bigpO1xuXG4gIHJldHVybiBfX01vZHVsZS5yZWFkeTtcbn07XG5cbmNvbnN0IHZlcnNpb24gPSBcIjAuMS4zXCIgO1xuY29uc3QgcGFja2FnZU5hbWUgPSBcIkBzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWJcIiA7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBtb2R1bGUgaXMgbm90IGRlY2xhcmVkXG4vLyBUaGlzIGlzIGEgV2ViQXNzZW1ibHkgbW9kdWxlIGNvbXBpbGVkIGZyb20gdGhlIFRlbnNvckZsb3cgTGl0ZSBDKysgbGlicmFyeS5cbmNvbnN0IGNyZWF0ZVRGTGl0ZSA9IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGU7XG5jb25zdCBsb2FkVEZMaXRlID0gYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgYmFzZVBhdGggPSBgaHR0cHM6Ly91bnBrZy5jb20vJHtwYWNrYWdlTmFtZX1AJHt2ZXJzaW9ufS90ZmAsIHRmRmlsZVBhdGggPSBgJHtiYXNlUGF0aH0vdGZsaXRlL3RmbGl0ZS1zaW1kLndhc21gLCBtb2RlbEZpbGVQYXRoID0gYCR7YmFzZVBhdGh9L21vZGVscy9zZWdtX2Z1bGxfdjY3OS50ZmxpdGVgLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBbdGZMaXRlLCBtb2RlbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGNyZWF0ZVRGTGl0ZSh7IGxvY2F0ZUZpbGU6ICgpID0+IHRmRmlsZVBhdGggfSksXG4gICAgICAgIGZldGNoTW9kZWwobW9kZWxGaWxlUGF0aCksXG4gICAgXSk7XG4gICAgY29uc3QgbW9kZWxCdWZmZXJPZmZzZXQgPSB0ZkxpdGUuX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0KCk7XG4gICAgdGZMaXRlLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkobW9kZWwpLCBtb2RlbEJ1ZmZlck9mZnNldCk7XG4gICAgdGZMaXRlLl9sb2FkTW9kZWwobW9kZWwuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHRmTGl0ZTtcbn07XG5sZXQgbGFzdE1vZGVsRmlsZVBhdGggPSAnJztcbmxldCBtb2RlbEZpbGVDYWNoZTtcbmNvbnN0IGZldGNoTW9kZWwgPSBhc3luYyAobW9kZWxGaWxlUGF0aCkgPT4ge1xuICAgIGNvbnN0IG1vZGVsID0gbW9kZWxGaWxlUGF0aCA9PT0gbGFzdE1vZGVsRmlsZVBhdGggJiYgbW9kZWxGaWxlQ2FjaGVcbiAgICAgICAgPyBtb2RlbEZpbGVDYWNoZVxuICAgICAgICA6IGF3YWl0IGZldGNoKG1vZGVsRmlsZVBhdGgpLnRoZW4oKHIpID0+IHIuYXJyYXlCdWZmZXIoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIG1vZGVsIGZpbGUgZm9yIGZ1dHVyZSB1c2UuXG4gICAgbW9kZWxGaWxlQ2FjaGUgPSBtb2RlbDtcbiAgICBsYXN0TW9kZWxGaWxlUGF0aCA9IG1vZGVsRmlsZVBhdGg7XG4gICAgcmV0dXJuIG1vZGVsO1xufTtcblxuZXhwb3J0IHsgU2VnbWVudGF0aW9uTGV2ZWwsIGNyZWF0ZVJlbmRlcmVyLCBpc1BsYXRmb3JtU3VwcG9ydGVkLCBsb2FkVEZMaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* binding */ DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* binding */ DEFAULT_NAMESPACE),\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   mapToRegistry: () => (/* binding */ mapToRegistry),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* binding */ useCreateI18n),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\n\nconst DEFAULT_LANGUAGE = 'en';\nconst DEFAULT_NAMESPACE = 'stream-video';\nconst DEFAULT_CONFIG = {\n    debug: false,\n    currentLanguage: DEFAULT_LANGUAGE,\n    fallbackLanguage: false,\n};\nconst DEFAULT_TRANSLATIONS_REGISTRY = mapToRegistry({}, DEFAULT_NAMESPACE);\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    /** Simple logger function */\n    constructor(options = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            try {\n                this.t = await this.i18nInstance.init();\n            }\n            catch (e) {\n                console.error(`Failed to initialize translations: ${JSON.stringify(e)}`);\n            }\n            return this;\n        };\n        this.changeLanguage = async (language, onChange) => {\n            if (!this._checkIsInitialized())\n                return;\n            // i18next detects the language, if none provided, but it is better\n            // to show this detection here explicitly\n            const browserLanguage = typeof window !== 'undefined' && window.navigator\n                ? window.navigator.language\n                : undefined;\n            await this.i18nInstance.changeLanguage(language || browserLanguage);\n            onChange?.(this.currentLanguage);\n        };\n        this.registerTranslationsForLanguage = ({ lng, translations, }) => {\n            if (!this._checkIsInitialized())\n                return;\n            this.i18nInstance.addResourceBundle(lng, DEFAULT_NAMESPACE, translations, true, true);\n        };\n        this._checkIsInitialized = () => {\n            if (!this.i18nInstance.isInitialized) {\n                console.warn('I18n instance is not initialized. Call yourStreamI18nInstance.init().');\n            }\n            return this.i18nInstance.isInitialized;\n        };\n        const { debug = DEFAULT_CONFIG.debug, currentLanguage = DEFAULT_CONFIG.currentLanguage, fallbackLanguage = DEFAULT_CONFIG.fallbackLanguage, translationsOverrides, } = options;\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: DEFAULT_NAMESPACE,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: (key) => {\n                return key;\n            },\n            resources: DEFAULT_TRANSLATIONS_REGISTRY,\n        });\n        if (translationsOverrides) {\n            this.i18nInstance.on('initialized', () => {\n                Object.entries(translationsOverrides).forEach(([lng, translations]) => {\n                    this.registerTranslationsForLanguage({ lng, translations });\n                });\n            });\n        }\n    }\n    get currentLanguage() {\n        this._checkIsInitialized();\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const { i18n, t } = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: { t, i18n }, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => defaultTranslationFunction);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const { isInitialized } = i18n;\n        if (!isInitialized) {\n            i18n.init().then((_i18n) => setTranslationFn(() => _i18n.i18nInstance.t));\n            return;\n        }\n        if (language && i18n?.currentLanguage !== language) {\n            i18n.changeLanguage(language).catch((err) => {\n                console.log('Error while changing language', err);\n            });\n        }\n    }, [i18n, i18nInstance, language, translationsOverrides]);\n    return { i18n, t };\n};\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n *  @param PropsWithChildren<StreamVideoProps>\n *  @category Client State\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n *\n * @returns\n *\n * @category Client State\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n * @internal\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const subscription = observable$.subscribe({\n            next: setValue,\n            error: (err) => {\n                console.log('An error occurred while reading an observable', err);\n                if (defaultValue)\n                    setValue(defaultValue);\n            },\n        });\n        return () => {\n            subscription.unsubscribe();\n        };\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n *\n * @category Call State\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n *\n * @category Call State\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n *\n * @category Call State\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n *\n * @category Call State\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n *\n * @category Call State\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n *\n * @category Call State\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n *\n * @category Call State\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n *\n * @category Call State\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n *\n * @category Call State\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n *\n * @category Call State\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @category Call State\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n *\n * @category Call State\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n *\n * @category Call State\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n *\n * @category Call State\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n *\n * @category Call State\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n *\n * @category Camera Manager State\n *\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => camera.listDevices(), [camera]);\n    const { state } = camera;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        camera,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        direction,\n        mediaStream,\n        devices,\n        hasBrowserPermission,\n        selectedDevice,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the microphone state of the current call.\n *\n * @category Microphone Manager State\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => microphone.listDevices(), [microphone]);\n    const { state } = microphone;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        microphone,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        mediaStream,\n        devices,\n        selectedDevice,\n        hasBrowserPermission,\n        isSpeakingWhileMuted,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => speaker.listDevices(), [speaker]);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        devices,\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    const status = useObservableValue(screenShare.state.status$);\n    const pendingStatus = useObservableValue(screenShare.state.optimisticStatus$);\n    const mediaStream = useObservableValue(screenShare.state.mediaStream$);\n    const isMute = status !== 'enabled';\n    const optimisticStatus = pendingStatus ?? status;\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        screenShare,\n        mediaStream,\n        status,\n        optimisticStatus,\n        isMute,\n        optimisticIsMute,\n    };\n};\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.readOnlyStateStore;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n *\n * @category Client State\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n *\n * @category Client State\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n *\n * @category Call State\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQzhCO0FBQ2xEO0FBQytCOztBQUU3RCwwQkFBMEIsb0RBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixZQUFZLHNEQUFHLCtCQUErQixpQ0FBaUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVU7QUFDckI7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxDQUFDLElBQUk7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGtCQUFrQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2SkFBNko7QUFDN0ssNEJBQTRCLDhEQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG1CQUFtQjtBQUM5RSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixvREFBYTtBQUN2QztBQUNBLENBQUM7QUFDRCw4QkFBOEIsK0JBQStCO0FBQzdELFlBQVks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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QixxQkFBcUIsOENBQU87QUFDNUIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixxQkFBcUIsOENBQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGtGQUFrRjtBQUN4RztBQUNBLFlBQVksc0NBQXNDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDcEU7QUFDQTtBQUNBLDRCQUE0QixzREFBRyxDQUFDLHVEQUFRLElBQUksb0JBQW9CO0FBQ2hFO0FBQ0EsZUFBZSxzREFBRyxDQUFDLHVEQUFRLElBQUksb0JBQW9CO0FBQ25EO0FBQ0E7O0FBRStSO0FBQy9SIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MvZGlzdC9pbmRleC5lcy5qcz84YjRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgeyBSeFV0aWxzLCBDYWxsU3RhdGUgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5cbmNvbnN0IFN0cmVhbUNhbGxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBBIHByb3ZpZGVyIGZvciB0aGUgY2FsbCBvYmplY3QuXG4gKi9cbmNvbnN0IFN0cmVhbUNhbGxQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbCwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFN0cmVhbUNhbGxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjYWxsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbi8qKlxuICogQSBob29rIHRvIGdldCB0aGUgY2FsbCBvYmplY3QgZnJvbSB0aGUgY2xvc2VzdCBwcm92aWRlci5cbiAqL1xuY29uc3QgdXNlQ2FsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1DYWxsQ29udGV4dCk7XG59O1xuXG5jb25zdCBtYXBUb1JlZ2lzdHJ5ID0gKHRyYW5zbGF0aW9uc01hcCwgbmFtZXNwYWNlKSA9PiBPYmplY3QuZW50cmllcyh0cmFuc2xhdGlvbnNNYXApLnJlZHVjZSgoYWNjLCBbbG5nLCB0cmFuc2xhdGlvbnNdKSA9PiB7XG4gICAgYWNjW2xuZ10gPSB7IFtuYW1lc3BhY2VdOiB0cmFuc2xhdGlvbnMgfTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuXG5jb25zdCBERUZBVUxUX0xBTkdVQUdFID0gJ2VuJztcbmNvbnN0IERFRkFVTFRfTkFNRVNQQUNFID0gJ3N0cmVhbS12aWRlbyc7XG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgY3VycmVudExhbmd1YWdlOiBERUZBVUxUX0xBTkdVQUdFLFxuICAgIGZhbGxiYWNrTGFuZ3VhZ2U6IGZhbHNlLFxufTtcbmNvbnN0IERFRkFVTFRfVFJBTlNMQVRJT05TX1JFR0lTVFJZID0gbWFwVG9SZWdpc3RyeSh7fSwgREVGQVVMVF9OQU1FU1BBQ0UpO1xuY29uc3QgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24gPSAoa2V5KSA9PiBrZXk7XG5jbGFzcyBTdHJlYW1JMThuIHtcbiAgICAvKiogU2ltcGxlIGxvZ2dlciBmdW5jdGlvbiAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvKiogVHJhbnNsYXRvciBmdW5jdGlvbiB0aGF0IGNvbnZlcnRzIHRoZSBwcm92aWRlZCBzdHJpbmcgaW50byBpdHMgZXF1aXZhbGVudCBpbiB0aGUgY3VycmVudCBsYW5ndWFnZS4gKi9cbiAgICAgICAgdGhpcy50ID0gZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb247XG4gICAgICAgIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ID0gYXdhaXQgdGhpcy5pMThuSW5zdGFuY2UuaW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0cmFuc2xhdGlvbnM6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jaGFuZ2VMYW5ndWFnZSA9IGFzeW5jIChsYW5ndWFnZSwgb25DaGFuZ2UpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gaTE4bmV4dCBkZXRlY3RzIHRoZSBsYW5ndWFnZSwgaWYgbm9uZSBwcm92aWRlZCwgYnV0IGl0IGlzIGJldHRlclxuICAgICAgICAgICAgLy8gdG8gc2hvdyB0aGlzIGRldGVjdGlvbiBoZXJlIGV4cGxpY2l0bHlcbiAgICAgICAgICAgIGNvbnN0IGJyb3dzZXJMYW5ndWFnZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICA/IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlIHx8IGJyb3dzZXJMYW5ndWFnZSk7XG4gICAgICAgICAgICBvbkNoYW5nZT8uKHRoaXMuY3VycmVudExhbmd1YWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclRyYW5zbGF0aW9uc0Zvckxhbmd1YWdlID0gKHsgbG5nLCB0cmFuc2xhdGlvbnMsIH0pID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pMThuSW5zdGFuY2UuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBERUZBVUxUX05BTUVTUEFDRSwgdHJhbnNsYXRpb25zLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJMThuIGluc3RhbmNlIGlzIG5vdCBpbml0aWFsaXplZC4gQ2FsbCB5b3VyU3RyZWFtSTE4bkluc3RhbmNlLmluaXQoKS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGRlYnVnID0gREVGQVVMVF9DT05GSUcuZGVidWcsIGN1cnJlbnRMYW5ndWFnZSA9IERFRkFVTFRfQ09ORklHLmN1cnJlbnRMYW5ndWFnZSwgZmFsbGJhY2tMYW5ndWFnZSA9IERFRkFVTFRfQ09ORklHLmZhbGxiYWNrTGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuaTE4bkluc3RhbmNlID0gaTE4bmV4dC5jcmVhdGVJbnN0YW5jZSh7XG4gICAgICAgICAgICBkZWJ1ZyxcbiAgICAgICAgICAgIGRlZmF1bHROUzogREVGQVVMVF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICBmYWxsYmFja0xuZzogZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlLFxuICAgICAgICAgICAgbG5nOiBjdXJyZW50TGFuZ3VhZ2UsXG4gICAgICAgICAgICBuc1NlcGFyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiAoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNvdXJjZXM6IERFRkFVTFRfVFJBTlNMQVRJT05TX1JFR0lTVFJZLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uc092ZXJyaWRlcykge1xuICAgICAgICAgICAgdGhpcy5pMThuSW5zdGFuY2Uub24oJ2luaXRpYWxpemVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRyYW5zbGF0aW9uc092ZXJyaWRlcykuZm9yRWFjaCgoW2xuZywgdHJhbnNsYXRpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVHJhbnNsYXRpb25zRm9yTGFuZ3VhZ2UoeyBsbmcsIHRyYW5zbGF0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjdXJyZW50TGFuZ3VhZ2UoKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrSXNJbml0aWFsaXplZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pMThuSW5zdGFuY2UubGFuZ3VhZ2U7XG4gICAgfVxuICAgIGdldCBpc0luaXRpYWxpemVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pMThuSW5zdGFuY2UuaXNJbml0aWFsaXplZDtcbiAgICB9XG59XG5cbmNvbnN0IFN0cmVhbUkxOG5Db250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgdDogZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24sXG59KTtcbmNvbnN0IFN0cmVhbUkxOG5Qcm92aWRlciA9ICh7IGNoaWxkcmVuLCAuLi5jcmVhdGVJMThuUGFyYW1zIH0pID0+IHtcbiAgICBjb25zdCB7IGkxOG4sIHQgfSA9IHVzZUNyZWF0ZUkxOG4oY3JlYXRlSTE4blBhcmFtcyk7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtSTE4bkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgdCwgaTE4biB9LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmNvbnN0IHVzZUNyZWF0ZUkxOG4gPSAoeyBpMThuSW5zdGFuY2UsIGxhbmd1YWdlLCBmYWxsYmFja0xhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXMsIH0pID0+IHtcbiAgICBjb25zdCBbaTE4bl0gPSB1c2VTdGF0ZSgoKSA9PiBpMThuSW5zdGFuY2UgfHxcbiAgICAgICAgbmV3IFN0cmVhbUkxOG4oe1xuICAgICAgICAgICAgY3VycmVudExhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAgICAgIGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbnNPdmVycmlkZXMsXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBbdCwgc2V0VHJhbnNsYXRpb25Gbl0gPSB1c2VTdGF0ZSgoKSA9PiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbik7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBpc0luaXRpYWxpemVkIH0gPSBpMThuO1xuICAgICAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGkxOG4uaW5pdCgpLnRoZW4oKF9pMThuKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IF9pMThuLmkxOG5JbnN0YW5jZS50KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmd1YWdlICYmIGkxOG4/LmN1cnJlbnRMYW5ndWFnZSAhPT0gbGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGkxOG4uY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igd2hpbGUgY2hhbmdpbmcgbGFuZ3VhZ2UnLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbaTE4biwgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzXSk7XG4gICAgcmV0dXJuIHsgaTE4biwgdCB9O1xufTtcbmNvbnN0IHVzZUkxOG4gPSAoKSA9PiB1c2VDb250ZXh0KFN0cmVhbUkxOG5Db250ZXh0KTtcblxuY29uc3QgU3RyZWFtVmlkZW9Db250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBTdHJlYW1WaWRlbyBpcyBhIHByb3ZpZGVyIGNvbXBvbmVudCB3aGljaCBzaG91bGQgYmUgdXNlZCB0byB3cmFwIHRoZSBlbnRpcmUgYXBwbGljYXRpb24uXG4gKiBJdCBwcm92aWRlcyB0aGUgY2xpZW50IG9iamVjdCB0byBhbGwgY2hpbGRyZW4gY29tcG9uZW50cyBhbmQgaW5pdGlhbGl6ZXMgdGhlIGkxOG4gaW5zdGFuY2UuXG4gKiAgQHBhcmFtIFByb3BzV2l0aENoaWxkcmVuPFN0cmVhbVZpZGVvUHJvcHM+XG4gKiAgQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCBTdHJlYW1WaWRlb1Byb3ZpZGVyID0gKHsgY2hpbGRyZW4sIGNsaWVudCwgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtVmlkZW9Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjbGllbnQsIGNoaWxkcmVuOiBqc3goU3RyZWFtSTE4blByb3ZpZGVyLCB7IGkxOG5JbnN0YW5jZTogaTE4bkluc3RhbmNlLCBsYW5ndWFnZTogbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcbi8qKlxuICpcbiAqIEByZXR1cm5zXG4gKlxuICogQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCB1c2VTdHJlYW1WaWRlb0NsaWVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1WaWRlb0NvbnRleHQpO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGdpdmVuIG9ic2VydmFibGUuXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gcmVhZCBkYXRhIGZyb20uXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIGEgZGVmYXVsdCB2YWx1ZS4gVXNlZCB3aGVuIHRoZSBvYnNlcnZhYmxlIGRhdGEgY2FuJ3QgYmUgcmVhZCBvciBlbWl0cyBhbiBlcnJvci5cbiAqL1xuY29uc3QgdXNlT2JzZXJ2YWJsZVZhbHVlID0gKG9ic2VydmFibGUkLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZShvYnNlcnZhYmxlJCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlJC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogc2V0VmFsdWUsXG4gICAgICAgICAgICBlcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nIGFuIG9ic2VydmFibGUnLCBlcnIpO1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtkZWZhdWx0VmFsdWUsIG9ic2VydmFibGUkXSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB3ZSBhcmUgdXNpbmcgUmVhY3QgTmF0aXZlXG4gKi9cbmNvbnN0IGlzUmVhY3ROYXRpdmUgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5wcm9kdWN0Py50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufTtcblxuLy8ga2luZC1vZiBtZW1vaXplZCwgdXNlZCBhcyBhIGRlZmF1bHQgdmFsdWVcbmNvbnN0IEVNUFRZX0RFVklDRVNfQVJSQVkgPSBPYmplY3QuZnJlZXplKFtdKTtcbi8qKlxuICogVXRpbGl0eSBob29rLCB3aGljaCBwcm92aWRlcyB0aGUgY3VycmVudCBjYWxsJ3Mgc3RhdGUuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgLy8gcmV0dXJuIGFuIGVtcHR5IGFuZCB1bmxpbmtlZCBDYWxsU3RhdGUgb2JqZWN0IGlmIHRoZXJlIGlzIG5vIGNhbGwgaW4gdGhlIHByb3ZpZGVyXG4gICAgLy8gdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGhvb2tzIGFsd2F5cyByZXR1cm4gYSB2YWx1ZSBhbmQgbWFueSBudWxsIGNoZWNrcyBjYW4gYmUgYXZvaWRlZFxuICAgIGlmICghY2FsbCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1lvdSBhcmUgdXNpbmcgdXNlQ2FsbFN0YXRlKCkgb3V0c2lkZSBhIENhbGwgY29udGV4dC4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHdyYXAgeW91ciBjb21wb25lbnQgaW4gPFN0cmVhbUNhbGwgLz4gYW5kIHByb3ZpZGUgYSBcImNhbGxcIiBpbnN0YW5jZS4nO1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbFN0YXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsLnN0YXRlO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBiZWluZyByZWNvcmRlZC4gSXQgd2lsbCByZXR1cm4gYHRydWVgIGlmIHRoZSBjYWxsIGlzIGJlaW5nIHJlY29yZGVkLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWNvcmRpbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJlY29yZGluZyQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBicm9hZGNhc3RpbmcuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IGVncmVzcyA9IHVzZU9ic2VydmFibGVWYWx1ZShlZ3Jlc3MkKTtcbiAgICBpZiAoIWVncmVzcylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBlZ3Jlc3MuYnJvYWRjYXN0aW5nO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBsaXZlLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbExpdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBiYWNrc3RhZ2UkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBpc0JhY2tzdGFnZU9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGJhY2tzdGFnZSQpO1xuICAgIHJldHVybiAhaXNCYWNrc3RhZ2VPbjtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VycyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICovXG5jb25zdCB1c2VDYWxsQmxvY2tlZFVzZXJJZHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBibG9ja2VkVXNlcklkcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoYmxvY2tlZFVzZXJJZHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgY3JlYXRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbENyZWF0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNyZWF0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3JlYXRlZEF0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgd2hlbiB0aGlzIGNhbGwgd2FzIGVuZGVkLlxuICovXG5jb25zdCB1c2VDYWxsRW5kZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVuZGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVuZGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB0ZWxsaW5nIHdoZW4gdGhlIGNhbGwgaXMgc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICovXG5jb25zdCB1c2VDYWxsU3RhcnRzQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGFydHNBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhcnRzQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgdXBkYXRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbFVwZGF0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVwZGF0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUodXBkYXRlZEF0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbCdzIGNyZWF0b3IuXG4gKi9cbmNvbnN0IHVzZUNhbGxDcmVhdGVkQnkgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjcmVhdGVkQnkkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNyZWF0ZWRCeSQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIGN1c3RvbSBkYXRhLlxuICovXG5jb25zdCB1c2VDYWxsQ3VzdG9tRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGN1c3RvbSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3VzdG9tJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgRWdyZXNzIGluZm9ybWF0aW9uLlxuICovXG5jb25zdCB1c2VDYWxsRWdyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZWdyZXNzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShlZ3Jlc3MkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBJbmdyZXNzIGluZm9ybWF0aW9uLlxuICovXG5jb25zdCB1c2VDYWxsSW5ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGluZ3Jlc3MkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGRhdGEgZm9yIHRoZSBjdXJyZW50IGNhbGwgc2Vzc2lvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbFNlc3Npb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzZXNzaW9uJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3Mgc2V0dGluZ3MuXG4gKi9cbmNvbnN0IHVzZUNhbGxTZXR0aW5ncyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNldHRpbmdzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzZXR0aW5ncyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjYWxsIGhhcyB0cmFuc2NyaWJpbmcgZW5hYmxlZC5cbiAqL1xuY29uc3QgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRyYW5zY3JpYmluZyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUodHJhbnNjcmliaW5nJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIHdobyBoYXMgbWFya2VkIHRoaXMgY2FsbCBhcyBlbmRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbEVuZGVkQnkgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlbmRlZEJ5JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShlbmRlZEJ5JCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGVyZSBpc1xuICogYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIHdoaWNoIHNoYXJlcyB0aGVpciBzY3JlZW4uXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaGFzT25nb2luZ1NjcmVlblNoYXJlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShoYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKiBXaGVuIHN0YXRzIGdhdGhlcmluZyBpcyBlbmFibGVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGEgbmV3IHZhbHVlXG4gKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gKlxuICogQ29uc3VtZXJzIG9mIHRoaXMgb2JzZXJ2YWJsZSBjYW4gaW1wbGVtZW50IHRoZWlyIG93biBiYXRjaGluZyBsb2dpY1xuICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRzUmVwb3J0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFN0YXRzUmVwb3J0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxsU3RhdHNSZXBvcnQkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgZG9taW5hbnQgc3BlYWtlciBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZURvbWluYW50U3BlYWtlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGRvbWluYW50U3BlYWtlciQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZG9taW5hbnRTcGVha2VyJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGNhbGwgbWVtYmVycy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsTWVtYmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lbWJlcnMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG1lbWJlcnMkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGN1cnJlbnQgY2FsbGluZyBzdGF0ZSBvZiB0aGUgY2FsbC4gRm9yIGV4YW1wbGUsIGBSSU5HSU5HYCBvciBgSk9JTkVEYC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsQ2FsbGluZ1N0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbGluZ1N0YXRlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxsaW5nU3RhdGUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGFjdHVhbCBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IHNlc3Npb24uXG4gKiBVc2VmdWwgZm9yIGNhbGN1bGF0aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGFydGVkQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGFydGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXJ0ZWRBdCQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFydGljaXBhbnRzIHRoYXQgaGF2ZSBqb2luZWQgYW4gYWN0aXZlIGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucy5zb3J0QnkgLSBBIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICogTWFrZSBzdXJlIHRvIG1lbW9pemUgb3V0cHV0IG9mIHRoZSBgY29tYmluZUNvbXBhcmF0b3JzYCBmdW5jdGlvblxuICogKG9yIGtlZXAgaXQgb3V0IG9mIGNvbXBvbmVudCdzIHNjb3BlIGlmIHBvc3NpYmxlKSBiZWZvcmUgcGFzc2luZyBpdCBkb3duIHRvIHRoaXMgcHJvcGVydHkuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50cyA9ICh7IHNvcnRCeSwgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VPYnNlcnZhYmxlVmFsdWUocGFydGljaXBhbnRzJCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoc29ydEJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhcnRpY2lwYW50c10uc29ydChzb3J0QnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gICAgfSwgW3BhcnRpY2lwYW50cywgc29ydEJ5XSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBTdHJlYW1WaWRlb0xvY2FsUGFydGljaXBhbnQgb2JqZWN0LlxuICogSXQgc2lnbmFscyB0aGF0IEkgaGF2ZSBqb2luZWQgYSBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUxvY2FsUGFydGljaXBhbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsb2NhbFBhcnRpY2lwYW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShsb2NhbFBhcnRpY2lwYW50JCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBvdGhlciBwYXJ0aWNpcGFudHMgdGhhbiBtZSB0aGF0IGhhdmUgam9pbmVkIGFuIGFjdGl2ZSBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZVJlbW90ZVBhcnRpY2lwYW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocmVtb3RlUGFydGljaXBhbnRzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgdXNlcnMgYXMgd2VsbCwgYW5kIGl0IGlzIGNvbXB1dGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlUGFydGljaXBhbnRDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Q291bnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHBhcnRpY2lwYW50Q291bnQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGFwcHJveGltYXRlIGFub255bW91cyBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGUgcmVndWxhciBwYXJ0aWNpcGFudHMgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGNvdW50LiBJdCBpcyBjb21wdXRlZCBvbiB0aGUgc2VydmVyLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgdGh1bWJuYWlsIG9mIHRoZSBjdXJyZW50IGNhbGwsIGlmIGVuYWJsZWQgaW4gc2V0dGluZ3MuXG4gKi9cbmNvbnN0IHVzZUNhbGxUaHVtYm5haWwgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0aHVtYm5haWxzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh0aHVtYm5haWxzJCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcmV0dXJucyB0aGUgbG9jYWwgcGFydGljaXBhbnQncyBvd24gY2FwYWJpbGl0aWVzLlxuICovXG5jb25zdCB1c2VPd25DYXBhYmlsaXRpZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvd25DYXBhYmlsaXRpZXMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG93bkNhcGFiaWxpdGllcyQpO1xufTtcbi8qKlxuICogSG9vayB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgbG9jYWwgcGFydGljaXBhbnQgaGFzIGFsbCB0aGUgZ2l2ZW4gcGVybWlzc2lvbnMuXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBjaGVjay5cbiAqL1xuY29uc3QgdXNlSGFzUGVybWlzc2lvbnMgPSAoLi4ucGVybWlzc2lvbnMpID0+IHtcbiAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSB1c2VPd25DYXBhYmlsaXRpZXMoKTtcbiAgICByZXR1cm4gcGVybWlzc2lvbnMuZXZlcnkoKHBlcm1pc3Npb24pID0+IGNhcGFiaWxpdGllcz8uaW5jbHVkZXMocGVybWlzc2lvbikpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FtZXJhIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbWVyYSBNYW5hZ2VyIFN0YXRlXG4gKlxuICovXG5jb25zdCB1c2VDYW1lcmFTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgY2FtZXJhIH0gPSBjYWxsO1xuICAgIGNvbnN0IGRldmljZXMkID0gdXNlTWVtbygoKSA9PiBjYW1lcmEubGlzdERldmljZXMoKSwgW2NhbWVyYV0pO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbWVyYTtcbiAgICBjb25zdCBzdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3RhdHVzJCk7XG4gICAgY29uc3Qgb3B0aW1pc3RpY1N0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmRpcmVjdGlvbiQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCBkZXZpY2VzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGRldmljZXMkLCBFTVBUWV9ERVZJQ0VTX0FSUkFZKTtcbiAgICBjb25zdCBoYXNCcm93c2VyUGVybWlzc2lvbiA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5oYXNCcm93c2VyUGVybWlzc2lvbiQpO1xuICAgIGNvbnN0IGlzTXV0ZSA9IHN0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIGNvbnN0IG9wdGltaXN0aWNJc011dGUgPSBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FtZXJhLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIG9wdGltaXN0aWNTdGF0dXMsXG4gICAgICAgIGlzRW5hYmxlZDogc3RhdHVzID09PSAnZW5hYmxlZCcsXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgbWVkaWFTdHJlYW0sXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLFxuICAgICAgICBzZWxlY3RlZERldmljZSxcbiAgICAgICAgaXNNdXRlLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaWNyb3Bob25lIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IE1pY3JvcGhvbmUgTWFuYWdlciBTdGF0ZVxuICovXG5jb25zdCB1c2VNaWNyb3Bob25lU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUgfSA9IGNhbGw7XG4gICAgY29uc3QgZGV2aWNlcyQgPSB1c2VNZW1vKCgpID0+IG1pY3JvcGhvbmUubGlzdERldmljZXMoKSwgW21pY3JvcGhvbmVdKTtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBtaWNyb3Bob25lO1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zdGF0dXMkKTtcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5tZWRpYVN0cmVhbSQpO1xuICAgIGNvbnN0IHNlbGVjdGVkRGV2aWNlID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNlbGVjdGVkRGV2aWNlJCk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVWYWx1ZShkZXZpY2VzJCwgRU1QVFlfREVWSUNFU19BUlJBWSk7XG4gICAgY29uc3QgaGFzQnJvd3NlclBlcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaGFzQnJvd3NlclBlcm1pc3Npb24kKTtcbiAgICBjb25zdCBpc1NwZWFraW5nV2hpbGVNdXRlZCA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zcGVha2luZ1doaWxlTXV0ZWQkKTtcbiAgICBjb25zdCBpc011dGUgPSBzdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICBjb25zdCBvcHRpbWlzdGljSXNNdXRlID0gb3B0aW1pc3RpY1N0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pY3JvcGhvbmUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgb3B0aW1pc3RpY1N0YXR1cyxcbiAgICAgICAgaXNFbmFibGVkOiBzdGF0dXMgPT09ICdlbmFibGVkJyxcbiAgICAgICAgbWVkaWFTdHJlYW0sXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBoYXNCcm93c2VyUGVybWlzc2lvbixcbiAgICAgICAgaXNTcGVha2luZ1doaWxlTXV0ZWQsXG4gICAgICAgIGlzTXV0ZSxcbiAgICAgICAgb3B0aW1pc3RpY0lzTXV0ZSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3BlYWtlciBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIE5vdGU6IFRoaXMgaG9vayBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCB1c2VTcGVha2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyk7XG4gICAgfVxuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBzcGVha2VyIH0gPSBjYWxsO1xuICAgIGNvbnN0IGRldmljZXMkID0gdXNlTWVtbygoKSA9PiBzcGVha2VyLmxpc3REZXZpY2VzKCksIFtzcGVha2VyXSk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVWYWx1ZShkZXZpY2VzJCwgRU1QVFlfREVWSUNFU19BUlJBWSk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNwZWFrZXIsXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZDogc3BlYWtlci5zdGF0ZS5pc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgU2NyZWVuIFNoYXJlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZVNjcmVlblNoYXJlU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHNjcmVlblNoYXJlIH0gPSBjYWxsO1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzY3JlZW5TaGFyZS5zdGF0ZS5zdGF0dXMkKTtcbiAgICBjb25zdCBwZW5kaW5nU3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHVzZU9ic2VydmFibGVWYWx1ZShzY3JlZW5TaGFyZS5zdGF0ZS5tZWRpYVN0cmVhbSQpO1xuICAgIGNvbnN0IGlzTXV0ZSA9IHN0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIGNvbnN0IG9wdGltaXN0aWNTdGF0dXMgPSBwZW5kaW5nU3RhdHVzID8/IHN0YXR1cztcbiAgICBjb25zdCBvcHRpbWlzdGljSXNNdXRlID0gb3B0aW1pc3RpY1N0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlblNoYXJlLFxuICAgICAgICBtZWRpYVN0cmVhbSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc011dGUsXG4gICAgICAgIG9wdGltaXN0aWNJc011dGUsXG4gICAgfTtcbn07XG5cbnZhciBDYWxsU3RhdGVIb29rcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudDogdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCxcbiAgICB1c2VDYWxsQmxvY2tlZFVzZXJJZHM6IHVzZUNhbGxCbG9ja2VkVXNlcklkcyxcbiAgICB1c2VDYWxsQ2FsbGluZ1N0YXRlOiB1c2VDYWxsQ2FsbGluZ1N0YXRlLFxuICAgIHVzZUNhbGxDcmVhdGVkQXQ6IHVzZUNhbGxDcmVhdGVkQXQsXG4gICAgdXNlQ2FsbENyZWF0ZWRCeTogdXNlQ2FsbENyZWF0ZWRCeSxcbiAgICB1c2VDYWxsQ3VzdG9tRGF0YTogdXNlQ2FsbEN1c3RvbURhdGEsXG4gICAgdXNlQ2FsbEVncmVzczogdXNlQ2FsbEVncmVzcyxcbiAgICB1c2VDYWxsRW5kZWRBdDogdXNlQ2FsbEVuZGVkQXQsXG4gICAgdXNlQ2FsbEVuZGVkQnk6IHVzZUNhbGxFbmRlZEJ5LFxuICAgIHVzZUNhbGxJbmdyZXNzOiB1c2VDYWxsSW5ncmVzcyxcbiAgICB1c2VDYWxsTWVtYmVyczogdXNlQ2FsbE1lbWJlcnMsXG4gICAgdXNlQ2FsbFNlc3Npb246IHVzZUNhbGxTZXNzaW9uLFxuICAgIHVzZUNhbGxTZXR0aW5nczogdXNlQ2FsbFNldHRpbmdzLFxuICAgIHVzZUNhbGxTdGFydGVkQXQ6IHVzZUNhbGxTdGFydGVkQXQsXG4gICAgdXNlQ2FsbFN0YXJ0c0F0OiB1c2VDYWxsU3RhcnRzQXQsXG4gICAgdXNlQ2FsbFN0YXRlOiB1c2VDYWxsU3RhdGUsXG4gICAgdXNlQ2FsbFN0YXRzUmVwb3J0OiB1c2VDYWxsU3RhdHNSZXBvcnQsXG4gICAgdXNlQ2FsbFRodW1ibmFpbDogdXNlQ2FsbFRodW1ibmFpbCxcbiAgICB1c2VDYWxsVXBkYXRlZEF0OiB1c2VDYWxsVXBkYXRlZEF0LFxuICAgIHVzZUNhbWVyYVN0YXRlOiB1c2VDYW1lcmFTdGF0ZSxcbiAgICB1c2VEb21pbmFudFNwZWFrZXI6IHVzZURvbWluYW50U3BlYWtlcixcbiAgICB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmU6IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSxcbiAgICB1c2VIYXNQZXJtaXNzaW9uczogdXNlSGFzUGVybWlzc2lvbnMsXG4gICAgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VJc0NhbGxMaXZlOiB1c2VJc0NhbGxMaXZlLFxuICAgIHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VMb2NhbFBhcnRpY2lwYW50OiB1c2VMb2NhbFBhcnRpY2lwYW50LFxuICAgIHVzZU1pY3JvcGhvbmVTdGF0ZTogdXNlTWljcm9waG9uZVN0YXRlLFxuICAgIHVzZU93bkNhcGFiaWxpdGllczogdXNlT3duQ2FwYWJpbGl0aWVzLFxuICAgIHVzZVBhcnRpY2lwYW50Q291bnQ6IHVzZVBhcnRpY2lwYW50Q291bnQsXG4gICAgdXNlUGFydGljaXBhbnRzOiB1c2VQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmVtb3RlUGFydGljaXBhbnRzOiB1c2VSZW1vdGVQYXJ0aWNpcGFudHMsXG4gICAgdXNlU2NyZWVuU2hhcmVTdGF0ZTogdXNlU2NyZWVuU2hhcmVTdGF0ZSxcbiAgICB1c2VTcGVha2VyU3RhdGU6IHVzZVNwZWFrZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGFjY2VzcyB0byBjbGllbnQncyBzdGF0ZSBzdG9yZS5cbiAqL1xuY29uc3QgdXNlU3RvcmUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlU3RyZWFtVmlkZW9DbGllbnQoKTtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbVZpZGVvQ2xpZW50IGlzbid0IGluaXRpYWxpemVkIG9yIHRoaXMgaG9vayBpcyBjYWxsZWQgb3V0c2lkZSBvZiA8U3RyZWFtVmlkZW8+IGNvbnRleHQuYCk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnQucmVhZE9ubHlTdGF0ZVN0b3JlO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgbm90aWZpY2F0aW9ucyBhYm91dCBjcmVhdGVkIGNhbGxzLlxuICogSW4gdGhlIHJpbmcgY2FsbCBzZXR0aW5ncywgdGhlc2UgY2FsbHMgY2FuIGJlIG91dGdvaW5nIChJIGhhdmUgY2FsbGVkIHNvbWVib2R5KVxuICogb3IgaW5jb21pbmcgKHNvbWVib2R5IGhhcyBjYWxsZWQgbWUpLlxuICpcbiAqIEBjYXRlZ29yeSBDbGllbnQgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjYWxscyQgfSA9IHVzZVN0b3JlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxscyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0ZWQgdXNlci5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2xpZW50IFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNvbm5lY3RlZFVzZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0ZWRVc2VyJCB9ID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNvbm5lY3RlZFVzZXIkKTtcbn07XG5cbi8qKlxuICogQSBob29rLWFsaWtlIGZ1bmN0aW9uIHRoYXQgZXhwb3NlcyBhbGwgY2FsbCBzdGF0ZSBob29rcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsU3RhdGVIb29rcyA9ICgpID0+IENhbGxTdGF0ZUhvb2tzO1xuXG5jb25zdCBSZXN0cmljdGVkID0gKHsgY2FuUmVxdWVzdE9ubHksIGhhc1Blcm1pc3Npb25zT25seSwgcmVxdWlyZWRHcmFudHMsIHJlcXVpcmVBbGwgPSB0cnVlLCBjaGlsZHJlbiwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU2V0dGluZ3MsIHVzZU93bkNhcGFiaWxpdGllcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBvd25DYXBhYmlsaXRpZXMgPSB1c2VPd25DYXBhYmlsaXRpZXMoKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb25zID0gcmVxdWlyZWRHcmFudHNbcmVxdWlyZUFsbCA/ICdldmVyeScgOiAnc29tZSddKChjYXBhYmlsaXR5KSA9PiBvd25DYXBhYmlsaXRpZXM/LmluY2x1ZGVzKGNhcGFiaWxpdHkpKTtcbiAgICBpZiAoaGFzUGVybWlzc2lvbnNPbmx5KVxuICAgICAgICByZXR1cm4gaGFzUGVybWlzc2lvbnMgPyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pIDogbnVsbDtcbiAgICBjb25zdCBjYW5SZXF1ZXN0ID0gcmVxdWlyZWRHcmFudHMuc29tZSgoY2FwYWJpbGl0eSkgPT4gY2FsbD8ucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QoY2FwYWJpbGl0eSwgc2V0dGluZ3MpKTtcbiAgICBpZiAoY2FuUmVxdWVzdE9ubHkpXG4gICAgICAgIHJldHVybiBjYW5SZXF1ZXN0ID8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSA6IG51bGw7XG4gICAgaWYgKGhhc1Blcm1pc3Npb25zIHx8IGNhblJlcXVlc3QpXG4gICAgICAgIHJldHVybiBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pO1xuICAgIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgREVGQVVMVF9MQU5HVUFHRSwgREVGQVVMVF9OQU1FU1BBQ0UsIFJlc3RyaWN0ZWQsIFN0cmVhbUNhbGxQcm92aWRlciwgU3RyZWFtSTE4biwgU3RyZWFtSTE4blByb3ZpZGVyLCBTdHJlYW1WaWRlb1Byb3ZpZGVyLCBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbiwgbWFwVG9SZWdpc3RyeSwgdXNlQ2FsbCwgdXNlQ2FsbFN0YXRlSG9va3MsIHVzZUNhbGxzLCB1c2VDb25uZWN0ZWRVc2VyLCB1c2VDcmVhdGVJMThuLCB1c2VJMThuLCB1c2VTdG9yZSwgdXNlU3RyZWFtVmlkZW9DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallStatsLatencyChart: () => (/* binding */ CallStatsLatencyChart),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_NAMESPACE),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StatCardExplanation: () => (/* binding */ StatCardExplanation),\n/* harmony export */   StatsTag: () => (/* binding */ StatsTag),\n/* harmony export */   Statuses: () => (/* binding */ Statuses),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceInfo),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   mapToRegistry: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.mapToRegistry),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCreateI18n),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! chart.js */ \"(ssr)/./node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/./node_modules/react-chartjs-2/dist/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = 'high', tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel('high');\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_6__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_6__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister();\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_6__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                renderer?.dispose();\n                videoRef.current && (videoRef.current.srcObject = null);\n                outputStream && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [backgroundBlurLevel, backgroundFilter, backgroundImage, tfLite]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_9__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will persist the device settings to local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistDevicePreferences = (key) => {\n    const { useMicrophoneState, useCameraState, useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const mic = useMicrophoneState();\n    const camera = useCameraState();\n    const speaker = useSpeakerState();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        try {\n            const preferences = {\n                mic: {\n                    selectedDeviceId: mic.selectedDevice || defaultDevice,\n                    muted: mic.isMute,\n                },\n                camera: {\n                    selectedDeviceId: camera.selectedDevice || defaultDevice,\n                    muted: camera.isMute,\n                },\n                speaker: {\n                    selectedDeviceId: speaker.selectedDevice || defaultDevice,\n                    muted: false,\n                },\n            };\n            window.localStorage.setItem(key, JSON.stringify(preferences));\n        }\n        catch (err) {\n            console.warn('Failed to save device preferences', err);\n        }\n    }, [\n        call,\n        camera.isMute,\n        camera.selectedDevice,\n        key,\n        mic.isMute,\n        mic.selectedDevice,\n        speaker.selectedDevice,\n    ]);\n};\n/**\n * This hook will apply the device settings from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst useApplyDevicePreferences = (key) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        const apply = async () => {\n            const initMic = async (setting) => {\n                await call.microphone.select(parseDeviceId(setting.selectedDeviceId));\n                if (setting.muted) {\n                    await call.microphone.disable();\n                }\n                else {\n                    await call.microphone.enable();\n                }\n            };\n            const initCamera = async (setting) => {\n                await call.camera.select(parseDeviceId(setting.selectedDeviceId));\n                if (setting.muted) {\n                    await call.camera.disable();\n                }\n                else {\n                    await call.camera.enable();\n                }\n            };\n            const initSpeaker = (setting) => {\n                call.speaker.select(parseDeviceId(setting.selectedDeviceId) ?? '');\n            };\n            let preferences = null;\n            try {\n                preferences = JSON.parse(window.localStorage.getItem(key));\n            }\n            catch (err) {\n                console.warn('Failed to load device preferences', err);\n            }\n            if (preferences) {\n                await initMic(preferences.mic);\n                await initCamera(preferences.camera);\n                initSpeaker(preferences.speaker);\n            }\n        };\n        apply().catch((err) => {\n            console.warn('Failed to apply device preferences', err);\n        });\n    }, [call, key]);\n};\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    useApplyDevicePreferences(key);\n    usePersistDevicePreferences(key);\n};\nconst parseDeviceId = (deviceId) => deviceId !== defaultDevice ? deviceId : undefined;\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useToggleCallRecording = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useIsCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        document?.addEventListener('click', handleClick, { capture: true });\n        document?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            document?.removeEventListener('click', handleClick, { capture: true });\n            document?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = useToggleCallRecording();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = useToggleCallRecording();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = useToggleCallRecording();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : caption ?? t('Record call');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = useToggleCallRecording();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '👍',\n    ':raise-hand:': '✋',\n    ':fireworks:': '🎉',\n    ':dislike:': '👎',\n    ':heart:': '❤️',\n    ':smile:': '😀',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_9__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId: selectedDeviceFromProps, title, type, onChange, } = props;\n    const { close } = useMenuContext();\n    // sometimes the browser (Chrome) will report the system-default device\n    // with an id of 'default'. In case when it doesn't, we'll select the first\n    // available device.\n    let selectedDeviceId = selectedDeviceFromProps;\n    if (devices.length > 0 &&\n        !devices.find((d) => d.deviceId === selectedDeviceId)) {\n        selectedDeviceId = devices[0].deviceId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), !devices.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--default`, label: \"Default\", name: type, defaultChecked: true, value: \"default\" })) : (devices.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        onChange?.(e.target.value);\n                        close?.();\n                    }, name: type, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n            }))] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId: selectedDeviceFromProps, title, onChange, icon, } = props;\n    // sometimes the browser (Chrome) will report the system-default device\n    // with an id of 'default'. In case when it doesn't, we'll select the first\n    // available device.\n    let selectedDeviceId = selectedDeviceFromProps;\n    if (devices.length > 0 &&\n        !devices.find((d) => d.deviceId === selectedDeviceId)) {\n        selectedDeviceId = devices[0].deviceId;\n    }\n    const selectedIndex = devices.findIndex((d) => d.deviceId === selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        onChange?.(devices[index].deviceId);\n    }, [devices, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: devices[selectedIndex]?.label, handleSelect: handleSelect, children: devices.map((device) => {\n                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n                }) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, placeholder, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon, placeholder: placeholder }));\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : caption ?? t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nchart_js__WEBPACK_IMPORTED_MODULE_10__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_10__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_10__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_10__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_10__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        return {\n            maintainAspectRatio: false,\n            animation: {\n                duration: 0,\n            },\n            elements: {\n                line: {\n                    borderWidth: 1,\n                },\n                point: {\n                    radius: 2,\n                },\n            },\n            scales: {\n                y: {\n                    position: 'right',\n                    stacked: true,\n                    min: 0,\n                    max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n                    grid: {\n                        display: true,\n                        color: '#979ca0',\n                    },\n                    ticks: {\n                        stepSize: 30,\n                    },\n                },\n                x: {\n                    grid: {\n                        display: false,\n                    },\n                    ticks: {\n                        display: false,\n                    },\n                },\n            },\n        };\n    }, [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_11__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\n\nvar Statuses;\n(function (Statuses) {\n    Statuses[\"GOOD\"] = \"Good\";\n    Statuses[\"OK\"] = \"Ok\";\n    Statuses[\"BAD\"] = \"Bad\";\n})(Statuses || (Statuses = {}));\nconst statsStatus = ({ value, lowBound, highBound, }) => {\n    if (value <= lowBound) {\n        return Statuses.GOOD;\n    }\n    if (value >= lowBound && value <= highBound) {\n        return Statuses.OK;\n    }\n    if (value >= highBound) {\n        return Statuses.BAD;\n    }\n    return Statuses.GOOD;\n};\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400 } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish resolution'), value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = ({ children, status = Statuses.GOOD, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Statuses.GOOD,\n            'str-video__call-stats__tag--ok': status === Statuses.OK,\n            'str-video__call-stats__tag--bad': status === Statuses.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? statsStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), comparison && status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nconst SearchResults = ({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) => {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n};\n\nconst useSearch = ({ debounceInterval, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFn(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchFn, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst DEFAULT_DEBOUNCE_SEARCH_INTERVAL = 200;\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = () => {\n        call?.muteAllUsers('audio');\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(participants.filter((participant) => {\n            return participant.name.match(queryRegExp);\n        }));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(blockedUsers.filter((blockedUser) => {\n            return blockedUser.match(queryRegExp);\n        }));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((_isSupportedByBrowser) => setIsSupportedByBrowser(_isSupportedByBrowser))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init())\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((err) => console.error(`Can't initialize noise suppression`, err));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: {\n            isSupported,\n            isEnabled,\n            setEnabled: (enabledOrSetter) => {\n                if (!noiseCancellation)\n                    return;\n                const enable = typeof enabledOrSetter === 'function'\n                    ? enabledOrSetter(isEnabled)\n                    : enabledOrSetter;\n                if (enable) {\n                    noiseCancellation.enable();\n                }\n                else {\n                    noiseCancellation.disable();\n                }\n            },\n        }, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => call.leave({ reject: true }), disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: t('Video is disabled') }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"video-placeholder\", className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst Video$1 = ({ trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !isPublishingTrack || isInvisible;\n    const mirrorVideo = isLocalParticipant && trackType === 'videoTrack';\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const [pictureInPictureElement, setPictureInPictureElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setPictureInPictureElement(document.pictureInPictureElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    const togglePictureInPicture = () => {\n        if (videoElement && pictureInPictureElement !== videoElement) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: pictureInPictureElement === videoElement\n                        ? t('Leave')\n                        : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable();\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, participant: participant, trackType: trackType, refs: videoRefs, autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useRemoteParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const Overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps } = props;\n    const FloatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: Overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: FloatingParticipantOverlay || Overlay, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, VideoPlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    // used to render audio elements\n    const remoteParticipants = useRemoteParticipants();\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(excludeLocalParticipant ? remoteParticipants : participants, groupSize), [excludeLocalParticipant, remoteParticipants, participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: participantGroups[page], VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst DefaultParticipantViewUISpotlight = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, {});\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUISpotlight, VideoPlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const [participantInSpotlight, ...otherParticipants] = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = otherParticipants.length === 1;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder })) }), participantsWithAppliedLimit.length > 0 && participantsBarPosition && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, muteAudio: true }) }, participant.sessionId)))] }) }), isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, layoutProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.join().catch((e) => {\n            console.error('Failed to join call', e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...layoutProps }) }));\n};\n\nconst [major, minor, patch] = (\"1.2.23\" ).split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBYO0FBQ2xWO0FBQzJJO0FBQ25JO0FBQ1E7QUFDa0g7QUFDbEo7QUFDYztBQUN5RDtBQUM0TDtBQUNuTTtBQUNqRDs7QUFFdkMsaUJBQWlCLGdEQUFnRDtBQUNqRSxpQkFBaUIsd0VBQU87QUFDeEIsNENBQTRDLCtDQUFRO0FBQ3BELFlBQVksb0JBQW9CO0FBQ2hDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxZQUFZLG1JQUFtSTtBQUM5SjtBQUNBOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsWUFBWSxzREFBRyxDQUFDLHVEQUFRLElBQUk7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixpREFBaUQ7QUFDckUsa0NBQWtDLGlFQUFRO0FBQzFDLHVFQUF1RSxzREFBRyxVQUFVLGtFQUFrRTtBQUN0Siw2Q0FBNkMsNEVBQW1CO0FBQ2hFO0FBQ0EsMkNBQTJDLHNEQUFHLFVBQVUsNkVBQTZFO0FBQ3JJLG9CQUFvQix1REFBSSxDQUFDLDJDQUFVLElBQUksNkRBQTZEO0FBQ3BHLFNBQVMsR0FBRztBQUNaO0FBQ0E7O0FBRUEsK0JBQStCLG9EQUFhO0FBQzVDLHdDQUF3QyxpREFBVTs7QUFFbEQsa0JBQWtCLDJDQUEyQztBQUM3RCw4QkFBOEIsK0NBQVE7QUFDdEMsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUksNENBQTRDLHNEQUFHLG1CQUFtQixtREFBbUQsMkJBQTJCLHNEQUFHLFVBQVUseURBQXlELGdEQUFJLHdFQUF3RSxLQUFLO0FBQ3BVO0FBQ0EsMEJBQTBCLDBCQUEwQjtBQUNwRCxZQUFZLHNEQUFHLFVBQVUsV0FBVyxnREFBSSw2RUFBNkUsdURBQUksVUFBVSx3Q0FBd0MsR0FBRztBQUM5Szs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaURBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxT0FBcU87QUFDalAsb0RBQW9ELCtDQUFRO0FBQzVELGtEQUFrRCwrQ0FBUTtBQUMxRCwwREFBMEQsK0NBQVE7QUFDbEUsdUNBQXVDLGtEQUFXO0FBQ2xEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0NBQXNDLGtEQUFXO0FBQ2pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0NBQW9DLGtEQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwQ0FBMEMsK0NBQVE7QUFDbEQsSUFBSSxnREFBUztBQUNiLFFBQVEsaUZBQW1CO0FBQzNCLEtBQUs7QUFDTCxnQ0FBZ0MsK0NBQVE7QUFDeEMsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0VBQVUsR0FBRyxxQ0FBcUM7QUFDMUQ7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0Isa0RBQVc7QUFDbkMsUUFBUSxrRUFBUztBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksdURBQUksc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpQ0FBaUMsc0RBQUcsc0JBQXNCLGdCQUFnQixJQUFJO0FBQ3ZGO0FBQ0E7QUFDQSxpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxrQkFBa0I7QUFDOUIsWUFBWSw0QkFBNEI7QUFDeEMsMkJBQTJCLDZDQUFNO0FBQ2pDO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBeUQ7QUFDckUscUJBQXFCLDZDQUFNO0FBQzNCLHNCQUFzQiw2Q0FBTTtBQUM1Qix1QkFBdUIsNkNBQU07QUFDN0Isc0NBQXNDLCtDQUFRO0FBQzlDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQVM7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyQkFBMkIsNEVBQWM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNkVBQW9CO0FBQ3BELGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCxzQkFBc0IsdURBQUksVUFBVSx1REFBdUQsc0RBQUcsWUFBWSxXQUFXLGdEQUFJO0FBQ3pILGlKQUFpSix1QkFBdUIsc0RBQUcsVUFBVSxzSUFBc0ksSUFBSSxzREFBRyxhQUFhLHlGQUF5RixJQUFJO0FBQzVhO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCLGdFQUFnRTtBQUMvRixZQUFZLGdDQUFnQyx3QkFBd0IsYUFBYSxFQUFFLCtEQUFXO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQU07QUFDbEIsWUFBWSx5REFBSztBQUNqQixZQUFZLHdEQUFJO0FBQ2hCLFlBQVksd0RBQUk7QUFDaEI7QUFDQSwwQkFBMEIsMkJBQTJCO0FBQ3JEO0FBQ0Esc0NBQXNDLGdCQUFnQjtBQUN0RCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSx3QkFBd0IsOERBQVU7QUFDbEM7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBc0QsRUFBRSxrRkFBaUI7QUFDckYsaUJBQWlCLHdFQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0Esd0NBQXdDLGlFQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0VBQU87QUFDeEIsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSx3Q0FBd0MsaUVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsK0NBQVE7QUFDeEQsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBUTtBQUN4RCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLCtCQUErQixFQUFFLGtGQUFpQjtBQUM5RDtBQUNBLHdEQUF3RCwrQ0FBUTtBQUNoRTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsZ0NBQWdDLGtEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2I7O0FBRUE7QUFDQSxpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxvQkFBb0IsRUFBRSxrRkFBaUI7QUFDbkQ7QUFDQSw0REFBNEQsK0NBQVEsU0FBUztBQUM3RSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QixrREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EseURBQXlELE1BQU07QUFDL0Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvREFBYSxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBVTtBQUNyQjtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkMscUJBQXFCLDhDQUFPLDJCQUEyQiwyQ0FBMkM7QUFDbEcsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUksV0FBVyxzREFBRyxVQUFVLDhDQUE4QyxHQUFHLHNEQUFHLENBQUMsK0RBQWUsSUFBSSxVQUFVLHNEQUFHLENBQUMsOERBQWMsSUFBSSx3QkFBd0Isc0RBQUcsVUFBVSxtRkFBbUYsR0FBRyxHQUFHLElBQUk7QUFDL1I7QUFDQSxzQkFBc0IsNkhBQTZIO0FBQ25KLHNDQUFzQywrQ0FBUTtBQUM5QywwQkFBMEIsNkNBQU07QUFDaEM7QUFDQSxZQUFZLHFDQUFxQztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGVBQWU7QUFDMUU7QUFDQTtBQUNBLGtFQUFrRSxlQUFlO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUkseUJBQXlCLHNEQUFHLHlCQUF5QixTQUFTLGtDQUFrQyxvREFBb0Qsc0RBQUcsZUFBZSxnQ0FBZ0MsMkNBQTJDLHNEQUFHLFVBQVU7QUFDM1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0NBQW9DLFdBQVcsSUFBSSxzREFBRyxpQkFBaUIsOENBQThDLElBQUk7QUFDOUk7O0FBRUEsdUJBQXVCLHdCQUF3QjtBQUMvQyxnQkFBZ0IsNkNBQU07QUFDdEIsWUFBWSxzREFBRyxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHNCQUFzQjtBQUMvQjtBQUNBLGlDQUFpQyxtQkFBbUI7QUFDcEQsWUFBWSxzREFBRyxTQUFTLHNEQUFzRCxzREFBRyxhQUFhLDZCQUE2QixHQUFHO0FBQzlIOztBQUVBLGdCQUFnQixpQkFBaUIsTUFBTSxzREFBRyxXQUFXLFdBQVcsZ0RBQUksZ0RBQWdELEtBQUssZUFBZTs7QUFFeEksbUJBQW1CLGlEQUFVO0FBQzdCLFlBQVksc0RBQXNEO0FBQ2xFLFlBQVksc0RBQUcsYUFBYSxXQUFXLGdEQUFJO0FBQzNDLDBEQUEwRCxRQUFRO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLCtCQUErQixzREFBRyxTQUFTLFlBQVksR0FBRztBQUNuRSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQWM7QUFDekI7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLGlEQUFVLDRCQUE0Qiw4S0FBOEs7QUFDNU8sWUFBWSx1REFBSSxVQUFVLFdBQVcsZ0RBQUk7QUFDekM7QUFDQTtBQUNBLFNBQVMsc0NBQXNDLHVEQUFJLFVBQVUsV0FBVyxnREFBSTtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYyxzREFBRyxhQUFhO0FBQy9DO0FBQ0E7QUFDQSx5QkFBeUIsMENBQTBDLFlBQVksc0RBQUcsZUFBZSx3SUFBd0ksc0RBQUcsU0FBUyxVQUFVLEtBQUssZUFBZSxzREFBRyxVQUFVLHNFQUFzRSxLQUFLO0FBQzNXLENBQUM7QUFDRCxnQ0FBZ0MsaURBQVUsb0NBQW9DLFdBQVc7QUFDekYsWUFBWSxzREFBRyxlQUFlLFdBQVcsZ0RBQUk7QUFDN0M7QUFDQSxTQUFTLDBEQUEwRDtBQUNuRSxDQUFDOztBQUVELHNCQUFzQixtQkFBbUI7QUFDekMsWUFBWSxzREFBRyxhQUFhLGtFQUFrRTtBQUM5Rjs7QUFFQSw0QkFBNEIsOEJBQThCO0FBQzFELGlCQUFpQix3RUFBTztBQUN4Qix3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxlQUFlLHdIQUF3SDtBQUN0Sjs7QUFFQTtBQUNBLFlBQVksOElBQThJO0FBQzFKLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLFlBQVksdURBQUksVUFBVSxpREFBaUQsdURBQUksVUFBVTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4QkFBOEIsc0RBQUcsUUFBUSwwQkFBMEIsR0FBRyxzREFBRyxXQUFXLGtFQUFrRSxZQUFZLHNEQUFHLFFBQVEsb0dBQW9HLFlBQVksZUFBZTtBQUM3VDs7QUFFQTtBQUNBLFlBQVksZ0lBQWdJO0FBQzVJLFlBQVksb0JBQW9CLEVBQUUsa0ZBQWlCO0FBQ25EO0FBQ0EsOEJBQThCLDZDQUFNO0FBQ3BDLG9EQUFvRCwrQ0FBUTtBQUM1RCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQSxnQkFBZ0Isc0RBQUcsaUJBQWlCLHVHQUF1RztBQUMzSTtBQUNBLFlBQVksc0RBQUcsaUJBQWlCLHFNQUFxTTtBQUNyTzs7QUFFQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLFlBQVkscUJBQXFCLEVBQUUsa0ZBQWlCO0FBQ3BELFlBQVksdUJBQXVCO0FBQ25DLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCO0FBQ0EsWUFBWSxzREFBRyxpQkFBaUIsNEdBQTRHO0FBQzVJOztBQUVBLDJDQUEyQyxpQkFBaUI7QUFDNUQsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSw0QkFBNEI7QUFDeEMsb0NBQW9DLCtDQUFRO0FBQzVDO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLHNEQUFHLGlCQUFpQixvTEFBb0w7QUFDcE47O0FBRUEsNEJBQTRCLDZDQUE2QztBQUN6RSxZQUFZLHVEQUFJLFVBQVUsV0FBVyxnREFBSSx3RUFBd0Usc0RBQUcsVUFBVSxXQUFXLGdEQUFJLDhDQUE4QyxXQUFXLHNEQUFHLFFBQVEsZ0VBQWdFLElBQUk7QUFDclI7O0FBRUEsbUJBQW1CLDBGQUEwRjtBQUM3RyxxQkFBcUIsNkNBQU07QUFDM0IsWUFBWSxnQ0FBZ0M7QUFDNUM7QUFDQTtBQUNBLHFCQUFxQix5REFBSyxHQUFHLG1CQUFtQjtBQUNoRCxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsV0FBVyxnREFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxTQUFTLGFBQWEsc0RBQUcsQ0FBQyw2REFBYSxJQUFJLHNGQUFzRixjQUFjO0FBQy9JOztBQUVBLGlDQUFpQyw4QkFBOEIsSUFBSTtBQUNuRSxnREFBZ0QsK0NBQVE7QUFDeEQsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0EsdUJBQXVCLHNFQUFzRTtBQUM3RixZQUFZLHFEQUFxRDtBQUNqRSw4Q0FBOEMsK0NBQVE7QUFDdEQ7QUFDQSxZQUFZLHVEQUFJLENBQUMsdURBQVEsSUFBSSxXQUFXLHNEQUFHLFlBQVksaUtBQWlLLEdBQUcsc0RBQUcsVUFBVSxpR0FBaUcsSUFBSTtBQUM3VTs7QUFFQTtBQUNBLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksMENBQTBDO0FBQ3RELFlBQVksUUFBUTtBQUNwQixZQUFZLHVEQUFJLFVBQVUsZ0VBQWdFLHVEQUFJLFVBQVUsMERBQTBELHNEQUFHLFNBQVMsc0JBQXNCLEdBQUcsc0RBQUcsU0FBUyw4RUFBOEUsSUFBSSxHQUFHLHNEQUFHLFFBQVEsNkdBQTZHLEdBQUcsdURBQUksVUFBVSwyREFBMkQsc0RBQUcsb0JBQW9CLDZEQUE2RCxHQUFHLHNEQUFHLG9CQUFvQixpRkFBaUYsc0RBQUcscUJBQXFCLHdCQUF3QixJQUFJLElBQUk7QUFDbnVCO0FBQ0EscUNBQXFDLGlEQUFVO0FBQy9DLFlBQVksc0RBQUcsb0JBQW9CLGdHQUFnRyxzREFBRyxTQUFTLHVCQUF1QixHQUFHO0FBQ3pLLENBQUM7QUFDRCx3Q0FBd0MsVUFBVTtBQUNsRCxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHFFQUFxRTtBQUNqRjtBQUNBLGdCQUFnQixzREFBRyxDQUFDLHVFQUFVLElBQUk7QUFDbEMsZ0JBQWdCLGtFQUFhO0FBQzdCLGdCQUFnQixrRUFBYTtBQUM3Qix5QkFBeUIsc0RBQUcsZUFBZSx5RkFBeUYsc0RBQUcsMEJBQTBCLEdBQUcsR0FBRztBQUN2SztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQUcsQ0FBQyx1RUFBVSxJQUFJO0FBQzlCLFlBQVksa0VBQWE7QUFDekIsWUFBWSxrRUFBYTtBQUN6QixxQkFBcUIsc0RBQUcsZ0JBQWdCLHdCQUF3QixzREFBRyxvQkFBb0IsbU5BQW1OLHNEQUFHLHFCQUFxQixNQUFNLHNEQUFHLFNBQVMsdUJBQXVCLElBQUksR0FBRyxHQUFHO0FBQ3JYO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckMsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSxxRUFBcUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBRyxDQUFDLHVFQUFVLElBQUk7QUFDOUIsWUFBWSxrRUFBYTtBQUN6QixZQUFZLGtFQUFhO0FBQ3pCLHFCQUFxQixzREFBRyxvQkFBb0I7QUFDNUM7QUFDQSx5SkFBeUosc0RBQUcscUJBQXFCLE1BQU0sc0RBQUcsU0FBUyxvRUFBb0UsSUFBSSxHQUFHO0FBQzlROztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZSxxQkFBcUIsNEVBQTRFO0FBQ3BJLGlCQUFpQix3RUFBTztBQUN4QixJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQyxZQUFZLHNEQUFHLFVBQVUsNENBQTRDLHNEQUFHLFdBQVcsNkZBQTZGLEdBQUc7QUFDbkw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLCtCQUErQjtBQUMxRCxZQUFZLHNEQUFHLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsNkJBQTZCLHNEQUFHLGVBQWUsc0dBQXNHLHNEQUFHLHlCQUF5QixzQkFBc0IsR0FBRyxHQUFHO0FBQ3pRO0FBQ0Esa0NBQWtDLGlEQUFVLHNDQUFzQyxXQUFXO0FBQzdGLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksc0RBQUcsZ0JBQWdCLDZEQUE2RCxzREFBRyxvQkFBb0IsMkRBQTJELHNEQUFHLFNBQVMsbUJBQW1CLEdBQUcsR0FBRztBQUNuTixDQUFDO0FBQ0QsZ0NBQWdDLG1DQUFtQztBQUNuRSxpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksc0RBQUcsVUFBVSxXQUFXLGdEQUFJO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTLDBDQUEwQyxzREFBRyxhQUFhO0FBQ25FO0FBQ0E7QUFDQSxhQUFhLGlGQUFpRiwwQkFBMEI7QUFDeEg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRUFBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLFVBQVU7QUFDdEIsWUFBWSxpRUFBaUUsRUFBRSxrRkFBaUI7QUFDaEc7QUFDQSxZQUFZLHlEQUF5RCx1QkFBdUIsa0VBQWE7QUFDekc7QUFDQTtBQUNBLFlBQVksZ0NBQWdDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsQ0FBQyx1RUFBVSxJQUFJLGlCQUFpQixrRUFBYSx5QkFBeUIsc0RBQUcsMkJBQTJCLFlBQVksa0VBQWEsNFBBQTRQLHNEQUFHLGdCQUFnQiwrQ0FBK0Msc0RBQUcsb0JBQW9CO0FBQ2plO0FBQ0EsMkhBQTJILHNEQUFHLFNBQVMsdUVBQXVFLEdBQUcsR0FBRyxHQUFHLEdBQUc7QUFDMU47O0FBRUEsc0JBQXNCLG9EQUFhLEdBQUc7QUFDdEM7QUFDQSxZQUFZLDhGQUE4RjtBQUMxRyxnQ0FBZ0MsK0NBQVE7QUFDeEMsMENBQTBDLCtDQUFRO0FBQ2xELDhDQUE4QywrQ0FBUTtBQUN0RCw4Q0FBOEMsK0NBQVE7QUFDdEQsWUFBWSxnQkFBZ0IsRUFBRSwrREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQVU7QUFDeEMscUJBQXFCLHdEQUFJO0FBQ3pCLEtBQUs7QUFDTCx3QkFBd0IsNkNBQU07QUFDOUIsc0JBQXNCLDZDQUFNO0FBQzVCLHlCQUF5QixrREFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxRUFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0JBQXNCLGdFQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw0REFBUTtBQUMxQixvQkFBb0IsOERBQVU7QUFDOUIsaUJBQWlCLDJEQUFPLFlBQVksaUJBQWlCO0FBQ3JELFlBQVksb0RBQW9ELEVBQUUsbUVBQWU7QUFDakYsMEJBQTBCLDhDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksdURBQUksVUFBVSw2Q0FBNkMsdURBQUksVUFBVSxtSEFBbUgsdURBQUksWUFBWSxzRUFBc0Usc0RBQUcsU0FBUyw2REFBNkQsb0JBQW9CLEdBQUcsc0RBQUcsU0FBUyxrR0FBa0csSUFBSSxHQUFHLHNEQUFHLDJCQUEyQiwyQ0FBMkMsc0RBQUcsQ0FBQyxvRUFBb0IsSUFBSSwwQ0FBMEMsc0RBQUcsVUFBVSwrRkFBK0Ysc0RBQUcsQ0FBQyw0REFBWSxJQUFJLG9FQUFvRSxHQUFHLEdBQUcsSUFBSSxJQUFJO0FBQ3AxQjtBQUNBO0FBQ0EsWUFBWSx3QkFBd0I7QUFDcEMsWUFBWSw2QkFBNkIsRUFBRSxpREFBVTtBQUNyRCxZQUFZLGFBQWEsRUFBRSwrREFBVztBQUN0QyxZQUFZLHVEQUFJLFVBQVUsV0FBVyxnREFBSTtBQUN6QztBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsY0FBYyxzREFBRyxTQUFTLG1EQUFtRCxHQUFHLHNEQUFHLFdBQVcseURBQXlELElBQUk7QUFDcEs7QUFDQTtBQUNBLFlBQVksNEVBQTRFO0FBQ3hGLFlBQVksc0RBQUcsV0FBVyxvSkFBb0o7QUFDOUs7O0FBRUEsZ0NBQWdDLHVFQUF1RTtBQUN2RyxZQUFZLHVEQUFJLFlBQVksV0FBVyxnREFBSTtBQUMzQztBQUNBO0FBQ0EsU0FBUywyQkFBMkIsc0RBQUcsWUFBWSw0SUFBNEksV0FBVztBQUMxTTtBQUNBO0FBQ0EsWUFBWSxrRkFBa0Y7QUFDOUYsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsMkVBQTJFLHNEQUFHLFVBQVUsaUZBQWlGLHVCQUF1QixzREFBRyx5QkFBeUIsT0FBTyxLQUFLLGtGQUFrRjtBQUNwVix3QkFBd0Isc0RBQUcseUJBQXlCLE9BQU8sS0FBSyxJQUFJLGdCQUFnQjtBQUNwRjtBQUNBO0FBQ0EscUJBQXFCLHNGQUFzRjtBQUMzRyxhQUFhLEtBQUs7QUFDbEI7QUFDQTtBQUNBLFlBQVksa0ZBQWtGO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBVztBQUNwQztBQUNBLEtBQUs7QUFDTCxZQUFZLHVEQUFJLFVBQVUsaUVBQWlFLHNEQUFHLFVBQVUsaUZBQWlGLEdBQUcsc0RBQUcsbUJBQW1CO0FBQ2xOLDRCQUE0QixzREFBRyx5QkFBeUIseUdBQXlHO0FBQ2pLLGlCQUFpQixHQUFHLElBQUk7QUFDeEI7QUFDQTtBQUNBLFlBQVksa0RBQWtEO0FBQzlEO0FBQ0EsZUFBZSxzREFBRyx1QkFBdUIsU0FBUztBQUNsRDtBQUNBLFlBQVksc0RBQUcsMkJBQTJCLCtDQUErQztBQUN6Rjs7QUFFQSxvQ0FBb0Msb0JBQW9CO0FBQ3hELFlBQVkscUJBQXFCLEVBQUUsa0ZBQWlCO0FBQ3BELFlBQVksc0NBQXNDO0FBQ2xELFlBQVksc0RBQUcsbUJBQW1CO0FBQ2xDO0FBQ0EsU0FBUyxxREFBcUQ7QUFDOUQ7QUFDQSxxQ0FBcUMsb0JBQW9CO0FBQ3pELFlBQVksa0JBQWtCLEVBQUUsa0ZBQWlCO0FBQ2pELFlBQVksK0RBQStEO0FBQzNFO0FBQ0E7QUFDQSxZQUFZLHNEQUFHLG1CQUFtQjtBQUNsQztBQUNBLFNBQVMseURBQXlEO0FBQ2xFOztBQUVBLCtCQUErQixvQkFBb0I7QUFDbkQsWUFBWSxpQkFBaUIsRUFBRSxrRkFBaUI7QUFDaEQsWUFBWSxrQ0FBa0M7QUFDOUMsWUFBWSxzREFBRyxtQkFBbUI7QUFDbEM7QUFDQSxTQUFTLHdEQUF3RDtBQUNqRTs7QUFFQSwwQkFBMEIsbUNBQW1DO0FBQzdELFlBQVksc0RBQUcsZUFBZSx5R0FBeUcsc0RBQUcsU0FBUyxHQUFHO0FBQ3RKO0FBQ0E7QUFDQSxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHVEQUFJLFVBQVUsb0RBQW9ELHNEQUFHLHdCQUF3Qiw2QkFBNkIsR0FBRyxzREFBRyw2QkFBNkIsMEJBQTBCLEdBQUcsc0RBQUcsOEJBQThCLDZCQUE2QixJQUFJO0FBQ3hRO0FBQ0EsdUNBQXVDLGlEQUFVLDJDQUEyQyxXQUFXO0FBQ3ZHLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksc0RBQUcsZUFBZSxXQUFXLGdEQUFJO0FBQzdDO0FBQ0EsU0FBUyxzRUFBc0U7QUFDL0UsQ0FBQzs7QUFFRDtBQUNBLFlBQVkscURBQXFEO0FBQ2pFLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVkscUJBQXFCLEVBQUUsa0ZBQWlCO0FBQ3BELFlBQVkscURBQXFEO0FBQ2pFLGtEQUFrRCwrQ0FBUTtBQUMxRDtBQUNBLFlBQVksc0RBQUcsZ0JBQWdCO0FBQy9CO0FBQ0EsK0VBQStFLHVEQUFJLG9CQUFvQix1REFBdUQsZ0RBQUk7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWEsc0RBQUcsU0FBUyw2Q0FBNkMsNkJBQTZCLHNEQUFHLFdBQVcsOEdBQThHLEtBQUssR0FBRztBQUNwUDtBQUNBO0FBQ0EsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSxnQkFBZ0Isc0RBQUcsNkJBQTZCLG9CQUFvQixzRUFBc0U7QUFDdEosWUFBWSx5REFBeUQsdUJBQXVCLGtFQUFhO0FBQ3pHLFlBQVkscUJBQXFCLEVBQUUsa0ZBQWlCO0FBQ3BELFlBQVkscURBQXFEO0FBQ2pFLGtEQUFrRCwrQ0FBUTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLHNEQUFHLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsd0JBQXdCLHNEQUFHLDJCQUEyQixZQUFZLGtFQUFhLDROQUE0TixzREFBRyxnQkFBZ0I7QUFDMVg7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLHVEQUFJLG9CQUFvQjtBQUNuSDtBQUNBO0FBQ0EscUJBQXFCLGFBQWEsc0RBQUcsU0FBUyw0Q0FBNEMsaURBQWlELHNEQUFHLFdBQVcsNERBQTRELEtBQUssR0FBRyxHQUFHLEdBQUc7QUFDbk87O0FBRUE7QUFDQSxZQUFZLHdHQUF3RztBQUNwSCxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLGlCQUFpQixFQUFFLGtGQUFpQjtBQUNoRCxZQUFZLGlEQUFpRDtBQUM3RCxrREFBa0QsK0NBQVE7QUFDMUQ7QUFDQSxZQUFZLHNEQUFHLGdCQUFnQjtBQUMvQjtBQUNBLGlGQUFpRix1REFBSSxvQkFBb0IsdURBQXVELGdEQUFJO0FBQ3BLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxhQUFhLHNEQUFHLFNBQVMsbURBQW1ELDZCQUE2QixzREFBRyxXQUFXLDhHQUE4RyxLQUFLLEdBQUc7QUFDMVA7QUFDQTtBQUNBLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksZ0JBQWdCLHNEQUFHLHdCQUF3QixvQkFBb0Isc0VBQXNFO0FBQ2pKLFlBQVkseURBQXlELHVCQUF1QixrRUFBYTtBQUN6RyxZQUFZLGtDQUFrQyxFQUFFLGtGQUFpQjtBQUNqRSxZQUFZLGlEQUFpRDtBQUM3RDtBQUNBO0FBQ0Esa0RBQWtELCtDQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsQ0FBQyx1RUFBVSxJQUFJLGlCQUFpQixrRUFBYSx3QkFBd0Isc0RBQUcsMkJBQTJCLFlBQVksa0VBQWEsNlBBQTZQLHNEQUFHLGdCQUFnQjtBQUMzWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLHVEQUFJLG9CQUFvQjtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixhQUFhLHNEQUFHLFNBQVMsa0RBQWtEO0FBQ2hHO0FBQ0EsMkRBQTJELHNEQUFHLFdBQVcsNERBQTRELEtBQUssR0FBRyxHQUFHLEdBQUc7QUFDbko7O0FBRUE7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHVEQUFJLFVBQVUsMkRBQTJELHVEQUFJLGFBQWEsNElBQTRJLHNEQUFHLFNBQVMsc0ZBQXNGLHFCQUFxQixHQUFHLHNEQUFHLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsc0JBQXNCLHVEQUFJLGFBQWEsOElBQThJLHNEQUFHLFNBQVMsc0ZBQXNGLDJCQUEyQixHQUFHLElBQUk7QUFDcnRCO0FBQ0EsbUNBQW1DLGlEQUFVLHVDQUF1QyxXQUFXO0FBQy9GLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksc0RBQUcsZ0JBQWdCLDhEQUE4RCxzREFBRyxlQUFlLGdJQUFnSSxHQUFHO0FBQ2xQLENBQUM7QUFDRCxtQ0FBbUMsbUJBQW1CO0FBQ3RELGlCQUFpQix3RUFBTztBQUN4Qix3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLGtEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsZUFBZSw0RUFBNEUsc0RBQUcsZ0JBQWdCLDRDQUE0QyxHQUFHO0FBQzVLO0FBQ0EsNEJBQTRCLHNDQUFzQztBQUNsRSxpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsZUFBZSx1SkFBdUo7QUFDckw7O0FBRUEsd0JBQXdCLFNBQVMsTUFBTSx1REFBSSxVQUFVLGtEQUFrRCxzREFBRyxtQ0FBbUMsVUFBVSxzREFBRyxnQ0FBZ0MsR0FBRyxHQUFHLHNEQUFHLGdDQUFnQyxHQUFHLHNEQUFHLG9CQUFvQixHQUFHLHNEQUFHLHNCQUFzQixHQUFHLHNEQUFHLHFCQUFxQixHQUFHLHNEQUFHLHFCQUFxQixrQkFBa0IsSUFBSTs7QUFFclcsNENBQUssVUFBVSxvREFBYSxFQUFFLGtEQUFXLEVBQUUsa0RBQVcsRUFBRSxtREFBWTtBQUNwRTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsR0FBRyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCxZQUFZLHNEQUFHLFVBQVUsbUVBQW1FLHNEQUFHLENBQUMsa0RBQUksSUFBSSxnRkFBZ0YsR0FBRztBQUMzTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0IsdUJBQXVCLDZCQUE2QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUErQztBQUMzRCw4Q0FBOEMsK0NBQVE7QUFDdEQ7QUFDQSw0QkFBNEIsWUFBWSxlQUFlLGtCQUFrQjtBQUN6RSxLQUFLO0FBQ0wsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsZ0RBQWdELCtDQUFRO0FBQ3hELG9EQUFvRCwrQ0FBUTtBQUM1RCwwQkFBMEIsNkNBQU07QUFDaEMsWUFBWSxxQkFBcUIsRUFBRSxrRkFBaUI7QUFDcEQ7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBRyxVQUFVLGtFQUFrRSx1REFBSSxDQUFDLHVEQUFRLElBQUksV0FBVyx1REFBSSxVQUFVLHVEQUF1RCx1REFBSSxTQUFTLHdEQUF3RCxzREFBRyxTQUFTLGdFQUFnRSx1QkFBdUIsR0FBRyxzREFBRyxRQUFRLGdLQUFnSyxJQUFJLEdBQUcsc0RBQUcsVUFBVSw0REFBNEQsc0RBQUcsMEJBQTBCLHVCQUF1QixHQUFHLEdBQUcsdURBQUksVUFBVSx1REFBdUQsdURBQUksU0FBUyx3REFBd0Qsc0RBQUcsU0FBUyxtRUFBbUUsMkJBQTJCLEdBQUcsc0RBQUcsUUFBUSw2SEFBNkgsSUFBSSxHQUFHLHVEQUFJLFVBQVUsK0RBQStELHNEQUFHLGFBQWEsdURBQXVELEdBQUcsc0RBQUcsYUFBYSwrQkFBK0IseURBQXlELHFDQUFxQyxHQUFHLHNEQUFHLGFBQWEsc0NBQXNDLG1EQUFtRDtBQUNsN0M7QUFDQTtBQUNBLCtCQUErQixHQUFHLHNEQUFHLGFBQWEsc0NBQXNDLGtEQUFrRDtBQUMxSTtBQUNBO0FBQ0EsK0JBQStCLEdBQUcsc0RBQUcsYUFBYSxvRkFBb0YsR0FBRyxzREFBRyxhQUFhLHlHQUF5RyxHQUFHLHNEQUFHLGFBQWEsdUZBQXVGLEdBQUcsc0RBQUcsYUFBYSwwR0FBMEcsR0FBRyxzREFBRyxhQUFhLG9EQUFvRCxHQUFHLHNEQUFHLGFBQWEsd0RBQXdELElBQUksSUFBSSxJQUFJO0FBQ3ZvQjtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLGdDQUFnQywrQ0FBUTtBQUN4QyxZQUFZLGdDQUFnQyxFQUFFLCtEQUFXO0FBQ3pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLDREQUFRO0FBQzFCLFlBQVksc0NBQXNDLEVBQUUsbUVBQWU7QUFDbkUsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUksV0FBVyxzREFBRyxVQUFVLG9HQUFvRyxzREFBRyxTQUFTLDhEQUE4RCxHQUFHLGNBQWMsc0RBQUcsVUFBVSxtSkFBbUosS0FBSztBQUN6WjtBQUNBLG9CQUFvQixtQ0FBbUM7QUFDdkQsWUFBWSxzREFBRyxVQUFVLFdBQVcsZ0RBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxhQUFhLHNEQUFHLFVBQVUsbUVBQW1FLEdBQUc7QUFDekc7QUFDQTtBQUNBLFlBQVksd0NBQXdDO0FBQ3BELFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCO0FBQ0EsWUFBWSx1REFBSSxVQUFVLHFEQUFxRCx1REFBSSxVQUFVLDZEQUE2RCx1REFBSSxVQUFVLGlGQUFpRixzREFBRyx3QkFBd0IsMEJBQTBCLElBQUksR0FBRyxzREFBRyxVQUFVLGlFQUFpRSxJQUFJLDJCQUEyQixzREFBRyxhQUFhLHFDQUFxQyxJQUFJO0FBQzNkO0FBQ0E7QUFDQSxZQUFZLDRFQUE0RTtBQUN4RjtBQUNBO0FBQ0Esa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0FBQ3pCO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0JBQWtCLHVFQUF1RSxJQUFJO0FBQ3pHLFlBQVksa0JBQWtCLDJCQUEyQixJQUFJO0FBQzdEO0FBQ0E7QUFDQSxjQUFjLDRDQUE0QztBQUMxRDtBQUNBO0FBQ0EsWUFBWSxtQkFBbUIsK0VBQStFLElBQUk7QUFDbEgsWUFBWSxtQkFBbUIsK0JBQStCLElBQUk7QUFDbEU7QUFDQTtBQUNBLGNBQWMsZ0RBQWdEO0FBQzlEOztBQUVBLCtCQUErQixzREFBRyxlQUFlLGdFQUFnRSxzREFBRyxjQUFjLEdBQUc7QUFDckkseUJBQXlCLGlEQUFVO0FBQ25DLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVkscUJBQXFCO0FBQ2pDLFlBQVksc0RBQUcsb0JBQW9CLDJIQUEySCxzREFBRyxTQUFTLGVBQWUsR0FBRztBQUM1TCxDQUFDOztBQUVEO0FBQ0EsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSxrRkFBa0Y7QUFDOUYsa0RBQWtELCtDQUFRO0FBQzFELFlBQVksc0RBQUcsZ0JBQWdCLDZFQUE2RSxzREFBRyxvQkFBb0I7QUFDbkk7QUFDQTtBQUNBLGFBQWEsWUFBWSxzREFBRyxTQUFTLGlCQUFpQixHQUFHLEdBQUc7QUFDNUQ7O0FBRUEsOEJBQThCLE1BQU07QUFDcEM7QUFDQTtBQUNBLFlBQVksc0RBQUcsQ0FBQyx1REFBUSxJQUFJLFVBQVUsc0RBQUcsVUFBVSw2RUFBNkUsc0RBQUcsMkJBQTJCLGdCQUFnQixhQUFhLEdBQUc7QUFDOUw7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQyxpQkFBaUIsd0VBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsNkRBQTZELHNEQUFHLFVBQVUsa0ZBQWtGLEdBQUcsc0RBQUcsQ0FBQyx1RUFBVSxJQUFJLGlCQUFpQixrRUFBYSx5QkFBeUIsc0RBQUcsZUFBZSx1REFBdUQsR0FBRyxJQUFJO0FBQ2xWOztBQUVBLHFDQUFxQyxVQUFVO0FBQy9DLFlBQVksZ0RBQWdELEVBQUUsa0ZBQWlCO0FBQy9FO0FBQ0E7QUFDQSxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHVEQUFJLFVBQVUsNERBQTRELHVEQUFJLFVBQVUsMkZBQTJGLHVEQUFJLFdBQVcseUdBQXlHLHFDQUFxQyxzREFBRyxXQUFXLDZGQUE2RixrQ0FBa0MsR0FBRyxLQUFLLEdBQUcsc0RBQUcsZUFBZSxnR0FBZ0csSUFBSTtBQUMxbUI7O0FBRUEsc0NBQXNDLGdEQUFnRDtBQUN0RixzQkFBc0IsaUVBQVE7QUFDOUIsc0JBQXNCLGlFQUFRO0FBQzlCLHVCQUF1QixpRUFBUTtBQUMvQixZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHVEQUFJLFVBQVUsNkRBQTZELHNEQUFHLFdBQVcscURBQXFELEdBQUcsc0RBQUcsZ0JBQWdCLDBCQUEwQixHQUFHLHVEQUFJLFVBQVUsb0ZBQW9GLHNEQUFHLG1CQUFtQix3RUFBd0UsZ0RBQUksMkZBQTJGLDhCQUE4QixJQUFJLEdBQUcsc0RBQUcsbUJBQW1CLGdFQUFnRSxnREFBSSwyRkFBMkYsb0NBQW9DLElBQUksa0JBQWtCLHNEQUFHLG1CQUFtQiwrQkFBK0IsZ0RBQUksbUdBQW1HLElBQUksc0RBQUcsZUFBZSxpRUFBaUUsc0RBQUcsb0NBQW9DLFNBQVMsZ0NBQWdDLFlBQVksc0RBQUcsa0NBQWtDLEdBQUcsR0FBRyxJQUFJLElBQUk7QUFDbG9DO0FBQ0EsbUNBQW1DLHNEQUFHLGdCQUFnQixVQUFVO0FBQ2hFLDhCQUE4QixhQUFhO0FBQzNDLDBCQUEwQixpRkFBZ0I7QUFDMUMsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsVUFBVSxHQUFHLE9BQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFHLGdCQUFnQiwyR0FBMkc7QUFDMUk7QUFDQSx1QkFBdUIsaURBQVU7QUFDakMsV0FBVyxzREFBRyxlQUFlLHNEQUFzRDtBQUNuRixDQUFDOztBQUVELGtDQUFrQyxPQUFPLE1BQU0sc0RBQUcsVUFBVSxrRkFBa0Ysc0RBQUcsK0JBQStCLDBCQUEwQiw0QkFBNEI7O0FBRXRPO0FBQ0EsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSxzREFBRyxVQUFVLHVGQUF1RjtBQUNoSDs7QUFFQSx1QkFBdUIsK0JBQStCO0FBQ3RELDRDQUE0QywrQ0FBUTtBQUNwRCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSx1REFBSSxVQUFVLFdBQVcsZ0RBQUk7QUFDekM7QUFDQSxTQUFTLGNBQWMsc0RBQUcsWUFBWSxzREFBc0QsZUFBZSxzREFBRyxhQUFhLGdGQUFnRixzREFBRyxXQUFXLG9EQUFvRCxHQUFHLE1BQU0sc0RBQUcsV0FBVyw0Q0FBNEMsS0FBSztBQUNyVjs7QUFFQSx5QkFBeUIsOElBQThJO0FBQ3ZLO0FBQ0EsZ0JBQWdCLHNEQUFHLFVBQVUsMkRBQTJELHNEQUFHLHVCQUF1QixHQUFHO0FBQ3JIO0FBQ0E7QUFDQSxlQUFlLHNEQUFHLCtCQUErQjtBQUNqRDtBQUNBLFdBQVcsc0RBQUcscUJBQXFCLHFCQUFxQjtBQUN4RDs7QUFFQSxxQkFBcUIsK0NBQStDO0FBQ3BFLDhDQUE4QywrQ0FBUTtBQUN0RCw4REFBOEQsK0NBQVE7QUFDdEUsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw2RUFBNkU7QUFDN0csMENBQTBDLCtDQUFRO0FBQ2xELDRDQUE0QywrQ0FBUTtBQUNwRCx1QkFBdUIsa0RBQVc7QUFDbEMsWUFBWSx1REFBSSxVQUFVLHFEQUFxRCxzREFBRyw4QkFBOEIsa0JBQWtCLEdBQUcsc0RBQUcsZ0JBQWdCLGlDQUFpQyxlQUFlLDJGQUEyRixHQUFHLHNEQUFHLHFDQUFxQyw4REFBOEQsR0FBRyx1REFBSSxVQUFVLDRGQUE0RixzREFBRyw2QkFBNkIsb0hBQW9ILG1DQUFtQyxzREFBRyw4QkFBOEIsc0hBQXNILEtBQUssSUFBSTtBQUNoMUI7QUFDQSw0Q0FBNEMsZ0NBQWdDO0FBQzVFLGlCQUFpQix3RUFBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUscUVBQXFFLHNEQUFHLFVBQVUsd0dBQXdHLHNEQUFHLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsa0RBQWtELHNEQUFHLGVBQWUsd0NBQXdDLEdBQUcsSUFBSSxHQUFHLHNEQUFHLGVBQWUsaUVBQWlFLHNEQUFHLGdCQUFnQixrREFBa0Qsc0RBQUcsMEJBQTBCLHVHQUF1RyxTQUFTLEdBQUcsSUFBSTtBQUN0cUI7QUFDQSxvQ0FBb0MsNEhBQTRIO0FBQ2hLLFlBQVksa0JBQWtCLEVBQUUsa0ZBQWlCO0FBQ2pELDJDQUEyQyxRQUFRLHlEQUFJLEVBQUU7QUFDekQsZ0NBQWdDLGtEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsa0JBQWtCLCtPQUErTztBQUNoUjtBQUNBLHFDQUFxQyw4SEFBOEg7QUFDbkssWUFBWSx3QkFBd0IsRUFBRSxrRkFBaUI7QUFDdkQ7QUFDQSxpQ0FBaUMsa0RBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxZQUFZLHVDQUF1QztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxrQkFBa0IsMk9BQTJPO0FBQzVRO0FBQ0EsdUJBQXVCLGlEQUFVO0FBQ2pDLFdBQVcsc0RBQUcsZUFBZSxvREFBb0Q7QUFDakYsQ0FBQzs7QUFFRDtBQUNBLFlBQVksbUJBQW1CO0FBQy9CLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLG1CQUFtQixFQUFFLGtGQUFpQjtBQUNsRDtBQUNBLG9DQUFvQywrQ0FBUTtBQUM1QyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksc0RBQUcsVUFBVSxXQUFXLGdEQUFJLHVHQUF1RztBQUMvSTs7QUFFQSxtQ0FBbUMsNEJBQTRCO0FBQy9ELFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksdURBQUksVUFBVSxnRUFBZ0UsdURBQUksVUFBVSwrREFBK0Qsc0RBQUcsV0FBVyxnQ0FBZ0MsMkJBQTJCLHVEQUFJLFdBQVcsNkNBQTZDLFdBQVcsaUJBQWlCLHNEQUFHLGVBQWUsMERBQTBELEtBQUs7QUFDelo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWTtBQUM3QyxZQUFZLHVEQUFJLFNBQVMsOERBQThELHNEQUFHLFVBQVUsZ0lBQWdJLEdBQUcsc0RBQUcsVUFBVSwwSUFBMEksR0FBRyxzREFBRyxVQUFVLHdJQUF3SSxHQUFHLHNEQUFHLFVBQVUsNEdBQTRHLHNEQUFHLFFBQVEsV0FBVyxnREFBSSxzT0FBc08sc0RBQUcsU0FBUyxrQkFBa0IsR0FBRyxHQUFHLElBQUk7QUFDMTdCOztBQUVBO0FBQ0EsWUFBWSx1REFBSSxVQUFVLGdIQUFnSCxzREFBRyxVQUFVLGtFQUFrRSxHQUFHLHNEQUFHLFFBQVEsdUdBQXVHLElBQUk7QUFDbFY7O0FBRUEsdUNBQXVDLGlCQUFpQjtBQUN4RCxZQUFZLHVEQUFJLENBQUMsdURBQVEsSUFBSSw4Q0FBOEMsc0RBQUcsMEJBQTBCLHNCQUFzQix5QkFBeUIsc0RBQUcscUJBQXFCLGlDQUFpQyxJQUFJO0FBQ3BOOztBQUVBLDZCQUE2Qix1U0FBdVM7QUFDcFUsWUFBWSx1REFBSSxVQUFVLHdEQUF3RCxzREFBRyw4QkFBOEIsc0RBQXNELEdBQUcsc0RBQUcsVUFBVSwyRUFBMkUsc0RBQUcsNkJBQTZCLGdDQUFnQyw4QkFBOEIsdURBQUksQ0FBQyx1REFBUSxJQUFJLFdBQVcsc0RBQUcsU0FBUyw2REFBNkQsdURBQUksU0FBUyw4REFBOEQsc0RBQUcsVUFBVSx5RUFBeUUsR0FBRyxzREFBRyxVQUFVLDJFQUEyRSxHQUFHLHNEQUFHLFVBQVUseUVBQXlFLEdBQUcsc0RBQUcsVUFBVSx1REFBdUQsSUFBSSxHQUFHLEdBQUcsc0RBQUcsU0FBUyxnR0FBZ0csc0RBQUcsNEJBQTRCLHNCQUFzQix5QkFBeUIsSUFBSSxNQUFNLHNEQUFHLDJCQUEyQixJQUFJLElBQUk7QUFDdmxDOztBQUVBLGlDQUFpQyxvREFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlEQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEJBQThCO0FBQzFDLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLHFDQUFxQyxFQUFFLGtGQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0ZBQWlDO0FBQzdDLDRDQUE0QyxrRUFBYTtBQUN6RCw0REFBNEQsK0NBQVE7QUFDcEUsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQywrQ0FBUTtBQUM5QyxtQkFBbUIsNkNBQU07QUFDekIsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsc0NBQXNDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxzQkFBc0I7QUFDL0I7O0FBRUE7QUFDQSxpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxzQkFBc0IsRUFBRSxrRkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGlFQUFZO0FBQzdELFlBQVksc0RBQUcsVUFBVSwrRUFBK0Usc0RBQUcscUJBQXFCLDJCQUEyQixNQUFNLHVEQUFJLENBQUMsdURBQVEsSUFBSSxXQUFXLHNEQUFHLHFCQUFxQiwyQkFBMkIsR0FBRyxzREFBRyxxQkFBcUIsNEJBQTRCLGNBQWMsOEJBQThCLElBQUksSUFBSTtBQUMzVjs7QUFFQTtBQUNBLEtBQUssaUVBQVk7QUFDakIsS0FBSyxpRUFBWTtBQUNqQixLQUFLLGlFQUFZO0FBQ2pCLEtBQUssaUVBQVk7QUFDakIsS0FBSyxpRUFBWTtBQUNqQixLQUFLLGlFQUFZO0FBQ2pCLEtBQUssaUVBQVk7QUFDakIsS0FBSyxpRUFBWTtBQUNqQixLQUFLLGlFQUFZO0FBQ2pCLEtBQUssaUVBQVk7QUFDakI7QUFDQTtBQUNBLFlBQVksOENBQThDO0FBQzFELGlCQUFpQix3RUFBTztBQUN4QixZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHNDQUFzQyxFQUFFLGtGQUFpQjtBQUNyRTtBQUNBO0FBQ0EsMEJBQTBCLGlGQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxNQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsOEVBQThFLHNEQUFHLFVBQVUseUZBQXlGLHVEQUFJLFVBQVUsMkRBQTJELHNEQUFHLFdBQVcsdUNBQXVDLGlCQUFpQixzREFBRyxVQUFVLGtEQUFrRCxzREFBRyxXQUFXLDBEQUEwRCxHQUFHLEtBQUssY0FBYyx5QkFBeUIsc0RBQUcsVUFBVSx5RkFBeUYsS0FBSyxpRUFBWSxVQUFVLGlFQUFZLHFDQUFxQyxzREFBRyx3QkFBd0IsS0FBSztBQUNydUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdFQUFPO0FBQ3hCLFlBQVkseUNBQXlDLEVBQUUsa0ZBQWlCO0FBQ3hFO0FBQ0Esb0NBQW9DLCtDQUFRO0FBQzVDLHdEQUF3RCwrQ0FBUTtBQUNoRSx1REFBdUQsa0VBQWE7QUFDcEU7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsZ0ZBQWdGLHVEQUFJLFVBQVUsc0VBQXNFLHVEQUFJLFdBQVcsMklBQTJJLEdBQUcsc0RBQUcsV0FBVztBQUN6VztBQUNBLHlCQUF5QiwwREFBMEQsSUFBSSxnQkFBZ0Isc0RBQUcsMEJBQTBCO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBGQUEwRixLQUFLO0FBQ2hIO0FBQ0EsOEJBQThCLGlEQUFVO0FBQ3hDLFlBQVksc0RBQXNEO0FBQ2xFLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVksc0RBQUcsVUFBVTtBQUN6QixvQkFBb0Isb0JBQW9CO0FBQ3hDLG9CQUFvQixzREFBRyxDQUFDLDJDQUFVLElBQUksMkNBQTJDLHVEQUFJLFVBQVUsdURBQXVELHNEQUFHLFVBQVUsMEhBQTBILEdBQUcsc0RBQUcsV0FBVyxvSkFBb0osR0FBRyxzREFBRyxXQUFXLHVKQUF1SixHQUFHLHNEQUFHLFdBQVcseUpBQXlKLElBQUksaUJBQWlCLEtBQUssUUFBUSxHQUFHLFNBQVM7QUFDbDBCLFNBQVMsR0FBRztBQUNaLENBQUM7QUFDRDtBQUNBLFlBQVkscUJBQXFCO0FBQ2pDLFlBQVksc0RBQUcsYUFBYSxXQUFXLGdEQUFJLCtEQUErRDtBQUMxRztBQUNBO0FBQ0E7QUFDQSxhQUFhLGtFQUFhO0FBQzFCLHlCQUF5QixZQUFZLDJCQUEyQixVQUFVO0FBQzFFLGFBQWEsa0VBQWE7QUFDMUIseUJBQXlCLFlBQVk7QUFDckM7QUFDQSxhQUFhO0FBQ2IsYUFBYSxrRUFBYTtBQUMxQix5QkFBeUIsWUFBWTtBQUNyQztBQUNBLGFBQWE7QUFDYjtBQUNBLHlCQUF5QixZQUFZLDZCQUE2QixhQUFhO0FBQy9FO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQSx1QkFBdUIsc0RBQXNEO0FBQzdFLFlBQVksc0RBQUcsY0FBYyxxQkFBcUIsZ0RBQUksOENBQThDO0FBQ3BHOztBQUVBLGdDQUFnQyxpREFBVSxvQ0FBb0Msb0JBQW9CO0FBQ2xHLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLDhCQUE4QiwrQ0FBUTtBQUN0QztBQUNBLFlBQVksdURBQUksVUFBVTtBQUMxQix5QkFBeUIsc0RBQUcscUJBQXFCLFlBQVksTUFBTSxzREFBRyxVQUFVLDZGQUE2RixxQ0FBcUMsc0RBQUcsVUFBVSxvSUFBb0ksS0FBSztBQUN4VyxDQUFDO0FBQ0Q7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQUcsVUFBVSxrRkFBa0Y7QUFDM0c7O0FBRUEsbUJBQW1CLDhGQUE4RjtBQUNqSCxZQUFZLGtHQUFrRztBQUM5RyxpQkFBaUIsd0VBQU87QUFDeEIsNENBQTRDLCtDQUFRO0FBQ3BEO0FBQ0EsOENBQThDLCtDQUFRO0FBQ3RELHdDQUF3QywrQ0FBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxzREFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdCQUF3QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlFQUFRO0FBQ2xCO0FBQ0EsY0FBYyx1RUFBYztBQUM1QjtBQUNBO0FBQ0EsaURBQWlELG9FQUFlO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQUksQ0FBQyx1REFBUSxJQUFJLHNDQUFzQyxzREFBRyxZQUFZLG9CQUFvQixnREFBSTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUJBQW1CLHFFQUFxRSxzREFBRyxxQkFBcUIsU0FBUyxzQkFBc0IsbUVBQW1FLEtBQUs7QUFDdk47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpREFBVSxzQkFBc0IsaUJBQWlCO0FBQ25FLDRDQUE0QywrQ0FBUTtBQUNwRCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQVEsZUFBZSw2REFBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsWUFBWTtBQUMzQjtBQUNBO0FBQ0EsV0FBVztBQUNYLENBQUM7O0FBRUQ7QUFDQSxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHNEQUFHLFVBQVUsaUdBQWlHO0FBQzFIO0FBQ0E7QUFDQSxZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QixZQUFZLHNEQUFHLFVBQVUsMEZBQTBGO0FBQ25IO0FBQ0Esd0JBQXdCLG1LQUFtSztBQUMzTCxZQUFZLGlCQUFpQixFQUFFLGtGQUFpQjtBQUNoRCxZQUFZLHVDQUF1QztBQUNuRDtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFHLG9CQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdURBQUksQ0FBQyx1REFBUSxJQUFJLDJCQUEyQixzREFBRyxjQUFjLGdDQUFnQyxnREFBSTtBQUNySDtBQUNBO0FBQ0EscUJBQXFCLEdBQUcsZUFBZSxzREFBRywwQkFBMEIsSUFBSTtBQUN4RTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFHLHlCQUF5QjtBQUMvQztBQUNBLFlBQVksc0RBQUcsVUFBVSxXQUFXLGdEQUFJLHVFQUF1RTtBQUMvRzs7QUFFQTtBQUNBLFlBQVksb0RBQW9EO0FBQ2hFLG9EQUFvRCwrQ0FBUTtBQUM1RCxrRUFBa0UsK0NBQVE7QUFDMUUsaUJBQWlCLHdFQUFPO0FBQ3hCLFlBQVksSUFBSSxFQUFFLHdFQUFPO0FBQ3pCLFlBQVkseUJBQXlCO0FBQ3JDLDBCQUEwQixpRUFBUTtBQUNsQywwQkFBMEIsaUVBQVE7QUFDbEMsZ0NBQWdDLHVFQUFjO0FBQzlDLHFDQUFxQyw0RUFBbUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVEQUF1RCxPQUFPO0FBQzlELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx5REFBeUQsT0FBTztBQUNoRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSx1REFBSSxnQkFBZ0IsK0JBQStCLHVEQUFJLDBCQUEwQiw0RUFBNEUsc0RBQUcsU0FBUyxhQUFhLGlDQUFpQyxHQUFHLHVEQUFJLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsK0JBQStCLHVEQUFJLDBCQUEwQixzRUFBc0Usc0RBQUcsU0FBUyxhQUFhLDJCQUEyQixHQUFHLHVEQUFJLDBCQUEwQix3RUFBd0Usc0RBQUcsU0FBUyxhQUFhLDZCQUE2QixJQUFJLEdBQUcsc0RBQUcsQ0FBQyx1RUFBVSxJQUFJLGlCQUFpQixrRUFBYSx5QkFBeUIsdURBQUksMEJBQTBCLCtCQUErQixzREFBRyxTQUFTLHFCQUFxQixnQkFBZ0IsR0FBRyxHQUFHLHVEQUFJLENBQUMsdUVBQVUsSUFBSSxpQkFBaUIsa0VBQWEsMkNBQTJDLHVEQUFJLDBCQUEwQiwrQkFBK0Isc0RBQUcsU0FBUyw0QkFBNEIseUJBQXlCLDRCQUE0Qix1REFBSSwwQkFBMEIscUNBQXFDLHNEQUFHLFNBQVMsMEJBQTBCLGdDQUFnQyxzQkFBc0IsdURBQUksMEJBQTBCLCtCQUErQixzREFBRyxTQUFTLGtCQUFrQixxQkFBcUIsaUNBQWlDLHVEQUFJLDBCQUEwQiwwQ0FBMEMsc0RBQUcsU0FBUyxrQkFBa0Isa0NBQWtDLEtBQUssOEJBQThCLHNEQUFHLDBCQUEwQiwrQ0FBK0MsYUFBYTtBQUMzbEQ7QUFDQSxpQkFBaUIsR0FBRyx5REFBeUQsc0RBQUcsMEJBQTBCLGlEQUFpRCxhQUFhO0FBQ3hLO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixHQUFHLElBQUksdURBQUksQ0FBQyx1RUFBVSxJQUFJLGlCQUFpQixrRUFBYSxzQ0FBc0Msc0RBQUcsMEJBQTBCLHlCQUF5QixrRUFBYSwwQ0FBMEMsR0FBRyxzREFBRywwQkFBMEIseUJBQXlCLGtFQUFhLDBDQUEwQyxHQUFHLHNEQUFHLDBCQUEwQix5QkFBeUIsa0VBQWEsb0RBQW9ELEdBQUcsc0RBQUcsMEJBQTBCLDBCQUEwQixrRUFBYSw0Q0FBNEMsR0FBRyxzREFBRywwQkFBMEIsMEJBQTBCLGtFQUFhLDRDQUE0QyxHQUFHLHNEQUFHLDBCQUEwQiwwQkFBMEIsa0VBQWEsc0RBQXNELElBQUksSUFBSTtBQUNqekI7O0FBRUEscUNBQXFDLGdGQUFnRjtBQUNySCxpQkFBaUIsd0VBQU87QUFDeEI7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLHFCQUFxQixpREFBVTtBQUMvQixXQUFXLHNEQUFHLGVBQWUsc0RBQXNEO0FBQ25GLENBQUM7QUFDRDtBQUNBLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLElBQUksRUFBRSx3RUFBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUseURBQXlELHNEQUFHLFNBQVMsMEJBQTBCLEdBQUcsc0RBQUcsV0FBVyxvR0FBb0csR0FBRyx1REFBSSxhQUFhLDJGQUEyRixzREFBRyxTQUFTLGVBQWUsbUNBQW1DLElBQUk7QUFDL1o7QUFDQSxvQ0FBb0Msa0xBQWtMO0FBQ3ROLFlBQVkseUJBQXlCO0FBQ3JDLDRCQUE0Qix1RUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdURBQUksQ0FBQyx1REFBUSxJQUFJLFdBQVcsc0RBQUcsOEJBQThCLEdBQUcsc0RBQUcsdUJBQXVCLHNDQUFzQyxJQUFJO0FBQ3BKO0FBQ0EsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUksOEJBQThCLHNEQUFHLGVBQWUsbUZBQW1GLHNEQUFHLG9DQUFvQyxHQUFHLElBQUksc0RBQUcsYUFBYSwwQkFBMEIsR0FBRyxzREFBRyx1QkFBdUIsc0NBQXNDLElBQUk7QUFDL1Q7QUFDQSw4QkFBOEIsMkJBQTJCO0FBQ3pELFlBQVksY0FBYztBQUMxQixZQUFZLHVFQUF1RTtBQUNuRixpQkFBaUIsd0VBQU87QUFDeEIsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekI7QUFDQSxRQUFRLDhEQUFTO0FBQ2pCLDBCQUEwQixpRUFBUTtBQUNsQywwQkFBMEIsaUVBQVE7QUFDbEM7QUFDQSxZQUFZLHVEQUFJLENBQUMsdURBQVEsSUFBSSxXQUFXLHNEQUFHLFVBQVUsdURBQXVELHVEQUFJLFdBQVcsc0hBQXNILHNEQUFHLFdBQVcsZ0VBQWdFLDRDQUE0QyxzREFBRyxXQUFXLGdFQUFnRTtBQUN6YjtBQUNBLHdCQUF3QixzREFBRyxXQUFXLHFIQUFxSCx5QkFBeUIsc0RBQUcsb0JBQW9CLElBQUksR0FBRyx5QkFBeUIsc0RBQUcsaUJBQWlCO0FBQy9QLDBDQUEwQyw4REFBUyx3R0FBd0csc0RBQUcsV0FBVyxXQUFXLGdEQUFJLDhHQUE4RywwQkFBMEIsc0NBQXNDLElBQUksS0FBSztBQUMvVztBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksZ0NBQWdDO0FBQzVDLFlBQVksdURBQUksV0FBVyxXQUFXLGdEQUFJLGlLQUFpSyxzREFBRyxXQUFXLCtDQUErQyxHQUFHLHNEQUFHLFdBQVcsK0NBQStDLEdBQUcsc0RBQUcsV0FBVywrQ0FBK0MsSUFBSTtBQUM1WTs7QUFFQSx3QkFBd0IsaURBQVUsNEJBQTRCLDBEQUEwRCw4Q0FBOEMsSUFBSSw4RUFBOEU7QUFDeFAsWUFBWSwrREFBK0Q7QUFDM0UsMEJBQTBCLGlFQUFRO0FBQ2xDLDBCQUEwQixpRUFBUTtBQUNsQyxxQ0FBcUMsNEVBQW1CO0FBQ3hELGdEQUFnRCwrQ0FBUTtBQUN4RCwwREFBMEQsK0NBQVE7QUFDbEUsZ0ZBQWdGLCtDQUFRO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0NBQXdDLDhDQUFPO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLFlBQVksc0RBQUcsVUFBVTtBQUN6QjtBQUNBO0FBQ0EsU0FBUyxhQUFhLGdEQUFJLHlTQUF5Uyx1REFBSSxvQ0FBb0MscUZBQXFGLHVEQUFJLENBQUMsdURBQVEsSUFBSSw2QkFBNkIsc0RBQUcsVUFBVSxtREFBbUQsaUNBQWlDLHNEQUFHLFVBQVUsOERBQThELEtBQUssSUFBSSxzREFBRyxZQUFZLHFIQUFxSCx5Q0FBeUMsc0RBQUcsc0JBQXNCLDJCQUEyQixHQUFHO0FBQ3Y0QixDQUFDO0FBQ0Q7O0FBRUE7QUFDQSxtQkFBbUIsK0VBQWtCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixRQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssYUFBYSxpQkFBaUIsYUFBYTtBQUNoRCxLQUFLLGFBQWEseUJBQXlCLGFBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUIsc0JBQXNCLHVCQUF1QjtBQUN2RixLQUFLLFlBQVksOEJBQThCLFlBQVk7QUFDM0QsS0FBSyxZQUFZLDZCQUE2QixZQUFZO0FBQzFELEtBQUssWUFBWSwwQ0FBMEMsWUFBWTtBQUN2RSxLQUFLLFlBQVksNENBQTRDLFlBQVk7QUFDekUsS0FBSyxZQUFZLDZCQUE2QixhQUFhLE9BQU8sWUFBWSw2QkFBNkIsYUFBYTtBQUN4SDs7QUFFQSx1QkFBdUI7O0FBRXZCO0FBQ0EsWUFBWSxzREFBRyxDQUFDLGdGQUFtQixJQUFJLCtDQUErQztBQUN0RjtBQUNBOztBQUVBO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsOEVBQXlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJFQUFrQixDQUFDLGtFQUFhO0FBQ3ZFO0FBQ0E7QUFDQSx1Q0FBdUMsNEVBQXVCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4REFBUztBQUNoQyx3RUFBd0Usc0VBQWlCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLG1FQUFtRSxFQUFFLGtGQUFpQjtBQUNsRyxpQkFBaUIsd0VBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtRUFBYztBQUMxQztBQUNBO0FBQ0EscUJBQXFCLHNEQUFHLHVCQUF1QixnS0FBZ0s7QUFDL00sWUFBWSwyQkFBMkI7QUFDdkMsaUVBQWlFLHNEQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLDJSQUEyUjtBQUMzUixZQUFZLHVEQUFJLFVBQVUsK0RBQStELHNEQUFHLHNCQUFzQixrQ0FBa0MsMENBQTBDLHNEQUFHLG9CQUFvQjtBQUNyTix3QkFBd0IsdUJBQXVCLHNEQUFHLG9CQUFvQixXQUFXLGdEQUFJO0FBQ3JGLG9CQUFvQixnREFBSSw4R0FBOEcsa0RBQWtEO0FBQ3hMLHdCQUF3QixLQUFLO0FBQzdCO0FBQ0E7QUFDQSxZQUFZLDRIQUE0SDtBQUN4SSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxzQkFBc0IsRUFBRSxrRkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxJQUFJLEVBQUUsd0VBQU87QUFDekIsWUFBWSxzREFBRyxVQUFVLDhEQUE4RCx1REFBSSxVQUFVLHNGQUFzRixzREFBRyxXQUFXLDRFQUE0RSw2QkFBNkIsc0RBQUcsV0FBVyxzRkFBc0Ysd0JBQXdCLHNEQUFHLFdBQVcsc0tBQXNLLHFCQUFxQixzREFBRyxXQUFXLHlGQUF5Rix5QkFBeUIsc0RBQUcsV0FBVyxxRkFBcUYsS0FBSyxHQUFHO0FBQ2wyQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdDQUFnQyxFQUFFLGtGQUFpQjtBQUMvRDtBQUNBO0FBQ0Esb0NBQW9DLCtDQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlCQUF5QjtBQUNyQyw0Q0FBNEMsK0NBQVE7QUFDcEQsV0FBVyxrREFBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1QkFBdUIsRUFBRSx5QkFBeUIsRUFBRSx3QkFBd0IsRUFBRSxRQUFRLEdBQUcsd0JBQXdCLEVBQUUsUUFBUTtBQUN6STs7QUFFQTtBQUNBLG9DQUFvQyw2Q0FBNkM7QUFDakYsWUFBWSxzREFBRyxVQUFVLFdBQVcsZ0RBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5Q0FBeUMsc0RBQUcsb0JBQW9CLHFIQUFxSCw0QkFBNEI7QUFDMU47QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLG1KQUFtSjtBQUNuSiw0QkFBNEIsK0NBQVE7QUFDcEMsdUZBQXVGLCtDQUFRO0FBQy9GLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLHlDQUF5QyxFQUFFLGtGQUFpQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhCQUE4Qiw4Q0FBTztBQUNyQztBQUNBO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsOEdBQThHLHNEQUFHLHNCQUFzQixrQ0FBa0MsR0FBRyx1REFBSSxVQUFVLGlHQUFpRyxzREFBRyxlQUFlLGlIQUFpSCxzQkFBc0Isc0RBQUcsNkJBQTZCLDBHQUEwRywyQ0FBMkMsc0RBQUcsZUFBZSwwSUFBMEksS0FBSyxJQUFJO0FBQ3h5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCwrQ0FBUTtBQUMxRDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsMkNBQTJDLHNEQUFHLDZCQUE2QiwwQkFBMEI7QUFDckcsZ0RBQWdELHNEQUFHLDZCQUE2QjtBQUNoRix5QkFBeUIsaU1BQWlNO0FBQzFOLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLHlDQUF5QyxFQUFFLGtGQUFpQjtBQUN4RTtBQUNBO0FBQ0EsOEVBQThFLCtDQUFRO0FBQ3RGLGdFQUFnRSwrQ0FBUTtBQUN4RSw4REFBOEQsK0NBQVE7QUFDdEUsNkRBQTZELHVFQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFJLFVBQVUsNERBQTRELHNEQUFHLHNCQUFzQixrQ0FBa0MsR0FBRyx1REFBSSxVQUFVLFdBQVcsZ0RBQUk7QUFDakwsMERBQTBELHdCQUF3QixlQUFlLHNEQUFHLFVBQVUsd0ZBQXdGLHNEQUFHLG9CQUFvQixnTkFBZ04sSUFBSSwwRUFBMEUsdURBQUksVUFBVSxvSEFBb0gsc0RBQUcsVUFBVSxtSEFBbUgsdURBQUksVUFBVSxnSUFBZ0ksc0RBQUcsVUFBVSxvRUFBb0Usc0RBQUcsb0JBQW9CLG1JQUFtSSxHQUFHLHlGQUF5RixzREFBRyxVQUFVLG9FQUFvRSxzREFBRyxvQkFBb0Isd0hBQXdILEdBQUcsNkJBQTZCLEdBQUcsa0JBQWtCLHNEQUFHLDBCQUEwQiw4Q0FBOEMscUJBQXFCLHNEQUFHLDRCQUE0Qiw4Q0FBOEMsS0FBSyxLQUFLLElBQUk7QUFDbHFEO0FBQ0E7QUFDQSxtQ0FBbUMsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQSxrQ0FBa0MsZ0NBQWdDO0FBQ2xFO0FBQ0E7QUFDQSxrQ0FBa0MsK0JBQStCO0FBQ2pFO0FBQ0EsWUFBWSx1REFBSSxDQUFDLHVEQUFRLElBQUksNERBQTRELHNEQUFHLGVBQWUsNkhBQTZILG1EQUFtRCxzREFBRyxlQUFlLDZIQUE2SCxLQUFLO0FBQy9hO0FBQ0EsaUNBQWlDLGdCQUFnQjtBQUNqRDtBQUNBO0FBQ0Esa0NBQWtDLCtCQUErQjtBQUNqRTtBQUNBO0FBQ0Esa0NBQWtDLDhCQUE4QjtBQUNoRTtBQUNBLFlBQVksdURBQUksQ0FBQyx1REFBUSxJQUFJLDBEQUEwRCxzREFBRyxlQUFlLHdIQUF3SCxzREFBc0Qsc0RBQUcsZUFBZSxnSUFBZ0ksS0FBSztBQUM5YTs7QUFFQTtBQUNBLFlBQVksZ0NBQWdDO0FBQzVDLG1CQUFtQixxRkFBb0I7QUFDdkMsNEJBQTRCLCtDQUFRO0FBQ3BDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxlQUFlLHNCQUFzQixzREFBRyxxQkFBcUIsZ0JBQWdCLEdBQUc7QUFDL0Y7O0FBRUE7QUFDQSxtRUFBVTtBQUNWLFVBQVUsOERBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFK3lEO0FBQ2h6RCIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2luZGV4LmVzLmpzP2M4MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQXVkaW8sIGhhc1NjcmVlblNoYXJlQXVkaW8sIGdldExvZ2dlciwgZGlzcG9zZU9mTWVkaWFTdHJlYW0sIENhbGxpbmdTdGF0ZSwgT3duQ2FwYWJpbGl0eSwgaGFzVmlkZW8sIGlzUGlubmVkLCBuYW1lLCBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0sIGhhc1NjcmVlblNoYXJlLCBWaXNpYmlsaXR5U3RhdGUsIEJyb3dzZXJzLCBTZnVNb2RlbHMsIHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQsIGNvbWJpbmVDb21wYXJhdG9ycywgc2NyZWVuU2hhcmluZywgc3BlYWtlckxheW91dFNvcnRQcmVzZXQsIENhbGxUeXBlcywgZGVmYXVsdFNvcnRQcmVzZXQsIHNldFNka0luZm8gfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5leHBvcnQgKiBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5pbXBvcnQgeyB1c2VDYWxsLCB1c2VDYWxsU3RhdGVIb29rcywgdXNlSTE4biwgUmVzdHJpY3RlZCwgdXNlQ29ubmVjdGVkVXNlciwgU3RyZWFtQ2FsbFByb3ZpZGVyLCBTdHJlYW1WaWRlb1Byb3ZpZGVyLCB1c2VTdHJlYW1WaWRlb0NsaWVudCB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MnO1xuZXhwb3J0ICogZnJvbSAnQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncyc7XG5pbXBvcnQgeyBqc3gsIEZyYWdtZW50LCBqc3hzIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgRnJhZ21lbnQgYXMgRnJhZ21lbnQkMSwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlTWVtbywgZm9yd2FyZFJlZiwgaXNWYWxpZEVsZW1lbnQsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGlzUGxhdGZvcm1TdXBwb3J0ZWQsIGxvYWRURkxpdGUsIGNyZWF0ZVJlbmRlcmVyIH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYic7XG5pbXBvcnQgeyB1c2VGbG9hdGluZywgb2Zmc2V0LCBzaGlmdCwgZmxpcCwgc2l6ZSwgYXV0b1VwZGF0ZSwgRmxvYXRpbmdPdmVybGF5LCBGbG9hdGluZ1BvcnRhbCwgYXJyb3csIEZsb2F0aW5nQXJyb3csIHVzZUxpc3RJdGVtLCB1c2VMaXN0TmF2aWdhdGlvbiwgdXNlVHlwZWFoZWFkLCB1c2VDbGljaywgdXNlRGlzbWlzcywgdXNlUm9sZSwgdXNlSW50ZXJhY3Rpb25zLCBGbG9hdGluZ0ZvY3VzTWFuYWdlciwgRmxvYXRpbmdMaXN0LCB1c2VIb3ZlciB9IGZyb20gJ0BmbG9hdGluZy11aS9yZWFjdCc7XG5pbXBvcnQgeyBDaGFydCwgQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIExpbmVFbGVtZW50LCBQb2ludEVsZW1lbnQgfSBmcm9tICdjaGFydC5qcyc7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSAncmVhY3QtY2hhcnRqcy0yJztcblxuY29uc3QgQXVkaW8gPSAoeyBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IFthdWRpb0VsZW1lbnQsIHNldEF1ZGlvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB7IHVzZXJJZCwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWF1ZGlvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuYmluZEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXA/LigpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBzZXNzaW9uSWQsIGF1ZGlvRWxlbWVudCwgdHJhY2tUeXBlXSk7XG4gICAgcmV0dXJuIChqc3goXCJhdWRpb1wiLCB7IGF1dG9QbGF5OiB0cnVlLCAuLi5yZXN0LCByZWY6IHNldEF1ZGlvRWxlbWVudCwgXCJkYXRhLXVzZXItaWRcIjogdXNlcklkLCBcImRhdGEtc2Vzc2lvbi1pZFwiOiBzZXNzaW9uSWQsIFwiZGF0YS10cmFjay10eXBlXCI6IHRyYWNrVHlwZSB9KSk7XG59O1xuQXVkaW8uZGlzcGxheU5hbWUgPSAnQXVkaW8nO1xuXG5jb25zdCBQYXJ0aWNpcGFudHNBdWRpbyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBhdWRpb1Byb3BzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IGF1ZGlvU3RyZWFtLCBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgICAgICAgICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2tFbGVtZW50ID0gaGFzQXVkaW9UcmFjayAmJiBhdWRpb1N0cmVhbSAmJiAoanN4KEF1ZGlvLCB7IC4uLmF1ZGlvUHJvcHMsIHRyYWNrVHlwZTogXCJhdWRpb1RyYWNrXCIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSk7XG4gICAgICAgICAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblNoYXJlQXVkaW9UcmFja0VsZW1lbnQgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgJiZcbiAgICAgICAgICAgICAgICBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtICYmIChqc3goQXVkaW8sIHsgLi4uYXVkaW9Qcm9wcywgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50JDEsIHsgY2hpbGRyZW46IFthdWRpb1RyYWNrRWxlbWVudCwgc2NyZWVuU2hhcmVBdWRpb1RyYWNrRWxlbWVudF0gfSwgc2Vzc2lvbklkKSk7XG4gICAgICAgIH0pIH0pKTtcbn07XG5QYXJ0aWNpcGFudHNBdWRpby5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudHNBdWRpbyc7XG5cbmNvbnN0IFBhcnRpY2lwYW50Vmlld0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG5jb25zdCB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0ID0gKCkgPT4gdXNlQ29udGV4dChQYXJ0aWNpcGFudFZpZXdDb250ZXh0KTtcblxuY29uc3QgQXZhdGFyID0gKHsgaW1hZ2VTcmMsIG5hbWUsIHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyghaW1hZ2VTcmMgfHwgZXJyb3IpICYmIG5hbWUgJiYgKGpzeChBdmF0YXJGYWxsYmFjaywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCBuYW1lczogW25hbWVdIH0pKSwgaW1hZ2VTcmMgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBcImF2YXRhclwiLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYXZhdGFyJywgY2xhc3NOYW1lKSwgc3JjOiBpbWFnZVNyYywgc3R5bGU6IHN0eWxlLCAuLi5yZXN0IH0pKV0gfSkpO1xufTtcbmNvbnN0IEF2YXRhckZhbGxiYWNrID0gKHsgY2xhc3NOYW1lLCBuYW1lcywgc3R5bGUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19hdmF0YXItLWluaXRpYWxzLWZhbGxiYWNrJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbbmFtZXNbMF1bMF0sIG5hbWVzWzFdPy5bMF1dIH0pIH0pKTtcbn07XG5cbi8qKlxuICogVGhlIGNvbnRleHQgZm9yIHRoZSBiYWNrZ3JvdW5kIGZpbHRlcnMuXG4gKi9cbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgYmFja2dyb3VuZCBmaWx0ZXJzIGNvbnRleHQgQVBJLlxuICovXG5jb25zdCB1c2VCYWNrZ3JvdW5kRmlsdGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUJhY2tncm91bmRGaWx0ZXJzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbi8qKlxuICogQSBwcm92aWRlciBjb21wb25lbnQgdGhhdCBlbmFibGVzIHRoZSB1c2Ugb2YgYmFja2dyb3VuZCBmaWx0ZXJzIGluIHlvdXIgYXBwLlxuICpcbiAqIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgdGhlIGBAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViYCBwYWNrYWdlIGluc3RhbGxlZFxuICogaW4geW91ciBwcm9qZWN0IGJlZm9yZSB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnNQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGJhY2tncm91bmRJbWFnZXMgPSBbXSwgYmFja2dyb3VuZEZpbHRlcjogYmdGaWx0ZXJGcm9tUHJvcHMgPSB1bmRlZmluZWQsIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgYmFja2dyb3VuZEJsdXJMZXZlbDogYmdCbHVyTGV2ZWxGcm9tUHJvcHMgPSAnaGlnaCcsIHRmRmlsZVBhdGgsIG1vZGVsRmlsZVBhdGgsIGJhc2VQYXRoLCBvbkVycm9yLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2JhY2tncm91bmRGaWx0ZXIsIHNldEJhY2tncm91bmRGaWx0ZXJdID0gdXNlU3RhdGUoYmdGaWx0ZXJGcm9tUHJvcHMpO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kSW1hZ2UsIHNldEJhY2tncm91bmRJbWFnZV0gPSB1c2VTdGF0ZShiZ0ltYWdlRnJvbVByb3BzKTtcbiAgICBjb25zdCBbYmFja2dyb3VuZEJsdXJMZXZlbCwgc2V0QmFja2dyb3VuZEJsdXJMZXZlbF0gPSB1c2VTdGF0ZShiZ0JsdXJMZXZlbEZyb21Qcm9wcyk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kSW1hZ2VGaWx0ZXIgPSB1c2VDYWxsYmFjaygoaW1hZ2VVcmwpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignaW1hZ2UnKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEltYWdlKGltYWdlVXJsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlciA9IHVzZUNhbGxiYWNrKChibHVyTGV2ZWwgPSAnaGlnaCcpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignYmx1cicpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKGJsdXJMZXZlbCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEJhY2tncm91bmRJbWFnZSh1bmRlZmluZWQpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKCdoaWdoJyk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZCwgc2V0SXNTdXBwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzUGxhdGZvcm1TdXBwb3J0ZWQoKS50aGVuKHNldElzU3VwcG9ydGVkKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgW3RmTGl0ZSwgc2V0VGZMaXRlXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIGxvYWQgVEZMaXRlIGlmIHRoZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWRURkxpdGUoeyBiYXNlUGF0aCwgbW9kZWxGaWxlUGF0aCwgdGZGaWxlUGF0aCB9KVxuICAgICAgICAgICAgLnRoZW4oc2V0VGZMaXRlKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFRGTGl0ZScsIGVycikpO1xuICAgIH0sIFtiYXNlUGF0aCwgaXNTdXBwb3J0ZWQsIG1vZGVsRmlsZVBhdGgsIHRmRmlsZVBhdGhdKTtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcikgPT4ge1xuICAgICAgICBnZXRMb2dnZXIoWydmaWx0ZXJzJ10pKCd3YXJuJywgJ0ZpbHRlciBlbmNvdW50ZXJlZCBhbiBlcnJvciBhbmQgd2lsbCBiZSBkaXNhYmxlZCcpO1xuICAgICAgICBkaXNhYmxlQmFja2dyb3VuZEZpbHRlcigpO1xuICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgIH0sIFtkaXNhYmxlQmFja2dyb3VuZEZpbHRlciwgb25FcnJvcl0pO1xuICAgIHJldHVybiAoanN4cyhCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgaXNSZWFkeTogISF0ZkxpdGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgIGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlcixcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZEltYWdlRmlsdGVyLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlcyxcbiAgICAgICAgICAgIHRmRmlsZVBhdGgsXG4gICAgICAgICAgICBtb2RlbEZpbGVQYXRoLFxuICAgICAgICAgICAgYmFzZVBhdGgsXG4gICAgICAgICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICAgICAgfSwgY2hpbGRyZW46IFtjaGlsZHJlbiwgdGZMaXRlICYmIGpzeChCYWNrZ3JvdW5kRmlsdGVycywgeyB0ZkxpdGU6IHRmTGl0ZSB9KV0gfSkpO1xufTtcbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGFydCB9ID0gdXNlUmVuZGVyZXIocHJvcHMudGZMaXRlKTtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIG9uRXJyb3IgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgaGFuZGxlRXJyb3JSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICBoYW5kbGVFcnJvclJlZi5jdXJyZW50ID0gb25FcnJvcjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWJhY2tncm91bmRGaWx0ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdW5yZWdpc3RlciB9ID0gY2FsbC5jYW1lcmEucmVnaXN0ZXJGaWx0ZXIoKG1zKSA9PiBzdGFydChtcywgKGVycm9yKSA9PiBoYW5kbGVFcnJvclJlZi5jdXJyZW50Py4oZXJyb3IpKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRGaWx0ZXIsIGNhbGwsIHN0YXJ0XSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufTtcbmNvbnN0IHVzZVJlbmRlcmVyID0gKHRmTGl0ZSkgPT4ge1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZEZpbHRlciwgYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEltYWdlIH0gPSB1c2VCYWNrZ3JvdW5kRmlsdGVycygpO1xuICAgIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBiZ0ltYWdlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFt2aWRlb1NpemUsIHNldFZpZGVvU2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHdpZHRoOiAxOTIwLFxuICAgICAgICBoZWlnaHQ6IDEwODAsXG4gICAgfSk7XG4gICAgY29uc3Qgc3RhcnQgPSB1c2VDYWxsYmFjaygobXMsIG9uRXJyb3IpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dFN0cmVhbTtcbiAgICAgICAgbGV0IHJlbmRlcmVyO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWJhY2tncm91bmRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyBmaWx0ZXIgc3BlY2lmaWVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZpZGVvRWwgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgY2FudmFzRWwgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGJnSW1hZ2VFbCA9IGJnSW1hZ2VSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmICghdmlkZW9FbCB8fCAhY2FudmFzRWwgfHwgKGJhY2tncm91bmRJbWFnZSAmJiAhYmdJbWFnZUVsKSkge1xuICAgICAgICAgICAgICAgIC8vIFlvdSBzaG91bGQgc3RhcnQgcmVuZGVyZXIgaW4gZWZmZWN0IG9yIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVuZGVyZXIgc3RhcnRlZCBiZWZvcmUgZWxlbWVudHMgYXJlIHJlYWR5JykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpZGVvRWwuc3JjT2JqZWN0ID0gbXM7XG4gICAgICAgICAgICB2aWRlb0VsLnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbdHJhY2tdID0gbXMuZ2V0VmlkZW9UcmFja3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHZpZGVvIHRyYWNrcyBpbiBpbnB1dCBtZWRpYSBzdHJlYW0nKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tTZXR0aW5ncyA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHNldFZpZGVvU2l6ZSh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0cmFja1NldHRpbmdzLndpZHRoID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdHJhY2tTZXR0aW5ncy5oZWlnaHQgPz8gMCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcih0ZkxpdGUsIHZpZGVvRWwsIGNhbnZhc0VsLCB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRCbHVyTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUVsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gPSBjYW52YXNFbC5jYXB0dXJlU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXRTdHJlYW0pO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBwbGF5IHRoZSBzb3VyY2UgdmlkZW8gc3RyZWFtJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgc3RvcDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyPy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudCAmJiAodmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gJiYgZGlzcG9zZU9mTWVkaWFTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgdGZMaXRlXSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc1wiLCBjaGlsZHJlbjogW2pzeChcInZpZGVvXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8nLCB2aWRlb1NpemUuaGVpZ2h0ID4gdmlkZW9TaXplLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8tLXRhbGwnKSwgcmVmOiB2aWRlb1JlZiwgcGxheXNJbmxpbmU6IHRydWUsIG11dGVkOiB0cnVlLCBjb250cm9sczogZmFsc2UsIC4uLnZpZGVvU2l6ZSB9KSwgYmFja2dyb3VuZEltYWdlICYmIChqc3goXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX2JhY2tncm91bmQtaW1hZ2VcIiwgYWx0OiBcIkJhY2tncm91bmRcIiwgcmVmOiBiZ0ltYWdlUmVmLCBzcmM6IGJhY2tncm91bmRJbWFnZSwgLi4udmlkZW9TaXplIH0pKSwganN4KFwiY2FudmFzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX190YXJnZXQtY2FudmFzXCIsIC4uLnZpZGVvU2l6ZSwgcmVmOiBjYW52YXNSZWYgfSldIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgfTtcbn07XG5cbmNvbnN0IHVzZUZsb2F0aW5nVUlQcmVzZXQgPSAoeyBtaWRkbGV3YXJlID0gW10sIHBsYWNlbWVudCwgc3RyYXRlZ3ksIG9mZnNldDogb2Zmc2V0SW5QeCA9IDEwLCB9KSA9PiB7XG4gICAgY29uc3QgeyByZWZzLCB4LCB5LCB1cGRhdGUsIGVsZW1lbnRzOiB7IGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcgfSwgY29udGV4dCwgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgICAgb2Zmc2V0KG9mZnNldEluUHgpLFxuICAgICAgICAgICAgc2hpZnQoKSxcbiAgICAgICAgICAgIGZsaXAoKSxcbiAgICAgICAgICAgIHNpemUoe1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGFwcGx5OiAoeyBhdmFpbGFibGVIZWlnaHQsIGVsZW1lbnRzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50cy5mbG9hdGluZy5zdHlsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBgJHthdmFpbGFibGVIZWlnaHR9cHhgLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAuLi5taWRkbGV3YXJlLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIC8vIGhhbmRsZSB3aW5kb3cgcmVzaXppbmdcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRvbVJlZmVyZW5jZSB8fCAhZmxvYXRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBhdXRvVXBkYXRlKGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2RvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZV0pO1xuICAgIHJldHVybiB7IHJlZnMsIHgsIHksIGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHN0cmF0ZWd5LCBjb250ZXh0IH07XG59O1xuXG5jb25zdCBkZWZhdWx0RGV2aWNlID0gJ2RlZmF1bHQnO1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBwZXJzaXN0IHRoZSBkZXZpY2Ugc2V0dGluZ3MgdG8gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VQZXJzaXN0RGV2aWNlUHJlZmVyZW5jZXMgPSAoa2V5KSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUsIHVzZUNhbWVyYVN0YXRlLCB1c2VTcGVha2VyU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBtaWMgPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCBjYW1lcmEgPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIGNvbnN0IHNwZWFrZXIgPSB1c2VTcGVha2VyU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IHtcbiAgICAgICAgICAgICAgICBtaWM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJZDogbWljLnNlbGVjdGVkRGV2aWNlIHx8IGRlZmF1bHREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkOiBtaWMuaXNNdXRlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FtZXJhOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV2aWNlSWQ6IGNhbWVyYS5zZWxlY3RlZERldmljZSB8fCBkZWZhdWx0RGV2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtdXRlZDogY2FtZXJhLmlzTXV0ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNwZWFrZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJZDogc3BlYWtlci5zZWxlY3RlZERldmljZSB8fCBkZWZhdWx0RGV2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtdXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShwcmVmZXJlbmNlcykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgZGV2aWNlIHByZWZlcmVuY2VzJywgZXJyKTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgY2FsbCxcbiAgICAgICAgY2FtZXJhLmlzTXV0ZSxcbiAgICAgICAgY2FtZXJhLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBrZXksXG4gICAgICAgIG1pYy5pc011dGUsXG4gICAgICAgIG1pYy5zZWxlY3RlZERldmljZSxcbiAgICAgICAgc3BlYWtlci5zZWxlY3RlZERldmljZSxcbiAgICBdKTtcbn07XG4vKipcbiAqIFRoaXMgaG9vayB3aWxsIGFwcGx5IHRoZSBkZXZpY2Ugc2V0dGluZ3MgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UuXG4gKi9cbmNvbnN0IHVzZUFwcGx5RGV2aWNlUHJlZmVyZW5jZXMgPSAoa2V5KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGFwcGx5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5pdE1pYyA9IGFzeW5jIChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLnNlbGVjdChwYXJzZURldmljZUlkKHNldHRpbmcuc2VsZWN0ZWREZXZpY2VJZCkpO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm11dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsLm1pY3JvcGhvbmUuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGluaXRDYW1lcmEgPSBhc3luYyAoc2V0dGluZykgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLnNlbGVjdChwYXJzZURldmljZUlkKHNldHRpbmcuc2VsZWN0ZWREZXZpY2VJZCkpO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm11dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBpbml0U3BlYWtlciA9IChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbC5zcGVha2VyLnNlbGVjdChwYXJzZURldmljZUlkKHNldHRpbmcuc2VsZWN0ZWREZXZpY2VJZCkgPz8gJycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBwcmVmZXJlbmNlcyA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBkZXZpY2UgcHJlZmVyZW5jZXMnLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW5pdE1pYyhwcmVmZXJlbmNlcy5taWMpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGluaXRDYW1lcmEocHJlZmVyZW5jZXMuY2FtZXJhKTtcbiAgICAgICAgICAgICAgICBpbml0U3BlYWtlcihwcmVmZXJlbmNlcy5zcGVha2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHkoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBhcHBseSBkZXZpY2UgcHJlZmVyZW5jZXMnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2FsbCwga2V5XSk7XG59O1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBhcHBseSBhbmQgcGVyc2lzdCB0aGUgZGV2aWNlIHByZWZlcmVuY2VzIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VQZXJzaXN0ZWREZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkgPSAnQHN0cmVhbS1pby9kZXZpY2UtcHJlZmVyZW5jZXMnKSA9PiB7XG4gICAgdXNlQXBwbHlEZXZpY2VQcmVmZXJlbmNlcyhrZXkpO1xuICAgIHVzZVBlcnNpc3REZXZpY2VQcmVmZXJlbmNlcyhrZXkpO1xufTtcbmNvbnN0IHBhcnNlRGV2aWNlSWQgPSAoZGV2aWNlSWQpID0+IGRldmljZUlkICE9PSBkZWZhdWx0RGV2aWNlID8gZGV2aWNlSWQgOiB1bmRlZmluZWQ7XG5cbmNvbnN0IFNDUk9MTF9USFJFU0hPTEQgPSAxMDtcbi8qKlxuICogSG9vayB3aGljaCBvYnNlcnZlcyBlbGVtZW50J3Mgc2Nyb2xsIHBvc2l0aW9uIGFuZCByZXR1cm5zIHRleHQgdmFsdWUgYmFzZWQgb24gdGhlXG4gKiBwb3NpdGlvbiBvZiB0aGUgc2Nyb2xsYmFyIChgdG9wYCwgYGJvdHRvbWAsIGBiZXR3ZWVuYCBhbmQgYG51bGxgIGlmIG5vIHNjcm9sbGJhciBpcyBhdmFpbGFibGUpXG4gKi9cbmNvbnN0IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24gPSAoc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkID0gU0NST0xMX1RIUkVTSE9MRCkgPT4ge1xuICAgIGNvbnN0IFtzY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzY3JvbGxFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjcm9sbEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBoYXNWZXJ0aWNhbFNjcm9sbGJhciA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIWhhc1ZlcnRpY2FsU2Nyb2xsYmFyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3RvcCcpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZUJvdHRvbSA9IE1hdGguYWJzKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZWxlbWVudC5zY3JvbGxUb3AgLSBlbGVtZW50LmNsaWVudEhlaWdodCkgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVCb3R0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdib3R0b20nKTtcbiAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKCdiZXR3ZWVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkXSk7XG4gICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uO1xufTtcbmNvbnN0IHVzZUhvcml6b250YWxTY3JvbGxQb3NpdGlvbiA9IChzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGQgPSBTQ1JPTExfVEhSRVNIT0xEKSA9PiB7XG4gICAgY29uc3QgW3Njcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNjcm9sbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0hvcml6b250YWxTY3JvbGxiYXIgPSBlbGVtZW50LnNjcm9sbFdpZHRoID4gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIGlmICghaGFzSG9yaXpvbnRhbFNjcm9sbGJhcilcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlU3RhcnQgPSBlbGVtZW50LnNjcm9sbExlZnQgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVTdGFydClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3N0YXJ0Jyk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlRW5kID0gTWF0aC5hYnMoZWxlbWVudC5zY3JvbGxXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsTGVmdCAtIGVsZW1lbnQuY2xpZW50V2lkdGgpIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlRW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignZW5kJyk7XG4gICAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbignYmV0d2VlbicpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3Njcm9sbEVsZW1lbnQsIHRocmVzaG9sZF0pO1xuICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbjtcbn07XG5cbmNvbnN0IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyA9IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MoKTtcbiAgICBjb25zdCBbaXNBd2FpdGluZ1Jlc3BvbnNlLCBzZXRJc0F3YWl0aW5nUmVzcG9uc2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIC8vIFRPRE86IGFkZCBwZXJtaXNzaW9uc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIHdlIHdhaXQgdW50aWwgY2FsbC5yZWNvcmRpbmdfc3RhcnRlZC9zdG9wcGVkIGV2ZW50IHRvIGZsaXBzIHRoZVxuICAgICAgICAvLyBgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc2Agc3RhdGUgdmFyaWFibGUuXG4gICAgICAgIC8vIE9uY2UgdGhlIGZsaXAgaGFwcGVucywgd2UgcmVtb3ZlIHRoZSBsb2FkaW5nIGluZGljYXRvclxuICAgICAgICBzZXRJc0F3YWl0aW5nUmVzcG9uc2UoKGlzQXdhaXRpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0F3YWl0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBpc0F3YWl0aW5nO1xuICAgICAgICB9KTtcbiAgICB9LCBbaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIGNvbnN0IHRvZ2dsZUNhbGxSZWNvcmRpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc0F3YWl0aW5nUmVzcG9uc2UodHJ1ZSk7XG4gICAgICAgICAgICBpZiAoaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCBzdGFydCByZWNvcmRpbmdgLCBlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjYWxsLCBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXSk7XG4gICAgcmV0dXJuIHsgdG9nZ2xlQ2FsbFJlY29yZGluZywgaXNBd2FpdGluZ1Jlc3BvbnNlLCBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzIH07XG59O1xuXG5jb25zdCB1c2VSZXF1ZXN0UGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB1c2VIYXNQZXJtaXNzaW9ucyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBbaXNBd2FpdGluZ1Blcm1pc3Npb24sIHNldElzQXdhaXRpbmdQZXJtaXNzaW9uXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gVE9ETzogbG9hZCB3aXRoIHBvc3NpYmx5IHBlbmRpbmcgc3RhdGVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNldCA9ICgpID0+IHNldElzQXdhaXRpbmdQZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24pXG4gICAgICAgICAgICByZXNldCgpO1xuICAgIH0sIFtoYXNQZXJtaXNzaW9uXSk7XG4gICAgY29uc3QgcmVxdWVzdFBlcm1pc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IGNhblJlcXVlc3RQZXJtaXNzaW9uID0gISFjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uKTtcbiAgICAgICAgaWYgKGlzQXdhaXRpbmdQZXJtaXNzaW9uIHx8ICFjYW5SZXF1ZXN0UGVybWlzc2lvbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24odHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXF1ZXN0UGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldElzQXdhaXRpbmdQZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVxdWVzdFBlcm1pc3Npb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LCBbY2FsbCwgaGFzUGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24sIHBlcm1pc3Npb25dKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0UGVybWlzc2lvbixcbiAgICAgICAgaGFzUGVybWlzc2lvbixcbiAgICAgICAgY2FuUmVxdWVzdFBlcm1pc3Npb246ICEhY2FsbD8ucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbiksXG4gICAgICAgIGlzQXdhaXRpbmdQZXJtaXNzaW9uLFxuICAgIH07XG59O1xuXG52YXIgTWVudVZpc3VhbFR5cGU7XG4oZnVuY3Rpb24gKE1lbnVWaXN1YWxUeXBlKSB7XG4gICAgTWVudVZpc3VhbFR5cGVbXCJQT1JUQUxcIl0gPSBcInBvcnRhbFwiO1xuICAgIE1lbnVWaXN1YWxUeXBlW1wiTUVOVVwiXSA9IFwibWVudVwiO1xufSkoTWVudVZpc3VhbFR5cGUgfHwgKE1lbnVWaXN1YWxUeXBlID0ge30pKTtcbi8qKlxuICogVXNlZCB0byBwcm92aWRlIHV0aWxpdHkgQVBJcyB0byB0aGUgY29tcG9uZW50cyByZW5kZXJlZCBpbnNpZGUgdGhlIHBvcnRhbC5cbiAqL1xuY29uc3QgTWVudUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcbi8qKlxuICogQWNjZXNzIHRvIHRoZSBjbG9zZXMgTWVudUNvbnRleHQuXG4gKi9cbmNvbnN0IHVzZU1lbnVDb250ZXh0ID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VDb250ZXh0KE1lbnVDb250ZXh0KTtcbn07XG5jb25zdCBNZW51UG9ydGFsID0gKHsgY2hpbGRyZW4sIHJlZnMsIH0pID0+IHtcbiAgICBjb25zdCBwb3J0YWxJZCA9IHVzZU1lbW8oKCkgPT4gYHN0ci12aWRlby1wb3J0YWwtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YCwgW10pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGlkOiBwb3J0YWxJZCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcG9ydGFsXCIgfSksIGpzeChGbG9hdGluZ092ZXJsYXksIHsgY2hpbGRyZW46IGpzeChGbG9hdGluZ1BvcnRhbCwgeyBpZDogcG9ydGFsSWQsIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wb3J0YWwtY29udGVudFwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IE1lbnVUb2dnbGUgPSAoeyBUb2dnbGVCdXR0b24sIHBsYWNlbWVudCA9ICd0b3Atc3RhcnQnLCBzdHJhdGVneSA9ICdhYnNvbHV0ZScsIG9mZnNldCwgdmlzdWFsVHlwZSA9IE1lbnVWaXN1YWxUeXBlLk1FTlUsIGNoaWxkcmVuLCBvblRvZ2dsZSwgfSkgPT4ge1xuICAgIGNvbnN0IFttZW51U2hvd24sIHNldE1lbnVTaG93bl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgdG9nZ2xlSGFuZGxlciA9IHVzZVJlZihvblRvZ2dsZSk7XG4gICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50ID0gb25Ub2dnbGU7XG4gICAgY29uc3QgeyBmbG9hdGluZywgZG9tUmVmZXJlbmNlLCByZWZzLCB4LCB5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgb2Zmc2V0LFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZsb2F0aW5nICYmIGRvbVJlZmVyZW5jZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bih0cnVlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/Lih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsb2F0aW5nICYmICFmbG9hdGluZz8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ICYmIC8vIGtleSBjYW4gYmUgdW5kZWZpbmVkIGluIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScgJiZcbiAgICAgICAgICAgICAgICAhZXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICAgICAgICAgIWV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICB9O1xuICAgIH0sIFtmbG9hdGluZywgZG9tUmVmZXJlbmNlXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVudVNob3duICYmIChqc3goTWVudUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgY2xvc2U6ICgpID0+IHNldE1lbnVTaG93bihmYWxzZSkgfSwgY2hpbGRyZW46IHZpc3VhbFR5cGUgPT09IE1lbnVWaXN1YWxUeXBlLlBPUlRBTCA/IChqc3goTWVudVBvcnRhbCwgeyByZWZzOiByZWZzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpIDogdmlzdWFsVHlwZSA9PT0gTWVudVZpc3VhbFR5cGUuTUVOVSA/IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19tZW51LWNvbnRhaW5lclwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICB9LCByb2xlOiBcIm1lbnVcIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSA6IG51bGwgfSkpLCBqc3goVG9nZ2xlQnV0dG9uLCB7IG1lbnVTaG93bjogbWVudVNob3duLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlIH0pXSB9KSk7XG59O1xuXG5jb25zdCBHZW5lcmljTWVudSA9ICh7IGNoaWxkcmVuLCBvbkl0ZW1DbGljaywgfSkgPT4ge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICByZXR1cm4gKGpzeChcInVsXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZ2VuZXJpYy1tZW51XCIsIHJlZjogcmVmLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG9uSXRlbUNsaWNrICYmXG4gICAgICAgICAgICAgICAgZS50YXJnZXQgIT09IHJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQ/LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG9uSXRlbUNsaWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmNvbnN0IEdlbmVyaWNNZW51QnV0dG9uSXRlbSA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImxpXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZ2VuZXJpYy1tZW51LS1pdGVtXCIsIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgeyAuLi5yZXN0LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcblxuY29uc3QgSWNvbiA9ICh7IGNsYXNzTmFtZSwgaWNvbiB9KSA9PiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19pY29uJywgaWNvbiAmJiBgc3RyLXZpZGVvX19pY29uLS0ke2ljb259YCwgY2xhc3NOYW1lKSB9KSk7XG5cbmNvbnN0IEljb25CdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgaWNvbiwgZW5hYmxlZCwgdmFyaWFudCwgb25DbGljaywgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgIFtgc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLXZhcmlhbnQtJHt2YXJpYW50fWBdOiB2YXJpYW50LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1jb250cm9sc19fYnV0dG9uLS1lbmFibGVkJzogZW5hYmxlZCxcbiAgICAgICAgfSksIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBvbkNsaWNrPy4oZSk7XG4gICAgICAgIH0sIHJlZjogcmVmLCAuLi5yZXN0LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogaWNvbiB9KSB9KSk7XG59KTtcblxuY29uc3QgaXNDb21wb25lbnRUeXBlID0gKGVsZW1lbnRPckNvbXBvbmVudCkgPT4ge1xuICAgIHJldHVybiBlbGVtZW50T3JDb21wb25lbnQgPT09IG51bGxcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6ICFpc1ZhbGlkRWxlbWVudChlbGVtZW50T3JDb21wb25lbnQpO1xufTtcblxuY29uc3QgY2h1bmsgPSAoYXJyYXksIHNpemUpID0+IHtcbiAgICBjb25zdCBjaHVua0NvdW50ID0gTWF0aC5jZWlsKGFycmF5Lmxlbmd0aCAvIHNpemUpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjaHVua0NvdW50IH0sIChfLCBpbmRleCkgPT4gYXJyYXkuc2xpY2Uoc2l6ZSAqIGluZGV4LCBzaXplICogaW5kZXggKyBzaXplKSk7XG59O1xuXG5jb25zdCBhcHBseUVsZW1lbnRUb1JlZiA9IChyZWYsIGVsZW1lbnQpID0+IHtcbiAgICBpZiAoIXJlZilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gcmVmKGVsZW1lbnQpO1xuICAgIHJlZi5jdXJyZW50ID0gZWxlbWVudDtcbn07XG5cbmNvbnN0IENvbXBvc2l0ZUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gQ29tcG9zaXRlQnV0dG9uKHsgY2FwdGlvbiwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgYWN0aXZlLCBNZW51LCBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0LCB0aXRsZSwgVG9nZ2xlTWVudUJ1dHRvbiA9IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uLCB2YXJpYW50LCBvbkNsaWNrLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RCdXR0b25Qcm9wcyB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbi0tY2FwdGlvbic6IGNhcHRpb24sXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1tZW51JzogTWVudSxcbiAgICAgICAgfSksIHRpdGxlOiB0aXRsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1wcmltYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUtc2Vjb25kYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgIH0pLCBjaGlsZHJlbjogW2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvblwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPy4oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAuLi5yZXN0QnV0dG9uUHJvcHMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSwgTWVudSAmJiAoanN4KE1lbnVUb2dnbGUsIHsgb2Zmc2V0OiBtZW51T2Zmc2V0LCBwbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgb25Ub2dnbGU6IG9uTWVudVRvZ2dsZSwgY2hpbGRyZW46IGlzQ29tcG9uZW50VHlwZShNZW51KSA/IGpzeChNZW51LCB7fSkgOiBNZW51IH0pKV0gfSksIGNhcHRpb24gJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2NhcHRpb25cIiwgY2hpbGRyZW46IGNhcHRpb24gfSkpXSB9KSk7XG59KTtcbmNvbnN0IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24tLWFjdGl2ZSc6IG1lbnVTaG93bixcbiAgICAgICAgfSksIGljb246IG1lbnVTaG93biA/ICdjYXJldC1kb3duJyA6ICdjYXJldC11cCcsIHJlZjogcmVmIH0pKTtcbn0pO1xuXG5jb25zdCBUZXh0QnV0dG9uID0gKHsgY2hpbGRyZW4sIC4uLnJlc3QgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdGV4dC1idXR0b25cIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IEFjY2VwdENhbGxCdXR0b24gPSAoeyBkaXNhYmxlZCwgb25BY2NlcHQsIG9uQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5qb2luKCk7XG4gICAgICAgICAgICBvbkFjY2VwdD8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25BY2NlcHQsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWFjY2VwdFwiLCB2YXJpYW50OiBcInN1Y2Nlc3NcIiwgXCJkYXRhLXRlc3RpZFwiOiBcImFjY2VwdC1jYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVDbGljayB9KSk7XG59O1xuXG5jb25zdCBOb3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzVmlzaWJsZSwgbWVzc2FnZSwgY2hpbGRyZW4sIHZpc2liaWxpdHlUaW1lb3V0LCByZXNldElzVmlzaWJsZSwgcGxhY2VtZW50ID0gJ3RvcCcsIGljb25DbGFzc05hbWUgPSAnc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2ljb24nLCBjbG9zZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3kgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNWaXNpYmxlIHx8ICF2aXNpYmlsaXR5VGltZW91dCB8fCAhcmVzZXRJc1Zpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0SXNWaXNpYmxlKCk7XG4gICAgICAgIH0sIHZpc2liaWxpdHlUaW1lb3V0KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9LCBbaXNWaXNpYmxlLCByZXNldElzVmlzaWJsZSwgdmlzaWJpbGl0eVRpbWVvdXRdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCBjaGlsZHJlbjogW2lzVmlzaWJsZSAmJiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vdGlmaWNhdGlvblwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtpY29uQ2xhc3NOYW1lICYmIGpzeChcImlcIiwgeyBjbGFzc05hbWU6IGljb25DbGFzc05hbWUgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IG1lc3NhZ2UgfSksIGNsb3NlID8gKGpzeChcImlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tY2xvc2Ugc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2Nsb3NlXCIsIG9uQ2xpY2s6IGNsb3NlIH0pKSA6IG51bGxdIH0pKSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IFBlcm1pc3Npb25Ob3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb24sIGlzQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZUFwcHJvdmVkLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZVJldm9rZWQsIHZpc2liaWxpdHlUaW1lb3V0ID0gMzUwMCwgY2hpbGRyZW4sIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB1c2VIYXNQZXJtaXNzaW9ucyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBwcmV2SGFzUGVybWlzc2lvbiA9IHVzZVJlZihoYXNQZXJtaXNzaW9uKTtcbiAgICBjb25zdCBbc2hvd05vdGlmaWNhdGlvbiwgc2V0U2hvd05vdGlmaWNhdGlvbl0gPSB1c2VTdGF0ZSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uICYmICFwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdncmFudGVkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaGFzUGVybWlzc2lvbiAmJiBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdyZXZva2VkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbaGFzUGVybWlzc2lvbl0pO1xuICAgIGNvbnN0IHJlc2V0SXNWaXNpYmxlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2hvd05vdGlmaWNhdGlvbih1bmRlZmluZWQpLCBbXSk7XG4gICAgaWYgKGlzQXdhaXRpbmdBcHByb3ZhbCkge1xuICAgICAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiBpc0F3YWl0aW5nQXBwcm92YWwgJiYgIWhhc1Blcm1pc3Npb24sIG1lc3NhZ2U6IG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiAhIXNob3dOb3RpZmljYXRpb24sIHZpc2liaWxpdHlUaW1lb3V0OiB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGU6IHJlc2V0SXNWaXNpYmxlLCBtZXNzYWdlOiBzaG93Tm90aWZpY2F0aW9uID09PSAnZ3JhbnRlZCcgPyBtZXNzYWdlQXBwcm92ZWQgOiBtZXNzYWdlUmV2b2tlZCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCBwbGFjZW1lbnQsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmdXaGlsZU11dGVkIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBtZXNzYWdlID0gdGV4dCA/PyB0KCdZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuJyk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGlzVmlzaWJsZTogaXNTcGVha2luZ1doaWxlTXV0ZWQsIHBsYWNlbWVudDogcGxhY2VtZW50IHx8ICd0b3Atc3RhcnQnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgW2lzVmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnUmVjb3JkaW5nIGluIHByb2dyZXNzLi4uJyk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXSk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGljb25DbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tcmVjb3JkaW5nLW9uXCIsIGlzVmlzaWJsZTogaXNWaXNpYmxlLCBwbGFjZW1lbnQ6IFwidG9wLXN0YXJ0XCIsIGNsb3NlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSAoeyBjbGFzc05hbWUsIHR5cGUgPSAnc3Bpbm5lcicsIHRleHQsIHRvb2x0aXAsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3InLCBjbGFzc05hbWUpLCB0aXRsZTogdG9vbHRpcCwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3JfX2ljb24nLCB0eXBlKSB9KSwgdGV4dCAmJiBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3ItdGV4dFwiLCBjaGlsZHJlbjogdGV4dCB9KV0gfSkpO1xufTtcblxuY29uc3QgVG9vbHRpcCA9ICh7IGNoaWxkcmVuLCByZWZlcmVuY2VFbGVtZW50LCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50ID0gJ3RvcCcsIHZpc2libGUgPSBmYWxzZSwgfSkgPT4ge1xuICAgIGNvbnN0IGFycm93UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3ksIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQ6IHRvb2x0aXBQbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgICAgICBtaWRkbGV3YXJlOiBbYXJyb3coeyBlbGVtZW50OiBhcnJvd1JlZiB9KV0sXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVmcy5zZXRSZWZlcmVuY2UocmVmZXJlbmNlRWxlbWVudCk7XG4gICAgfSwgW3JlZmVyZW5jZUVsZW1lbnQsIHJlZnNdKTtcbiAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX190b29sdGlwJywgdG9vbHRpcENsYXNzTmFtZSksIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgbGVmdDogeCA/PyAwLFxuICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChGbG9hdGluZ0Fycm93LCB7IHJlZjogYXJyb3dSZWYsIGNvbnRleHQ6IGNvbnRleHQsIGZpbGw6IFwidmFyKC0tc3RyLXZpZGVvX190b29sdGlwLS1iYWNrZ3JvdW5kLWNvbG9yKVwiIH0pLCBjaGlsZHJlbl0gfSkpO1xufTtcblxuY29uc3QgdXNlRW50ZXJMZWF2ZUhhbmRsZXJzID0gKHsgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IFt0b29sdGlwVmlzaWJsZSwgc2V0VG9vbHRpcFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgb25Nb3VzZUVudGVyPy4oZSk7XG4gICAgfSwgW29uTW91c2VFbnRlcl0pO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIG9uTW91c2VMZWF2ZT8uKGUpO1xuICAgIH0sIFtvbk1vdXNlTGVhdmVdKTtcbiAgICByZXR1cm4geyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9O1xufTtcblxuLy8gdG9kbzogZHVwbGljYXRlIG9mIENhbGxQYXJ0aWNpcGFudExpc3QudHN4I01lZGlhSW5kaWNhdG9yIC0gcmVmYWN0b3IgdG8gYSBzaW5nbGUgY29tcG9uZW50XG5jb25zdCBXaXRoVG9vbHRpcCA9ICh7IHRpdGxlLCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50LCB0b29sdGlwRGlzYWJsZWQsIC4uLnByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZU1vdXNlRW50ZXIsIGhhbmRsZU1vdXNlTGVhdmUsIHRvb2x0aXBWaXNpYmxlIH0gPSB1c2VFbnRlckxlYXZlSGFuZGxlcnMoKTtcbiAgICBjb25zdCBbdG9vbHRpcEFuY2hvciwgc2V0VG9vbHRpcEFuY2hvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB0b29sdGlwQWN0dWFsbHlWaXNpYmxlID0gIXRvb2x0aXBEaXNhYmxlZCAmJiBCb29sZWFuKHRpdGxlKSAmJiB0b29sdGlwVmlzaWJsZTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goVG9vbHRpcCwgeyByZWZlcmVuY2VFbGVtZW50OiB0b29sdGlwQW5jaG9yLCB2aXNpYmxlOiB0b29sdGlwQWN0dWFsbHlWaXNpYmxlLCB0b29sdGlwQ2xhc3NOYW1lOiB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LCBjaGlsZHJlbjogdGl0bGUgfHwgJycgfSksIGpzeChcImRpdlwiLCB7IHJlZjogc2V0VG9vbHRpcEFuY2hvciwgb25Nb3VzZUVudGVyOiBoYW5kbGVNb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsIC4uLnByb3BzIH0pXSB9KSk7XG59O1xuXG5jb25zdCBSZWNvcmRFbmRDb25maXJtYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vblwiIH0pLCBqc3goXCJoMlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2hlYWRpbmdcIiwgY2hpbGRyZW46IHQoJ0VuZCByZWNvcmRpbmcnKSB9KV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IGVuZCB0aGUgcmVjb3JkaW5nPycpIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fYWN0aW9uc1wiLCBjaGlsZHJlbjogW2pzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgb25DbGljazogY2xvc2UsIGNoaWxkcmVuOiB0KCdDYW5jZWwnKSB9KSwganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyB2YXJpYW50OiBcInByaW1hcnlcIiwgb25DbGljazogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkgOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IHRydWUsIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogXCJyZWNvcmRpbmctc3RvcC1idXR0b25cIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwicmVjb3JkaW5nLW9mZlwiIH0pIH0pKTtcbn0pO1xuY29uc3QgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiA9ICh7IGNhcHRpb24sIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIF0sIGNoaWxkcmVuOiBqc3goTWVudVRvZ2dsZSwgeyBUb2dnbGVCdXR0b246IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24sIHZpc3VhbFR5cGU6IE1lbnVWaXN1YWxUeXBlLlBPUlRBTCwgY2hpbGRyZW46IGpzeChSZWNvcmRFbmRDb25maXJtYXRpb24sIHt9KSB9KSB9KSk7XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID0gaXNBd2FpdGluZ1Jlc3BvbnNlXG4gICAgICAgID8gdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uJylcbiAgICAgICAgOiBjYXB0aW9uID8/IHQoJ1JlY29yZCBjYWxsJyk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgXSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdGl0bGUsIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcywgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInJlY29yZGluZy1zdGFydC1idXR0b25cIiwgb25DbGljazogaXNBd2FpdGluZ1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IChqc3goTG9hZGluZ0luZGljYXRvciwge30pKSA6IChqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSkgfSkgfSkgfSkpO1xufTtcbmNvbnN0IFJlY29yZENhbGxCdXR0b24gPSAoeyBjYXB0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGxldCB0aXRsZSA9IGNhcHRpb24gPz8gdCgnUmVjb3JkIGNhbGwnKTtcbiAgICBpZiAoaXNBd2FpdGluZ1Jlc3BvbnNlKSB7XG4gICAgICAgIHRpdGxlID0gaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgPyB0KCdXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLicpXG4gICAgICAgICAgICA6IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVE9QX1JFQ09SRF9DQUxMLFxuICAgICAgICBdLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgID8gJ3JlY29yZGluZy1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdyZWNvcmRpbmctc3RhcnQtYnV0dG9uJywgdGl0bGU6IHRpdGxlLCBvbkNsaWNrOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyB1bmRlZmluZWQgOiB0b2dnbGVDYWxsUmVjb3JkaW5nLCBjaGlsZHJlbjogaXNBd2FpdGluZ1Jlc3BvbnNlID8gKGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkpIDogKGpzeChJY29uLCB7IGljb246IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPyAncmVjb3JkaW5nLW9uJyA6ICdyZWNvcmRpbmctb2ZmJyB9KSkgfSkgfSkpO1xufTtcblxuY29uc3QgZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAgPSB7XG4gICAgJzpsaWtlOic6ICfwn5GNJyxcbiAgICAnOnJhaXNlLWhhbmQ6JzogJ+KciycsXG4gICAgJzpmaXJld29ya3M6JzogJ/CfjoknLFxuICAgICc6ZGlzbGlrZTonOiAn8J+RjicsXG4gICAgJzpoZWFydDonOiAn4p2k77iPJyxcbiAgICAnOnNtaWxlOic6ICfwn5iAJyxcbn07XG5jb25zdCBSZWFjdGlvbiA9ICh7IHBhcnRpY2lwYW50OiB7IHJlYWN0aW9uLCBzZXNzaW9uSWQgfSwgaGlkZUFmdGVyVGltZW91dEluTXMgPSA1NTAwLCBlbW9qaVJlYWN0aW9uTWFwID0gZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhcmVhY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbC5yZXNldFJlYWN0aW9uKHNlc3Npb25JZCk7XG4gICAgICAgIH0sIGhpZGVBZnRlclRpbWVvdXRJbk1zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBoaWRlQWZ0ZXJUaW1lb3V0SW5NcywgcmVhY3Rpb24sIHNlc3Npb25JZF0pO1xuICAgIGlmICghcmVhY3Rpb24pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHsgZW1vamlfY29kZTogZW1vamlDb2RlIH0gPSByZWFjdGlvbjtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9uXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25fX2Vtb2ppXCIsIGNoaWxkcmVuOiBlbW9qaUNvZGUgJiYgZW1vamlSZWFjdGlvbk1hcFtlbW9qaUNvZGVdIH0pIH0pKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRSZWFjdGlvbnMgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmxpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBPTDogdXNlIGBwcm9tcHRgIHR5cGU/XG4gICAgICAgIHR5cGU6ICdyYWlzZWQtaGFuZCcsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6cmFpc2UtaGFuZDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmZpcmV3b3JrczonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmRpc2xpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpoZWFydDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOnNtaWxlOicsXG4gICAgfSxcbl07XG5jb25zdCBSZWFjdGlvbnNCdXR0b24gPSAoeyByZWFjdGlvbnMgPSBkZWZhdWx0UmVhY3Rpb25zLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQ1JFQVRFX1JFQUNUSU9OXSwgY2hpbGRyZW46IGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3BcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5NRU5VLCBjaGlsZHJlbjoganN4KERlZmF1bHRSZWFjdGlvbnNNZW51LCB7IHJlYWN0aW9uczogcmVhY3Rpb25zIH0pIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdSZWFjdGlvbnMnKSwgdG9vbHRpcERpc2FibGVkOiBtZW51U2hvd24sIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgdmFyaWFudDogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlYWN0aW9uc1wiIH0pIH0pIH0pKTtcbn0pO1xuY29uc3QgRGVmYXVsdFJlYWN0aW9uc01lbnUgPSAoeyByZWFjdGlvbnMsIGxheW91dCA9ICdob3Jpem9udGFsJywgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudScsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51LS1ob3Jpem9udGFsJzogbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudS0tdmVydGljYWwnOiBsYXlvdXQgPT09ICd2ZXJ0aWNhbCcsXG4gICAgICAgIH0pLCBjaGlsZHJlbjogcmVhY3Rpb25zLm1hcCgocmVhY3Rpb24pID0+IChqc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudV9fYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsPy5zZW5kUmVhY3Rpb24ocmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNsb3NlPy4oKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiByZWFjdGlvbi5lbW9qaV9jb2RlICYmIGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwW3JlYWN0aW9uLmVtb2ppX2NvZGVdIH0sIHJlYWN0aW9uLmVtb2ppX2NvZGUpKSkgfSkpO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhbiBldmVudCBoYW5kbGVyLCBzaWxlbmNpbmcgYW5kIGxvZ2dpbmcgZXhjZXB0aW9ucyAoZXhjbHVkaW5nIHRoZSBOb3RBbGxvd2VkRXJyb3JcbiAqIERPTUV4Y2VwdGlvbiwgd2hpY2ggaXMgYSBub3JtYWwgc2l0dWF0aW9uIGhhbmRsZWQgYnkgdGhlIFNESylcbiAqXG4gKiBAcGFyYW0gcHJvcHMgY29tcG9uZW50IHByb3BzLCBpbmNsdWRpbmcgdGhlIG9uRXJyb3IgY2FsbGJhY2tcbiAqIEBwYXJhbSBoYW5kbGVyIGV2ZW50IGhhbmRsZXIgdG8gd3JhcFxuICovXG5jb25zdCBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIgPSAocHJvcHMsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydyZWFjdC1zZGsnXSk7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc05vdEFsbG93ZWRFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0NhbGwgY29udHJvbCBoYW5kbGVyIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuZnVuY3Rpb24gaXNOb3RBbGxvd2VkRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcic7XG59XG5cbmNvbnN0IFNjcmVlblNoYXJlQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSwgdXNlU2NyZWVuU2hhcmVTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIHJlcXVlc3RQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiB9ID0gdXNlUmVxdWVzdFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSk7XG4gICAgY29uc3QgY2FsbFNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3QgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9IGNhbGxTZXR0aW5ncz8uc2NyZWVuc2hhcmluZy5lbmFibGVkO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUsIG9wdGltaXN0aWNJc011dGUgfSA9IHVzZVNjcmVlblNoYXJlU3RhdGUoKTtcbiAgICBjb25zdCBhbUlTY3JlZW5TaGFyaW5nID0gIW9wdGltaXN0aWNJc011dGU7XG4gICAgY29uc3QgZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uID0gIWFtSVNjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgKGlzU29tZW9uZVNjcmVlblNoYXJpbmcgfHwgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9PT0gZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNjcmVlblNoYXJlLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSwgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWw6IHQoJ0F3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSBzY3JlZW4uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogY2FwdGlvbiA/PyB0KCdTaGFyZSBzY3JlZW4nKSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nIHx8IGFtSVNjcmVlblNoYXJpbmcsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IGlzU29tZW9uZVNjcmVlblNoYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3NjcmVlbi1zaGFyZS1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3NjcmVlbi1zaGFyZS1zdGFydC1idXR0b24nLCBkaXNhYmxlZDogZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPyAnc2NyZWVuLXNoYXJlLW9uJyA6ICdzY3JlZW4tc2hhcmUtb2ZmJyB9KSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBTZWxlY3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5jb25zdCBTZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpY29uLCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIGhhbmRsZVNlbGVjdDogaGFuZGxlU2VsZWN0UHJvcCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2FjdGl2ZUluZGV4LCBzZXRBY3RpdmVJbmRleF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZShkZWZhdWx0U2VsZWN0ZWRJbmRleCk7XG4gICAgY29uc3QgW3NlbGVjdGVkTGFiZWwsIHNldFNlbGVjdGVkTGFiZWxdID0gdXNlU3RhdGUoZGVmYXVsdFNlbGVjdGVkTGFiZWwpO1xuICAgIGNvbnN0IHsgcmVmcywgY29udGV4dCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20tc3RhcnQnLFxuICAgICAgICBvcGVuOiBpc09wZW4sXG4gICAgICAgIG9uT3BlbkNoYW5nZTogc2V0SXNPcGVuLFxuICAgICAgICB3aGlsZUVsZW1lbnRzTW91bnRlZDogYXV0b1VwZGF0ZSxcbiAgICAgICAgbWlkZGxld2FyZTogW2ZsaXAoKV0sXG4gICAgfSk7XG4gICAgY29uc3QgZWxlbWVudHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhYmVsc1JlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xuICAgICAgICBoYW5kbGVTZWxlY3RQcm9wKGluZGV4IHx8IDApO1xuICAgICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTGFiZWwobGFiZWxzUmVmLmN1cnJlbnRbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVTZWxlY3RQcm9wXSk7XG4gICAgY29uc3QgaGFuZGxlVHlwZWFoZWFkTWF0Y2ggPSAoaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbGlzdE5hdiA9IHVzZUxpc3ROYXZpZ2F0aW9uKGNvbnRleHQsIHtcbiAgICAgICAgbGlzdFJlZjogZWxlbWVudHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk5hdmlnYXRlOiBzZXRBY3RpdmVJbmRleCxcbiAgICB9KTtcbiAgICBjb25zdCB0eXBlYWhlYWQgPSB1c2VUeXBlYWhlYWQoY29udGV4dCwge1xuICAgICAgICBsaXN0UmVmOiBsYWJlbHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk1hdGNoOiBoYW5kbGVUeXBlYWhlYWRNYXRjaCxcbiAgICB9KTtcbiAgICBjb25zdCBjbGljayA9IHVzZUNsaWNrKGNvbnRleHQpO1xuICAgIGNvbnN0IGRpc21pc3MgPSB1c2VEaXNtaXNzKGNvbnRleHQpO1xuICAgIGNvbnN0IHJvbGUgPSB1c2VSb2xlKGNvbnRleHQsIHsgcm9sZTogJ2xpc3Rib3gnIH0pO1xuICAgIGNvbnN0IHsgZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMsIGdldEl0ZW1Qcm9wcyB9ID0gdXNlSW50ZXJhY3Rpb25zKFtsaXN0TmF2LCB0eXBlYWhlYWQsIGNsaWNrLCBkaXNtaXNzLCByb2xlXSk7XG4gICAgY29uc3Qgc2VsZWN0Q29udGV4dCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGdldEl0ZW1Qcm9wcyxcbiAgICAgICAgaGFuZGxlU2VsZWN0LFxuICAgIH0pLCBbYWN0aXZlSW5kZXgsIHNlbGVjdGVkSW5kZXgsIGdldEl0ZW1Qcm9wcywgaGFuZGxlU2VsZWN0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgdGFiSW5kZXg6IDAsIC4uLmdldFJlZmVyZW5jZVByb3BzKCksIGNoaWxkcmVuOiBbanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2xhYmVsXCIsIGNoaWxkcmVuOiBbaWNvbiAmJiAoanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2ljb25cIiwgaWNvbjogaWNvbiB9KSksIHNlbGVjdGVkTGFiZWxdIH0pLCBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZF9fY2hldnJvblwiLCBpY29uOiBpc09wZW4gPyAnY2hldnJvbi11cCcgOiAnY2hldnJvbi1kb3duJyB9KV0gfSksIGpzeChTZWxlY3RDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzZWxlY3RDb250ZXh0LCBjaGlsZHJlbjogaXNPcGVuICYmIChqc3goRmxvYXRpbmdGb2N1c01hbmFnZXIsIHsgY29udGV4dDogY29udGV4dCwgbW9kYWw6IGZhbHNlLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tbGlzdFwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIC4uLmdldEZsb2F0aW5nUHJvcHMoKSwgY2hpbGRyZW46IGpzeChGbG9hdGluZ0xpc3QsIHsgZWxlbWVudHNSZWY6IGVsZW1lbnRzUmVmLCBsYWJlbHNSZWY6IGxhYmVsc1JlZiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pKSB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0T3B0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZCwgbGFiZWwsIGljb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgZ2V0SXRlbVByb3BzLCBoYW5kbGVTZWxlY3QgfSA9IHVzZUNvbnRleHQoU2VsZWN0Q29udGV4dCk7XG4gICAgY29uc3QgeyByZWYsIGluZGV4IH0gPSB1c2VMaXN0SXRlbSgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgIH0pLCByZWY6IHJlZiwgLi4uZ2V0SXRlbVByb3BzKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZVNlbGVjdChpbmRleCksXG4gICAgICAgIH0pLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWljb25cIiwgaWNvbjogaWNvbiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWxhYmVsXCIsIGNoaWxkcmVuOiBsYWJlbCB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgaWNvbiwgaGFuZGxlU2VsZWN0LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChTZWxlY3QsIHsgaWNvbjogaWNvbiwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGRlZmF1bHRTZWxlY3RlZEluZGV4OiBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgZGVmYXVsdFNlbGVjdGVkTGFiZWw6IGRlZmF1bHRTZWxlY3RlZExhYmVsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JPcHRpb24gPSAoeyBkaXNhYmxlZCwgaWQsIGxhYmVsLCBvbkNoYW5nZSwgbmFtZSwgc2VsZWN0ZWQsIGRlZmF1bHRDaGVja2VkLCB2YWx1ZSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbi0tZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgfSksIGh0bWxGb3I6IGlkLCBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJyYWRpb1wiLCBuYW1lOiBuYW1lLCBvbkNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiB2YWx1ZSwgaWQ6IGlkLCBjaGVja2VkOiBzZWxlY3RlZCwgZGVmYXVsdENoZWNrZWQ6IGRlZmF1bHRDaGVja2VkLCBkaXNhYmxlZDogZGlzYWJsZWQgfSksIGxhYmVsXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JMaXN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzLCB0aXRsZSwgdHlwZSwgb25DaGFuZ2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIC8vIHNvbWV0aW1lcyB0aGUgYnJvd3NlciAoQ2hyb21lKSB3aWxsIHJlcG9ydCB0aGUgc3lzdGVtLWRlZmF1bHQgZGV2aWNlXG4gICAgLy8gd2l0aCBhbiBpZCBvZiAnZGVmYXVsdCcuIEluIGNhc2Ugd2hlbiBpdCBkb2Vzbid0LCB3ZSdsbCBzZWxlY3QgdGhlIGZpcnN0XG4gICAgLy8gYXZhaWxhYmxlIGRldmljZS5cbiAgICBsZXQgc2VsZWN0ZWREZXZpY2VJZCA9IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzO1xuICAgIGlmIChkZXZpY2VzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgIWRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZCkpIHtcbiAgICAgICAgc2VsZWN0ZWREZXZpY2VJZCA9IGRldmljZXNbMF0uZGV2aWNlSWQ7XG4gICAgfVxuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFt0aXRsZSAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pKSwgIWRldmljZXMubGVuZ3RoID8gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLWRlZmF1bHRgLCBsYWJlbDogXCJEZWZhdWx0XCIsIG5hbWU6IHR5cGUsIGRlZmF1bHRDaGVja2VkOiB0cnVlLCB2YWx1ZTogXCJkZWZhdWx0XCIgfSkpIDogKGRldmljZXMubWFwKChkZXZpY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLSR7ZGV2aWNlLmRldmljZUlkfWAsIHZhbHVlOiBkZXZpY2UuZGV2aWNlSWQsIGxhYmVsOiBkZXZpY2UubGFiZWwsIG9uQ2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/LihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG5hbWU6IHR5cGUsIHNlbGVjdGVkOiBkZXZpY2UuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQgfHwgZGV2aWNlcy5sZW5ndGggPT09IDEgfSwgZGV2aWNlLmRldmljZUlkKSk7XG4gICAgICAgICAgICB9KSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckRyb3Bkb3duID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzLCB0aXRsZSwgb25DaGFuZ2UsIGljb24sIH0gPSBwcm9wcztcbiAgICAvLyBzb21ldGltZXMgdGhlIGJyb3dzZXIgKENocm9tZSkgd2lsbCByZXBvcnQgdGhlIHN5c3RlbS1kZWZhdWx0IGRldmljZVxuICAgIC8vIHdpdGggYW4gaWQgb2YgJ2RlZmF1bHQnLiBJbiBjYXNlIHdoZW4gaXQgZG9lc24ndCwgd2UnbGwgc2VsZWN0IHRoZSBmaXJzdFxuICAgIC8vIGF2YWlsYWJsZSBkZXZpY2UuXG4gICAgbGV0IHNlbGVjdGVkRGV2aWNlSWQgPSBzZWxlY3RlZERldmljZUZyb21Qcm9wcztcbiAgICBpZiAoZGV2aWNlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICFkZXZpY2VzLmZpbmQoKGQpID0+IGQuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQpKSB7XG4gICAgICAgIHNlbGVjdGVkRGV2aWNlSWQgPSBkZXZpY2VzWzBdLmRldmljZUlkO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gZGV2aWNlcy5maW5kSW5kZXgoKGQpID0+IGQuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQpO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgICBvbkNoYW5nZT8uKGRldmljZXNbaW5kZXhdLmRldmljZUlkKTtcbiAgICB9LCBbZGV2aWNlcywgb25DaGFuZ2VdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1raW5kXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pLCBqc3goRHJvcERvd25TZWxlY3QsIHsgaWNvbjogaWNvbiwgZGVmYXVsdFNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIGRlZmF1bHRTZWxlY3RlZExhYmVsOiBkZXZpY2VzW3NlbGVjdGVkSW5kZXhdPy5sYWJlbCwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGNoaWxkcmVuOiBkZXZpY2VzLm1hcCgoZGV2aWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoanN4KERyb3BEb3duU2VsZWN0T3B0aW9uLCB7IGljb246IGljb24sIGxhYmVsOiBkZXZpY2UubGFiZWwsIHNlbGVjdGVkOiBkZXZpY2UuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQgfHwgZGV2aWNlcy5sZW5ndGggPT09IDEgfSwgZGV2aWNlLmRldmljZUlkKSk7XG4gICAgICAgICAgICAgICAgfSkgfSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdmlzdWFsVHlwZSA9ICdsaXN0JywgaWNvbiwgcGxhY2Vob2xkZXIsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIGlmICh2aXN1YWxUeXBlID09PSAnbGlzdCcpIHtcbiAgICAgICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3Rvckxpc3QsIHsgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3JEcm9wZG93biwgeyAuLi5yZXN0LCBpY29uOiBpY29uLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzIHx8IFtdLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgdHlwZTogXCJhdWRpb2lucHV0XCIsIG9uQ2hhbmdlOiBhc3luYyAoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG1pY3JvcGhvbmUuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcIm1pY1wiIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVNwZWFrZXJTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IHNwZWFrZXIsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzLCBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCB9ID0gdXNlU3BlYWtlclN0YXRlKCk7XG4gICAgaWYgKCFpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcywgdHlwZTogXCJhdWRpb291dHB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgc3BlYWtlci5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwic3BlYWtlclwiIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNlbGVjdG9yVmlkZW8gPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBjYW1lcmEsIGRldmljZXMsIHNlbGVjdGVkRGV2aWNlIH0gPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMgfHwgW10sIHR5cGU6IFwidmlkZW9pbnB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IGFzeW5jIChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY2FtZXJhLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJjYW1lcmFcIiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZXR0aW5ncyA9ICh7IHZpc3VhbFR5cGUgPSBNZW51VmlzdWFsVHlwZS5NRU5VLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbiwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgY2hpbGRyZW46IGpzeChNZW51LCB7fSkgfSkpO1xufTtcbmNvbnN0IE1lbnUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzXCIsIGNoaWxkcmVuOiBbanN4KERldmljZVNlbGVjdG9yVmlkZW8sIHsgdGl0bGU6IHQoJ1NlbGVjdCBhIENhbWVyYScpIH0pLCBqc3goRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCB7IHRpdGxlOiB0KCdTZWxlY3QgYSBNaWMnKSB9KSwganN4KERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIHsgdGl0bGU6IHQoJ1NlbGVjdCBTcGVha2VycycpIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2J1dHRvbi0tYWN0aXZlJzogbWVudVNob3duLFxuICAgICAgICB9KSwgdGl0bGU6IHQoJ1RvZ2dsZSBkZXZpY2UgbWVudScpLCBpY29uOiBcImRldmljZS1zZXR0aW5nc1wiLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVG9nZ2xlQXVkaW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gbWljcm9waG9uZS50b2dnbGUoKSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKVxuICAgICAgICAgICAgOiBjYXB0aW9uID8/IHQoJ01pYycpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgY2xhc3NOYW1lOiBjbHN4KCFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAnc3RyLXZpZGVvX19kZXZpY2UtdW5hdmFpbGFibGUnKSwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlXG4gICAgICAgICAgICAgICAgPyAncHJldmlldy1hdWRpby11bm11dGUtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3ByZXZpZXctYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiAhb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMnIDogJ21pYy1vZmYnIH0pLCAhaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKSwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdmlzdWFsVHlwZTogXCJsaXN0XCIgfSksIG1lbnVQbGFjZW1lbnQgPSAndG9wJywgb25NZW51VG9nZ2xlLCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgcmVxdWVzdFBlcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uIH0gPSB1c2VSZXF1ZXN0UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pO1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIocHJvcHMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNwZWFrLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc3BlYWsuJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIG1pYyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnTWljJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGUgPyAnYXVkaW8tdW5tdXRlLWJ1dHRvbicgOiAnYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgbWVudU9mZnNldDogMTYsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMtb2ZmJyA6ICdtaWMnIH0pLCAoIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uKSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JWaWRlbywgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gY2FtZXJhLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnVmlkZW8nKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIGNsYXNzTmFtZTogY2xzeCghaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgJ3N0ci12aWRlb19fZGV2aWNlLXVuYXZhaWxhYmxlJyksIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZVxuICAgICAgICAgICAgICAgID8gJ3ByZXZpZXctdmlkZW8tdW5tdXRlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdwcmV2aWV3LXZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24sIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogIW9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhJyA6ICdjYW1lcmEtb2ZmJyB9KSwgIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCB0aXRsZTogdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJyksIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnZpZGVvLmVuYWJsZWQ7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEudG9nZ2xlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0VORF9WSURFTywgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLicpLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICA/IHQoJ1lvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlbycpXG4gICAgICAgICAgICAgICAgICAgIDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ1ZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXB0aW9uIHx8IHQoJ1ZpZGVvJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaGFzUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlID8gJ3ZpZGVvLXVubXV0ZS1idXR0b24nIDogJ3ZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQ6IDE2LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IG9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhLW9mZicgOiAnY2FtZXJhJyB9KSwgKCFoYXNCcm93c2VyUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCkgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEVuZENhbGxNZW51ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBvbkxlYXZlLCBvbkVuZCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLWNhbGxfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fbGVhdmVcIiwgdHlwZTogXCJidXR0b25cIiwgXCJkYXRhLXRlc3RpZFwiOiBcImxlYXZlLWNhbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uTGVhdmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uX19pY29uIHN0ci12aWRlb19fZW5kLWNhbGxfX2xlYXZlLWljb25cIiwgaWNvbjogXCJsb2dvdXRcIiB9KSwgdCgnTGVhdmUgY2FsbCcpXSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkVORF9DQUxMXSwgY2hpbGRyZW46IGpzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kXCIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJlbmQtY2FsbC1mb3ItYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkVuZCwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b25fX2ljb24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kLWljb25cIiwgaWNvbjogXCJjYWxsLWVuZFwiIH0pLCB0KCdFbmQgY2FsbCBmb3IgYWxsJyldIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdMZWF2ZSBjYWxsJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgaWNvbjogbWVudVNob3duID8gJ2Nsb3NlJyA6ICdjYWxsLWVuZCcsIHZhcmlhbnQ6IG1lbnVTaG93biA/ICdhY3RpdmUnIDogJ2RhbmdlcicsIFwiZGF0YS10ZXN0aWRcIjogXCJsZWF2ZS1jYWxsLWJ1dHRvblwiLCByZWY6IHJlZiB9KSB9KSk7XG59KTtcbmNvbnN0IENhbmNlbENhbGxDb25maXJtQnV0dG9uID0gKHsgb25DbGljaywgb25MZWF2ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaGFuZGxlTGVhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgY29uc3QgaGFuZGxlRW5kQ2FsbCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuZW5kQ2FsbCgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIHJldHVybiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBUb2dnbGVCdXR0b246IENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KEVuZENhbGxNZW51LCB7IG9uRW5kOiBoYW5kbGVFbmRDYWxsLCBvbkxlYXZlOiBoYW5kbGVMZWF2ZSB9KSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbEJ1dHRvbiA9ICh7IGRpc2FibGVkLCBjYXB0aW9uLCBvbkNsaWNrLCBvbkxlYXZlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwubGVhdmUoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWVuZFwiLCB2YXJpYW50OiBcImRhbmdlclwiLCB0aXRsZTogY2FwdGlvbiA/PyB0KCdMZWF2ZSBjYWxsJyksIFwiZGF0YS10ZXN0aWRcIjogXCJjYW5jZWwtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgQ2FsbENvbnRyb2xzID0gKHsgb25MZWF2ZSB9KSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IFtqc3goU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCB7IGNoaWxkcmVuOiBqc3goVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCB7fSkgfSksIGpzeChUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIHt9KSwganN4KFJlYWN0aW9uc0J1dHRvbiwge30pLCBqc3goU2NyZWVuU2hhcmVCdXR0b24sIHt9KSwganN4KFJlY29yZENhbGxCdXR0b24sIHt9KSwganN4KENhbmNlbENhbGxCdXR0b24sIHsgb25MZWF2ZTogb25MZWF2ZSB9KV0gfSkpO1xuXG5DaGFydC5yZWdpc3RlcihDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSwgTGluZUVsZW1lbnQsIFBvaW50RWxlbWVudCk7XG5jb25zdCBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlcyB9ID0gcHJvcHM7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiB2YWx1ZXMubWFwKChwb2ludCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHBvaW50LnggKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldEhvdXJzKCl9OiR7ZGF0ZS5nZXRNaW51dGVzKCl9YDtcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGFzZXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogdmFsdWVzLm1hcCgocG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB5IH0gPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbGVtZW50czoge1xuICAgICAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgIG1heDogTWF0aC5tYXgoMTgwLCBNYXRoLmNlaWwoKG1heCArIDEwKSAvIDEwKSAqIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk3OWNhMCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMzAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW21heF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0cy1saW5lLWNoYXJ0LWNvbnRhaW5lclwiLCBjaGlsZHJlbjoganN4KExpbmUsIHsgb3B0aW9uczogb3B0aW9ucywgZGF0YTogZGF0YSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fbGF0ZW5jeWNoYXJ0XCIgfSkgfSkpO1xufTtcblxudmFyIFN0YXR1c2VzO1xuKGZ1bmN0aW9uIChTdGF0dXNlcykge1xuICAgIFN0YXR1c2VzW1wiR09PRFwiXSA9IFwiR29vZFwiO1xuICAgIFN0YXR1c2VzW1wiT0tcIl0gPSBcIk9rXCI7XG4gICAgU3RhdHVzZXNbXCJCQURcIl0gPSBcIkJhZFwiO1xufSkoU3RhdHVzZXMgfHwgKFN0YXR1c2VzID0ge30pKTtcbmNvbnN0IHN0YXRzU3RhdHVzID0gKHsgdmFsdWUsIGxvd0JvdW5kLCBoaWdoQm91bmQsIH0pID0+IHtcbiAgICBpZiAodmFsdWUgPD0gbG93Qm91bmQpIHtcbiAgICAgICAgcmV0dXJuIFN0YXR1c2VzLkdPT0Q7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA+PSBsb3dCb3VuZCAmJiB2YWx1ZSA8PSBoaWdoQm91bmQpIHtcbiAgICAgICAgcmV0dXJuIFN0YXR1c2VzLk9LO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPj0gaGlnaEJvdW5kKSB7XG4gICAgICAgIHJldHVybiBTdGF0dXNlcy5CQUQ7XG4gICAgfVxuICAgIHJldHVybiBTdGF0dXNlcy5HT09EO1xufTtcbmNvbnN0IENhbGxTdGF0cyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF0ZW5jeUxvd0JvdW5kID0gNzUsIGxhdGVuY3lIaWdoQm91bmQgPSA0MDAgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtsYXRlbmN5QnVmZmVyLCBzZXRMYXRlbmN5QnVmZmVyXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sIChfLCBpKSA9PiAoeyB4OiBub3cgKyBpLCB5OiAwIH0pKTtcbiAgICB9KTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBbcHVibGlzaEJpdHJhdGUsIHNldFB1Ymxpc2hCaXRyYXRlXSA9IHVzZVN0YXRlKCctJyk7XG4gICAgY29uc3QgW3N1YnNjcmliZUJpdHJhdGUsIHNldFN1YnNjcmliZUJpdHJhdGVdID0gdXNlU3RhdGUoJy0nKTtcbiAgICBjb25zdCBwcmV2aW91c1N0YXRzID0gdXNlUmVmKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU3RhdHNSZXBvcnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbFN0YXRzUmVwb3J0ID0gdXNlQ2FsbFN0YXRzUmVwb3J0KCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsU3RhdHNSZXBvcnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghcHJldmlvdXNTdGF0cy5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzLmN1cnJlbnQgPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQgPSBwcmV2aW91c1N0YXRzLmN1cnJlbnQ7XG4gICAgICAgIHNldFB1Ymxpc2hCaXRyYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVQdWJsaXNoQml0cmF0ZShwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFN1YnNjcmliZUJpdHJhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVN1YnNjcmliZUJpdHJhdGUocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRMYXRlbmN5QnVmZmVyKChsYXRlbmN5QnVmKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdMYXRlbmN5QnVmZmVyID0gbGF0ZW5jeUJ1Zi5zbGljZSgtMTkpO1xuICAgICAgICAgICAgbmV3TGF0ZW5jeUJ1ZmZlci5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBjYWxsU3RhdHNSZXBvcnQudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHk6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdMYXRlbmN5QnVmZmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJldmlvdXNTdGF0cy5jdXJyZW50ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgIH0sIFtjYWxsU3RhdHNSZXBvcnRdKTtcbiAgICBjb25zdCBsYXRlbmN5Q29tcGFyaXNvbiA9IHtcbiAgICAgICAgbG93Qm91bmQ6IGxhdGVuY3lMb3dCb3VuZCxcbiAgICAgICAgaGlnaEJvdW5kOiBsYXRlbmN5SGlnaEJvdW5kLFxuICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0Py5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXMgfHwgMCxcbiAgICB9O1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c1wiLCBjaGlsZHJlbjogY2FsbFN0YXRzUmVwb3J0ICYmIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJoM1wiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRpbmdcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19pY29uXCIsIGljb246IFwiY2FsbC1sYXRlbmN5XCIgfSksIHQoJ0NhbGwgTGF0ZW5jeScpXSB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2Rlc2NyaXB0aW9uXCIsIGNoaWxkcmVuOiB0KCdWZXJ5IGhpZ2ggbGF0ZW5jeSB2YWx1ZXMgbWF5IHJlZHVjZSBjYWxsIHF1YWxpdHksIGNhdXNlIGxhZywgYW5kIG1ha2UgdGhlIGNhbGwgbGVzcyBlbmpveWFibGUuJykgfSldIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19sYXRlbmN5Y2hhcnRcIiwgY2hpbGRyZW46IGpzeChDYWxsU3RhdHNMYXRlbmN5Q2hhcnQsIHsgdmFsdWVzOiBsYXRlbmN5QnVmZmVyIH0pIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImgzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGluZ1wiLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2ljb25cIiwgaWNvbjogXCJuZXR3b3JrLXF1YWxpdHlcIiB9KSwgdCgnQ2FsbCBwZXJmb3JtYW5jZScpXSB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2Rlc2NyaXB0aW9uXCIsIGNoaWxkcmVuOiB0KCdSZXZpZXcgdGhlIGtleSBkYXRhIHBvaW50cyBiZWxvdyB0byBhc3Nlc3MgY2FsbCBwZXJmb3JtYW5jZScpIH0pXSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtY29udGFpbmVyXCIsIGNoaWxkcmVuOiBbanN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWdpb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5kYXRhY2VudGVyIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ0xhdGVuY3knKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXN9IG1zLmAsIGNvbXBhcmlzb246IGxhdGVuY3lDb21wYXJpc29uIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmUgaml0dGVyJyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zfSBtcy5gLCBjb21wYXJpc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxhdGVuY3lDb21wYXJpc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5hdmVyYWdlSml0dGVySW5NcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggaml0dGVyJyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZUppdHRlckluTXN9IG1zLmAsIGNvbXBhcmlzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGF0ZW5jeUNvbXBhcmlzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZUppdHRlckluTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIHJlc29sdXRpb24nKSwgdmFsdWU6IHRvRnJhbWVTaXplKGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cykgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBxdWFsaXR5IGRyb3AgcmVhc29uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmluZyByZXNvbHV0aW9uJyksIHZhbHVlOiB0b0ZyYW1lU2l6ZShjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzKSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZlIHF1YWxpdHkgZHJvcCByZWFzb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggYml0cmF0ZScpLCB2YWx1ZTogcHVibGlzaEJpdHJhdGUgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2aW5nIGJpdHJhdGUnKSwgdmFsdWU6IHN1YnNjcmliZUJpdHJhdGUgfSldIH0pXSB9KSkgfSkpO1xufTtcbmNvbnN0IFN0YXRDYXJkRXhwbGFuYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGRlc2NyaXB0aW9uIH0gPSBwcm9wcztcbiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHsgcmVmcywgZmxvYXRpbmdTdHlsZXMsIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IHNldElzT3BlbixcbiAgICB9KTtcbiAgICBjb25zdCBob3ZlciA9IHVzZUhvdmVyKGNvbnRleHQpO1xuICAgIGNvbnN0IHsgZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMgfSA9IHVzZUludGVyYWN0aW9ucyhbaG92ZXJdKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uXCIsIHJlZjogcmVmcy5zZXRSZWZlcmVuY2UsIC4uLmdldFJlZmVyZW5jZVByb3BzKCksIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uX19pY29uXCIsIGljb246IFwiaW5mb1wiIH0pIH0pLCBpc09wZW4gJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25fX2Rlc2NyaXB0aW9uXCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IGZsb2F0aW5nU3R5bGVzLCAuLi5nZXRGbG9hdGluZ1Byb3BzKCksIGNoaWxkcmVuOiBkZXNjcmlwdGlvbiB9KSldIH0pKTtcbn07XG5jb25zdCBTdGF0c1RhZyA9ICh7IGNoaWxkcmVuLCBzdGF0dXMgPSBTdGF0dXNlcy5HT09ELCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1nb29kJzogc3RhdHVzID09PSBTdGF0dXNlcy5HT09ELFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1vayc6IHN0YXR1cyA9PT0gU3RhdHVzZXMuT0ssXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLWJhZCc6IHN0YXR1cyA9PT0gU3RhdHVzZXMuQkFELFxuICAgICAgICB9KSwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZ19fdGV4dFwiLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcbmNvbnN0IFN0YXRDYXJkID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIGRlc2NyaXB0aW9uLCBjb21wYXJpc29uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdGF0dXMgPSBjb21wYXJpc29uID8gc3RhdHNTdGF0dXMoY29tcGFyaXNvbikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZFwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWNvbnRlbnRcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1sYWJlbFwiLCBjaGlsZHJlbjogW2xhYmVsLCBkZXNjcmlwdGlvbiAmJiBqc3goU3RhdENhcmRFeHBsYW5hdGlvbiwgeyBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSldIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLXZhbHVlXCIsIGNoaWxkcmVuOiB2YWx1ZSB9KV0gfSksIGNvbXBhcmlzb24gJiYgc3RhdHVzICYmIGpzeChTdGF0c1RhZywgeyBzdGF0dXM6IHN0YXR1cywgY2hpbGRyZW46IHQoc3RhdHVzKSB9KV0gfSkpO1xufTtcbmNvbnN0IHRvRnJhbWVTaXplID0gKHN0YXRzKSA9PiB7XG4gICAgY29uc3QgeyBoaWdoZXN0RnJhbWVXaWR0aDogdywgaGlnaGVzdEZyYW1lSGVpZ2h0OiBoLCBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiBmcHMsIH0gPSBzdGF0cztcbiAgICBsZXQgc2l6ZSA9IGAtYDtcbiAgICBpZiAodyAmJiBoKSB7XG4gICAgICAgIHNpemUgPSBgJHt3fXgke2h9YDtcbiAgICAgICAgaWYgKGZwcykge1xuICAgICAgICAgICAgc2l6ZSArPSBgQCR7ZnBzfWZwcy5gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufTtcbmNvbnN0IGNhbGN1bGF0ZVB1Ymxpc2hCaXRyYXRlID0gKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IHB1Ymxpc2hlclN0YXRzOiB7IHRvdGFsQnl0ZXNTZW50OiBwcmV2aW91c1RvdGFsQnl0ZXNTZW50LCB0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wLCB9LCB9ID0gcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgeyBwdWJsaXNoZXJTdGF0czogeyB0b3RhbEJ5dGVzU2VudCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNTZW50ID0gdG90YWxCeXRlc1NlbnQgLSBwcmV2aW91c1RvdGFsQnl0ZXNTZW50O1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNTZW50ICogOCkgLyB0aW1lRWxhcHNlZCkudG9GaXhlZCgyKX0ga2Jwc2A7XG59O1xuY29uc3QgY2FsY3VsYXRlU3Vic2NyaWJlQml0cmF0ZSA9IChwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KSA9PiB7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyU3RhdHM6IHsgdG90YWxCeXRlc1JlY2VpdmVkOiBwcmV2aW91c1RvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wOiBwcmV2aW91c1RpbWVzdGFtcCwgfSwgfSA9IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlclN0YXRzOiB7IHRvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNSZWNlaXZlZCA9IHRvdGFsQnl0ZXNSZWNlaXZlZCAtIHByZXZpb3VzVG90YWxCeXRlc1JlY2VpdmVkO1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNSZWNlaXZlZCAqIDgpIC8gdGltZUVsYXBzZWQpLnRvRml4ZWQoMil9IGticHNgO1xufTtcblxuY29uc3QgQ2FsbFN0YXRzQnV0dG9uID0gKCkgPT4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3AtZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgY2hpbGRyZW46IGpzeChDYWxsU3RhdHMsIHt9KSB9KSk7XG5jb25zdCBUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVNZW51QnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIG1lbnVTaG93biB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgY2FwdGlvbjogY2FwdGlvbiwgdGl0bGU6IGNhcHRpb24gfHwgdCgnU3RhdGlzdGljcycpLCBcImRhdGEtdGVzdGlkXCI6IFwic3RhdHMtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInN0YXRzXCIgfSkgfSkpO1xufSk7XG5cbmNvbnN0IFRvZ2dsZUF1ZGlvT3V0cHV0QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiBjYXB0aW9uIHx8IHQoJ1NwZWFrZXJzJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBjYXB0aW9uOiBjYXB0aW9uLCBcImRhdGEtdGVzdGlkXCI6IFwiYXVkaW8tb3V0cHV0LWJ1dHRvblwiLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwic3BlYWtlclwiIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEJsb2NrZWRVc2VyTGlzdGluZyA9ICh7IGRhdGEgfSkgPT4ge1xuICAgIGlmICghZGF0YS5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nXCIsIGNoaWxkcmVuOiBkYXRhLm1hcCgodXNlcklkKSA9PiAoanN4KEJsb2NrZWRVc2VyTGlzdGluZ0l0ZW0sIHsgdXNlcklkOiB1c2VySWQgfSwgdXNlcklkKSkpIH0pIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlckxpc3RpbmdJdGVtID0gKHsgdXNlcklkIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHVuYmxvY2tVc2VyQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAodXNlcklkKVxuICAgICAgICAgICAgY2FsbD8udW5ibG9ja1VzZXIodXNlcklkKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIGNoaWxkcmVuOiB1c2VySWQgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiB1bmJsb2NrVXNlckNsaWNrSGFuZGxlciwgY2hpbGRyZW46IFwiVW5ibG9ja1wiIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyID0gKHsgb25DbG9zZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlXCIsIGNoaWxkcmVuOiBbdCgnUGFydGljaXBhbnRzJyksICcgJywganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGUtY291bnRcIiwgY2hpbGRyZW46IFtcIltcIiwgcGFydGljaXBhbnRzLmxlbmd0aCwgXCJdXCJdIH0pLCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50ID4gMCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZS1hbm9ueW1vdXNcIiwgY2hpbGRyZW46IHQoJ0Fub255bW91cycsIHsgY291bnQ6IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgfSkgfSkpXSB9KSwganN4KEljb25CdXR0b24sIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX2Nsb3NlLWJ1dHRvblwiLCBpY29uOiBcImNsb3NlXCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtID0gKHsgcGFydGljaXBhbnQsIERpc3BsYXlOYW1lID0gRGVmYXVsdERpc3BsYXlOYW1lLCB9KSA9PiB7XG4gICAgY29uc3QgaXNBdWRpb09uID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGlzVmlkZW9PbiA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBpc1Bpbm5lZE9uID0gaXNQaW5uZWQocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChBdmF0YXIsIHsgbmFtZTogcGFydGljaXBhbnQubmFtZSwgaW1hZ2VTcmM6IHBhcnRpY2lwYW50LmltYWdlIH0pLCBqc3goRGlzcGxheU5hbWUsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19tZWRpYS1pbmRpY2F0b3ItZ3JvdXBcIiwgY2hpbGRyZW46IFtqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IGlzQXVkaW9PbiA/IHQoJ01pY3JvcGhvbmUgb24nKSA6IHQoJ01pY3JvcGhvbmUgb2ZmJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCBgc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tJHtpc0F1ZGlvT24gPyAnbWljJyA6ICdtaWMtb2ZmJ31gKSB9KSwganN4KE1lZGlhSW5kaWNhdG9yLCB7IHRpdGxlOiBpc1ZpZGVvT24gPyB0KCdDYW1lcmEgb24nKSA6IHQoJ0NhbWVyYSBvZmYnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi0ke2lzVmlkZW9PbiA/ICdjYW1lcmEnIDogJ2NhbWVyYS1vZmYnfWApIH0pLCBpc1Bpbm5lZE9uICYmIChqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IHQoJ1Bpbm5lZCcpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLXBpbm5lZCcpIH0pKSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6ICdub25lJyB9LCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCB7fSkgfSkgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgTWVkaWFJbmRpY2F0b3IgPSAocHJvcHMpID0+IChqc3goV2l0aFRvb2x0aXAsIHsgLi4ucHJvcHMgfSkpO1xuY29uc3QgRGVmYXVsdERpc3BsYXlOYW1lID0gKHsgcGFydGljaXBhbnQgfSkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RlZFVzZXIgPSB1c2VDb25uZWN0ZWRVc2VyKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVGbGFnID0gcGFydGljaXBhbnQudXNlcklkID09PSBjb25uZWN0ZWRVc2VyPy5pZCA/IHQoJ01lJykgOiAnJztcbiAgICBjb25zdCBuYW1lT3JJZCA9IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICBsZXQgZGlzcGxheU5hbWU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudC5uYW1lKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbWVGbGFnIHx8IG5hbWVPcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVGbGFnKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gYCR7bmFtZU9ySWR9ICgke21lRmxhZ30pYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbmFtZU9ySWQ7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIHRpdGxlOiBkaXNwbGF5TmFtZSwgY2hpbGRyZW46IGRpc3BsYXlOYW1lIH0pKTtcbn07XG5jb25zdCBUb2dnbGVCdXR0b24kMiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlQnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4ganN4KEljb25CdXR0b24sIHsgZW5hYmxlZDogcHJvcHMubWVudVNob3duLCBpY29uOiBcImVsbGlwc2lzXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgPSAoeyBkYXRhLCB9KSA9PiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZ1wiLCBjaGlsZHJlbjogZGF0YS5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSkgfSkpO1xuXG5jb25zdCBFbXB0eVBhcnRpY2lwYW50U2VhcmNoTGlzdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtLWVtcHR5XCIsIGNoaWxkcmVuOiB0KCdObyBwYXJ0aWNpcGFudHMgZm91bmQnKSB9KSk7XG59O1xuXG5jb25zdCBTZWFyY2hJbnB1dCA9ICh7IGV4aXRTZWFyY2gsIGlzQWN0aXZlLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBbaW5wdXRFbGVtZW50LCBzZXRJbnB1dEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdlc2NhcGUnKVxuICAgICAgICAgICAgICAgIGV4aXRTZWFyY2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIH07XG4gICAgfSwgW2V4aXRTZWFyY2gsIGlucHV0RWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2NvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY29udGFpbmVyLS1hY3RpdmUnOiBpc0FjdGl2ZSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwgeyBwbGFjZWhvbGRlcjogXCJTZWFyY2hcIiwgLi4ucmVzdCwgcmVmOiBzZXRJbnB1dEVsZW1lbnQgfSksIGlzQWN0aXZlID8gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY2xlYXItYnRuXCIsIG9uQ2xpY2s6IGV4aXRTZWFyY2gsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19pY29uLS1hY3RpdmVcIiB9KSB9KSkgOiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9faWNvblwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgU2VhcmNoUmVzdWx0cyA9ICh7IEVtcHR5U2VhcmNoUmVzdWx0Q29tcG9uZW50LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yJDEgPSBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMsIFNlYXJjaFJlc3VsdExpc3QsIH0pID0+IHtcbiAgICBpZiAoc2VhcmNoUXVlcnlJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLXJlc3VsdHMtLWxvYWRpbmdcIiwgY2hpbGRyZW46IGpzeChMb2FkaW5nSW5kaWNhdG9yJDEsIHt9KSB9KSk7XG4gICAgfVxuICAgIGlmICghc2VhcmNoUmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGpzeChFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudCwge30pO1xuICAgIH1cbiAgICByZXR1cm4ganN4KFNlYXJjaFJlc3VsdExpc3QsIHsgZGF0YTogc2VhcmNoUmVzdWx0cyB9KTtcbn07XG5cbmNvbnN0IHVzZVNlYXJjaCA9ICh7IGRlYm91bmNlSW50ZXJ2YWwsIHNlYXJjaEZuLCBzZWFyY2hRdWVyeSA9ICcnLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzZWFyY2hRdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZWFyY2hRdWVyeUluUHJvZ3Jlc3ModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlYXJjaEZuKHNlYXJjaFF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2hRdWVyeUluUHJvZ3Jlc3MoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWJvdW5jZUludGVydmFsKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZGVib3VuY2VJbnRlcnZhbCwgc2VhcmNoRm4sIHNlYXJjaFF1ZXJ5XSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VhcmNoUXVlcnlJblByb2dyZXNzLFxuICAgICAgICBzZWFyY2hSZXN1bHRzLFxuICAgIH07XG59O1xuXG5jb25zdCBVc2VyTGlzdFR5cGVzID0ge1xuICAgIGFjdGl2ZTogJ0FjdGl2ZSB1c2VycycsXG4gICAgYmxvY2tlZDogJ0Jsb2NrZWQgdXNlcnMnLFxufTtcbmNvbnN0IERFRkFVTFRfREVCT1VOQ0VfU0VBUkNIX0lOVEVSVkFMID0gMjAwO1xuY29uc3QgQ2FsbFBhcnRpY2lwYW50c0xpc3QgPSAoeyBvbkNsb3NlLCBhY3RpdmVVc2Vyc1NlYXJjaEZuLCBibG9ja2VkVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbCwgfSkgPT4ge1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFt1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZV0gPSB1c2VTdGF0ZSgnYWN0aXZlJyk7XG4gICAgY29uc3QgZXhpdFNlYXJjaCA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNlYXJjaFF1ZXJ5KCcnKSwgW10pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RcIiwgY2hpbGRyZW46IFtqc3goQ2FsbFBhcnRpY2lwYW50TGlzdEhlYWRlciwgeyBvbkNsb3NlOiBvbkNsb3NlIH0pLCBqc3goU2VhcmNoSW5wdXQsIHsgdmFsdWU6IHNlYXJjaFF1ZXJ5LCBvbkNoYW5nZTogKHsgY3VycmVudFRhcmdldCB9KSA9PiBzZXRTZWFyY2hRdWVyeShjdXJyZW50VGFyZ2V0LnZhbHVlKSwgZXhpdFNlYXJjaDogZXhpdFNlYXJjaCwgaXNBY3RpdmU6ICEhc2VhcmNoUXVlcnkgfSksIGpzeChDYWxsUGFydGljaXBhbnRMaXN0Q29udGVudEhlYWRlciwgeyB1c2VyTGlzdFR5cGU6IHVzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlOiBzZXRVc2VyTGlzdFR5cGUgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50XCIsIGNoaWxkcmVuOiBbdXNlckxpc3RUeXBlID09PSAnYWN0aXZlJyAmJiAoanN4KEFjdGl2ZVVzZXJzU2VhcmNoUmVzdWx0cywgeyBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksIGFjdGl2ZVVzZXJzU2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm4sIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgfSkpLCB1c2VyTGlzdFR5cGUgPT09ICdibG9ja2VkJyAmJiAoanN4KEJsb2NrZWRVc2Vyc1NlYXJjaFJlc3VsdHMsIHsgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LCBibG9ja2VkVXNlcnNTZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm4sIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgfSkpXSB9KV0gfSkpO1xufTtcbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RDb250ZW50SGVhZGVyID0gKHsgdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IG11dGVBbGwgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/Lm11dGVBbGxVc2VycygnYXVkaW8nKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnQtaGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudC1oZWFkZXItdGl0bGVcIiwgY2hpbGRyZW46IHVzZXJMaXN0VHlwZSA9PT0gJ2FjdGl2ZScgJiYgKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5NVVRFX1VTRVJTXSwgaGFzUGVybWlzc2lvbnNPbmx5OiB0cnVlLCBjaGlsZHJlbjoganN4KFRleHRCdXR0b24sIHsgb25DbGljazogbXV0ZUFsbCwgY2hpbGRyZW46IFwiTXV0ZSBhbGxcIiB9KSB9KSkgfSksIGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlQnV0dG9uJDEsIGNoaWxkcmVuOiBqc3goR2VuZXJpY01lbnUsIHsgY2hpbGRyZW46IE9iamVjdC5rZXlzKFVzZXJMaXN0VHlwZXMpLm1hcCgobHQpID0+IChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IFwiYXJpYS1zZWxlY3RlZFwiOiBsdCA9PT0gdXNlckxpc3RUeXBlLCBvbkNsaWNrOiAoKSA9PiBzZXRVc2VyTGlzdFR5cGUobHQpLCBjaGlsZHJlbjogVXNlckxpc3RUeXBlc1tsdF0gfSwgbHQpKSkgfSkgfSldIH0pKTtcbn07XG5jb25zdCBBY3RpdmVVc2Vyc1NlYXJjaFJlc3VsdHMgPSAoeyBzZWFyY2hRdWVyeSwgYWN0aXZlVXNlcnNTZWFyY2hGbjogYWN0aXZlVXNlcnNTZWFyY2hGbkZyb21Qcm9wcywgZGVib3VuY2VTZWFyY2hJbnRlcnZhbCA9IERFRkFVTFRfREVCT1VOQ0VfU0VBUkNIX0lOVEVSVkFMLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKHsgc29ydEJ5OiBuYW1lIH0pO1xuICAgIGNvbnN0IGFjdGl2ZVVzZXJzU2VhcmNoRm4gPSB1c2VDYWxsYmFjaygocXVlcnlTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnlSZWdFeHAgPSBuZXcgUmVnRXhwKHF1ZXJ5U3RyaW5nLCAnaScpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcnRpY2lwYW50cy5maWx0ZXIoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFydGljaXBhbnQubmFtZS5tYXRjaChxdWVyeVJlZ0V4cCk7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbcGFydGljaXBhbnRzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzID8/IGFjdGl2ZVVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogcGFydGljaXBhbnRzLCBTZWFyY2hSZXN1bHRMaXN0OiBDYWxsUGFydGljaXBhbnRMaXN0aW5nIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlcnNTZWFyY2hSZXN1bHRzID0gKHsgYmxvY2tlZFVzZXJzU2VhcmNoRm46IGJsb2NrZWRVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsID0gREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwsIHNlYXJjaFF1ZXJ5LCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYWxsQmxvY2tlZFVzZXJJZHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgYmxvY2tlZFVzZXJzID0gdXNlQ2FsbEJsb2NrZWRVc2VySWRzKCk7XG4gICAgY29uc3QgYmxvY2tlZFVzZXJzU2VhcmNoRm4gPSB1c2VDYWxsYmFjaygocXVlcnlTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnlSZWdFeHAgPSBuZXcgUmVnRXhwKHF1ZXJ5U3RyaW5nLCAnaScpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJsb2NrZWRVc2Vycy5maWx0ZXIoKGJsb2NrZWRVc2VyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYmxvY2tlZFVzZXIubWF0Y2gocXVlcnlSZWdFeHApO1xuICAgICAgICB9KSk7XG4gICAgfSwgW2Jsb2NrZWRVc2Vyc10pO1xuICAgIGNvbnN0IHsgc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzIH0gPSB1c2VTZWFyY2goe1xuICAgICAgICBzZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYmxvY2tlZFVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogYmxvY2tlZFVzZXJzLCBTZWFyY2hSZXN1bHRMaXN0OiBCbG9ja2VkVXNlckxpc3RpbmcgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUJ1dHRvbiQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZmlsdGVyXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQcmV2aWV3ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFRodW1ibmFpbCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB0aHVtYm5haWwgPSB1c2VDYWxsVGh1bWJuYWlsKCk7XG4gICAgY29uc3QgW2ltYWdlUmVmLCBzZXRJbWFnZVJlZl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWltYWdlUmVmIHx8ICFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQoaW1hZ2VSZWYpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtpbWFnZVJlZiwgY2FsbF0pO1xuICAgIGlmICghdGh1bWJuYWlsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChcImltZ1wiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLXByZXZpZXcnLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUsIGFsdDogXCJDYWxsIFByZXZpZXcgVGh1bWJuYWlsXCIsIHJlZjogc2V0SW1hZ2VSZWYgfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIgPSAoeyBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpdGxlXCIsIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiB0KCdDYWxsIFJlY29yZGluZ3MnKSB9KSwgY2FsbFJlY29yZGluZ3MubGVuZ3RoID8ganN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW1wiKFwiLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGgsIFwiKVwiXSB9KSA6IG51bGxdIH0pLCBvblJlZnJlc2ggJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwicmVmcmVzaFwiLCB0aXRsZTogdCgnUmVmcmVzaCcpLCBvbkNsaWNrOiBvblJlZnJlc2ggfSkpXSB9KSk7XG59O1xuXG5jb25zdCBkYXRlRm9ybWF0ID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBmb3JtYXQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICByZXR1cm4gZm9ybWF0LnRvVGltZVN0cmluZygpLnNwbGl0KCcgJylbMF07XG59O1xuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RJdGVtID0gKHsgcmVjb3JkaW5nLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2ZpbGVuYW1lXCIsIGNoaWxkcmVuOiByZWNvcmRpbmcuZmlsZW5hbWUgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RhYmxlLWNlbGwgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBkYXRlRm9ybWF0KHJlY29yZGluZy5zdGFydF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLmVuZF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIsIGNoaWxkcmVuOiBqc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbicsICdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbi0tZG93bmxvYWQnKSwgcm9sZTogXCJidXR0b25cIiwgaHJlZjogcmVjb3JkaW5nLnVybCwgZG93bmxvYWQ6IHJlY29yZGluZy5maWxlbmFtZSwgdGl0bGU6IFwiRG93bmxvYWQgdGhlIHJlY29yZGluZ1wiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJkb3dubG9hZFwiIH0pIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nID0gKCkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3Rpbmcgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nLS1lbXB0eVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWljb24tZW1wdHlcIiB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLXRleHQtZW1wdHlcIiwgY2hpbGRyZW46IFwiTm8gcmVjb3JkaW5ncyBhdmFpbGFibGVcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgTG9hZGluZ0NhbGxSZWNvcmRpbmdMaXN0aW5nID0gKHsgY2FsbFJlY29yZGluZ3MsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIHsgcmVjb3JkaW5nOiByZWNvcmRpbmcgfSwgcmVjb3JkaW5nLmZpbGVuYW1lKSkpLCBqc3goTG9hZGluZ0luZGljYXRvciwgeyB0ZXh0OiBcIlJlY29yZGluZyBnZXR0aW5nIHJlYWR5XCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxSZWNvcmRpbmdMaXN0ID0gKHsgY2FsbFJlY29yZGluZ3MsIENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyOiBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxID0gQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbTogQ2FsbFJlY29yZGluZ0xpc3RJdGVtJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIEVtcHR5Q2FsbFJlY29yZGluZ0xpc3QgPSBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBsb2FkaW5nLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QgPSBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIG9uUmVmcmVzaCwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RcIiwgY2hpbGRyZW46IFtqc3goQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIkMSwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MsIG9uUmVmcmVzaDogb25SZWZyZXNoIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nXCIsIGNoaWxkcmVuOiBsb2FkaW5nID8gKGpzeChMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QsIHsgY2FsbFJlY29yZGluZ3M6IGNhbGxSZWNvcmRpbmdzIH0pKSA6IGNhbGxSZWNvcmRpbmdzLmxlbmd0aCA/IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IFwiTmFtZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIlN0YXJ0IHRpbWVcIiB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogXCJFbmQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19kb3dubG9hZFwiIH0pXSB9KSB9KSwganN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSkgfSldIH0pKSA6IChqc3goRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCwge30pKSB9KV0gfSkpO1xufTtcblxuY29uc3QgTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbi8qKlxuICogRXhwb3NlcyB0aGUgTm9pc2VDYW5jZWxsYXRpb24gQVBJLlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHVzZWQgb3V0c2lkZSA8Tm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlciAvPi5cbiAqL1xuY29uc3QgdXNlTm9pc2VDYW5jZWxsYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VOb2lzZUNhbmNlbGxhdGlvbiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlcicpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgbm9pc2VDYW5jZWxsYXRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU2V0dGluZ3MsIHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25BbGxvd2VkID0gISEoc2V0dGluZ3MgJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uICYmXG4gICAgICAgIHNldHRpbmdzLmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbi5tb2RlICE9PVxuICAgICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEKTtcbiAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5FTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OKTtcbiAgICBjb25zdCBbaXNTdXBwb3J0ZWRCeUJyb3dzZXIsIHNldElzU3VwcG9ydGVkQnlCcm93c2VyXSA9IHVzZVN0YXRlKHVuZGVmaW5lZCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbm9pc2VDYW5jZWxsYXRpb24uaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXIocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgIC50aGVuKChfaXNTdXBwb3J0ZWRCeUJyb3dzZXIpID0+IHNldElzU3VwcG9ydGVkQnlCcm93c2VyKF9pc1N1cHBvcnRlZEJ5QnJvd3NlcikpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYENhbid0IGRldGVybWluZSBpZiBub2lzZSBjYW5jZWxsYXRpb24gaXMgc3VwcG9ydGVkYCwgZXJyKSk7XG4gICAgICAgIH1cbiAgICB9LCBbbm9pc2VDYW5jZWxsYXRpb25dKTtcbiAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkQnlCcm93c2VyICYmIGhhc0NhcGFiaWxpdHkgJiYgbm9pc2VDYW5jZWxsYXRpb25BbGxvd2VkO1xuICAgIGNvbnN0IFtpc0VuYWJsZWQsIHNldElzRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgZGVpbml0ID0gdXNlUmVmKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFpc1N1cHBvcnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBub2lzZUNhbmNlbGxhdGlvbi5vbignY2hhbmdlJywgKHYpID0+IHNldElzRW5hYmxlZCh2KSk7XG4gICAgICAgIGNvbnN0IGluaXQgPSAoZGVpbml0LmN1cnJlbnQgfHwgUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBub2lzZUNhbmNlbGxhdGlvbi5pbml0KCkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjYWxsLm1pY3JvcGhvbmUuZW5hYmxlTm9pc2VDYW5jZWxsYXRpb24obm9pc2VDYW5jZWxsYXRpb24pKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYENhbid0IGluaXRpYWxpemUgbm9pc2Ugc3VwcHJlc3Npb25gLCBlcnIpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRlaW5pdC5jdXJyZW50ID0gaW5pdFxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGNhbGwubWljcm9waG9uZS5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBub2lzZUNhbmNlbGxhdGlvbi5kaXNwb3NlKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzU3VwcG9ydGVkLCBub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIHJldHVybiAoanN4KE5vaXNlQ2FuY2VsbGF0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZToge1xuICAgICAgICAgICAgaXNTdXBwb3J0ZWQsXG4gICAgICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgICAgICBzZXRFbmFibGVkOiAoZW5hYmxlZE9yU2V0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuYWJsZSA9IHR5cGVvZiBlbmFibGVkT3JTZXR0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBlbmFibGVkT3JTZXR0ZXIoaXNFbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICA6IGVuYWJsZWRPclNldHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBSaW5naW5nQ2FsbENvbnRyb2xzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGxDYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBidXR0b25zRGlzYWJsZWQgPSBjYWxsQ2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORztcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BlbmRpbmctY2FsbC1jb250cm9sc1wiLCBjaGlsZHJlbjogY2FsbC5pc0NyZWF0ZWRCeU1lID8gKGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSkpIDogKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goQWNjZXB0Q2FsbEJ1dHRvbiwgeyBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pLCBqc3goQ2FuY2VsQ2FsbEJ1dHRvbiwgeyBvbkNsaWNrOiAoKSA9PiBjYWxsLmxlYXZlKHsgcmVqZWN0OiB0cnVlIH0pLCBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pXSB9KSkgfSkpO1xufTtcblxuY29uc3QgQ0FMTElOR19TVEFURV9UT19MQUJFTCA9IHtcbiAgICBbQ2FsbGluZ1N0YXRlLkpPSU5JTkddOiAnSm9pbmluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HXTogJ1JpbmdpbmcnLFxuICAgIFtDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXTogJ01pZ3JhdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkddOiAnUmUtY29ubmVjdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXTogJ0ZhaWxlZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5PRkZMSU5FXTogJ05vIGludGVybmV0IGNvbm5lY3Rpb24nLFxuICAgIFtDYWxsaW5nU3RhdGUuSURMRV06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuVU5LTk9XTl06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuSk9JTkVEXTogJ0pvaW5lZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5MRUZUXTogJ0xlZnQgY2FsbCcsXG59O1xuY29uc3QgUmluZ2luZ0NhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTZWxmID0gZmFsc2UsIHRvdGFsTWVtYmVyc1RvU2hvdyA9IDMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlLCB1c2VDYWxsTWVtYmVycyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWVtYmVycyA9IHVzZUNhbGxNZW1iZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHRha2UgdGhlIGZpcnN0IE4gbWVtYmVycyB0byBzaG93IHRoZWlyIGF2YXRhcnNcbiAgICBjb25zdCBtZW1iZXJzVG9TaG93ID0gKG1lbWJlcnMgfHwgW10pXG4gICAgICAgIC5zbGljZSgwLCB0b3RhbE1lbWJlcnNUb1Nob3cpXG4gICAgICAgIC5tYXAoKHsgdXNlciB9KSA9PiB1c2VyKVxuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlkICE9PSBjb25uZWN0ZWRVc2VyPy5pZCB8fCBpbmNsdWRlU2VsZik7XG4gICAgaWYgKGluY2x1ZGVTZWxmICYmXG4gICAgICAgICFtZW1iZXJzVG9TaG93LmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKSkge1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBpbiB0aGUgaW5pdGlhbCBiYXRjaCBvZiBtZW1iZXJzLFxuICAgICAgICAvLyByZXBsYWNlIHRoZSBmaXJzdCBpdGVtIGluIG1lbWJlcnNUb1Nob3cgYXJyYXkgd2l0aCB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBtZW1iZXJzLmZpbmQoKHsgdXNlciB9KSA9PiB1c2VyLmlkID09PSBjb25uZWN0ZWRVc2VyPy5pZCk7XG4gICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICBtZW1iZXJzVG9TaG93LnNwbGljZSgwLCAxLCBzZWxmLnVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZUxhYmVsID0gQ0FMTElOR19TVEFURV9UT19MQUJFTFtjYWxsaW5nU3RhdGVdO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWwgc3RyLXZpZGVvX19jYWxsLXBhbmVsLS1yaW5naW5nXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbF9fbWVtYmVycy1saXN0XCIsIGNoaWxkcmVuOiBtZW1iZXJzVG9TaG93Lm1hcCgodXNlcikgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXItYm94XCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiB1c2VyLm5hbWUsIGltYWdlU3JjOiB1c2VyLmltYWdlIH0pLCB1c2VyLm5hbWUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbWJlcl9kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX25hbWVcIiwgY2hpbGRyZW46IHVzZXIubmFtZSB9KSB9KSldIH0sIHVzZXIuaWQpKSkgfSksIGNhbGxpbmdTdGF0ZUxhYmVsICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19jYWxsaW5nLXN0YXRlLWxhYmVsXCIsIGNoaWxkcmVuOiB0KGNhbGxpbmdTdGF0ZUxhYmVsKSB9KSksIFtDYWxsaW5nU3RhdGUuUklOR0lORywgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkgJiYgKGpzeChSaW5naW5nQ2FsbENvbnRyb2xzLCB7fSkpXSB9KSk7XG59O1xuXG5jb25zdCBieU5hbWVPcklkID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VMb2NhbFBhcnRpY2lwYW50LCB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdXNlTG9jYWxQYXJ0aWNpcGFudCgpO1xuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwZXJtaXNzaW9uUmVxdWVzdHMsIHNldFBlcm1pc3Npb25SZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyk7XG4gICAgY29uc3QgbG9jYWxVc2VySWQgPSBsb2NhbFBhcnRpY2lwYW50Py51c2VySWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLm9uKCdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgIT09IGxvY2FsVXNlcklkKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gWy4uLnJlcXVlc3RzLCBldmVudF0uc29ydCgoYSwgYikgPT4gYnlOYW1lT3JJZChhLnVzZXIsIGIudXNlcikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2NhbGwsIGNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucywgbG9jYWxVc2VySWRdKTtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uID0gKHJlcXVlc3QsIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LmdyYW50UGVybWlzc2lvbnModXNlci5pZCwgcGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZva2UnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXZva2VQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gcmVxdWVzdHMuZmlsdGVyKChyKSA9PiByICE9PSByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgfSk7XG4gICAgLy8gZG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBwZXJtaXNzaW9uIHJlcXVlc3RzXG4gICAgaWYgKHBlcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c19fbm90aWZpY2F0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IFtwZXJtaXNzaW9uUmVxdWVzdHMubGVuZ3RoLCBcIiBwZW5kaW5nIHBlcm1pc3Npb24gcmVxdWVzdHNcIl0gfSksIGpzeChCdXR0b24sIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKChlKSA9PiAhZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZXhwYW5kZWQgPyAnSGlkZSByZXF1ZXN0cycgOiAnU2hvdyByZXF1ZXN0cycgfSldIH0pLCBleHBhbmRlZCAmJiAoanN4KFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgeyByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgcGVybWlzc2lvblJlcXVlc3RzOiBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb246IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gfSkpXSB9KSk7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RMaXN0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiBQZXJtaXNzaW9uUmVxdWVzdExpc3QocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvblJlcXVlc3RzLCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHMtbGlzdFwiLCByZWY6IHJlZiwgLi4ucmVzdCwgY2hpbGRyZW46IHBlcm1pc3Npb25SZXF1ZXN0cy5tYXAoKHJlcXVlc3QsIHJlcUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHBlcm1pc3Npb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogcGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fbWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZUZvclBlcm1pc3Npb24odXNlci5uYW1lIHx8IHVzZXIuaWQsIHBlcm1pc3Npb24sIHQpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1hbGxvd1wiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdncmFudCcpLCBjaGlsZHJlbjogdCgnQWxsb3cnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ3Jldm9rZScpLCBjaGlsZHJlbjogdCgnUmV2b2tlJykgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLXJlamVjdFwiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdkaXNtaXNzJyksIGNoaWxkcmVuOiB0KCdEaXNtaXNzJykgfSldIH0sIHBlcm1pc3Npb24pKSkgfSwgYCR7dXNlci5pZH0vJHtyZXFJbmRleH1gKSk7XG4gICAgICAgIH0pIH0pKTtcbn0pO1xuY29uc3QgQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uJywgY2xhc3NOYW1lKSwgLi4ucmVzdCB9KSk7XG59O1xuY29uc3QgbWVzc2FnZUZvclBlcm1pc3Npb24gPSAodXNlck5hbWUsIHBlcm1pc3Npb24sIHQpID0+IHtcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVhaycsIHsgdXNlck5hbWUgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19Jywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBTdHJlYW1UaGVtZSA9ICh7IGFzOiBDb21wb25lbnQgPSAnZGl2JywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KENvbXBvbmVudCwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyKHsgcGFydGljaXBhbnQsIHN0eWxlIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG5hbWUgPSBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlclwiLCBzdHlsZTogc3R5bGUsIHJlZjogcmVmLCBjaGlsZHJlbjogWyghcGFydGljaXBhbnQuaW1hZ2UgfHwgZXJyb3IpICYmXG4gICAgICAgICAgICAgICAgKG5hbWUgPyAoanN4KEluaXRpYWxzRmFsbGJhY2ssIHsgbmFtZTogbmFtZSB9KSkgOiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX25vLXZpZGVvLWxhYmVsXCIsIGNoaWxkcmVuOiB0KCdWaWRlbyBpcyBkaXNhYmxlZCcpIH0pKSksIHBhcnRpY2lwYW50LmltYWdlICYmICFlcnJvciAmJiAoanN4KFwiaW1nXCIsIHsgb25FcnJvcjogKCkgPT4gc2V0RXJyb3IodHJ1ZSksIGFsdDogXCJ2aWRlby1wbGFjZWhvbGRlclwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9fYXZhdGFyXCIsIHNyYzogcGFydGljaXBhbnQuaW1hZ2UgfSkpXSB9KSk7XG59KTtcbmNvbnN0IEluaXRpYWxzRmFsbGJhY2sgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGluaXRpYWxzID0gbmFtZVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAuc2xpY2UoMCwgMilcbiAgICAgICAgLm1hcCgobikgPT4gblswXSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX2luaXRpYWxzLWZhbGxiYWNrXCIsIGNoaWxkcmVuOiBpbml0aWFscyB9KSk7XG59O1xuXG5jb25zdCBWaWRlbyQxID0gKHsgdHJhY2tUeXBlLCBwYXJ0aWNpcGFudCwgY2xhc3NOYW1lLCBWaWRlb1BsYWNlaG9sZGVyID0gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIsIHJlZnMsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbklkLCB2aWRlb1N0cmVhbSwgc2NyZWVuU2hhcmVTdHJlYW0sIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlLCBpc0xvY2FsUGFydGljaXBhbnQsIHVzZXJJZCwgfSA9IHBhcnRpY2lwYW50O1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgW3ZpZGVvRWxlbWVudCwgc2V0VmlkZW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIHN0YXJ0IHdpdGggdHJ1ZSwgd2lsbCBmbGlwIG9uY2UgdGhlIHZpZGVvIHN0YXJ0cyBwbGF5aW5nXG4gICAgY29uc3QgW2lzVmlkZW9QYXVzZWQsIHNldElzVmlkZW9QYXVzZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2lzV2lkZU1vZGUsIHNldElzV2lkZU1vZGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3Qgc3RyZWFtID0gdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgPyB2aWRlb1N0cmVhbVxuICAgICAgICA6IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgICAgICA/IHNjcmVlblNoYXJlU3RyZWFtXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIXZpZGVvRWxlbWVudCB8fCB0cmFja1R5cGUgPT09ICdub25lJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuYmluZFZpZGVvRWxlbWVudCh2aWRlb0VsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXA/LigpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCB0cmFja1R5cGUsIHNlc3Npb25JZCwgdmlkZW9FbGVtZW50XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzdHJlYW0gfHwgIXZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgW3RyYWNrXSA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgICBpZiAoIXRyYWNrKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVQbGF5UGF1c2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHZpZGVvRWxlbWVudC5wYXVzZWQpO1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICBzZXRJc1dpZGVNb2RlKHdpZHRoID49IGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHBsYXliYWNrIG1heSBoYXZlIHN0YXJ0ZWQgYmVmb3JlIHdlIGhhZCBhIGNoYW5jZSB0b1xuICAgICAgICAvLyBhdHRhY2ggdGhlICdwbGF5L3BhdXNlJyBldmVudCBsaXN0ZW5lciwgc28gd2Ugc2V0IHRoZSBzdGF0ZVxuICAgICAgICAvLyBoZXJlIHRvIG1ha2Ugc3VyZSBpdCdzIGluIHN5bmNcbiAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh2aWRlb0VsZW1lbnQucGF1c2VkKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICAvLyByZXNldCB0aGUgJ3BhdXNlJyBzdGF0ZSBvbmNlIHdlIHVubW91bnQgdGhlIHZpZGVvIGVsZW1lbnRcbiAgICAgICAgICAgIHNldElzVmlkZW9QYXVzZWQodHJ1ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW3N0cmVhbSwgdmlkZW9FbGVtZW50XSk7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdUcmFjayA9IHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgID8gaGFzVmlkZW8ocGFydGljaXBhbnQpXG4gICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgID8gaGFzU2NyZWVuU2hhcmUocGFydGljaXBhbnQpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIGNvbnN0IGlzSW52aXNpYmxlID0gdHJhY2tUeXBlID09PSAnbm9uZScgfHxcbiAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/Llt0cmFja1R5cGVdID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFO1xuICAgIGNvbnN0IGhhc05vVmlkZW9PckludmlzaWJsZSA9ICFpc1B1Ymxpc2hpbmdUcmFjayB8fCBpc0ludmlzaWJsZTtcbiAgICBjb25zdCBtaXJyb3JWaWRlbyA9IGlzTG9jYWxQYXJ0aWNpcGFudCAmJiB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJztcbiAgICBjb25zdCBpc1NjcmVlblNoYXJlVHJhY2sgPSB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJztcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFshaGFzTm9WaWRlb09ySW52aXNpYmxlICYmIChqc3goXCJ2aWRlb1wiLCB7IC4uLnJlc3QsIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX192aWRlbycsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tbm90LXBsYXlpbmcnOiBpc1ZpZGVvUGF1c2VkLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tdGFsbCc6ICFpc1dpZGVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tbWlycm9yJzogbWlycm9yVmlkZW8sXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1zY3JlZW4tc2hhcmUnOiBpc1NjcmVlblNoYXJlVHJhY2ssXG4gICAgICAgICAgICAgICAgfSksIFwiZGF0YS11c2VyLWlkXCI6IHVzZXJJZCwgXCJkYXRhLXNlc3Npb24taWRcIjogc2Vzc2lvbklkLCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcz8uc2V0VmlkZW9FbGVtZW50Py4oZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSB9KSksIChoYXNOb1ZpZGVvT3JJbnZpc2libGUgfHwgaXNWaWRlb1BhdXNlZCkgJiYgVmlkZW9QbGFjZWhvbGRlciAmJiAoanN4KFZpZGVvUGxhY2Vob2xkZXIsIHsgc3R5bGU6IHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCByZWY6IHJlZnM/LnNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50IH0pKV0gfSkpO1xufTtcblZpZGVvJDEuZGlzcGxheU5hbWUgPSAnVmlkZW8nO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBFeHRlbmRzIHZpZGVvIGVsZW1lbnQgd2l0aCBgc3RyZWFtYCBwcm9wZXJ0eVxuICogKGBzcmNPYmplY3RgKSB0byByZWFjdGl2ZWx5IGhhbmRsZSBzdHJlYW0gY2hhbmdlc1xuICovXG5jb25zdCBCYXNlVmlkZW8gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEJhc2VWaWRlbyh7IHN0cmVhbSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQgfHwgIXN0cmVhbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHN0cmVhbSA9PT0gdmlkZW9FbGVtZW50LnNyY09iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgaWYgKEJyb3dzZXJzLmlzU2FmYXJpKCkgfHwgQnJvd3NlcnMuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggYW5kIFNhZmFyaSBoYXZlIHNvbWUgdGltaW5nIGlzc3VlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcInZpZGVvXCIsIHsgYXV0b1BsYXk6IHRydWUsIHBsYXlzSW5saW5lOiB0cnVlLCAuLi5yZXN0LCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhcHBseUVsZW1lbnRUb1JlZihyZWYsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9IH0pKTtcbn0pO1xuXG5jb25zdCBEZWZhdWx0RGlzYWJsZWRWaWRlb1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyX3ZpZGVvX192aWRlby1wcmV2aWV3X19kaXNhYmxlZC12aWRlby1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdWaWRlbyBpcyBkaXNhYmxlZCcpIH0pKTtcbn07XG5jb25zdCBEZWZhdWx0Tm9DYW1lcmFQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fbm8tY2FtZXJhLXByZXZpZXdcIiwgY2hpbGRyZW46IHQoJ05vIGNhbWVyYSBmb3VuZCcpIH0pKTtcbn07XG5jb25zdCBWaWRlb1ByZXZpZXcgPSAoeyBjbGFzc05hbWUsIG1pcnJvciA9IHRydWUsIERpc2FibGVkVmlkZW9QcmV2aWV3ID0gRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3LCBOb0NhbWVyYVByZXZpZXcgPSBEZWZhdWx0Tm9DYW1lcmFQcmV2aWV3LCBTdGFydGluZ0NhbWVyYVByZXZpZXcgPSBMb2FkaW5nSW5kaWNhdG9yLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGRldmljZXMsIHN0YXR1cywgaXNNdXRlLCBtZWRpYVN0cmVhbSB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBsZXQgY29udGVudHM7XG4gICAgaWYgKGlzTXV0ZSAmJiBkZXZpY2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goTm9DYW1lcmFQcmV2aWV3LCB7fSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIGNvbnN0IGxvYWRpbmcgPSAhbWVkaWFTdHJlYW07XG4gICAgICAgIGNvbnRlbnRzID0gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFttZWRpYVN0cmVhbSAmJiAoanN4KEJhc2VWaWRlbywgeyBzdHJlYW06IG1lZGlhU3RyZWFtLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXctLW1pcnJvcic6IG1pcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXctLWxvYWRpbmcnOiBsb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgICB9KSB9KSksIGxvYWRpbmcgJiYganN4KFN0YXJ0aW5nQ2FtZXJhUHJldmlldywge30pXSB9KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50cyA9IGpzeChEaXNhYmxlZFZpZGVvUHJldmlldywge30pO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LWNvbnRhaW5lcicsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBjb250ZW50cyB9KSk7XG59O1xuXG5jb25zdCBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50LCB2aWRlb0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbk1vZGVPbiwgc2V0RnVsbHNjcmVlbk1vZGVPbl0gPSB1c2VTdGF0ZSghIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICBjb25zdCBbcGljdHVyZUluUGljdHVyZUVsZW1lbnQsIHNldFBpY3R1cmVJblBpY3R1cmVFbGVtZW50XSA9IHVzZVN0YXRlKGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50KTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgcGluLCBzZXNzaW9uSWQsIHVzZXJJZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlVHJhY2sgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgYmxvY2tVc2VyID0gKCkgPT4gY2FsbD8uYmxvY2tVc2VyKHVzZXJJZCk7XG4gICAgY29uc3QgbXV0ZUF1ZGlvID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnYXVkaW8nKTtcbiAgICBjb25zdCBtdXRlVmlkZW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICd2aWRlbycpO1xuICAgIGNvbnN0IG11dGVTY3JlZW5TaGFyZSA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3NjcmVlbnNoYXJlJyk7XG4gICAgY29uc3QgbXV0ZVNjcmVlblNoYXJlQXVkaW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdzY3JlZW5zaGFyZV9hdWRpbycpO1xuICAgIGNvbnN0IGdyYW50UGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogW3Blcm1pc3Npb25dLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJldm9rZVBlcm1pc3Npb24gPSAocGVybWlzc2lvbikgPT4gKCkgPT4ge1xuICAgICAgICBjYWxsPy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlUGFydGljaXBhbnRQaW4gPSAoKSA9PiB7XG4gICAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgICAgIGNhbGw/LnVucGluKHNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsPy5waW4oc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGluRm9yRXZlcnlvbmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGxcbiAgICAgICAgICAgID8ucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwaW4gcGFydGljaXBhbnQgJHt1c2VySWR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1bnBpbkZvckV2ZXJ5b25lID0gKCkgPT4ge1xuICAgICAgICBjYWxsXG4gICAgICAgICAgICA/LnVucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1bnBpbiBwYXJ0aWNpcGFudCAke3VzZXJJZH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWZ1bGxzY3JlZW5Nb2RlT24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudFZpZXdFbGVtZW50Py5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gaGFuZGxlcyB0aGUgY2FzZSB3aGVuIGZ1bGxzY3JlZW4gbW9kZSBpcyB0b2dnbGVkIGV4dGVybmFsbHksXG4gICAgICAgIC8vIGUuZy4sIGJ5IHByZXNzaW5nIEVTQyBrZXkgb3Igc29tZSBvdGhlciBrZXlib2FyZCBzaG9ydGN1dFxuICAgICAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbk1vZGVPbighIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlUGlQID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0UGljdHVyZUluUGljdHVyZUVsZW1lbnQoZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZW50ZXJwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xlYXZlcGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW50ZXJwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICB9O1xuICAgIH0sIFt2aWRlb0VsZW1lbnRdKTtcbiAgICBjb25zdCB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlID0gKCkgPT4ge1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50ICYmIHBpY3R1cmVJblBpY3R1cmVFbGVtZW50ICE9PSB2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWRlb0VsZW1lbnRcbiAgICAgICAgICAgICAgICAucmVxdWVzdFBpY3R1cmVJblBpY3R1cmUoKVxuICAgICAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9O1xuICAgIGNvbnN0IHsgY2xvc2UgfSA9IHVzZU1lbnVDb250ZXh0KCkgfHwge307XG4gICAgcmV0dXJuIChqc3hzKEdlbmVyaWNNZW51LCB7IG9uSXRlbUNsaWNrOiBjbG9zZSwgY2hpbGRyZW46IFtqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB0b2dnbGVQYXJ0aWNpcGFudFBpbiwgZGlzYWJsZWQ6IHBpbiAmJiAhcGluLmlzTG9jYWxQaW4sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJwaW5cIiB9KSwgcGluID8gdCgnVW5waW4nKSA6IHQoJ1BpbicpXSB9KSwganN4cyhSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5QSU5fRk9SX0VWRVJZT05FXSwgY2hpbGRyZW46IFtqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBwaW5Gb3JFdmVyeW9uZSwgZGlzYWJsZWQ6IHBpbiAmJiAhcGluLmlzTG9jYWxQaW4sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJwaW5cIiB9KSwgdCgnUGluIGZvciBldmVyeW9uZScpXSB9KSwganN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdW5waW5Gb3JFdmVyeW9uZSwgZGlzYWJsZWQ6ICFwaW4gfHwgcGluLmlzTG9jYWxQaW4sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJwaW5cIiB9KSwgdCgnVW5waW4gZm9yIGV2ZXJ5b25lJyldIH0pXSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkJMT0NLX1VTRVJTXSwgY2hpbGRyZW46IGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGJsb2NrVXNlciwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcIm5vdC1hbGxvd2VkXCIgfSksIHQoJ0Jsb2NrJyldIH0pIH0pLCBqc3hzKFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5Lk1VVEVfVVNFUlNdLCBjaGlsZHJlbjogW2hhc1ZpZGVvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVWaWRlbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcImNhbWVyYS1vZmYtb3V0bGluZVwiIH0pLCB0KCdUdXJuIG9mZiB2aWRlbycpXSB9KSksIGhhc1NjcmVlblNoYXJlVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVTY3JlZW5TaGFyZSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInNjcmVlbi1zaGFyZS1vZmZcIiB9KSwgdCgnVHVybiBvZmYgc2NyZWVuIHNoYXJlJyldIH0pKSwgaGFzQXVkaW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZUF1ZGlvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm8tYXVkaW9cIiB9KSwgdCgnTXV0ZSBhdWRpbycpXSB9KSksIGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVNjcmVlblNoYXJlQXVkaW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJuby1hdWRpb1wiIH0pLCB0KCdNdXRlIHNjcmVlbiBzaGFyZSBhdWRpbycpXSB9KSldIH0pLCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50ICYmIChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlLCBjaGlsZHJlbjogdCgne3sgZGlyZWN0aW9uIH19IGZ1bGxzY3JlZW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZnVsbHNjcmVlbk1vZGVPbiA/IHQoJ0xlYXZlJykgOiB0KCdFbnRlcicpLFxuICAgICAgICAgICAgICAgIH0pIH0pKSwgdmlkZW9FbGVtZW50ICYmIGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkICYmIChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUsIGNoaWxkcmVuOiB0KCd7eyBkaXJlY3Rpb24gfX0gcGljdHVyZS1pbi1waWN0dXJlJywge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHBpY3R1cmVJblBpY3R1cmVFbGVtZW50ID09PSB2aWRlb0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnTGVhdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0KCdFbnRlcicpLFxuICAgICAgICAgICAgICAgIH0pIH0pKSwganN4cyhSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OU10sIGNoaWxkcmVuOiBbanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSwgY2hpbGRyZW46IHQoJ0FsbG93IGF1ZGlvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyksIGNoaWxkcmVuOiB0KCdBbGxvdyB2aWRlbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSwgY2hpbGRyZW46IHQoJ0FsbG93IHNjcmVlbiBzaGFyaW5nJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pLCBjaGlsZHJlbjogdCgnRGlzYWJsZSBhdWRpbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgdmlkZW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpLCBjaGlsZHJlbjogdCgnRGlzYWJsZSBzY3JlZW4gc2hhcmluZycpIH0pXSB9KV0gfSkpO1xufTtcblxuY29uc3QgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9ICh7IHRyYWNrZWRFbGVtZW50LCBkeW5hc2NhbGVNYW5hZ2VyOiBwcm9wc0R5bmFzY2FsZU1hbmFnZXIsIHNlc3Npb25JZCwgdHJhY2tUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBtYW5hZ2VyID0gcHJvcHNEeW5hc2NhbGVNYW5hZ2VyID8/IGNhbGw/LmR5bmFzY2FsZU1hbmFnZXI7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0cmFja2VkRWxlbWVudCB8fCAhbWFuYWdlciB8fCAhY2FsbCB8fCB0cmFja1R5cGUgPT09ICdub25lJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5vYnNlcnZlID0gbWFuYWdlci50cmFja0VsZW1lbnRWaXNpYmlsaXR5KHRyYWNrZWRFbGVtZW50LCBzZXNzaW9uSWQsIHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bm9ic2VydmUoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdHJhY2tlZEVsZW1lbnQsIG1hbmFnZXIsIGNhbGwsIHNlc3Npb25JZCwgdHJhY2tUeXBlXSk7XG59O1xuXG5jb25zdCBUb2dnbGVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJlbGxpcHNpc1wiLCByZWY6IHJlZiB9KTtcbn0pO1xuY29uc3QgRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHN0b3BTY3JlZW5TaGFyZSA9ICgpID0+IHtcbiAgICAgICAgY2FsbD8uc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2NyZWVuLXNoYXJlLW92ZXJsYXlcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInNjcmVlbi1zaGFyZS1vZmZcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5X190aXRsZVwiLCBjaGlsZHJlbjogdCgnWW91IGFyZSBwcmVzZW50aW5nIHlvdXIgc2NyZWVuJykgfSksIGpzeHMoXCJidXR0b25cIiwgeyBvbkNsaWNrOiBzdG9wU2NyZWVuU2hhcmUsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5X19idXR0b25cIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcImNsb3NlXCIgfSksIFwiIFwiLCB0KCdTdG9wIFNjcmVlbiBTaGFyaW5nJyldIH0pXSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJID0gKHsgaW5kaWNhdG9yc1Zpc2libGUgPSB0cnVlLCBtZW51UGxhY2VtZW50ID0gJ2JvdHRvbS1zdGFydCcsIHNob3dNZW51QnV0dG9uID0gdHJ1ZSwgUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnU6IFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51JDEgPSBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmluZyA9IGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50KTtcbiAgICBpZiAocGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50ICYmXG4gICAgICAgIGlzU2NyZWVuU2hhcmluZyAmJlxuICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJykge1xuICAgICAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSwge30pLCBqc3goUGFydGljaXBhbnREZXRhaWxzLCB7IGluZGljYXRvcnNWaXNpYmxlOiBpbmRpY2F0b3JzVmlzaWJsZSB9KV0gfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzaG93TWVudUJ1dHRvbiAmJiAoanN4KE1lbnVUb2dnbGUsIHsgc3RyYXRlZ3k6IFwiZml4ZWRcIiwgcGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBUb2dnbGVCdXR0b246IFRvZ2dsZUJ1dHRvbiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxLCB7fSkgfSkpLCBqc3goUmVhY3Rpb24sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pLCBqc3goUGFydGljaXBhbnREZXRhaWxzLCB7IGluZGljYXRvcnNWaXNpYmxlOiBpbmRpY2F0b3JzVmlzaWJsZSB9KV0gfSkpO1xufTtcbmNvbnN0IFBhcnRpY2lwYW50RGV0YWlscyA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzTG9jYWxQYXJ0aWNpcGFudCwgY29ubmVjdGlvblF1YWxpdHksIHBpbiwgc2Vzc2lvbklkLCBuYW1lLCB1c2VySWQsIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmcgPSAhIWNvbm5lY3Rpb25RdWFsaXR5ICYmXG4gICAgICAgIFNmdU1vZGVscy5Db25uZWN0aW9uUXVhbGl0eVtjb25uZWN0aW9uUXVhbGl0eV0udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgY2FuVW5waW4gPSAhIXBpbiAmJiBwaW4uaXNMb2NhbFBpbjtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX25hbWVcIiwgY2hpbGRyZW46IFtuYW1lIHx8IHVzZXJJZCwgaW5kaWNhdG9yc1Zpc2libGUgJiYgIWhhc0F1ZGlvVHJhY2sgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS1hdWRpby1tdXRlZFwiIH0pKSwgaW5kaWNhdG9yc1Zpc2libGUgJiYgIWhhc1ZpZGVvVHJhY2sgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS12aWRlby1tdXRlZFwiIH0pKSwgaW5kaWNhdG9yc1Zpc2libGUgJiYgY2FuVW5waW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgbW9uc3Ryb3NpdHkgb25jZSB3ZSBoYXZlIGEgcHJvcGVyIGRlc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAganN4KFwic3BhblwiLCB7IHRpdGxlOiB0KCdVbnBpbicpLCBvbkNsaWNrOiAoKSA9PiBjYWxsPy51bnBpbihzZXNzaW9uSWQpLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS1waW5uZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGpzeChTcGVlY2hJbmRpY2F0b3IsIHt9KV0gfSkgfSksIGluZGljYXRvcnNWaXNpYmxlICYmIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogaXNMb2NhbFBhcnRpY2lwYW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5ID09PSBTZnVNb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkuUE9PUiwgbWVzc2FnZTogdCgnUG9vciBjb25uZWN0aW9uIHF1YWxpdHknKSwgY2hpbGRyZW46IGNvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmcgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fY29ubmVjdGlvbi1xdWFsaXR5JywgYHN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fY29ubmVjdGlvbi1xdWFsaXR5LS0ke2Nvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmd9YCksIHRpdGxlOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nIH0pKSB9KSldIH0pKTtcbn07XG5jb25zdCBTcGVlY2hJbmRpY2F0b3IgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgaXNTcGVha2luZywgaXNEb21pbmFudFNwZWFrZXIgfSA9IHBhcnRpY2lwYW50O1xuICAgIHJldHVybiAoanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcicsIGlzU3BlYWtpbmcgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tc3BlYWtpbmcnLCBpc0RvbWluYW50U3BlYWtlciAmJiAnc3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yLS1kb21pbmFudCcpLCBjaGlsZHJlbjogW2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IFBhcnRpY2lwYW50VmlldyA9IGZvcndhcmRSZWYoZnVuY3Rpb24gUGFydGljaXBhbnRWaWV3KHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSA9ICd2aWRlb1RyYWNrJywgbXV0ZUF1ZGlvLCByZWZzOiB7IHNldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSA9IHt9LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCB9LCByZWYpIHtcbiAgICBjb25zdCB7IGlzTG9jYWxQYXJ0aWNpcGFudCwgaXNTcGVha2luZywgaXNEb21pbmFudFNwZWFrZXIsIHNlc3Npb25JZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayA9IGhhc1NjcmVlblNoYXJlQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IFt0cmFja2VkRWxlbWVudCwgc2V0VHJhY2tlZEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NvbnRleHRWaWRlb0VsZW1lbnQsIHNldENvbnRleHRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCwgc2V0Q29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIFRPRE86IGFsbG93IHRvIHBhc3MgY3VzdG9tIFZpZXdwb3J0VHJhY2tlciBpbnN0YW5jZSBmcm9tIHByb3BzXG4gICAgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSh7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHBhcnRpY2lwYW50LFxuICAgICAgICBwYXJ0aWNpcGFudFZpZXdFbGVtZW50OiB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdmlkZW9FbGVtZW50OiBjb250ZXh0VmlkZW9FbGVtZW50LFxuICAgICAgICB2aWRlb1BsYWNlaG9sZGVyRWxlbWVudDogY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgfSksIFtcbiAgICAgICAgY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICBdKTtcbiAgICBjb25zdCB2aWRlb1JlZnMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHNldFZpZGVvRWxlbWVudDogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH0pLCBbc2V0VmlkZW9FbGVtZW50LCBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcInBhcnRpY2lwYW50LXZpZXdcIiwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgYXBwbHlFbGVtZW50VG9SZWYocmVmLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHNldFRyYWNrZWRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldycsIGlzRG9taW5hbnRTcGVha2VyICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLWRvbWluYW50LXNwZWFrZXInLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLXNwZWFraW5nJywgIWhhc1ZpZGVvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tdmlkZW8nLCAhaGFzQXVkaW9UcmFjayAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1uby1hdWRpbycsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBqc3hzKFBhcnRpY2lwYW50Vmlld0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHBhcnRpY2lwYW50Vmlld0NvbnRleHRWYWx1ZSwgY2hpbGRyZW46IFshaXNMb2NhbFBhcnRpY2lwYW50ICYmICFtdXRlQXVkaW8gJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtoYXNBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwiYXVkaW9UcmFja1wiIH0pKSwgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwic2NyZWVuU2hhcmVBdWRpb1RyYWNrXCIgfSkpXSB9KSksIGpzeChWaWRlbyQxLCB7IFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiB0cmFja1R5cGUsIHJlZnM6IHZpZGVvUmVmcywgYXV0b1BsYXk6IHRydWUgfSksIGlzQ29tcG9uZW50VHlwZShQYXJ0aWNpcGFudFZpZXdVSSkgPyAoanN4KFBhcnRpY2lwYW50Vmlld1VJLCB7fSkpIDogKFBhcnRpY2lwYW50Vmlld1VJKV0gfSkgfSkpO1xufSk7XG5QYXJ0aWNpcGFudFZpZXcuZGlzcGxheU5hbWUgPSAnUGFydGljaXBhbnRWaWV3JztcblxuLy8gcmUtZXhwb3J0aW5nIHRoZSBTdHJlYW1DYWxsUHJvdmlkZXIgYXMgU3RyZWFtQ2FsbFxuY29uc3QgU3RyZWFtQ2FsbCA9IFN0cmVhbUNhbGxQcm92aWRlcjtcblN0cmVhbUNhbGwuZGlzcGxheU5hbWUgPSAnU3RyZWFtQ2FsbCc7XG5cbnZhciBKb2luaW5nID0gXCJKb2luaW5nXCI7XG52YXIgTWljID0gXCJNaWNcIjtcbnZhciBSaW5naW5nID0gXCJSaW5naW5nXCI7XG52YXIgU3BlYWtlcnMgPSBcIlNwZWFrZXJzXCI7XG52YXIgVmlkZW8gPSBcIlZpZGVvXCI7XG52YXIgTGl2ZSA9IFwiTGl2ZVwiO1xudmFyIFJlYWN0aW9ucyA9IFwiUmVhY3Rpb25zXCI7XG52YXIgU3RhdGlzdGljcyA9IFwiU3RhdGlzdGljc1wiO1xudmFyIEludml0ZSA9IFwiSW52aXRlXCI7XG52YXIgSm9pbiA9IFwiSm9pblwiO1xudmFyIFlvdSA9IFwiWW91XCI7XG52YXIgTWUgPSBcIk1lXCI7XG52YXIgVW5rbm93biA9IFwiVW5rbm93blwiO1xudmFyIFJlZnJlc2ggPSBcIlJlZnJlc2hcIjtcbnZhciBBbGxvdyA9IFwiQWxsb3dcIjtcbnZhciBSZXZva2UgPSBcIlJldm9rZVwiO1xudmFyIERpc21pc3MgPSBcIkRpc21pc3NcIjtcbnZhciBQaW5uZWQgPSBcIlBpbm5lZFwiO1xudmFyIFVucGluID0gXCJVbnBpblwiO1xudmFyIFBpbiA9IFwiUGluXCI7XG52YXIgQmxvY2sgPSBcIkJsb2NrXCI7XG52YXIgRW50ZXIgPSBcIkVudGVyXCI7XG52YXIgTGVhdmUgPSBcIkxlYXZlXCI7XG52YXIgUGFydGljaXBhbnRzID0gXCJQYXJ0aWNpcGFudHNcIjtcbnZhciBBbm9ueW1vdXMgPSBcIiwgYW5kICh7eyBjb3VudCB9fSkgYW5vbnltb3VzXCI7XG52YXIgZW4gPSB7XG5cdEpvaW5pbmc6IEpvaW5pbmcsXG5cdE1pYzogTWljLFxuXHRcIk5vIGludGVybmV0IGNvbm5lY3Rpb25cIjogXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uXCIsXG5cdFwiUmUtY29ubmVjdGluZ1wiOiBcIlJlLWNvbm5lY3RpbmdcIixcblx0UmluZ2luZzogUmluZ2luZyxcblx0XCJTY3JlZW4gU2hhcmVcIjogXCJTY3JlZW4gU2hhcmVcIixcblx0XCJTZWxlY3QgYSBDYW1lcmFcIjogXCJTZWxlY3QgYSBDYW1lcmFcIixcblx0XCJTZWxlY3QgYSBNaWNcIjogXCJTZWxlY3QgYSBNaWNcIixcblx0XCJTZWxlY3QgU3BlYWtlcnNcIjogXCJTZWxlY3QgU3BlYWtlcnNcIixcblx0U3BlYWtlcnM6IFNwZWFrZXJzLFxuXHRWaWRlbzogVmlkZW8sXG5cdFwiWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLlwiOiBcIllvdSBhcmUgbXV0ZWQuIFVubXV0ZSB0byBzcGVhay5cIixcblx0TGl2ZTogTGl2ZSxcblx0XCJZb3UgY2FuIG5vdyBzcGVhay5cIjogXCJZb3UgY2FuIG5vdyBzcGVhay5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi5cIjogXCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLlwiLFxuXHRcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiOiBcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiLFxuXHRcIlJlY29yZCBjYWxsXCI6IFwiUmVjb3JkIGNhbGxcIixcblx0UmVhY3Rpb25zOiBSZWFjdGlvbnMsXG5cdFN0YXRpc3RpY3M6IFN0YXRpc3RpY3MsXG5cdFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiLFxuXHRcIlNoYXJlIHNjcmVlblwiOiBcIlNoYXJlIHNjcmVlblwiLFxuXHRcIkluY29taW5nIENhbGwuLi5cIjogXCJJbmNvbWluZyBDYWxsLi4uXCIsXG5cdFwiQ2FsbGluZy4uLlwiOiBcIkNhbGxpbmcuLi5cIixcblx0XCJNdXRlIEFsbFwiOiBcIk11dGUgQWxsXCIsXG5cdEludml0ZTogSW52aXRlLFxuXHRKb2luOiBKb2luLFxuXHRZb3U6IFlvdSxcblx0TWU6IE1lLFxuXHRVbmtub3duOiBVbmtub3duLFxuXHRcIlRvZ2dsZSBkZXZpY2UgbWVudVwiOiBcIlRvZ2dsZSBkZXZpY2UgbWVudVwiLFxuXHRcIkNhbGwgUmVjb3JkaW5nc1wiOiBcIkNhbGwgUmVjb3JkaW5nc1wiLFxuXHRSZWZyZXNoOiBSZWZyZXNoLFxuXHRcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiOiBcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiLFxuXHRcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiOiBcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiLFxuXHRcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiOiBcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiLFxuXHRcIlN0b3AgU2NyZWVuIFNoYXJpbmdcIjogXCJTdG9wIFNjcmVlbiBTaGFyaW5nXCIsXG5cdEFsbG93OiBBbGxvdyxcblx0UmV2b2tlOiBSZXZva2UsXG5cdERpc21pc3M6IERpc21pc3MsXG5cdFwiTWljcm9waG9uZSBvblwiOiBcIk1pY3JvcGhvbmUgb25cIixcblx0XCJNaWNyb3Bob25lIG9mZlwiOiBcIk1pY3JvcGhvbmUgb2ZmXCIsXG5cdFwiQ2FtZXJhIG9uXCI6IFwiQ2FtZXJhIG9uXCIsXG5cdFwiQ2FtZXJhIG9mZlwiOiBcIkNhbWVyYSBvZmZcIixcblx0XCJObyBjYW1lcmEgZm91bmRcIjogXCJObyBjYW1lcmEgZm91bmRcIixcblx0XCJWaWRlbyBpcyBkaXNhYmxlZFwiOiBcIlZpZGVvIGlzIGRpc2FibGVkXCIsXG5cdFBpbm5lZDogUGlubmVkLFxuXHRVbnBpbjogVW5waW4sXG5cdFBpbjogUGluLFxuXHRcIlBpbiBmb3IgZXZlcnlvbmVcIjogXCJQaW4gZm9yIGV2ZXJ5b25lXCIsXG5cdFwiVW5waW4gZm9yIGV2ZXJ5b25lXCI6IFwiVW5waW4gZm9yIGV2ZXJ5b25lXCIsXG5cdEJsb2NrOiBCbG9jayxcblx0XCJUdXJuIG9mZiB2aWRlb1wiOiBcIlR1cm4gb2ZmIHZpZGVvXCIsXG5cdFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCI6IFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCIsXG5cdFwiTXV0ZSBhdWRpb1wiOiBcIk11dGUgYXVkaW9cIixcblx0XCJNdXRlIHNjcmVlbiBzaGFyZSBhdWRpb1wiOiBcIk11dGUgc2NyZWVuIHNoYXJlIGF1ZGlvXCIsXG5cdFwiQWxsb3cgYXVkaW9cIjogXCJBbGxvdyBhdWRpb1wiLFxuXHRcIkFsbG93IHZpZGVvXCI6IFwiQWxsb3cgdmlkZW9cIixcblx0XCJBbGxvdyBzY3JlZW4gc2hhcmluZ1wiOiBcIkFsbG93IHNjcmVlbiBzaGFyaW5nXCIsXG5cdFwiRGlzYWJsZSBhdWRpb1wiOiBcIkRpc2FibGUgYXVkaW9cIixcblx0XCJEaXNhYmxlIHZpZGVvXCI6IFwiRGlzYWJsZSB2aWRlb1wiLFxuXHRcIkRpc2FibGUgc2NyZWVuIHNoYXJpbmdcIjogXCJEaXNhYmxlIHNjcmVlbiBzaGFyaW5nXCIsXG5cdEVudGVyOiBFbnRlcixcblx0TGVhdmU6IExlYXZlLFxuXHRcIkxlYXZlIGNhbGxcIjogXCJMZWF2ZSBjYWxsXCIsXG5cdFwiRW5kIGNhbGwgZm9yIGFsbFwiOiBcIkVuZCBjYWxsIGZvciBhbGxcIixcblx0XCJ7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlblwiOiBcInt7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuXCIsXG5cdFwie3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZVwiOiBcInt7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmVcIixcblx0XCJEb21pbmFudCBTcGVha2VyXCI6IFwiRG9taW5hbnQgU3BlYWtlclwiLFxuXHRcIlBvb3IgY29ubmVjdGlvbiBxdWFsaXR5XCI6IFwiUG9vciBjb25uZWN0aW9uIHF1YWxpdHkuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCIsXG5cdFBhcnRpY2lwYW50czogUGFydGljaXBhbnRzLFxuXHRBbm9ueW1vdXM6IEFub255bW91cyxcblx0XCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIjogXCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIixcblx0XCJQYXJ0aWNpcGFudHMgKHt7IG51bWJlck9mUGFydGljaXBhbnRzIH19KVwiOiBcIlBhcnRpY2lwYW50cyAoe3sgbnVtYmVyT2ZQYXJ0aWNpcGFudHMgfX0pXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgc2hhcmluZyB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyBzaGFyaW5nIHRoZWlyIHNjcmVlblwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc3BlYWtcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmFcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNoYXJlIHRoZWlyIGNhbWVyYVwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCJcbn07XG5cbmNvbnN0IHRyYW5zbGF0aW9ucyA9IHsgZW4gfTtcblxuY29uc3QgU3RyZWFtVmlkZW8gPSAocHJvcHMpID0+IHtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1WaWRlb1Byb3ZpZGVyLCB7IHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zLCAuLi5wcm9wcyB9KSk7XG59O1xuU3RyZWFtVmlkZW8uZGlzcGxheU5hbWUgPSAnU3RyZWFtVmlkZW8nO1xuXG5jb25zdCB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsXSk7XG59O1xuY29uc3QgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSAoY2FsbCwgaXNPbmVPbk9uZUNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGFsd2F5cyBzaG93IHRoZSByZW1vdGUgcGFydGljaXBhbnQgaW4gdGhlIHNwb3RsaWdodFxuICAgICAgICBpZiAoaXNPbmVPbk9uZUNhbGwpIHtcbiAgICAgICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNvbWJpbmVDb21wYXJhdG9ycyhzY3JlZW5TaGFyaW5nLCBsb2dnZWRJbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoc3BlYWtlckxheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNldFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzT25lT25PbmVDYWxsXSk7XG59O1xuY29uc3QgcmVzZXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICAvLyByZXNldCB0aGUgc29ydGluZyB0byB0aGUgZGVmYXVsdCBmb3IgdGhlIGNhbGwgdHlwZVxuICAgIGNvbnN0IGNhbGxDb25maWcgPSBDYWxsVHlwZXMuZ2V0KGNhbGwudHlwZSk7XG4gICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoY2FsbENvbmZpZy5vcHRpb25zLnNvcnRQYXJ0aWNpcGFudHNCeSB8fCBkZWZhdWx0U29ydFByZXNldCk7XG59O1xuY29uc3QgbG9nZ2VkSW4gPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmlzTG9jYWxQYXJ0aWNpcGFudClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGIuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBMaXZlc3RyZWFtTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cywgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgW2N1cnJlbnRTcGVha2VyXSA9IHBhcnRpY2lwYW50cztcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBoYXNPbmdvaW5nU2NyZWVuU2hhcmVcbiAgICAgICAgPyBwYXJ0aWNpcGFudHMuZmluZChoYXNTY3JlZW5TaGFyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldChjYWxsKTtcbiAgICBjb25zdCBPdmVybGF5ID0gKGpzeChQYXJ0aWNpcGFudE92ZXJsYXksIHsgc2hvd1BhcnRpY2lwYW50Q291bnQ6IHByb3BzLnNob3dQYXJ0aWNpcGFudENvdW50LCBzaG93RHVyYXRpb246IHByb3BzLnNob3dEdXJhdGlvbiwgc2hvd0xpdmVCYWRnZTogcHJvcHMuc2hvd0xpdmVCYWRnZSwgc2hvd1NwZWFrZXJOYW1lOiBwcm9wcy5zaG93U3BlYWtlck5hbWUgfSkpO1xuICAgIGNvbnN0IHsgZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBGbG9hdGluZ1BhcnRpY2lwYW50T3ZlcmxheSA9IGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJiAoanN4KFBhcnRpY2lwYW50T3ZlcmxheVxuICAgIC8vIHRoZXNlIGVsZW1lbnRzIGFyZW4ndCBuZWVkZWQgZm9yIHRoZSB2aWRlbyBmZWVkXG4gICAgLCB7IFxuICAgICAgICAvLyB0aGVzZSBlbGVtZW50cyBhcmVuJ3QgbmVlZGVkIGZvciB0aGUgdmlkZW8gZmVlZFxuICAgICAgICBzaG93UGFydGljaXBhbnRDb3VudDogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93UGFydGljaXBhbnRDb3VudCA/PyBmYWxzZSwgc2hvd0R1cmF0aW9uOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dEdXJhdGlvbiA/PyBmYWxzZSwgc2hvd0xpdmVCYWRnZTogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93TGl2ZUJhZGdlID8/IGZhbHNlLCBzaG93U3BlYWtlck5hbWU6IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd1NwZWFrZXJOYW1lID8/IHRydWUgfSkpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X193cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiYgcHJlc2VudGVyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19zY3JlZW4tc2hhcmVcIiwgcGFydGljaXBhbnQ6IHByZXNlbnRlciwgUGFydGljaXBhbnRWaWV3VUk6IE92ZXJsYXksIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZVRyYWNrXCIsIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSksIGN1cnJlbnRTcGVha2VyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogY2xzeChoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xzeCgnc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQnLCBgc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQtLSR7ZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5wb3NpdGlvbiA/PyAndG9wLXJpZ2h0J31gKSksIHBhcnRpY2lwYW50OiBjdXJyZW50U3BlYWtlciwgUGFydGljaXBhbnRWaWV3VUk6IEZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5IHx8IE92ZXJsYXksIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSldIH0pKTtcbn07XG5jb25zdCBQYXJ0aWNpcGFudE92ZXJsYXkgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGVuYWJsZUZ1bGxTY3JlZW4gPSB0cnVlLCBzaG93UGFydGljaXBhbnRDb3VudCA9IHRydWUsIHNob3dEdXJhdGlvbiA9IHRydWUsIHNob3dMaXZlQmFkZ2UgPSB0cnVlLCBzaG93U3BlYWtlck5hbWUgPSBmYWxzZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50Q291bnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRDb3VudCA9IHVzZVBhcnRpY2lwYW50Q291bnQoKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHVzZVVwZGF0ZUNhbGxEdXJhdGlvbigpO1xuICAgIGNvbnN0IHRvZ2dsZUZ1bGxTY3JlZW4gPSB1c2VUb2dnbGVGdWxsU2NyZWVuKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fb3ZlcmxheVwiLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19vdmVybGF5X19iYXJcIiwgY2hpbGRyZW46IFtzaG93TGl2ZUJhZGdlICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2xpdmUtYmFkZ2VcIiwgY2hpbGRyZW46IHQoJ0xpdmUnKSB9KSksIHNob3dQYXJ0aWNpcGFudENvdW50ICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3ZpZXdlcnMtY291bnRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50Q291bnQgfSkpLCBzaG93U3BlYWtlck5hbWUgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fc3BlYWtlci1uYW1lXCIsIHRpdGxlOiBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCAnJywgY2hpbGRyZW46IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8ICcnIH0pKSwgc2hvd0R1cmF0aW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2R1cmF0aW9uXCIsIGNoaWxkcmVuOiBmb3JtYXREdXJhdGlvbihkdXJhdGlvbikgfSkpLCBlbmFibGVGdWxsU2NyZWVuICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2dvLWZ1bGxzY3JlZW5cIiwgb25DbGljazogdG9nZ2xlRnVsbFNjcmVlbiB9KSldIH0pIH0pKTtcbn07XG5MaXZlc3RyZWFtTGF5b3V0LmRpc3BsYXlOYW1lID0gJ0xpdmVzdHJlYW1MYXlvdXQnO1xuY29uc3QgdXNlVXBkYXRlQ2FsbER1cmF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXNlSXNDYWxsTGl2ZSwgdXNlQ2FsbFNlc3Npb24gfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaXNDYWxsTGl2ZSA9IHVzZUlzQ2FsbExpdmUoKTtcbiAgICBjb25zdCBzZXNzaW9uID0gdXNlQ2FsbFNlc3Npb24oKTtcbiAgICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLmxpdmVfc3RhcnRlZF9hdClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjb25zdCBsaXZlU3RhcnRUaW1lID0gbmV3IERhdGUoc2Vzc2lvbi5saXZlX3N0YXJ0ZWRfYXQpO1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGxpdmVTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDApO1xuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNDYWxsTGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBzZXREdXJhdGlvbigoZCkgPT4gZCArIDEpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc0NhbGxMaXZlXSk7XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xufTtcbmNvbnN0IHVzZVRvZ2dsZUZ1bGxTY3JlZW4gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudFZpZXdFbGVtZW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICByZXR1cm4gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQ/LnJlcXVlc3RGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNGdWxsc2NyZWVuLCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50XSk7XG59O1xuY29uc3QgZm9ybWF0RHVyYXRpb24gPSAoZHVyYXRpb25Jbk1zKSA9PiB7XG4gICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZHVyYXRpb25Jbk1zIC8gODY0MDApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkdXJhdGlvbkluTXMgLyAzNjAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoZHVyYXRpb25Jbk1zICUgMzYwMCkgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IGR1cmF0aW9uSW5NcyAlIDYwO1xuICAgIHJldHVybiBgJHtkYXlzID8gZGF5cyArICcgJyA6ICcnfSR7aG91cnMgPyBob3VycyArICc6JyA6ICcnfSR7bWludXRlcyA8IDEwID8gJzAnIDogJyd9JHttaW51dGVzfToke3NlY29uZHMgPCAxMCA/ICcwJyA6ICcnfSR7c2Vjb25kc31gO1xufTtcblxuY29uc3QgR1JPVVBfU0laRSA9IDE2O1xuY29uc3QgUGFnaW5hdGVkR3JpZExheW91dEdyb3VwID0gKHsgZ3JvdXAsIFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0X19ncm91cCcsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dC0tb25lJzogZ3JvdXAubGVuZ3RoID09PSAxLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS10d28tZm91cic6IGdyb3VwLmxlbmd0aCA+PSAyICYmIGdyb3VwLmxlbmd0aCA8PSA0LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS1maXZlLW5pbmUnOiBncm91cC5sZW5ndGggPj0gNSAmJiBncm91cC5sZW5ndGggPD0gOSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBncm91cC5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIG11dGVBdWRpbzogdHJ1ZSwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJIH0sIHBhcnRpY2lwYW50LnNlc3Npb25JZCkpKSB9KSk7XG59O1xuY29uc3QgUGFnaW5hdGVkR3JpZExheW91dCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZ3JvdXBTaXplID0gKHByb3BzLmdyb3VwU2l6ZSB8fCAwKSA+IDBcbiAgICAgICAgPyBwcm9wcy5ncm91cFNpemUgfHwgR1JPVVBfU0laRVxuICAgICAgICA6IEdST1VQX1NJWkUsIGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0gPSBwcm9wcztcbiAgICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbcGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICAvLyB1c2VkIHRvIHJlbmRlciBhdWRpbyBlbGVtZW50c1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW3BhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIC8vIG9ubHkgdXNlZCB0byByZW5kZXIgdmlkZW8gZWxlbWVudHNcbiAgICBjb25zdCBwYXJ0aWNpcGFudEdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gY2h1bmsoZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPyByZW1vdGVQYXJ0aWNpcGFudHMgOiBwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZSksIFtleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCwgcmVtb3RlUGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZV0pO1xuICAgIGNvbnN0IHBhZ2VDb3VudCA9IHBhcnRpY2lwYW50R3JvdXBzLmxlbmd0aDtcbiAgICAvLyB1cGRhdGUgcGFnZSB3aGVuIHBhZ2UgY291bnQgaXMgcmVkdWNlZCBhbmQgc2VsZWN0ZWQgcGFnZSBubyBsb25nZXIgZXhpc3RzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UgPiBwYWdlQ291bnQgLSAxKSB7XG4gICAgICAgICAgICBzZXRQYWdlKE1hdGgubWF4KDAsIHBhZ2VDb3VudCAtIDEpKTtcbiAgICAgICAgfVxuICAgIH0sIFtwYWdlLCBwYWdlQ291bnRdKTtcbiAgICBjb25zdCBzZWxlY3RlZEdyb3VwID0gcGFydGljaXBhbnRHcm91cHNbcGFnZV07XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX3dyYXBwZXJcIiwgcmVmOiBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0XCIsIGNoaWxkcmVuOiBbcGFnZUFycm93c1Zpc2libGUgJiYgcGFnZUNvdW50ID4gMSAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGRpc2FibGVkOiBwYWdlID09PSAwLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlKChjdXJyZW50UGFnZSkgPT4gTWF0aC5tYXgoMCwgY3VycmVudFBhZ2UgLSAxKSkgfSkpLCBzZWxlY3RlZEdyb3VwICYmIChqc3goUGFnaW5hdGVkR3JpZExheW91dEdyb3VwLCB7IGdyb3VwOiBwYXJ0aWNpcGFudEdyb3Vwc1twYWdlXSwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJIH0pKSwgcGFnZUFycm93c1Zpc2libGUgJiYgcGFnZUNvdW50ID4gMSAmJiAoanN4KEljb25CdXR0b24sIHsgZGlzYWJsZWQ6IHBhZ2UgPT09IHBhZ2VDb3VudCAtIDEsIGljb246IFwiY2FyZXQtcmlnaHRcIiwgb25DbGljazogKCkgPT4gc2V0UGFnZSgoY3VycmVudFBhZ2UpID0+IE1hdGgubWluKHBhZ2VDb3VudCAtIDEsIGN1cnJlbnRQYWdlICsgMSkpIH0pKV0gfSldIH0pKTtcbn07XG5QYWdpbmF0ZWRHcmlkTGF5b3V0LmRpc3BsYXlOYW1lID0gJ1BhZ2luYXRlZEdyaWRMYXlvdXQnO1xuXG5jb25zdCB1c2VDYWxjdWxhdGVIYXJkTGltaXQgPSAoXG4vKipcbiAqIEVsZW1lbnQgdGhhdCBzdHJldGNoZXMgdG8gMTAwJSBvZiB0aGUgd2hvbGUgbGF5b3V0IGNvbXBvbmVudFxuICovXG53cmFwcGVyRWxlbWVudCwgXG4vKipcbiAqIEVsZW1lbnQgdGhhdCBkaXJlY3RseSBob3N0cyBpbmRpdmlkdWFsIGBQYXJ0aWNpcGFudFZpZXdgIChvciB3cmFwcGVyKSBlbGVtZW50c1xuICovXG5ob3N0RWxlbWVudCwgbGltaXQpID0+IHtcbiAgICBjb25zdCBbY2FsY3VsYXRlZExpbWl0LCBzZXRDYWxjdWxhdGVkTGltaXRdID0gdXNlU3RhdGUoe1xuICAgICAgICB2ZXJ0aWNhbDogdHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJyA/IGxpbWl0IDogbnVsbCxcbiAgICAgICAgaG9yaXpvbnRhbDogdHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJyA/IGxpbWl0IDogbnVsbCxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWhvc3RFbGVtZW50IHx8XG4gICAgICAgICAgICAhd3JhcHBlckVsZW1lbnQgfHxcbiAgICAgICAgICAgIHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIHR5cGVvZiBsaW1pdCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBjaGlsZFdpZHRoID0gbnVsbDtcbiAgICAgICAgbGV0IGNoaWxkSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcnQgc2hvdWxkIGlkZWFsbHkgcnVuIGFzIGxpdHRsZSB0aW1lcyBhcyBwb3NzaWJsZVxuICAgICAgICAgICAgLy8gZ2V0IGNoaWxkIG1lYXN1cmVtZW50cyBhbmQgZGlzY29ubmVjdFxuICAgICAgICAgICAgLy8gZG9lcyBub3QgY29uc2lkZXIgZHluYW1pY2FsbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHRoaXMgaG9vayBpcyBmb3IgU3BlYWtlckxheW91dCB1c2Ugb25seSwgd2hlcmUgY2hpbGRyZW4gaW4gdGhlIGJhciBhcmUgZml4ZWQgc2l6ZVxuICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gaG9zdEVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSBjaGlsZC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkV2lkdGggPSBjaGlsZC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGhvc3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBrZWVwIHRoZSBzdGF0ZSBhdCB7IHZlcnRpY2FsOiAxLCBob3Jpem9udGFsOiAxIH1cbiAgICAgICAgICAgIC8vIHVudGlsIHdlIGdldCB0aGUgcHJvcGVyIGNoaWxkIG1lYXN1cmVtZW50c1xuICAgICAgICAgICAgaWYgKGNoaWxkSGVpZ2h0ID09PSBudWxsIHx8IGNoaWxkV2lkdGggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWwgPSBNYXRoLmZsb29yKHdyYXBwZXJFbGVtZW50LmNsaWVudEhlaWdodCAvIGNoaWxkSGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWwgPSBNYXRoLmZsb29yKHdyYXBwZXJFbGVtZW50LmNsaWVudFdpZHRoIC8gY2hpbGRXaWR0aCk7XG4gICAgICAgICAgICBzZXRDYWxjdWxhdGVkTGltaXQoKHB2KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHB2LnZlcnRpY2FsICE9PSB2ZXJ0aWNhbCB8fCBwdi5ob3Jpem9udGFsICE9PSBob3Jpem9udGFsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2ZXJ0aWNhbCwgaG9yaXpvbnRhbCB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBwdjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh3cmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoaG9zdEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtob3N0RWxlbWVudCwgbGltaXQsIHdyYXBwZXJFbGVtZW50XSk7XG4gICAgcmV0dXJuIGNhbGN1bGF0ZWRMaW1pdDtcbn07XG5cbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSUJhciA9ICgpID0+IChqc3goRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCB7IG1lbnVQbGFjZW1lbnQ6IFwidG9wLWVuZFwiIH0pKTtcbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSVNwb3RsaWdodCA9ICgpID0+IGpzeChEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIHt9KTtcbmNvbnN0IFNwZWFrZXJMYXlvdXQgPSAoeyBQYXJ0aWNpcGFudFZpZXdVSUJhciA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSUJhciwgUGFydGljaXBhbnRWaWV3VUlTcG90bGlnaHQgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlTcG90bGlnaHQsIFZpZGVvUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID0gJ2JvdHRvbScsIHBhcnRpY2lwYW50c0JhckxpbWl0LCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cywgdXNlUmVtb3RlUGFydGljaXBhbnRzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCAuLi5vdGhlclBhcnRpY2lwYW50c10gPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIHNldFBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudHNCYXJFbGVtZW50LCBzZXRQYXJ0aWNpcGFudHNCYXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtidXR0b25zV3JhcHBlckVsZW1lbnQsIHNldEJ1dHRvbnNXcmFwcGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBpc1NwZWFrZXJTY3JlZW5TaGFyaW5nID0gcGFydGljaXBhbnRJblNwb3RsaWdodCAmJiBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudEluU3BvdGxpZ2h0KTtcbiAgICBjb25zdCBoYXJkTGltaXQgPSB1c2VDYWxjdWxhdGVIYXJkTGltaXQoYnV0dG9uc1dyYXBwZXJFbGVtZW50LCBwYXJ0aWNpcGFudHNCYXJFbGVtZW50LCBwYXJ0aWNpcGFudHNCYXJMaW1pdCk7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAnbGVmdCcgfHwgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdyaWdodCc7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICd0b3AnIHx8IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAnYm90dG9tJztcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IHx8ICFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5zZXRWaWV3cG9ydChwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW3BhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50LCBjYWxsXSk7XG4gICAgY29uc3QgaXNPbmVPbk9uZUNhbGwgPSBvdGhlclBhcnRpY2lwYW50cy5sZW5ndGggPT09IDE7XG4gICAgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQoY2FsbCwgaXNPbmVPbk9uZUNhbGwpO1xuICAgIGxldCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0ID0gb3RoZXJQYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgaGFyZExpbWl0VG9BcHBseSA9IGlzVmVydGljYWxcbiAgICAgICAgPyBoYXJkTGltaXQudmVydGljYWxcbiAgICAgICAgOiBoYXJkTGltaXQuaG9yaXpvbnRhbDtcbiAgICBpZiAodHlwZW9mIHBhcnRpY2lwYW50c0JhckxpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cy5zbGljZSgwLCBcbiAgICAgICAgLy8gc3VidHJhY3QgMSBpZiBzcGVha2VyIGlzIHNoYXJpbmcgc2NyZWVuIGFzXG4gICAgICAgIC8vIHRoYXQgb25lIGlzIHJlbmRlcmVkIGluZGVwZW5kZW50bHkgZnJvbSBvdGhlclBhcnRpY2lwYW50cyBhcnJheVxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5IC0gKGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPyAxIDogMCkpO1xuICAgIH1cbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X193cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0JywgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgYHN0ci12aWRlb19fc3BlYWtlci1sYXlvdXQtLXZhcmlhbnQtJHtwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbn1gKSwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fc3BvdGxpZ2h0XCIsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0ICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCBtdXRlQXVkaW86IHRydWUsIHRyYWNrVHlwZTogaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/ICdzY3JlZW5TaGFyZVRyYWNrJyA6ICd2aWRlb1RyYWNrJywgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0LCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyIH0pKSB9KSwgcGFydGljaXBhbnRzV2l0aEFwcGxpZWRMaW1pdC5sZW5ndGggPiAwICYmIHBhcnRpY2lwYW50c0JhclBvc2l0aW9uICYmIChqc3hzKFwiZGl2XCIsIHsgcmVmOiBzZXRCdXR0b25zV3JhcHBlckVsZW1lbnQsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLWJ1dHRvbnMtd3JhcHBlclwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLXdyYXBwZXJcIiwgcmVmOiBzZXRQYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyByZWY6IHNldFBhcnRpY2lwYW50c0JhckVsZW1lbnQsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyXCIsIGNoaWxkcmVuOiBbaXNTcGVha2VyU2NyZWVuU2hhcmluZyAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50LXRpbGVcIiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50SW5TcG90bGlnaHQsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSUJhciwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgbXV0ZUF1ZGlvOiB0cnVlIH0pIH0sIHBhcnRpY2lwYW50SW5TcG90bGlnaHQuc2Vzc2lvbklkKSksIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBtdXRlQXVkaW86IHRydWUgfSkgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpXSB9KSB9KSwgaXNWZXJ0aWNhbCAmJiAoanN4KFZlcnRpY2FsU2Nyb2xsQnV0dG9ucywgeyBzY3JvbGxXcmFwcGVyOiBwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCB9KSksIGlzSG9yaXpvbnRhbCAmJiAoanN4KEhvcml6b250YWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKV0gfSkpXSB9KV0gfSkpO1xufTtcblNwZWFrZXJMYXlvdXQuZGlzcGxheU5hbWUgPSAnU3BlYWtlckxheW91dCc7XG5jb25zdCBIb3Jpem9udGFsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZUhvcml6b250YWxTY3JvbGxQb3NpdGlvbihzY3JvbGxXcmFwcGVyKTtcbiAgICBjb25zdCBzY3JvbGxTdGFydENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAtMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICBjb25zdCBzY3JvbGxFbmRDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIHNjcm9sbFdyYXBwZXI/LnNjcm9sbEJ5KHsgbGVmdDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3N0YXJ0JyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsU3RhcnRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtbGVmdFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWxlZnRcIiB9KSksIHNjcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnZW5kJyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsRW5kQ2xpY2tIYW5kbGVyLCBpY29uOiBcImNhcmV0LXJpZ2h0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tcmlnaHRcIiB9KSldIH0pKTtcbn07XG5jb25zdCBWZXJ0aWNhbFNjcm9sbEJ1dHRvbnMgPSAoeyBzY3JvbGxXcmFwcGVyLCB9KSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFRvcENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyB0b3A6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEJvdHRvbUNsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyB0b3A6IDE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICd0b3AnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxUb3BDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtdXBcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi10b3BcIiB9KSksIHNjcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnYm90dG9tJyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyLCBpY29uOiBcImNhcmV0LWRvd25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1ib3R0b21cIiB9KSldIH0pKTtcbn07XG5cbmNvbnN0IExpdmVzdHJlYW1QbGF5ZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNhbGxUeXBlLCBjYWxsSWQsIGxheW91dFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjbGllbnQgPSB1c2VTdHJlYW1WaWRlb0NsaWVudCgpO1xuICAgIGNvbnN0IFtjYWxsLCBzZXRDYWxsXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjbGllbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG15Q2FsbCA9IGNsaWVudC5jYWxsKGNhbGxUeXBlLCBjYWxsSWQpO1xuICAgICAgICBzZXRDYWxsKG15Q2FsbCk7XG4gICAgICAgIG15Q2FsbC5qb2luKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBqb2luIGNhbGwnLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBteUNhbGwubGVhdmUoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsJywgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldENhbGwodW5kZWZpbmVkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbElkLCBjYWxsVHlwZSwgY2xpZW50XSk7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtQ2FsbCwgeyBjYWxsOiBjYWxsLCBjaGlsZHJlbjoganN4KExpdmVzdHJlYW1MYXlvdXQsIHsgLi4ubGF5b3V0UHJvcHMgfSkgfSkpO1xufTtcblxuY29uc3QgW21ham9yLCBtaW5vciwgcGF0Y2hdID0gKFwiMS4yLjIzXCIgKS5zcGxpdCgnLicpO1xuc2V0U2RrSW5mbyh7XG4gICAgdHlwZTogU2Z1TW9kZWxzLlNka1R5cGUuUkVBQ1QsXG4gICAgbWFqb3IsXG4gICAgbWlub3IsXG4gICAgcGF0Y2gsXG59KTtcblxuZXhwb3J0IHsgQWNjZXB0Q2FsbEJ1dHRvbiwgQXVkaW8sIEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXIsIEJhc2VWaWRlbywgQ2FsbENvbnRyb2xzLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSwgQ2FsbFBhcnRpY2lwYW50c0xpc3QsIENhbGxQcmV2aWV3LCBDYWxsUmVjb3JkaW5nTGlzdCwgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgQ2FsbFN0YXRzLCBDYWxsU3RhdHNCdXR0b24sIENhbGxTdGF0c0xhdGVuY3lDaGFydCwgQ2FuY2VsQ2FsbEJ1dHRvbiwgQ2FuY2VsQ2FsbENvbmZpcm1CdXR0b24sIENvbXBvc2l0ZUJ1dHRvbiwgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBEZWZhdWx0UmVhY3Rpb25zTWVudSwgRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSwgRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIsIERldmljZVNlbGVjdG9yLCBEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIERldmljZVNlbGVjdG9yVmlkZW8sIERldmljZVNldHRpbmdzLCBEcm9wRG93blNlbGVjdCwgRHJvcERvd25TZWxlY3RPcHRpb24sIEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcsIEdlbmVyaWNNZW51LCBHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIEljb24sIEljb25CdXR0b24sIExpdmVzdHJlYW1MYXlvdXQsIExpdmVzdHJlYW1QbGF5ZXIsIExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdGluZywgTG9hZGluZ0luZGljYXRvciwgTWVudVRvZ2dsZSwgTWVudVZpc3VhbFR5cGUsIE5vaXNlQ2FuY2VsbGF0aW9uUHJvdmlkZXIsIE5vdGlmaWNhdGlvbiwgUGFnaW5hdGVkR3JpZExheW91dCwgUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIFBhcnRpY2lwYW50RGV0YWlscywgUGFydGljaXBhbnRWaWV3LCBQYXJ0aWNpcGFudFZpZXdDb250ZXh0LCBQYXJ0aWNpcGFudHNBdWRpbywgUGVybWlzc2lvbk5vdGlmaWNhdGlvbiwgUGVybWlzc2lvblJlcXVlc3RMaXN0LCBQZXJtaXNzaW9uUmVxdWVzdHMsIFJlYWN0aW9uc0J1dHRvbiwgUmVjb3JkQ2FsbEJ1dHRvbiwgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiwgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiwgUmluZ2luZ0NhbGwsIFJpbmdpbmdDYWxsQ29udHJvbHMsIFNjcmVlblNoYXJlQnV0dG9uLCBTZWFyY2hJbnB1dCwgU2VhcmNoUmVzdWx0cywgU3BlYWtlckxheW91dCwgU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCBTcGVlY2hJbmRpY2F0b3IsIFN0YXRDYXJkLCBTdGF0Q2FyZEV4cGxhbmF0aW9uLCBTdGF0c1RhZywgU3RhdHVzZXMsIFN0cmVhbUNhbGwsIFN0cmVhbVRoZW1lLCBTdHJlYW1WaWRlbywgVGV4dEJ1dHRvbiwgVG9nZ2xlQXVkaW9PdXRwdXRCdXR0b24sIFRvZ2dsZUF1ZGlvUHJldmlld0J1dHRvbiwgVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCBUb2dnbGVWaWRlb1ByZXZpZXdCdXR0b24sIFRvZ2dsZVZpZGVvUHVibGlzaGluZ0J1dHRvbiwgVG9vbHRpcCwgVmlkZW8kMSBhcyBWaWRlbywgVmlkZW9QcmV2aWV3LCBXaXRoVG9vbHRpcCwgZGVmYXVsdFJlYWN0aW9ucywgdHJhbnNsYXRpb25zLCB1c2VCYWNrZ3JvdW5kRmlsdGVycywgdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uLCB1c2VNZW51Q29udGV4dCwgdXNlTm9pc2VDYW5jZWxsYXRpb24sIHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQsIHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzLCB1c2VSZXF1ZXN0UGVybWlzc2lvbiwgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSwgdXNlVmVydGljYWxTY3JvbGxQb3NpdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6726bac0cc5d\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2Nzcy9zdHlsZXMuY3NzP2UwNDQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2NzI2YmFjMGNjNWRcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6726bac0cc5d\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2Nzcy9zdHlsZXMuY3NzP2Y5ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2NzI2YmFjMGNjNWRcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ })

};
;